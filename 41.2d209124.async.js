(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[41],{42354:function(mt,S,d){"use strict";d.d(S,{sg:function(){return g0},yi:function(){return b0},x1:function(){return I0},Ex:function(){return G0},TZ:function(){return H0},m:function(){return tm},cQ:function(){return rm}});var m={};d.r(m),d.d(m,{Base:function(){return wa},Circle:function(){return Fb},Ellipse:function(){return Nb},Image:function(){return Yb},Line:function(){return Xb},Marker:function(){return Wb},Path:function(){return tf},Polygon:function(){return rw},Polyline:function(){return iw},Rect:function(){return lw},Text:function(){return fw}});var L={};d.r(L),d.d(L,{Canvas:function(){return $c},Event:function(){return Ne.Event},Group:function(){return Qu},Shape:function(){return m},__esModule:function(){return hw.X},version:function(){return gw}});var I={};d.r(I),d.d(I,{Base:function(){return ga},Circle:function(){return Sw},Dom:function(){return Mw},Ellipse:function(){return Aw},Image:function(){return Tw},Line:function(){return Lw},Marker:function(){return Ow},Path:function(){return Bw},Polygon:function(){return Fw},Polyline:function(){return Nw},Rect:function(){return Vw},Text:function(){return Kw}});var P={};d.r(P),d.d(P,{Canvas:function(){return av},Event:function(){return Ne.Event},Group:function(){return rf},Shape:function(){return I},version:function(){return yS}});var T={};d.r(T),d.d(T,{Chart:function(){return N1},ComponentController:function(){return zo},DIRECTION:function(){return Mt},Event:function(){return Qr},Facet:function(){return Xr},Geometry:function(){return Ua},GeometryLabel:function(){return $s},Interaction:function(){return Ha},InteractionAction:function(){return gn},LAYER:function(){return xt},Types:function(){return vb},Util:function(){return jv},VERSION:function(){return db},View:function(){return Gu},getActionClass:function(){return Zi},getAnimation:function(){return zu},getEngine:function(){return U},getFacet:function(){return an},getGeometryLabel:function(){return bc},getGeometryLabelLayout:function(){return wc},getInteraction:function(){return Oa},getShapeFactory:function(){return Vu},getTheme:function(){return St},registerAction:function(){return Yr},registerAnimation:function(){return di},registerComponentController:function(){return yn},registerEngine:function(){return W},registerFacet:function(){return en},registerGeometry:function(){return ba},registerGeometryLabel:function(){return vs},registerGeometryLabelLayout:function(){return Co},registerInteraction:function(){return Dn},registerShape:function(){return Mn},registerShapeFactory:function(){return oo},registerTheme:function(){return Ft}});var _={};d.r(_),d.d(_,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var M={};d.r(M),d.d(M,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var b={};d.r(b),d.d(b,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var y={};d.r(y),d.d(y,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var w={};d.r(w),d.d(w,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var x={};d.r(x),d.d(x,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var A={};d.r(A),d.d(A,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var O={};d.r(O),d.d(O,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var B={};d.r(B),d.d(B,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var R={};d.r(R),d.d(R,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var Y={};d.r(Y),d.d(Y,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var j={};d.r(j),d.d(j,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var V={};d.r(V),d.d(V,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var nt={};d.r(nt),d.d(nt,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var ct={};d.r(ct),d.d(ct,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var ut={};d.r(ut),d.d(ut,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var Pt={};d.r(Pt),d.d(Pt,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var Gt={};d.r(Gt),d.d(Gt,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var qt={};d.r(qt),d.d(qt,{EVENT_MAP:function(){return bn},onEvent:function(){return ci}});var Rt={};d.r(Rt),d.d(Rt,{calculationItemsBBox:function(){return sm},cloneEvent:function(){return Ul},formatPadding:function(){return Ch},isNaN:function(){return to},isViewportChanged:function(){return om},processParallelEdges:function(){return nR}});var at={};d.r(at),d.d(at,{getColorsWithSubjectColor:function(){return pm},mixColor:function(){return Ba}});var vt={};d.r(vt),d.d(vt,{Line:function(){return Bo},applyMatrix:function(){return Is},distance:function(){return Os},floydWarshall:function(){return Th},fractionToLine:function(){return Oh},getAdjMatrix:function(){return Ph},getBBoxBoundLine:function(){return Ih},getCircleCenterByPoints:function(){return _h},getCircleIntersectByPoint:function(){return Pm},getDegree:function(){return Jl},getEllipseIntersectByPoint:function(){return Lm},getLineIntersect:function(){return Ls},getPointsCenter:function(){return Rm},getRectIntersectByPoint:function(){return Tm},intersectBBox:function(){return Dm},invertMatrix:function(){return Im},isPointInPolygon:function(){return ks},isPointsOverlap:function(){return kh},isPolygonsIntersect:function(){return Lh},itemIntersectByLine:function(){return Fm},move:function(){return Bm},pointLineSquareDist:function(){return Nm},pointRectSquareDist:function(){return Gm},rotate:function(){return RR},scale:function(){return FR},scaleMatrix:function(){return Om},squareDist:function(){return ql},translate:function(){return km}});var ot={};d.r(ot),d.d(ot,{getClosedSpline:function(){return Bh},getControlPoint:function(){return tu},getSpline:function(){return Ym},paddedHull:function(){return jm},pathToPoints:function(){return eu},pointsToPolygon:function(){return zm},roundedHull:function(){return Wm}});var Et={};d.r(Et),d.d(Et,{getBBox:function(){return nu},getChartRegion:function(){return lN},getComboBBox:function(){return Gh},getLabelPosition:function(){return iu},getLetterWidth:function(){return ax},getLoopCfgs:function(){return rx},getTextSize:function(){return ox},plainCombosToTrees:function(){return Rh},radialLayout:function(){return ix},reconstructTree:function(){return Nh},traverseTree:function(){return Qi},traverseTreeUp:function(){return ma}});var dt={};d.r(dt),d.d(dt,{adjMatrix:function(){return bu},breadthFirstSearch:function(){return J8},degree:function(){return Yx},depthFirstSearch:function(){return b1},detectAllCycles:function(){return e9},detectAllDirectedCycle:function(){return M1},detectAllUndirectedCycle:function(){return C1},detectDirectedCycle:function(){return r9},findAllPath:function(){return s9},findShortestPath:function(){return o9},floydWarshall:function(){return Hx},getConnectedComponents:function(){return S1},getPageRank:function(){return g9},minimumSpanningTree:function(){return d9}});var X=d(67294),$=d(45687),H=d(60517),f=d(49242),xt;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(xt||(xt={}));var Mt;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(Mt||(Mt={}));var Ut;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(Ut||(Ut={}));var re={FORE:3,MID:2,BG:1},zt;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(zt||(zt={}));var ne;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(ne||(ne={}));var ae;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(ae||(ae={}));var Dt=["color","shape","size"],Tt="_origin",pt=1,Q=1,K=.25,lt={};function U(i){var r=lt[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function W(i,r){lt[i]=r}var wt=d(6056),Lt=d(45442);function Wt(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function oe(i){return typeof i=="number"&&!isNaN(i)}function Se(i,r,t,e){var n=t,a=e;if(r){var o=Wt(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(oe(n)?n:pt,pt),height:Math.max(oe(a)?a:Q,Q)}}function Ye(i){var r=i.parentNode;r&&r.removeChild(i)}var te=d(90494),ge=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(te.default),_e=ge,Ne=d(39014),or=d(28014),je=d(24796),dr=d(21392),kr=d(50782),Br=d(2443),ln=d(51441),Yn=ln.Axis.Line,fi=ln.Axis.Circle,Ci=ln.Grid.Line,ki=ln.Grid.Circle,jt=ln.Legend.Category,ie=ln.Legend.Continuous,ve=ln.Tooltip.Html,ye=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Ae(i){var r="linear";return ye.test(i)?r="time":(0,f.isString)(i)&&(r="cat"),r}function Pe(i,r,t){var e=r||[];if((0,f.isNumber)(i)||(0,f.isNil)((0,f.firstValue)(e,i))&&(0,f.isEmpty)(t)){var n=(0,Br.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,f.valuesOfKey)(e,i),o=(0,f.get)(t,"type",Ae(a[0])),s=(0,Br.getScale)(o);return new s((0,H.__assign)({field:i,values:a},t))}function Oe(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function De(i){return i.alias||i.field}var Ce=d(31437);function rr(i){var r,t;switch(i){case Mt.TOP:r={x:0,y:1},t={x:1,y:1};break;case Mt.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Mt.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Mt.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Ue(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function fr(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=rr(r):i.isPolar&&(t=Ue(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function Cr(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function vr(i){var r=i.start,t=i.end;return r.x===t.x}function br(i,r){var t=i.start,e=i.end,n=vr(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function mr(i,r){return(0,f.get)(i,["components","axis",r],{})}function Ar(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?Ce.angle(o,s):Ce.angle(o,s)*-1,u=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:u}}function hr(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r])}function Fr(i,r){return(0,f.get)(i,"position",r)}function Kr(i,r){return(0,f.get)(r,["title","text"],De(i))}var Xr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,f.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(xt.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,f.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,f.each)(r,function(a){var o=a[t];!(0,f.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,f.get)(n,"type","rect");if(o==="rect"&&a.length){(0,f.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],h=l[1],c=hr(s,u),v=hr(s,h);c!==!1&&(e.axes[u]=this.getXAxisOption(u,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,f.every)(r,function(e){var n=e.field,a=e.value;return!(0,f.isNil)(a)&&n?t[n]===a:!0})}},i}(),Zr={},an=function(i){return Zr[(0,f.lowerCase)(i)]},en=function(i,r){Zr[(0,f.lowerCase)(i)]=r},Wn=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,f.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),gn=Wn,ei=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(gn),pi=ei,hi={};function Mi(i,r){var t=hi[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function Zi(i){var r=hi[i];return(0,f.get)(r,"ActionClass")}function Yr(i,r,t){hi[i]={ActionClass:r,cfg:t}}function gi(i){delete hi[i]}function Ei(i,r){var t=new pi(r);return t.callback=i,t.name="callback",t}function yi(i){if((0,f.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,f.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function Pn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function vi(i,r,t,e,n,a){a===void 0&&(a=0);var o=Pn(i,r,t,e),s=Pn(i,r,t,n),l=Pn(i,r,a,e),u=Pn(i,r,a,n);if(n-e==Math.PI*2){var h=Pn(i,r,t,e+Math.PI),c=Pn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,u.x,u.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var g=n-e<=Math.PI?0:1,C=[["M",o.x,o.y],["A",t,t,0,g,1,s.x,s.y],["L",u.x,u.y]];return a&&C.push(["A",a,a,0,g,0,l.x,l.y]),C.push(["L",o.x,o.y]),C.push(["Z"]),C}function Ki(i,r,t,e,n){var a=Pn(i,r,t,e),o=Pn(i,r,t,n);if((0,f.isNumberEqual)(n-e,Math.PI*2)){var s=Pn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function Bi(i,r){var t=i.points,e=yi(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function mi(i,r){if((0,f.isNumber)(i)&&(0,f.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function ii(i,r){var t=i.attr(),e=r.attr();return(0,f.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function Xi(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function fa(i,r,t){if((0,f.isString)(i))return i.padEnd(r,t);if((0,f.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function Bt(i,r){return r.forEach(function(t){delete i[t]}),i}function Ct(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function it(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function gt(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function Yt(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function J(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=Xi(r.x,e.x,n.x)&&Xi(r.y,e.y,n.y)}else{var a=i.invert(r);t=Xi(a.x,0,1)&&Xi(a.y,0,1)}return t}function ft(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function yt(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),u=i.getRadius();return{type:"path",startState:{path:vi(l.x,l.y,u+r,o,o)},endState:function(c){var v=(s-o)*c+o,g=vi(l.x,l.y,u+r,o,v);return{path:g}},attrs:{path:vi(l.x,l.y,u+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function _t(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function Xt(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function Jt(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convert(s),C=Yt(t,g);if(C>=.5)if(h===Math.PI*2){var k={x:(s.x+o.x)/2,y:(s.y+o.y)/2},D=t.convert(k);l.push(["A",C,C,0,v,c,D.x,D.y]),l.push(["A",C,C,0,v,c,g.x,g.y])}else l.push(["A",C,C,0,v,c,g.x,g.y]);return l}function pe(i){(0,f.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Ee=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=Ce.min([0,0],l,v),u=Ce.max([0,0],u,v)}l=Ce.min([0,0],l,e[0]),u=Ce.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var C=[0,0];C=Ce.sub(C,o,a),C=Ce.scale(C,C,r);var k=Ce.distance(v,a),D=Ce.distance(v,o),G=k+D;G!==0&&(k/=G,D/=G);var N=Ce.scale([0,0],C,-k),q=Ce.scale([0,0],C,D),tt=Ce.add([0,0],v,N),bt=Ce.add([0,0],v,q);s&&(tt=Ce.max([0,0],tt,l),tt=Ce.min([0,0],tt,u),bt=Ce.max([0,0],bt,l),bt=Ce.min([0,0],bt,u)),n.push(tt),n.push(bt)}return t&&n.push(n.shift()),n};function Be(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Ee(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function xe(i,r){return _t(i,r)}function Xe(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return xe(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=Be(e,r,u);return h.unshift(["M",n.x,n.y]),h}function pr(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Xt(e,i));break;case"z":default:t.push(e);break}}),t}function wr(i,r){var t=[],e,n,a,o;return(0,f.each)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(Xt(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(Jt(e,n,i)):t.push(Xt(s,i));break;case"z":default:t.push(s);break}}),pe(t),t}var Ir=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case Mt.TOP:case Mt.TOP_LEFT:case Mt.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case Mt.RIGHT:case Mt.RIGHT_TOP:case Mt.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case Mt.BOTTOM:case Mt.BOTTOM_LEFT:case Mt.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case Mt.LEFT:case Mt.LEFT_TOP:case Mt.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),lr=function(i,r){var t=r.start,e=r.end;return new Ir(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function er(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var Vr=d(70146);function Sn(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function mn(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function zn(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function At(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function st(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Z(i){return i&&i.component&&i.component.isList()}function rt(i){return i&&i.component&&i.component.isSlider()}function It(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Vt(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=mn(i,r);return e?We(i.view,e):void 0}var n=Sn(i,r);return n?ir(i.view,n):null}function he(i,r,t){var e=Sn(i,t);if(!e)return null;var n=i.view,a=qr(n,r,{x:e.x,y:e.y}),o=qr(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return ir(r,s)}function ue(i){var r=i.geometries,t=[];return(0,f.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,f.each)(i.views,function(e){t=t.concat(ue(e))}),t}function ce(i,r,t){var e=ue(i);return e.filter(function(n){return ke(n,r)===t})}function Re(i,r){var t=i.geometries,e=[];return(0,f.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function ke(i,r){var t=i.getModel(),e=t.data,n;return(0,f.isArray)(e)?n=e[0][r]:n=e[r],n}function ze(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function ir(i,r){var t=ue(i),e=[];return(0,f.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();ze(r,o)&&e.push(n)}),e}function sr(i){var r=[];return(0,f.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function We(i,r){var t=ue(i),e=sr(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=sr(o.attr("path"));else{var l=o.getCanvasBBox();s=er(l)}return(0,Vr.default)(e,s)});return n}function Or(i){return i.getComponents().map(function(r){return r.component})}function Pr(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function $r(i,r){if(i.length<=2)return xe(i,!1);var t=i[0],e=[];(0,f.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=Be(e,r,null);return n.unshift(["M",t.x,t.y]),n}function Jr(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function gr(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function cr(i,r){var t=i.getCoordinate();return t.invert(r)}function qr(i,r,t){var e=cr(i,t);return r.getCoordinate().convert(e)}function In(i,r,t,e){var n=!1;return(0,f.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function Xn(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,f.each)(i.views,function(e){if(t=Xn(e,r),t)return!1}),t}var aa=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,f.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=Or(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&Jr(a,e):Jr(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,f.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),La=aa,Yo=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),Ha=Yo;function io(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||Mi(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function Ia(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var Ai={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},wo=function(i){(0,H.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new La(t);this.context=e;var n=this.steps;(0,f.each)(n,function(a){(0,f.each)(a,function(o){if((0,f.isFunction)(o.action))o.actionObject={action:Ei(o.action,e),methodName:"execute"};else if((0,f.isString)(o.action))o.actionObject=io(o.action,e);else if((0,f.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,f.each)(s,function(l){o.actionObject.push(io(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===Ai.SHOW_ENABLE)return!0;if(t===Ai.PROCESSING)return e===Ai.START;if(t===Ai.START)return e!==Ai.PROCESSING;if(t===Ai.END)return e===Ai.PROCESSING||e===Ai.START;if(t===Ai.ROLLBACK){if(n[Ai.END])return e===Ai.END;if(e===Ai.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==Ai.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(h){a.event=h,n.isAllowExcute(t,e)?((0,f.isArray)(s)?(0,f.each)(s,function(c){a.event=h,Ia(c)}):(a.event=h,Ia(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,f.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,f.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(Ha),So=wo,Wa={};function Oa(i){return Wa[(0,f.lowerCase)(i)]}function Dn(i,r){Wa[(0,f.lowerCase)(i)]=r}function ao(i,r,t){var e=Oa(i);if(!e)return null;if((0,f.isPlainObject)(e)){var n=(0,f.mix)((0,f.clone)(e),t);return new So(r,n)}else{var a=e;return new a(r,t)}}var ai=d(7755),On=d(31506);function ja(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=Bi(o.getModel(),s),u=l.startAngle,h=l.endAngle,c=(u+h)/2,v=7.5,g=v*Math.cos(c),C=v*Math.sin(c);return{matrix:On.transform(null,[["t",g,C]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,H.__assign)((0,H.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,H.__assign)((0,H.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,H.__assign)((0,H.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,H.__assign)((0,H.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,H.__assign)((0,H.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,H.__assign)((0,H.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,H.__assign)((0,H.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,H.__assign)((0,H.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,f.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,f.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,f.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,f.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"line"}})}),radius:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,f.deepMix)({},a,{layout:"vertical"}),left:(0,f.deepMix)({},a,{layout:"vertical"}),top:(0,f.deepMix)({},a,{layout:"horizontal"}),bottom:(0,f.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+ai.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+ai.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+ai.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+ai.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+ai.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+ai.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var En={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Di={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Kt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ht=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],F={backgroundColor:"transparent",brandColor:Kt[0],paletteQualitative10:Kt,paletteQualitative20:ht,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:En[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:En[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:En[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:En[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:En[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:En[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:En[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Kt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:En[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:En[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:En[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:En[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:En[25],annotationArcBorderColor:En[15],annotationArcBorder:.5,annotationLineBorderColor:En[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:En[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Di[95],annotationTextBorder:1.5,annotationRegionFillColor:En[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:En[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:En[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:En[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Di[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:En[25],pointFillColor:Kt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Di[100],pointBorderOpacity:1,pointActiveBorderColor:En[100],pointSelectedBorder:2,pointSelectedBorderColor:En[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Kt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Di[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:En[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:En[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Kt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Kt[0],areaFillOpacity:.25,areaActiveFillColor:Kt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Kt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Kt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:En[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:En[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Kt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:En[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:En[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Kt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Di[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:En[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:En[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},z=ja(F),et={default:z};function St(i){return(0,f.get)(et,(0,f.lowerCase)(i),et.default)}function Ft(i,r){et[(0,f.lowerCase)(i)]=(0,f.deepMix)({},et.default,r)}function $t(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,f.isNumberEqual)(e,n)}function fe(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function de(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,f.find)(i,function(u){var h=u[Tt];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var Me=(0,f.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function Le(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,f.hasKey)(i,e)?i[e]:e}function Ze(i){var r=(0,f.values)(i.attributes);return(0,f.filter)(r,function(t){return(0,f.contains)(Dt,t.type)})}function qe(i){for(var r=Ze(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function Mr(i,r){var t=r.field,e=i[t];if((0,f.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function jr(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=qe(r);return De(a)}function Nr(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var u=t.coordinate,h=u.invert(i),c=n.invert(h.x),v=a.invert(h.y),g=Infinity,C=0;C<r.length;C++){var k=r[C],D=k[Tt],G=Math.pow(D[o]-c,2)+Math.pow(D[s]-v,2);G<g&&(g=G,l=k)}return l}var N=r[0],q=r[r.length-1],tt=fe(i,t),bt=N[Tt][o],Nt=N[Tt][s],Zt=q[Tt][o],ee=a.isLinear&&(0,f.isArray)(Nt);if((0,f.isArray)(bt)){for(var C=0;C<r.length;C++){var Ht=r[C],D=Ht[Tt];if(n.translate(D[o][0])<=tt&&n.translate(D[o][1])>=tt)if(ee)(0,f.isArray)(l)||(l=[]),l.push(Ht);else{l=Ht;break}}(0,f.isArray)(l)&&(l=de(l,i,t))}else{var le=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var C=0;C<r.length;C++){var Ht=r[C],D=Ht[Tt];if($t(D[o],tt,n))if(ee)(0,f.isArray)(l)||(l=[]),l.push(Ht);else{l=Ht;break}else n.translate(D[o])<=tt&&(q=Ht,le=r[C+1])}(0,f.isArray)(l)&&(l=de(l,i,t))}else{if((tt>n.translate(Zt)||tt<n.translate(bt))&&(tt>n.max||tt<n.min))return null;for(var be=0,me=r.length-1,Ie=void 0;be<=me;){Ie=Math.floor((be+me)/2);var Ge=r[Ie][Tt][o];if($t(Ge,tt,n))return r[Ie];n.translate(Ge)<=n.translate(tt)?(be=Ie+1,q=r[Ie],le=r[Ie+1]):(me===0&&(q=r[0]),me=Ie-1)}}q&&le&&Math.abs(n.translate(q[Tt][o])-tt)>Math.abs(n.translate(le[Tt][o])-tt)&&(q=le)}var Fe=Me(t.getXScale());return!l&&Math.abs(n.translate(q[Tt][o])-tt)<=Fe/2&&(l=q),l}function pn(i,r,t){t===void 0&&(t="");var e=i[Tt],n=Le(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,u;function h(Nt,Zt){if(!(0,f.isNil)(Zt)&&Zt!==""){var ee={title:n,data:e,mappingData:i,name:Nt,value:Zt,color:i.color||o,marker:!0};s.push(ee)}}if((0,f.isObject)(a)){var c=a.fields,v=a.callback;if(v){var g=c.map(function(Nt){return i[Tt][Nt]}),C=v.apply(void 0,g),k=(0,H.__assign)({data:i[Tt],mappingData:i,title:n,color:i.color||o,marker:!0},C);s.push(k)}else for(var D=r.scales,G=0,N=c;G<N.length;G++){var q=N[G];if(!(0,f.isNil)(e[q])){var tt=D[q];l=De(tt),u=tt.getText(e[q]),h(l,u)}}}else{var bt=qe(r);(0,f.isNil)(e[bt.field])||(u=Mr(e,bt),l=jr(e,r),h(l,u))}return s}var xn={};function yn(i,r){xn[i]=r}function kt(i){delete xn[i]}function se(){return Object.keys(xn)}function we(i){return xn[i]}var Te=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,f.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,H.__assign)({start:r,end:t},a),l=(0,kr.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,H.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,f.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,f.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),He=Te,yr=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),Qr=yr;function kn(i){return!(0,f.isNumber)(i)&&!(0,f.isArray)(i)}function _i(i){i===void 0&&(i=0);var r=(0,f.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,H.__spreadArrays)(r,r);break;case 3:r=(0,H.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var oa=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case Mt.TOP:case Mt.TOP_LEFT:case Mt.TOP_RIGHT:this.top+=n;break;case Mt.RIGHT:case Mt.RIGHT_TOP:case Mt.RIGHT_BOTTOM:this.right+=e;break;case Mt.BOTTOM:case Mt.BOTTOM_LEFT:case Mt.BOTTOM_RIGHT:this.bottom+=n;break;case Mt.LEFT:case Mt.LEFT_TOP:case Mt.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function ha(i){var r=i.padding;if(!kn(r))return _i(r);var t=i.viewBBox,e=i.autoPadding,n=new oa;(0,f.each)(i.getComponents(),function(s){var l=s.component,u=s.type;if(!(u===Ut.GRID||u===Ut.TOOLTIP)){var h=l.getLayoutBBox(),c=new Ir(h.x,h.y,h.width,h.height);if(u===Ut.AXIS){var v=c.exceed(t);n.shrink(v)}else{var g=s.direction;n.inc(c,g)}}});var a=n.getPadding();if(e){var o=_i(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function cs(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=ha(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(_i(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var F1=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,f.deepMix)(l,o.scaleDef,e)}var u=Pe(r,t,a);return this.cacheScale(u,e,n),u},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,f.each)(t,function(s){var l=r.getScale(s);a=(0,f.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,f.isNumber)(l.min)?Math.min(n,l.min):n,(0,f.each)(l.values,function(u){o.includes(u)||o.push(u)})}),(0,f.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(Oe(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,f.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,f.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),fc=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,f.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=se(),e.scalePool=new F1,e.layoutFunc=cs,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(D){var G=D.name;if(!G.includes(":")){var N=e.createViewEvent(D);e.doPlotEvent(N),e.emit(G,N)}},e.onDelegateEvents=function(D){var G=D.name;if(!!G.includes(":")){var N=e.createViewEvent(D);e.emit(G,N)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,u=t.region,h=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,c=t.padding,v=t.appendPadding,g=t.theme,C=t.options,k=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,H.__assign)((0,H.__assign)({},e.options),C),e.limitInPlot=k,e.themeObject=(0,f.isObject)(g)?(0,f.deepMix)({},St("default"),g):St(g),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new He(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(zt.BEFORE_RENDER),this.paint(t),this.emit(zt.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(zt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(zt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(zt.BEFORE_DESTROY);var t=this.interactions;(0,f.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,f.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,f.isFunction)(e)?((0,f.set)(this.options,["filters",t],e),this):(!e&&(0,f.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["axes"],t):(0,f.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["legends"],t):(0,f.isString)(t)?(0,f.set)(this.options,["legends",t],e):(0,f.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,f.isString)(t)?(0,f.set)(this.options,["scales",t],e):(0,f.isObject)(t)&&(0,f.each)(t,function(a,o){(0,f.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,f.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,f.isString)(t)?(0,f.set)(this.options,"coordinate",{type:t,cfg:e}):(0,f.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=an(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,H.__assign)((0,H.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,f.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,f.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,f.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,f.isObject)(t)?(0,f.deepMix)({},this.themeObject,t):St(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=ao(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(zt.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(zt.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,f.clone)(this.options.scales),axes:(0,f.clone)(this.options.axes),coordinate:(0,f.clone)(this.coordinateController.getOption()),tooltip:(0,f.clone)(this.options.tooltip),legends:(0,f.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,H.__assign)((0,H.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:re.BG}),middleGroup:this.middleGroup.addGroup({zIndex:re.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:re.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,H.__assign)((0,H.__assign)({},e),(0,f.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,f.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===xt.BG?this.backgroundGroup:t===xt.MID?this.middleGroup:t===xt.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return J(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,f.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return Ct((0,f.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,f.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,f.isNil)(o)&&!(0,f.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,f.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,c=l.length;h<c;h++){var v=l[h];u=Nr(t,v,s),u&&n.push(u)}}for(var g=this.views,a=0,o=g.length;a<o;a++){var C=g[a],k=C.getSnapRecords(t);n=n.concat(k)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,f.size)(e)===0?t:(0,f.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,f.get)(n,t);return(0,f.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,f.isEqual)(e,a)&&(0,f.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(zt.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(zt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,f.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;kn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=yt(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,f.get)(this.options.scales,[t]),s=(0,H.__assign)((0,H.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new Ir(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new Ir(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=we(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new Qr(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var u="plot:"+e;t.type=u,this.emit(u,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=ne.MOUSE_LEAVE,this.emit(ne.MOUSE_LEAVE,t)),t.type=ne.LEAVE,this.emit(ne.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=ne.MOUSE_ENTER,this.emit(ne.MOUSE_ENTER,t)),t.type=ne.ENTER,this.emit(ne.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=ne.MOUSE_LEAVE,this.emit(ne.MOUSE_LEAVE,t)),t.type=ne.LEAVE,this.emit(ne.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,f.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var c=t[u],v=s[c],g=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,g),this.createdScaleKeys.set(g,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();Ct(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();Ct(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,H.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,f.each)(e,function(o){var s=o.field,l=o.values,u=o.isCategory,h=o.isIdentity;if((u||h)&&l&&!(0,f.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var g=1,C=0;gt(n)?n.isTransposed?(g=(0,f.get)(t.theme,"widthRatio.multiplePie",1/1.3),C=1/c*g,v=[C/2,1-C/2]):v=[0,1-1/c]:(C=1/c/2,v=[C,1-C])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,u=t.annotations,h=u===void 0?[]:u,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var g=0;g<o.length;g++){var C=o[g],k=C.type,D=C.cfg;this.interaction(k,D)}for(var G=0;G<l.length;G++){var N=l[G];this.createView(N)}for(var q=this.getController("annotation"),tt=0;tt<h.length;tt++){var bt=h[tt];q.annotation(bt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,f.each)(t,function(s,l){(0,f.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(_e);function ba(i,r){fc.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,H.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var Gu=fc,R1=function(i){(0,H.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,g=t.pixelRatio,C=t.localRefresh,k=C===void 0?!0:C,D=t.visible,G=D===void 0?!0:D,N=t.defaultInteractions,q=N===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:N,tt=t.options,bt=t.limitInPlot,Nt=t.theme,Zt=(0,f.isString)(n)?document.getElementById(n):n,ee=(0,wt.Z)('<div style="position:relative;"></div>');Zt.appendChild(ee);var Ht=Se(Zt,l,a,o),le=U(v),be=new le.Canvas((0,H.__assign)({container:ee,pixelRatio:g,localRefresh:k},Ht));return e=i.call(this,{parent:null,canvas:be,backgroundGroup:be.addGroup({zIndex:re.BG}),middleGroup:be.addGroup({zIndex:re.MID}),foregroundGroup:be.addGroup({zIndex:re.FORE}),padding:u,appendPadding:h,visible:G,options:tt,limitInPlot:bt,theme:Nt})||this,e.onResize=(0,f.debounce)(function(){e.forceFit()},300),e.ele=Zt,e.canvas=be,e.width=Ht.width,e.height=Ht.height,e.autoFit=l,e.localRefresh=k,e.renderer=v,e.wrapperElement=ee,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(q),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,f.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Ye(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=Se(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,Lt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Gu),N1=R1,zo=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,f.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),hc=0,G1=1/2,Y1=1/2,z1=.05,X1=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);f.each(r,function(a,o){f.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return f.each(r,function(e){e[t]===void 0&&(e[t]=hc)}),f.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a=f.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=f.valuesOfKey(r,l).sort(function(u,h){return u-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[hc,1]}return a},i}(),js=X1,cc={},vc=function(i){return cc[i.toLowerCase()]},Us=function(i,r){if(vc(i))throw new Error("Adjust type '"+i+"' existed.");cc[i.toLowerCase()]=r},Ot=d(60153),V1=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?G1:n,o=t.dodgeRatio,s=o===void 0?Y1:o,l=t.dodgeBy,u=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,g=t.defaultSize,C=t.maxColumnWidth,k=t.minColumnWidth,D=t.columnWidthRatio,G=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=g,e.maxColumnWidth=C,e.minColumnWidth=k,e.columnWidthRatio=D,e.customOffset=G,e}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e),a=this.dodgeBy,o=a?f.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(n,t);return f.each(u,function(h,c){var v;e.length===1?v={pre:e[0]-1,next:e[0]+1}:v=o.getAdjustRange(t,parseFloat(c),e),f.each(h,function(g){var C=g[t],k=l[C],D=k.indexOf(a);if(f.isNil(s))g[t]=o.getDodgeOffset(v,D,k.length);else{var G=v.pre,N=v.next;g[t]=f.isFunction(s)?s(g,v):(G+N)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,h=t.pre,c=t.next,v=c-h,g;if(!f.isNil(l)&&f.isNil(u)&&l>=0){var C=this.getIntervalOnlyOffset(n,e);g=h+C}else if(!f.isNil(u)&&f.isNil(l)&&u>=0){var C=this.getDodgeOnlyOffset(n,e);g=h+C}else if(!f.isNil(l)&&!f.isNil(u)&&l>=0&&u>=0){var C=this.getIntervalAndDodgeOffset(n,e);g=h+C}else{var k=v*o/n,D=s*k,C=1/2*(v-n*k-(n-1)*D)+((e+1)*k+e*D)-1/2*k-1/2*v;g=(h+c)/2+C}return g},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,C=(1-(l-1)*g)/l*u/(t-1),k=((1-g*(l-1))/l-C*(t-1))/t;if(k=f.isNil(v)?k:1/l/t*v,!f.isNil(h)){var D=h/s;k=Math.min(k,D)}if(!f.isNil(c)){var G=c/s;k=Math.max(k,G)}k=a?a/s:k,C=((1-(l-1)*g)/l-t*k)/(t-1);var N=((1/2+e)*k+e*C+1/2*g)*l-g/2;return N},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,C=1*u/(l-1),k=((1-C*(l-1))/l-g*(t-1))/t;if(k=v?1/l/t*v:k,!f.isNil(h)){var D=h/s;k=Math.min(k,D)}if(!f.isNil(c)){var G=c/s;k=Math.max(k,G)}k=a?a/s:k,C=(1-(k*t+g*(t-1))*l)/(l-1);var N=((1/2+e)*k+e*g+1/2*C)*l-C/2;return N},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,h=o/s,c=((1-u*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*u)*l-u/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},f.each(e,function(o,s){var l=f.valuesOfKey(o,t);l.length||l.push(0),f.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},r}(js),H1=V1;function W1(i,r){return(r-i)*Math.random()+i}var j1=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return f.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*z1;return W1(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return f.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(js),U1=j1,Yu=f.Cache,Z1=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=u,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new Yu,u=new Yu;return s.map(function(h){return h.map(function(c){var v,g=f.get(c,n,0),C=f.get(c,[a]),k=g.toString();if(C=f.isArray(C)?C[1]:C,!f.isNil(C)){var D=C>=0?l:u;D.has(k)||D.set(k,0);var G=D.get(k),N=C+G;return D.set(k,N),(0,Ot.__assign)((0,Ot.__assign)({},c),(v={},v[a]=[G,N],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,h=new Yu;return u.map(function(c){return c.map(function(v){var g,C=e.size,k=v[a],D=C*2/o;h.has(k)||h.set(k,D/2);var G=h.get(k);return h.set(k,G+D),(0,Ot.__assign)((0,Ot.__assign)({},v),(g={},g[l]=G,g))})})},r}(js),K1=Z1,$1=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return f.map(t,function(u){return f.map(u,function(h){var c,v,g=h[o],C=h[a];if(f.isArray(g)){var k=(l-s[C])/2;return(0,Ot.__assign)((0,Ot.__assign)({},h),(c={},c[o]=f.map(g,function(G){return k+G}),c))}var D=(l-g)/2;return(0,Ot.__assign)((0,Ot.__assign)({},h),(v={},v[o]=[D,g+D],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=f.groupBy(t,function(l){return l[a]});return f.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=f.map(t,function(o){return f.get(o,e,[])}),a=f.flatten(n);return Math.max.apply(Math,a)},r}(js),Q1=$1;Us("Dodge",H1),Us("Jitter",U1),Us("Stack",K1),Us("Symmetric",Q1);var dc={};function zu(i){return dc[i.toLowerCase()]}function di(i,r){dc[i.toLowerCase()]=r}var Xo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},J1={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},pc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function q1(i,r){return{delay:(0,f.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,f.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,f.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function gc(i,r,t){var e=J1[i];return e&&((0,f.isFunction)(e)&&(e=e(r)),e=(0,f.deepMix)({},Xo,e),t)?e[t]:e}function Vo(i,r,t){var e=(0,f.get)(i.get("origin"),"data",Tt),n=r.animation,a=q1(r,e);if(n){var o=zu(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function tb(i,r,t,e,n){if(pc[t]){var a=pc[t](e),o=zu((0,f.get)(a,"animation",""));if(o){var s=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},Xo.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var eb=d(31207),rb=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Vo(n,a,{coordinate:e.coordinate,toAttrs:(0,H.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,u=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&u.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&u.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(C){n.syncShapeStyle(u,v,C,null)}):this.syncShapeStyle(u,v,"reset",null),v.remove(!0);var g={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",g),(0,eb.propagationDelegate)(this.shape,"statechange",g)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,f.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,f.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,f.get)(n,[t,"style"],{}),o=a[e]||a;return(0,f.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,f.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var u=e?"enter":"appear",h=this.getAnimateCfg(u);h&&Vo(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,H.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),u=0;u<s.length;u++)this.syncShapeStyle(s[u],l[u],n,a,o+u);else{if(n&&n!=="reset"){var h=t.get("name");(0,f.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=ii(t,e);this.animate?a?Vo(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,f.get)(t,"shape");return(0,f.isArray)(e)?e[0]:e},r}(_e),yc=rb,mc={},xc={};function bc(i){return mc[i.toLowerCase()]}function vs(i,r){mc[i.toLowerCase()]=r}function wc(i){return xc[i.toLowerCase()]}function Co(i,r){xc[i.toLowerCase()]=r}var Zs=d(57350),nb={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,f.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,f.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},ib={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,Zs.parsePathString)(i);return r.isPolar?t=wr(r,t):t=pr(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},Xu={};function oo(i,r){var t=(0,f.upperFirst)(i),e=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},nb),r),{geometryType:i});return Xu[t]=e,e}function Mn(i,r,t){var e=(0,f.upperFirst)(i),n=Xu[e],a=(0,H.__assign)((0,H.__assign)({},ib),t);return n[r]=a,a}function Vu(i){var r=(0,f.upperFirst)(i);return Xu[r]}function ab(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,f.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=e["_"+l];u&&n.push(u)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function Sc(i,r){return(0,f.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,f.isEqual)(i[t],r[t])})}function ds(i){return(0,f.isArray)(i)?i:i.split("*")}function ob(i,r){var t=[];return(0,f.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var sb=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,g=t.scales,C=g===void 0?{}:g,k=t.scaleDefs,D=k===void 0?{}:k;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=c,e.userTheme=v,e.scales=C,e.scaleDefs=D,e}return r.prototype.position=function(t){var e=t;(0,f.isPlainObject)(t)||(e={fields:ds(t)});var n=(0,f.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,f.set)(e,"fields",n)),(0,f.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,f.isString)(t)||(0,f.isPlainObject)(t))&&(e=[t]),(0,f.each)(e,function(n,a){(0,f.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,f.isString)(t)){var n=ds(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,f.isString)(t)){var n=ds(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,f.isString)(t)){var a={},o=ds(t);a.fields=o,(0,f.isFunction)(e)?a.callback=e:(0,f.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,f.isEqual)(s,l)?e&&(n||!(0,f.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,f.deepMix)({},gc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,u=o.length;l<u;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,g=this.type,C=this.coordinate,k=(0,f.get)(this.animateOption,"appear"),D=this.getYScale(),G=C.convert({x:0,y:D.scale(this.getYMinValue())});tb(v,k,g,C,G)}this.labelOption&&this.renderLabels((0,f.flatten)(s),t),this.dataArray=s,(0,f.each)(this.lastElementsMap,function(N){N.animate=e.animateOption,N.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,H.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,f.each)(this.attributes,function(e){Dt.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,f.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(e[u])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,f.isArray)(t)?t[0]:t;var e=t[Tt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[u];var g;o==="interval"||o==="schema"?g=v:o==="line"||o==="area"||o==="path"?g=o:g=v+"-"+c;for(var C=this.groupScales,a=0,k=C.length;a<k;a++){var D=C[a],G=D.field;g=g+"-"+e[G]}var N=this.getAdjust("dodge");if(N){var q=N.dodgeBy;q&&(g=g+"-"+e[q])}return this.getAdjust("jitter")&&(g=g+"-"+t.x+"-"+t.y),g},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?Ct(u.fields,t,e):u.values&&Ct(u.values,t,e)}return o&&o.fields&&Ct(o.fields,t,e),(0,f.isObject)(s)&&s.fields&&Ct(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=Dt.length;n<a;n++){var o=Dt[n],s=this.attributeOption[o];s&&s.fields&&Ct(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[Tt][n])-e.translate(l[Tt][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!Vu(t))return this.shapeFactory||(this.shapeFactory=(0,f.clone)(Vu(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new yc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[Tt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,f.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,h=t.length;u<h;u++){var c=t[u],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+u);var g=o[v];if(!g)g=this.createElement(c,n);else{var C=this.getDrawCfg(c),k=g.getModel();(this.isCoordinateChanged||Sc(C,k))&&(g.animate=this.animateOption,g.update(C)),delete o[v]}l.push(g),s[v]=g}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,f.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,f.isNil)(e)||(0,f.isObject)(e))(0,f.isObject)(e)&&(0,f.isEqual)(Object.keys(e),["values"])?(0,f.set)(this.attributeOption,t,{fields:e.values}):(0,f.set)(this.attributeOption,t,e);else{var a={};(0,f.isNumber)(e)?a.values=[e]:a.fields=ds(e),n&&((0,f.isFunction)(n)?a.callback=n:a.values=n),(0,f.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(v){if(a.hasOwnProperty(v)){var g=a[v];if(!g)return{value:void 0};var C=(0,H.__assign)({},g),k=C.callback,D=C.values,G=C.fields,N=G===void 0?[]:G,q=N.map(function(bt){var Nt=t.scales[bt];return Nt.isCategory&&!l[bt]&&Dt.includes(v)&&(t.groupScales.push(Nt),l[bt]=!0),Nt});C.scales=q,v!=="position"&&q.length===1&&q[0].type==="identity"?C.values=q[0].values:!k&&!D&&(v==="size"?C.values=o.sizes:v==="shape"?C.values=o.shapes[s]||[]:v==="color"&&(q.length?C.values=q[0].values.length<=10?o.colors10:o.colors20:C.values=o.colors10));var tt=(0,dr.getAttribute)(v);n[v]=new tt(C)}};for(var h in a){var c=u(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(bt){return bt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],h=[],c=0,v=u.length;c<v;c++){var g=u[c],C={};for(var k in g)C[k]=g[k];C[Tt]=g;for(var D=0,G=n;D<G.length;D++){var N=G[D],q=N.field;C[q]=N.translate(C[q])}h.push(C)}o.push(h)}var tt=this.adjustData(o);return this.beforeMappingData=tt,tt},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,u=0,h=e.length;u<h;u++){var c=e[u],v=(0,H.__assign)({xField:s,yField:l},c),g=c.type;if(g==="dodge"){var C=[];if(a.isCategory||a.type==="identity")C.push("x");else if(!o)C.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=C,v.dodgeRatio=this.theme.columnWidthRatio}else if(g==="stack"){var k=this.coordinate;if(!o){v.height=k.getHeight();var D=this.getDefaultValue("size")||3;v.size=D}!k.isTransposed&&(0,f.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var G=vc(g),N=new G(v);n=N.process(n),this.adjusts[g]=N}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],u=l.field;o.push(u),(0,f.get)(n,[u,"values"])&&(a[u]=n[u].values)}return ab(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,f.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],h=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,g={};o<t.min&&!(0,f.get)(v,[a,"min"])&&(g.min=o),s>t.max&&!(0,f.get)(v,[a,"max"])&&(g.max=s),t.change(g)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,f.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[Tt],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],h=u.names,c=this.getAttributeValues(u,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var g=c[v],C=h[v];s[C]=(0,f.isArray)(g)&&g.length===1?g[0]:g}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,f.isArray)(e)&&(0,f.isArray)(n)){a=[],o=[];for(var u=0,h=0,c=e.length,v=n.length;u<c&&h<v;u+=1,h+=1)s=l.convert({x:e[u],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,f.isArray)(n)){o=[];for(var g=0;g<n.length;g++){var C=n[g];s=l.convert({x:e,y:C}),a&&a!==s.x?((0,f.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,f.isArray)(e)){a=[];for(var g=0;g<e.length;g++){var k=e[g];s=l.convert({x:k,y:n}),o&&o!==s.y?((0,f.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var D=l.convert({x:e,y:n});a=D.x,o=D.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,f.each)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,f.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=bc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,f.each)(this.elementsMap,function(l,u){var h=ob(u,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],g=v.getChildren(),C=0;C<g.length;C++){var k=g[C];k.cfg.name=["element","label"],k.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,f.get)(this.animateOption,"appear")===void 0||(0,f.get)(this.animateOption,"appear")&&(0,f.get)(this.animateOption,["appear","animation"])===void 0)},r}(_e),Ua=sb,Ks=On.transform;function Hu(i,r,t){var e=Ks(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Cc(i,r){var t=i.attr(),e=t.x,n=t.y,a=Ks(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function eG(){return[1,0,0,0,1,0,0,0,1]}function lb(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=Ks(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var ub=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,f.each)(c,function(v,g){if(v.destroyed)delete c[g];else{if(h[g]){var C=v.get("data"),k=v.get("origin"),D=v.get("coordinate"),G=h[g],N=v.get("animateCfg");G.set("data",C),G.set("origin",k),G.set("animateCfg",N),G.set("coordinate",D);var q=(0,f.get)(N,"update"),tt=G.getChildren();v.getChildren().map(function(Nt,Zt){var ee=tt[Zt];ee.set("data",C),ee.set("origin",k),ee.set("animateCfg",N),ee.set("coordinate",D);var Ht=ii(ee,Nt);q?Vo(ee,q,{toAttrs:Ht,coordinate:D}):ee.attr(Ht)}),n.shapesMap[g]=G}else{a.add(v);var bt=(0,f.get)(v.get("animateCfg"),e?"enter":"appear");bt&&Vo(v,bt,{toAttrs:(0,H.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[g]}}),(0,f.each)(h,function(v){var g=(0,f.get)(v.get("animateCfg"),"leave");g?Vo(v,g,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,u={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,H.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,f.deepMix)({},this.animate,s)},u)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),g=v.width,C=v.height,k=(0,f.get)(r,"textAlign","left"),D=r.x,G=r.y-C/2;k==="center"?D=D-g/2:(k==="right"||k==="end")&&(D=D-g),Hu(l,D,G),c=l,h.add(l)}else c=h.addShape("text",(0,H.__assign)({attrs:(0,H.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,f.get)(r,"textBaseline","middle"),text:r.content},r.style)},u));r.rotate&&Cc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,f.isArray)(this.layout)?this.layout:[this.layout];(0,f.each)(n,function(a){var o=wc((0,f.get)(a,"type",""));if(o){var s=[],l=[];(0,f.each)(e.shapesMap,function(u,h){s.push(u),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,f.each)(r,function(e){var n=(0,f.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,f.get)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var h=Pn(a.x,a.y,o,e.angle);u=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,H.__assign)({path:u,stroke:e.color?e.color:(0,f.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,f.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),fb=ub;function hb(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}var cb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,f.each)(r,function(a,o){var s=n[o];if(!s||(0,f.isNil)(a.x)||(0,f.isNil)(a.y)){e.push(null);return}var l=(0,f.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,f.each)(l,function(h,c){if((0,f.isNil)(h)||h===""){e.push(null);return}var v=(0,H.__assign)((0,H.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,u)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||e===1?u[s]=n*l:u[s]=n*l*-1,u},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(k,D){var G=k;return(0,f.isArray)(G)&&(r.content.length===1?G.length<=2?G=G[k.length-1]:G=hb(G):G=G[D]),G}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=mi(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var u=(0,f.isArray)(t.shape)?t.shape[0]:t.shape;if(u==="funnel"||u==="pyramid"){var h=(0,f.get)(t,"nextPoints"),c=(0,f.get)(t,"points");if(h){var v=n.convert(c[1]),g=n.convert(h[1]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}else if(u==="pyramid"){var v=n.convert(c[1]),g=n.convert(c[2]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var C=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=C.x,s.y+=C.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[Tt],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new fb({container:t,layout:(0,f.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?gc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,u=e.coordinate,h=s,c=h.fields,v=h.callback,g=h.cfg,C=c.map(function(D){return l[D]}),k=[];return(0,f.each)(r,function(D,G){var N=D[Tt],q=t.getLabelText(N,C),tt;if(v){var bt=c.map(function(ee){return N[ee]});if(tt=v.apply(void 0,bt),(0,f.isNil)(tt)){k.push(null);return}}var Nt=(0,H.__assign)((0,H.__assign)({id:t.getLabelId(D),data:N,mappingData:D,coordinate:u},g),tt),Zt=Nt.content;(0,f.isFunction)(Zt)?Nt.content=Zt(N,D,G):(0,f.isUndefined)(Zt)&&(Nt.content=q[0]),(0,f.isFunction)(Nt.position)&&(Nt.position=Nt.position(N,D,G)),a==="polygon"||Nt.offset<0&&!["line","point","path"].includes(a)?Nt=(0,f.deepMix)({},n,o.innerLabels,Nt):Nt=(0,f.deepMix)({},n,o.labels,Nt),k.push(Nt)}),k},i.prototype.getLabelText=function(r,t){var e=[];return(0,f.each)(t,function(n){var a=r[n.field];(0,f.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,f.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,f.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,f.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),$s=cb,vb=d(66002),db="4.0.15",Mo={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Kn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},da=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],pb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],gb={backgroundColor:"#141414",brandColor:da[0],paletteQualitative10:da,paletteQualitative20:pb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Kn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Kn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Kn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Kn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Kn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Kn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Kn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:da[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Kn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Kn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Kn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Mo[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Mo[25],annotationArcBorderColor:Kn[15],annotationArcBorder:.5,annotationLineBorderColor:Kn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Kn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Mo[95],annotationTextBorder:1.5,annotationRegionFillColor:Kn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Kn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Kn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Kn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Mo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Kn[25],pointFillColor:da[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Mo[100],pointBorderOpacity:1,pointActiveBorderColor:Kn[100],pointSelectedBorder:2,pointSelectedBorderColor:Kn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:da[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Mo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Kn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Kn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:da[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:da[0],areaFillOpacity:.25,areaActiveFillColor:da[0],areaActiveFillOpacity:.5,areaSelectedFillColor:da[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:da[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Kn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Kn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:da[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Kn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Kn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:da[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Mo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Kn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Kn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Fi=d(73890),Ln=d(21830),Qs=d(46812),Ri=d(66631),Nn=d(27154),yb=d(9217),mb=d(5253),rG=d(39984),xb=d(98229),bb=d(35755);function wb(){return window?window.devicePixelRatio:1}function Mc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function Eo(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function Wu(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Sb(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Ec(i,r){return i[0]===r[0]&&i[1]===r[1]}var nG=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,iG=/[^\s\,]+/gi,Cb=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Mb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Eb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ac=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _c(i,r){var t=i.match(Ac);(0,Nn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function Ab(i,r,t){var e=Cb.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),h=u*u,c=(l.x-s.x+u*(l.y-s.y))/(h+1)+s.x,v=u*(l.x-s.x+u*(l.y-s.y))/(h+1)+s.y,g=i.createLinearGradient(s.x,s.y,c,v);return _c(a,g),g}function _b(i,r,t){var e=Mb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Ac);return l[l.length-1].split(":")[1]}var u=r.getBBox(),h=u.maxX-u.minX,c=u.maxY-u.minY,v=Math.sqrt(h*h+c*c)/2,g=i.createRadialGradient(u.minX+h*n,u.minY+c*a,0,u.minX+h/2,u.minY+c/2,o*v);return _c(s,g),g}function Tb(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Eb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function Pb(i,r,t){if((0,Ln.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Ab(i,r,t);if(t[0]==="r")return _b(i,r,t);if(t[0]==="p")return Tb(i,r,t)}return t}}function Lb(i){var r=0,t=0,e=0,n=0;return(0,Ri.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function Js(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function ju(i,r){return Js(i)*Js(r)?(i[0]*r[0]+i[1]*r[1])/(Js(i)*Js(r)):1}function Tc(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(ju(i,r))}function Pc(i,r){var t=r[1],e=r[2],n=(0,mb.default)((0,yb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],u=r[6],h=r[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-h)/2,g=c*c/(t*t)+v*v/(e*e);g>1&&(t*=Math.sqrt(g),e*=Math.sqrt(g));var C=t*t*(v*v)+e*e*(c*c),k=C?Math.sqrt((t*t*(e*e)-C)/C):1;a===o&&(k*=-1),isNaN(k)&&(k=0);var D=e?k*t*v/e:0,G=t?k*-e*c/t:0,N=(s+u)/2+Math.cos(n)*D-Math.sin(n)*G,q=(l+h)/2+Math.sin(n)*D+Math.cos(n)*G,tt=[(c-D)/t,(v-G)/e],bt=[(-1*c-D)/t,(-1*v-G)/e],Nt=Tc([1,0],tt),Zt=Tc(tt,bt);return ju(tt,bt)<=-1&&(Zt=Math.PI),ju(tt,bt)>=1&&(Zt=0),o===0&&Zt>0&&(Zt=Zt-2*Math.PI),o===1&&Zt<0&&(Zt=Zt+2*Math.PI),{cx:N,cy:q,rx:Ec(i,[u,h])?0:t,ry:Ec(i,[u,h])?0:e,startAngle:Nt,endAngle:Nt+Zt,xRotation:n,arcFlag:a,sweepFlag:o}}var qs=Math.sin,tl=Math.cos,Uu=Math.atan2,el=Math.PI;function Lc(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,u=t-n,h=e-a,c=Uu(h,u),v=new tf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*tl(el/6)+","+10*qs(el/6)+" L0,0 L"+10*tl(el/6)+",-"+10*qs(el/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function Ic(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,u=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,g=c.fill,C=c.stroke,k=c.lineWidth,D=(0,Ot.__rest)(c,["d","fill","stroke","lineWidth"]),G=t-n,N=e-a,q=Uu(N,G);v&&(n=n-tl(q)*v,a=a-qs(q)*v);var tt=new tf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,Ot.__assign)((0,Ot.__assign)({},D),{stroke:C||u,lineWidth:k||h,fill:g})});tt.translate(n,a),tt.rotateAtPoint(n,a,q),i.set(o?"startArrowShape":"endArrowShape",tt)}function Ao(i,r,t,e,n){var a=Uu(e-r,t-i);return{dx:tl(a)*n,dy:qs(a)*n}}function Zu(i,r,t,e,n,a){typeof r.startArrow=="object"?Ic(i,r,t,e,n,a,!0):r.startArrow?Lc(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function Ku(i,r,t,e,n,a){typeof r.endArrow=="object"?Ic(i,r,t,e,n,a,!1):r.endArrow?Lc(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Oc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Ho(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Oc[e]?Oc[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=Pb(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function $u(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function kc(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var g=i.getStartTangent();u=Ao(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var C=n[h+1];if(C[0]==="Z"){var g=i.getEndTangent();u=Ao(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var g=i.getEndTangent();u=Ao(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}var k=u.dx,D=u.dy;switch(v){case"M":r.moveTo(c[1]-k,c[2]-D),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-k,c[2]-D);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-k,c[4]-D);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-k,c[6]-D);break;case"A":{var G=void 0;e?(G=e[h],G||(G=Pc(s,c),e[h]=G)):G=Pc(s,c);var N=G.cx,q=G.cy,tt=G.rx,bt=G.ry,Nt=G.startAngle,Zt=G.endAngle,ee=G.xRotation,Ht=G.sweepFlag;if(r.ellipse)r.ellipse(N,q,tt,bt,ee,Nt,Zt,1-Ht);else{var le=tt>bt?tt:bt,be=tt>bt?1:tt/bt,me=tt>bt?bt/tt:1;r.translate(N,q),r.rotate(ee),r.scale(be,me),r.arc(0,0,le,Nt,Zt,1-Ht),r.scale(1/be,1/me),r.rotate(-ee),r.translate(-N,-q)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Ie=c.length;s=[c[Ie-2],c[Ie-1]]}}}function Bc(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function Ib(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=Sb(t,n):e?r=t:a&&(r=n)}return r}function Dc(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,f.each)(i,function(a){var o=Ib(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function Ob(i,r){return!i||!r||!Wu(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var Fc=d(41056),kb=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){Bc(this,t)},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Ho(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Ho(t,this),this._applyClip(t,this.getClip()),$u(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(Ne.AbstractGroup),Qu=kb,Bb=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return Qu},r.prototype.onCanvasChange=function(t){Bc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,Fc.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:u,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Ho(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Dc([this,n]):this.getCanvasBBox();if(!Wu(e,a)){this.set("hasChanged",!1);return}}t.save(),Ho(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",Wu(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,Fi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Fi.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(Ne.AbstractShape),wa=Bb,Db=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.r,c=o/2,v=Mc(l,u,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(wa),Fb=Db;function rl(i,r,t,e){return i/(t*t)+r/(e*e)}var Rb=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,u=s.x,h=s.y,c=s.rx,v=s.ry,g=(t-u)*(t-u),C=(e-h)*(e-h);return a&&n?rl(g,C,c+l,v+l)<=1:a?rl(g,C,c,v)<=1:n?rl(g,C,c-l,v-l)>=1&&rl(g,C,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(wa),Nb=Rb;function Rc(i){return i instanceof HTMLElement&&(0,Ln.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var Gb=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,Ln.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Rc(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||Rc(v))&&(!(0,Fi.default)(l)&&!(0,Fi.default)(u)&&!(0,Fi.default)(h)&&!(0,Fi.default)(c)?t.drawImage(v,l,u,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(wa),Yb=Gb,Za=d(23646);function so(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),u=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=h+c?Za.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var zb=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Zu(this,t,a,o,e,n),l&&Ku(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,h=s.x2,c=s.y2;return so(l,u,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=Ao(n,a,o,s,e.startArrow.d)),u&&u.d&&(c=Ao(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Za.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Za.default.pointAt(n,a,o,s,t)},r}(wa),Xb=zb,Nc=d(74479),Vb={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},Hb=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,Qs.default)(a)?(s=a,l=s(e,n,o),l=(0,Nc.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");kc(this,t,{path:e},n)},r.Symbols=Vb,r}(wa),Wb=Hb,nl=d(15730),jb=d(49274),Ub=d(26632);function Gc(i,r,t){var e=(0,Ub.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var Zb=1e-6;function Ju(i){return Math.abs(i)<Zb?0:i<0?-1:1}function Kb(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function Yc(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Kb(o,s,[r,t]))return!0;Ju(o[1]-t)>0!=Ju(s[1]-t)>0&&Ju(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var $b=d(2879);function ps(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var u={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return Mc(u.x,u.y,o,s)<=a/2}var qu=d(35600),zc=d(77160);function Qb(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function Jb(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,u=s.params,h=s.prePoint,c=s.box;if(!(c&&!Eo(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=so(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=$b.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],t,e);n=v<=r/2;break;case"C":var g=nl.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],t,e);n=g<=r/2;break;case"A":var C=s.arcParams,k=C.cx,D=C.cy,G=C.rx,N=C.ry,q=C.startAngle,tt=C.endAngle,bt=C.xRotation,Nt=[t,e,1],Zt=[1,0,0,0,1,0,0,0,1],ee=G>N?G:N,Ht=G>N?1:G/N,le=G>N?N/G:1;qu.translate(Zt,Zt,[-k,-D]),qu.rotate(Zt,Zt,-bt),qu.scale(Zt,Zt,[1/Ht,1/le]),zc.transformMat3(Nt,Nt,Zt),n=ps(0,0,ee,q,tt,r,Nt[0],Nt[1]);break;default:break}if(n)break}}return n}function qb(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var il=(0,Ot.__assign)({hasArc:Qb,extractPolygons:qb,isPointInStroke:Jb},Ne.PathUtil);function Xc(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=Yc(a,r,t),e)break}return e}var tw=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,Nc.Z)(t);var e=il.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,jb.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();Zu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Ku(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n&&(u=il.isPointInStroke(s,o,t,e)),!u&&a)if(l)u=Gc(this,t,e);else{var h=this.attr("path"),c=il.extractPolygons(h);u=Xc(c.polygons,t,e)||Xc(c.polylines,t,e)}return u},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");kc(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var l=s.length,u=o[a+1];return nl.default.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",il.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(t+=nl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=nl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(wa),tf=tw;function Vc(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],u=i[o+1][0],h=i[o+1][1];if(so(s,l,u,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(so(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var ew=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Vc(s,o,t,e,!0)),!l&&a&&(l=Yc(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(wa),rw=ew,Hc=d(65386),nw=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&Zu(this,t,n[1][0],n[1][1],l,u),o&&Ku(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Vc(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=Ao(l,u,n[1][0],n[1][1],a.d);l+=v.dx,u+=v.dy}if(o&&o.d){var v=Ao(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,u);for(var g=0;g<s-1;g++){var C=n[g];t.lineTo(C[0],C[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",Hc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Za.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Za.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(wa),iw=nw;function aw(i,r,t,e,n,a,o){var s=n/2;return Eo(i-s,r-s,t,n,a,o)||Eo(i+t-s,r-s,n,e,a,o)||Eo(i+s,r+e-s,t,n,a,o)||Eo(i-s,r+s,n,e,a,o)}function ow(i,r,t,e,n,a,o,s){var l=a/2;return so(i+n,r,i+t-n,r,a,o,s)||so(i+t,r+n,i+t,r+e-n,a,o,s)||so(i+t-n,r+e,i+n,r+e,a,o,s)||so(i,r+e-n,i,r+n,a,o,s)||ps(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||ps(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||ps(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||ps(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var sw=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.width,c=s.height,v=s.radius;if(v){var C=!1;return n&&(C=ow(l,u,h,c,v,o,t,e)),!C&&a&&(C=Gc(this,t,e)),C}else{var g=o/2;if(a&&n)return Eo(l-g,u-g,h+g,c+g,t,e);if(a)return Eo(l,u,h,c,t,e);if(n)return aw(l,u,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=Lb(l),h=u[0],c=u[1],v=u[2],g=u[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+g,a+s),g!==0&&t.arc(n+g,a+s-g,g,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(wa),lw=sw,Wc=d(8914),uw=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Wc.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,Ln.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,h=this._getSpaceingY(),c=(0,Wc.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,Nn.default)(e,function(g,C){v=l+C*(h+u)-c+u,o==="middle"&&(v+=c-u-(c-u)/2),o==="top"&&(v+=c-u),n?t.fillText(g,s,v):t.strokeText(g,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,Fi.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Fi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(wa),fw=uw,hw=d(4555),aG=d(85424),cw=d(22487),jc=d(6052);function vw(i,r){if(r){var t=(0,jc.U_)(r);return(0,jc.rG)(t,i)}return i}function Uc(i,r,t){var e=i.getTotalMatrix();if(e){var n=vw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function Zc(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,cw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=Uc(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function Kc(i,r,t){if(!Zc(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=Kc(s,r,t);else if(Zc(s,r,t)){var l=s,u=Uc(s,r,t),h=u[0],c=u[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var dw=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return Qu},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||wb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?Kc(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Dc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=Ob(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,bb.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Ho(t,this),$u(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Ho(t,this),$u(t,n,a),t.restore()),(0,Nn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,xb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(Ne.AbstractCanvas),$c=dw,pw=d(71270),gw=pw.version,ef={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},An={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},oG=null;function pa(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Qc(i){var r=ef[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=pa(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Jc(i,r){var t=i.get("el"),e=(0,f.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function yw(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function mw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function gs(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function ys(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){Qc(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function qc(i,r){r.forEach(function(t){t.draw(i)})}function tv(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")yw(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&Jc(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?gs(i):r==="clip"?ys(i,e):r==="attr"||r==="add"&&i.draw(e)}}var xw=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=pa("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){tv(this,t)},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ys(this,t),this.createPath(t),e.length&&qc(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){An[s]&&a.setAttribute(An[s],o)}),gs(this)},r}(Ne.AbstractGroup),rf=xw,bw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return rf},r.prototype.onCanvasChange=function(t){tv(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,Fc.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),h=u/2,c=a-h,v=o-h,g=a+s+h,C=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:g,maxY:C,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Qc(this),ys(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&v.setAttribute(An.fillOpacity,u)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(An.strokeOpacity,h),c&&v.setAttribute(An.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(An[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(An[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(An[e],"url(#"+o+")")}else a.setAttribute(An[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&mw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&gs(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(Ne.AbstractShape),ga=bw,ww=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):An[s]&&a.setAttribute(An[s],o)})},r}(ga),Sw=ww,Cw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){An[s]&&a.setAttribute(An[s],o)}),a.innerHTML=n.html},r}(ga),Mw=Cw,Ew=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):An[s]&&a.setAttribute(An[s],o)})},r}(ga),Aw=Ew,_w=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):An[l]&&o.setAttribute(An[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(ga),Tw=_w,Pw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,f.isObject)(o)?t.addArrow(n,An[s]):t.getDefaultArrow(n,An[s]);a.setAttribute(An[s],"url(#"+l+")")}else a.removeAttribute(An[s]);else An[s]&&a.setAttribute(An[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Za.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Za.default.pointAt(n,a,o,s,t)},r}(ga),Lw=Pw,al={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},ev={get:function(i){return al[i]},register:function(i,r){al[i]=r},remove:function(i){delete al[i]},getAll:function(){return al}},Iw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=ev.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=ev,r}(ga),Ow=Iw,kw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){if(l==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,f.isObject)(s)?t.addArrow(a,An[l]):t.getDefaultArrow(a,An[l]);o.setAttribute(An[l],"url(#"+u+")")}else o.removeAttribute(An[l]);else An[l]&&o.setAttribute(An[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(ga),Bw=kw,Dw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):An[s]&&a.setAttribute(An[s],o)})},r}(ga),Fw=Dw,Rw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):An[s]&&a.setAttribute(An[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",Hc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Za.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Za.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(ga),Nw=Rw,Gw=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Yw=/[^\s\,]+/gi;function zw(i){var r=0,t=0,e=0,n=0;return(0,f.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function sG(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(Gw),each(i,function(r,t){if(r=r.match(Yw),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var Xw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,f.each)(e||a,function(u,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&An[h]&&o.setAttribute(An[h],u)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=zw(s);(0,f.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},r}(ga),Vw=Xw,Hw=d(56463),rv=.3,Ww={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},jw={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Uw={left:"left",start:"left",center:"middle",right:"end",end:"end"},Zw=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?gs(n):An[l]&&o.setAttribute(An[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,Hw.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",jw[n]||"alphabetic"):t.setAttribute("alignment-baseline",Ww[n]||"baseline"),t.setAttribute("text-anchor",Uw[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,h="";(0,f.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(u+rv)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(u-1)-rv)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(ga),Kw=Zw,$w=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Qw=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Jw=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function nv(i){var r=i.match(Jw);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,f.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function qw(i,r){var t=$w.exec(i),e=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",h),r.innerHTML=nv(n)}function tS(i,r){var t=Qw.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=nv(o)}var eS=function(){function i(r){this.cfg={};var t=null,e=(0,f.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=pa("linearGradient"),qw(r,t)):(t=pa("radialGradient"),tS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),rS=eS,nS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},iS={x:"-40%",y:"-40%",width:"200%",height:"200%"},aS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=pa("filter");return(0,f.each)(iS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[nS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),oS=aS,sS=function(){function i(r,t){this.cfg={};var e=pa("marker"),n=(0,f.uniqueId)("marker_");e.setAttribute("id",n);var a=pa("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),iv=sS,lS=function(){function i(r){this.type="clip",this.cfg={};var t=pa("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),uS=lS,fS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,hS=function(){function i(r){this.cfg={};var t=pa("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=pa("image");t.appendChild(e);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=fS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),cS=hS,vS=function(){function i(r){var t=pa("defs"),e=(0,f.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new iv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new rS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new iv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new oS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new cS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new uS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),dS=vS,pS=function(i){(0,Ot.__extends)(r,i);function r(t){return i.call(this,(0,Ot.__assign)((0,Ot.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return rf},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!ef[a.tagName]){for(var o=a.parentNode;o&&!ef[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=pa("svg"),e=new dS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Jc(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?gs(this):t==="clip"?ys(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();ys(this,t),e.length&&qc(t,e)},r}(Ne.AbstractCanvas),av=pS,gS=d(23231),yS=gS.version;function nf(i){return i?!1:i==null||isNaN(i)}function ov(i){if((0,f.isArray)(i))return nf(i[1].y);var r=i.y;return(0,f.isArray)(r)?nf(r[0]):nf(r)}function af(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];ov(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];ov(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Ti(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,u=(0,H.__assign)((0,H.__assign)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,f.isNil)(a[e])&&!(0,f.isNil)(l)&&(u[e]=l),u}function of(i){var r=i.x,t=(0,f.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,f.isArray)(r)?r[n]:r,y:e}})}var mS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function sv(i,r){var t=i.color;return{symbol:mS[r],style:{lineWidth:2,r:6,stroke:t}}}function xS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=Ti(i,!0,!1,"lineWidth"),l=af(i.points,n,o),u=[],h=0,c=l.length;h<c;h++){var v=l[h];u=u.concat(wS(v,a,e,r,t,s))}return s.path=u,s}function sf(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=Xe(i,!1,e)):(a=xe(i,!1),r&&a.push(["Z"])),a}function bS(i,r,t,e,n,a){var o=[],s=[];(0,f.each)(i,function(h){var c=of(h);o.push(c[1]),s.push(c[0])});var l=sf(o,r,e,n,a),u=sf(s,r,e,n,a);return t?l:l.concat(u)}function wS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,f.isArray)(o.y)?bS(i,r,t,e,n,a):sf(i,r,e,n,a)}return[]}var lG=oo("line",{defaultShapeType:"line"});(0,f.each)(["line","dot","dash","smooth"],function(i){Mn("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=xS(r,e,n),u=t.addShape({type:"path",attrs:l,name:"line"});return u},getMarker:function(r){return sv(r,i)}})});var uG=null,SS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var C=v.getModel();(this.isCoordinateChanged||Sc(C,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var g=this.getShapeFactory();v=new yc({shapeFactory:g,container:u,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[Tt])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Ua),lf=SS;function CS(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,u=i.length;l<u;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,f.each)([o,s],function(c,v){var g=[],C=e.parsePoints(c),k=C[0];o.length===1&&s.length===1?g=v===0?[["M",k.x-.5,k.y],["L",k.x+.5,k.y]]:[["L",k.x+.5,k.y],["L",k.x-.5,k.y]]:(r&&C.push({x:k.x,y:k.y}),t?g=Xe(C,!1,n):g=xe(C,!1),v>0&&(g[0][0]="L")),a=a.concat(g)}),a.push(["Z"])}return a}function ol(i,r,t,e,n){for(var a=Ti(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,u=i.showSinglePoint,h=af(l,o,u),c=[],v=0,g=h.length;v<g;v++){var C=h[v];c=c.concat(CS(C,s,t,e,n))}return a.path=c,a}function lv(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var fG=oo("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,f.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});Mn("area","area",{draw:function(i,r){var t=ol(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var hG=null,MS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,u=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=u,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[Tt])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(lf),ES=MS,cG=oo("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return of(i)}});Mn("edge","line",{draw:function(i,r){var t=Ti(i,!0,!1,"lineWidth"),e=xe(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var vG=null,AS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Ua),_S=AS,TS=d(55223),PS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,f.get)(this.styleOption,["style","shadowBlur"]);return(0,f.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Tt][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,f.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();e&&(t=t.filter(function(ee){return ee[Tt][v]<=e[1]&&ee[Tt][v]>=e[0]}));for(var C=this.scales[v],k=0,D=t;k<D.length;k++){var G=D[k],N=this.getDrawCfg(G),q=N.x,tt=N.y,bt=C.scale(G[Tt][v]);this.drawGrayScaleBlurredCircle(q-s.x,tt-l.y,n+a,bt,g)}var Nt=g.getImageData(0,0,u,h);this.clearShadowCanvasCtx(),this.colorize(Nt),g.putImageData(Nt,0,0);var Zt=this.getImageShape();Zt.attr("x",s.x),Zt.attr("y",l.y),Zt.attr("width",u),Zt.attr("height",h),Zt.attr("img",g.canvas),Zt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,f.isNumber)(s)){var l=a[s]?a[s]:TS.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,H.__assign)((0,H.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Tt]})},r}(Ua),LS=PS;function uf(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function ff(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function uv(i,r,t){var e=[];return(0,f.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var dG=oo("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return uf(i)}});Mn("interval","rect",{draw:function(i,r){var t=Ti(i,!1,!0),e=this.parsePath(ff(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var pG=null;function IS(i,r){var t=i.length,e=i;(0,f.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function OS(i,r){if(r){var t=(0,f.flatten)(i),e=(0,f.valuesOfKey)(t,r);return e.length}return i.length}function fv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=IS(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,u=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(u*=l[1]-l[0]),h=r.columnWidthRatio),u*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,g=OS(a,v);u=u/g}var C=r.maxColumnWidth,k=r.minColumnWidth,D=it(i.coordinate);if(C){var G=C/D;u>G&&(u=G)}if(k){var N=k/D;u<N&&(u=N)}return u}var kS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=it(o);n=n/s}else this.defaultSize||(this.defaultSize=fv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,f.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,f.get)(e,[n,"max"])&&t.change({max:0}))}},r}(Ua),BS=kS,DS=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(lf),FS=DS,_o={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},hv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],RS=["cross","tick","plus","hyphen","line"];function hf(i,r,t,e,n){var a=Ti(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,h=o;u<h.length;u++){var c=h[u];l.addShape({type:"marker",attrs:(0,H.__assign)((0,H.__assign)((0,H.__assign)({},a),{symbol:_o[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,H.__assign)((0,H.__assign)((0,H.__assign)({},a),{symbol:_o[e]||e}),s)})}var gG=oo("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return of(i)}});(0,f.each)(hv,function(i){Mn("point","hollow-"+i,{draw:function(r,t){return hf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:_o[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var yG=null,NS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,H.__assign)((0,H.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(Ua),GS=NS;function YS(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,f.isEqual)((0,f.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var mG=oo("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,f.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});Mn("polygon","polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=Ti(i,!0,!0),e=this.parsePath(YS(i.points));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var xG=null,zS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,f.isArray)(n)&&(0,f.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,h=l.values.length,c=.5*1/u,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,f.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,f.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(Ua),XS=zS,bG=oo("schema",{defaultShapeType:""}),wG=null,VS=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=it(o);n=n/s}else this.defaultSize||(this.defaultSize=fv(this)),n=this.defaultSize;return e.size=n,e},r}(Ua),HS=VS;Mn("area","line",{draw:function(i,r){var t=ol(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),Mn("area","smooth",{draw:function(i,r){var t=this.coordinate,e=ol(i,!1,!0,this,lv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),Mn("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=ol(i,!0,!0,this,lv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function cf(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function vf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function WS(i,r,t){var e=vf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function jS(i,r){var t=vf(i[1],r),e=vf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}Mn("edge","arc",{draw:function(i,r){var t=Ti(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=WS(e[0],e[1],o):(t.fill=t.stroke,a=jS(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=Ki((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})});var s=cf(e[1],e[3]),l=cf(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function US(i,r){var t=cf(i,r),e=[["M",i.x,i.y]];return e.push(t),e}Mn("edge","smooth",{draw:function(i,r){var t=Ti(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(US(e[0],e[1]));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var sl=1/3;function ZS(i,r){var t=[];t.push({x:i.x,y:i.y*(1-sl)+r.y*sl}),t.push({x:r.x,y:i.y*(1-sl)+r.y*sl}),t.push(r);var e=[["M",i.x,i.y]];return(0,f.each)(t,function(n){e.push(["L",n.x,n.y])}),e}Mn("edge","vhv",{draw:function(i,r){var t=Ti(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(ZS(e[0],e[1]));return r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),Mn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,uf(i)},draw:function(i,r){var t=Ti(i,!1,!0),e=this.parsePath(uv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),Mn("interval","hollow-rect",{draw:function(i,r){var t=Ti(i,!0,!1),e=this.parsePath(ff(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function KS(i){var r=i.x,t=i.y,e=i.y0;return(0,f.isArray)(t)?t.map(function(n,a){return{x:(0,f.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}Mn("interval","line",{getPoints:function(i){return KS(i)},draw:function(i,r){var t=Ti(i,!0,!1,"lineWidth"),e=this.parsePath(ff(i.points,!1)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),Mn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,uf(i,!0)},draw:function(i,r){var t=Ti(i,!1,!0),e=this.parsePath(uv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function $S(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function QS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}Mn("interval","tick",{getPoints:function(i){return $S(i)},draw:function(i,r){var t=Ti(i,!0,!1),e=this.parsePath(QS(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var JS=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:e,y:u},{x:a,y:u}];break;default:break}return s};function qS(i,r){var t=[];return(0,f.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=JS(e,a,r);t=t.concat(o)}}),t}function tC(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function eC(i,r){var t=af(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,f.each)(t,function(n){var a=qS(n,r);e=e.concat(tC(a))}),(0,H.__assign)((0,H.__assign)({},Ti(i,!0,!1,"lineWidth")),{path:e})}(0,f.each)(["hv","vh","hvh","vhv"],function(i){Mn("line",i,{draw:function(r,t){var e=eC(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return sv(r,i)}})}),(0,f.each)(RS,function(i){Mn("point",i,{draw:function(r,t){return hf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:_o[i],style:{r:4.5,stroke:t,fill:null}}}})}),Mn("point","image",{draw:function(i,r){var t=Ti(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,f.each)(hv,function(i){Mn("point",i,{draw:function(r,t){return hf(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:_o[i]||i,style:{r:4.5,fill:t}}}})});function cv(i){var r=(0,f.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function vv(i,r,t){var e=t/2,n;if((0,f.isArray)(r)){var a=cv(r),o=a.min,s=a.max,l=a.median,u=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,u],[c,h],[v,h],[v,u],[i,u],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,f.isNil)(r)?.5:r;var g=cv(i),o=g.min,s=g.max,l=g.median,u=g.min1,h=g.max1,C=r-e,k=r+e;n=[[o,C],[o,k],[o,r],[u,r],[u,C],[u,k],[h,k],[h,C],[h,r],[s,r],[s,C],[s,k],[l,C],[l,k]]}return n.map(function(D){return{x:D[0],y:D[1]}})}function rC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}Mn("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return vv(r,t,e)},draw:function(i,r){var t=Ti(i,!0,!1),e=this.parsePath(rC(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=vv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function nC(i){var r=(0,f.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return fa(t,4,t[t.length-1])}function dv(i,r,t){var e=nC(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function iC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}Mn("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return dv(r,t,e)},draw:function(i,r){var t=Ti(i,!0,!0),e=this.parsePath(iC(i.points)),n=r.addShape("path",{attrs:(0,H.__assign)((0,H.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=dv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function aC(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,f.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}Mn("polygon","square",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=Ti(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,H.__assign)((0,H.__assign)({},t),aC(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var oC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(u.x-h.x)/2*c,g=(u.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=g):t.y+=g*2,t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=g,t.textAlign=(0,f.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","bottom");break;default:break}},r}($s),sC=oC,ll=Math.PI/2,lC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,u=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(u,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,f.isArray)(t.x)&&!(0,f.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,f.isArray)(t.x)?t.x[e]:t.x,y:(0,f.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return ft(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Yt(o,n);if(l===0)return(0,H.__assign)((0,H.__assign)({},s),{r:l});var u=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));u=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+ll;return n&&(a-=ll),a&&(a>ll?a=a-Math.PI:a<-ll&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,f.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}($s),pv=lC,uC=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,f.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,f.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=ft(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=ft(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,H.__assign)((0,H.__assign)({},Pn(o.x,o.y,s,t)),{angle:t,r:s})},r}(pv),fC=uC,gv=4;function hC(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,g=Number.MIN_VALUE,C=r.map(function(bt){return bt.y>v&&(v=bt.y),bt.y<g&&(g=bt.y),{size:t,targets:[bt.y-u]}});for(g-=u,v-u>h&&(h=v-u);o;)for(C.forEach(function(bt){var Nt=(Math.min.apply(g,bt.targets)+Math.max.apply(g,bt.targets))/2;bt.pos=Math.min(Math.max(g,Nt-bt.size/2),h-bt.size)}),o=!1,c=C.length;c--;)if(c>0){var k=C[c-1],D=C[c];k.pos+k.size>D.pos&&(k.size+=D.size,k.targets=k.targets.concat(D.targets),k.pos+k.size>h&&(k.pos=h-k.size),C.splice(c,1),o=!0)}c=0,C.forEach(function(bt){var Nt=u+t/2;bt.targets.forEach(function(){r[c].y=bt.pos+Nt,Nt+=t,c++})});for(var G={},N=0,q=i;N<q.length;N++){var tt=q[N];G[tt.get("id")]=tt}r.forEach(function(bt){var Nt=bt.r*bt.r,Zt=Math.pow(Math.abs(bt.y-n.y),2);if(Nt<Zt)bt.x=n.x;else{var ee=Math.sqrt(Nt-Zt);a?bt.x=n.x+ee:bt.x=n.x-ee}var Ht=G[bt.id];Ht.attr("x",bt.x),Ht.attr("y",bt.y);var le=(0,f.find)(Ht.getChildren(),function(be){return be.get("type")==="text"});le&&(le.attr("y",bt.y),le.attr("x",bt.x))})}function cC(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.textAlign==="right"?v[0].push(g):v[1].push(g))}),v.forEach(function(g,C){var k=h/l;g.length>k&&(g.sort(function(D,G){return G["..percent"]-D["..percent"]}),g.splice(k,g.length-k)),g.sort(function(D,G){return D.y-G.y}),hC(r,g,l,c,s,C)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var C=g.offset,k=g.angle,D=Pn(s.x,s.y,o,k),G=Pn(s.x,s.y,o+C/2,k),N=g.x+(0,f.get)(g,"offsetX",0),q=g.y+(0,f.get)(g,"offsetY",0),tt={x:N-Math.cos(k)*gv,y:q-Math.sin(k)*gv};(0,f.isObject)(g.labelLine)||(g.labelLine={}),g.labelLine.path=["M "+D.x,D.y+" Q"+G.x,G.y+" "+tt.x,tt.y].join(",")}})}var yv=4;function vC(i,r,t,e,n,a,o){r.sort(function(Ht,le){return Ht.y-le.y});var s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Ht){return{content:Ht.content,size:t,pos:Ht.y,targets:[Ht.y]}}),g=Math.max.apply(Math,v.map(function(Ht){return Ht.pos})),C=Math.min.apply(Math,v.map(function(Ht){return Ht.pos}));if(o){for(var k=Math.min(C,h-(v.length-1)*t),D=Math.max(k+v.length*t,g+t),G=!0;G;)for(G=!1,c=v.length;c--;)if(c>0){var N=v[c-1],q=v[c];N.pos+N.size>q.pos&&(q.pos+c*t<D?(N.size+=q.size,N.targets=N.targets.concat(q.targets),v.splice(c,1)):N.pos=q.pos-N.size,G=!0)}}else for(var D=Math.max(u+(v.length-1)*t,g),k=Math.min(C,D-(v.length-1)*t),G=!0;G;)for(G=!1,c=v.length;c--;)if(c>0){var N=v[c-1],q=v[c];N.pos+N.size>q.pos&&(N.pos-k>c*t?N.pos-=N.size:(N.size+=q.size,N.targets=N.targets.concat(q.targets),v.splice(c,1)),G=!0)}c=0,v.forEach(function(Ht){var le=Ht.pos;Ht.targets.forEach(function(){r[c].y=le,le+=t,c++})});for(var tt={},bt=0,Nt=i;bt<Nt.length;bt++){var Zt=Nt[bt];tt[Zt.get("id")]=Zt}var ee=(Math.max.apply(Math,r.map(function(Ht){return Ht.y}))-Math.min.apply(Math,r.map(function(Ht){return Ht.y})))/2;ee=Math.max(ee,a),r.forEach(function(Ht){var le=tt[Ht.id],be=le.find(function(Fe){return Fe.get("type")==="text"});if(be&&be.attr("y")!==Ht.y){var me=ee*ee,Ie=Math.pow(Math.abs(Ht.y-n.y),2);if(me<Ie)Ht.x=n.x;else{var Ge=Math.sqrt(me-Ie);o?Ht.x=n.x+Ge:Ht.x=n.x-Ge}}le.attr("x",Ht.x),le.attr("y",Ht.y),be&&(be.attr("y",Ht.y),be.attr("x",Ht.x))})}function dC(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,f.get)(i[0],"labelHeight",14),u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.x<s.x?v[0].push(g):v[1].push(g))}),v.forEach(function(g,C){var k=h/l;if(g.length>k){g.sort(function(G,N){return N["data.percent"]-G["data.percent"]});var D=g.splice(k,g.length-k+1);D.forEach(function(G){var N=r.findIndex(function(q){return q.get("id")===G.id});r[N]&&(r[N].remove(!0),r.splice(N,1))})}vC(r,g,l,c,s,u,C===1)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var C=g.angle,k=Pn(s.x,s.y,o,C),D=g.x+(0,f.get)(g,"offsetX",0)*(Math.cos(C)>0?1:-1),G=g.y+(0,f.get)(g,"offsetY",0)*(Math.sin(C)>0?1:-1),N={x:D-Math.cos(C)*yv,y:G-Math.sin(C)*yv},q=g.labelLine.smooth,tt=[],bt=N.x-s.x,Nt=N.y-s.y,Zt=Math.atan(Nt/bt);if(bt<0&&(Zt+=Math.PI),q===!1){(0,f.isObject)(g.labelLine)||(g.labelLine={});var ee=0;(C<0&&C>-Math.PI/2||C>Math.PI*1.5)&&N.y>k.y&&(ee=1),C>=0&&C<Math.PI/2&&N.y>k.y&&(ee=1),C>=Math.PI/2&&C<Math.PI&&k.y>N.y&&(ee=1),(C<-Math.PI/2||C>=Math.PI&&C<Math.PI*1.5)&&k.y>N.y&&(ee=1);var Ht=n/2>4?4:Math.max(n/2-1,0),le=Pn(s.x,s.y,o+Ht,C),be=Pn(s.x,s.y,o+n/2,Zt),me=0;tt.push("M "+k.x+" "+k.y),tt.push("L "+le.x+" "+le.y),tt.push("A "+s.x+" "+s.y+" 0 "+me+" "+ee+" "+be.x+" "+be.y),tt.push("L "+N.x+" "+N.y)}else{var le=Pn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),C),Ie=k.x<s.x?1:-1;tt.push("M "+N.x+" "+N.y);var Ge=(k.y-s.y)/(k.x-s.x),Fe=(N.y-s.y)/(N.x-s.x);Math.abs(Ge-Fe)>Math.pow(Math.E,-16)&&tt.push.apply(tt,["C",N.x+Ie*4,N.y,2*le.x-k.x,2*le.y-k.y,k.x,k.y]),tt.push("L "+k.x+" "+k.y)}g.labelLine.path=tt.join(" ")}})}function pC(i,r,t,e){(0,f.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=n.getCanvasBBox(),h=u.minX,c=u.minY,v=u.maxX,g=u.maxY,C=u.x,k=u.y,D=u.width,G=u.height,N=C,q=k;(h<a||v<a)&&(N=a),(c<o||g<o)&&(q=o),h>s?N=s-D:v>s&&(N=N-(v-s)),c>l?q=l-G:g>l&&(q=q-(g-l)),(N!==C||q!==k)&&Hu(n,N-C,q-k)})}function gC(i,r,t,e){(0,f.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var yC=100,mv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function mC(i,r,t){t===void 0&&(t=yC);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,h=-e,c=0,v=0,g=function(G){var N=G*.1;return[N*Math.cos(N),N*Math.sin(N)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var C=!1,k=0,D={};Math.min(Math.abs(c),Math.abs(v))<l&&k<t;)if(u=g(h+=e),c=~~u[0],v=~~u[1],!(!c&&!v||D[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),k++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),C=!0,D[c+"-"+v]=!0;break}return C}function xC(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function bC(i,r,t,e){var n=new mv;(0,f.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});mC(o,n)||a.remove(!0)}),n.destroy()}function wC(i,r,t,e){var n=new mv;(0,f.each)(r,function(a){for(var o=a.find(function(g){return g.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,h=!1,c=0;c<=8;c++){var v=xC(o,l,u,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function SC(i,r,t){var e={fillOpacity:(0,f.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,f.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,f.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function CC(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function MC(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(On.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=On.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(On.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=On.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(On.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=On.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function df(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,h;n==="y"?(u=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(u=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=MC(i,[u,h],n);i.animate({matrix:c},r)}function EC(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"x")}function AC(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"y")}function _C(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"xy")}function TC(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function PC(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function LC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=On.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:On.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function IC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=On.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:On.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var OC=d(84909);function xv(i,r){var t,e=(0,OC.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,f.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,f.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,f.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,f.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function bv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function wv(i){var r,t,e,n=i.filter(function(q){return q[0]==="A"||q[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),u=bv(i[s-1]),h=bv(i[l-1]),c=xv(u,a),v=c.startAngle,g=c.endAngle,C=xv(h,o),k=C.startAngle,D=C.endAngle;(0,f.isNumberEqual)(v,k)&&(0,f.isNumberEqual)(g,D)?(t=v,e=g):(t=Math.min(v,k),e=Math.max(g,D));var G=a[1],N=n[n.length-1][1];return G<N?(r=[N,G],G=r[0],N=r[1]):G===N&&(N=0),{startAngle:t,endAngle:e,radius:G,innerRadius:N}}function kC(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(N){return N[0]}),s=wv(a),l=s.startAngle,u=s.endAngle,h=s.radius,c=s.innerRadius,v=wv(i.attr("path")),g=v.startAngle,C=v.endAngle,k=n.getCenter(),D=l-g,G=u-C;i.animate(function(N){var q=g+N*D,tt=C+N*G;return(0,H.__assign)((0,H.__assign)({},e),{path:(0,f.isEqual)(o,["M","A","A","Z"])?Ki(k.x,k.y,h,q,tt):vi(k.x,k.y,h,q,tt,c)})},(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function BC(i,r,t){var e=yt(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function pf(i,r,t){if(i.isGroup())(0,f.each)(i.getChildren(),function(s){pf(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=On.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:On.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:On.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,H.__assign)((0,H.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function DC(i,r,t){pf(i,r,"zoomIn")}function FC(i,r,t){pf(i,r,"zoomOut")}function Ka(i){return[Mt.TOP,Mt.BOTTOM].includes(i)?{offsetX:0,offsetY:i===Mt.TOP?-8:8,style:{textAlign:"center",textBaseline:i===Mt.TOP?"bottom":"top"}}:[Mt.LEFT,Mt.RIGHT].includes(i)?{offsetX:i===Mt.LEFT?-8:8,offsetY:0,style:{textAlign:i===Mt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function gf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var RC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),u=gf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:gf(u,l,h),end:gf(u,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,h=[];return l.forEach(function(c,v){var g=[{field:s,value:c,values:l}],C=(0,f.filter)(t,e.getFacetDataFilter(g)),k={type:o,data:C,region:e.getRegion(u,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(k)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Ka(Mt.TOP),t.cfg.title);a.annotation().text(s)})},r}(Xr),NC=RC,GC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var g=e.getRowCol(v,a),C=g.row,k=g.col,D=[{field:o,value:c,values:s}],G=(0,f.filter)(t,e.getFacetDataFilter(D)),N={type:e.cfg.type,data:G,region:e.getRegion(u,a,k,C),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:k,rowIndex:C,columnValuesLength:a,rowValuesLength:u,total:l};h.push(N)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Ka(Mt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(Xr),YC=GC,zC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var h=n[u],c=0;c<o;c++){var v=n[c],g={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(g)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,u=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,f.get)(t.cfg.columnTitle,"formatter"),g=(0,f.deepMix)({position:["50%","0%"],content:v?v(u):u},Ka(Mt.TOP),t.cfg.columnTitle);c.annotation().text(g)}if(a===s-1){var v=(0,f.get)(t.cfg.rowTitle,"formatter"),g=(0,f.deepMix)({position:["100%","50%"],content:v?v(h):h},Ka(Mt.RIGHT),t.cfg.rowTitle);c.annotation().text(g)}})},r}(Xr),XC=zC,VC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,u=this.getFieldValues(t,c).slice(0,2),s=u.length),l.forEach(function(v,g){u.forEach(function(C,k){var D=[{field:h,value:v,values:l},{field:c,value:C,values:u}],G=(0,f.filter)(t,e.getFacetDataFilter(D)),N={type:e.cfg.type,data:G,region:e.getRegion(s,o,g,k),columnValue:v,rowValue:C,columnField:h,rowField:c,columnIndex:g,rowIndex:k,columnValuesLength:o,rowValuesLength:s};a.push(N)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,H.__assign)((0,H.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,f.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,f.deepMix)({position:["50%","0%"],content:l?l(a):a},Ka(Mt.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,f.deepMix)({position:["100%","50%"],content:l?l(o):o},Ka(Mt.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(Xr),HC=VC,WC=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,H.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,u=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),u=c.length),h.forEach(function(v,g){c.forEach(function(C,k){var D=[{field:a,value:v,values:h},{field:o,value:C,values:c}],G=(0,f.filter)(t,e.getFacetDataFilter(D)),N={type:e.cfg.type,data:G,region:e.getRegion(u,l,g,k),columnValue:v,rowValue:C,columnField:a,rowField:o,columnIndex:g,rowIndex:k,columnValuesLength:l,rowValuesLength:u};s.push(N)})}),s},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,h=e.view;if(o===0){var c=(0,f.get)(t.cfg.columnTitle,"formatter"),v=(0,f.deepMix)({position:["50%","0%"],content:c?c(l):l},Ka(Mt.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,f.get)(t.cfg.rowTitle,"formatter"),v=(0,f.deepMix)({position:["100%","50%"],content:c?c(u):u},Ka(Mt.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,H.__assign)((0,H.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,H.__assign)((0,H.__assign)({},n),{title:null}):n},r}(Xr),jC=WC,UC=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(zt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),u=0,h=l;u<h.length;u++){var c=h[u];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],u=o[e-1],h=this.getFieldValues(t,u);return h.forEach(function(c,v){var g=[{field:u,value:c,values:h}],C=t.filter(a.getFacetDataFilter(g));if(C.length){var k={type:a.cfg.type,data:C,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(C,e+1,n)};l.push(k),n.push(k)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Ka(Mt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,f.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,H.__assign)((0,H.__assign)({},n),{title:null,label:null}):n},r}(Xr),ZC=UC,KC=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(xt.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(xt.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,u=l.type,h=t.getAnnotationTheme(u);s.update(t.getAnnotationCfg(u,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,f.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(zt.AFTER_RENDER,function(){n(o)}):n(o)}):(0,f.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(zt.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),u=t.cache.get(a);if(u)Bt(l,["container"]),u.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(zt.AFTER_RENDER,function(){(0,f.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,f.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=ln.Annotation[(0,f.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?xt.FORE:xt.BG,direction:Mt.NONE,type:Ut.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,H.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,H.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,H.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,H.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,H.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,H.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,H.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,H.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,f.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,f.isArray)(a)){var l=a[0],u=a[1];if((0,f.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(u,Object.values(n)[0])}else if(!(0,f.isNil)(a))for(var h=0,c=(0,f.keys)(a);h<c.length;h++){var v=c[h],g=a[v];v===e.field&&(o=this.getNormalizedValue(g,e)),n[v]&&(s=this.getNormalizedValue(g,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,f.isArray)(t)?t[0]:t[l],c=(0,f.isArray)(e)?e[0]:e[l],v=[],g;return(0,f.each)(u,function(C,k){if(C[l]===h&&(g=k),k>=g){var D=n.parsePosition([C[l],C[s.field]]);D&&v.push(D)}if(C[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:u,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,f.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,u=s.end,h=this.parsePosition(l),c=this.parsePosition(u),v=ft(a,h),g=ft(a,c);v>g&&(g=Math.PI*2+g),o={center:a.getCenter(),radius:Yt(a,h),startAngle:v,endAngle:g}}else if(t==="image"){var C=e,l=C.start,u=C.end;o={start:this.parsePosition(l),end:this.parsePosition(u),src:e.src}}else if(t==="line"){var k=e,l=k.start,u=k.end;o={start:this.parsePosition(l),end:this.parsePosition(u),text:(0,f.get)(e,"text",null)}}else if(t==="region"){var D=e,l=D.start,u=D.end;o={start:this.parsePosition(l),end:this.parsePosition(u)}}else if(t==="text"){var G=this.view.getData(),N=e,q=N.position,tt=N.content,bt=(0,H.__rest)(N,["position","content"]),Nt=tt;(0,f.isFunction)(tt)&&(Nt=tt(G)),o=(0,H.__assign)((0,H.__assign)((0,H.__assign)({},this.parsePosition(q)),bt),{content:Nt})}else if(t==="dataMarker"){var Zt=e,q=Zt.position,ee=Zt.point,Ht=Zt.line,le=Zt.text,be=Zt.autoAdjust,me=Zt.direction;o=(0,H.__assign)((0,H.__assign)({},this.parsePosition(q)),{coordinateBBox:this.getCoordinateBBox(),point:ee,line:Ht,text:le,autoAdjust:be,direction:me})}else if(t==="dataRegion"){var Ie=e,l=Ie.start,u=Ie.end,Ge=Ie.region,le=Ie.text,Fe=Ie.lineLength;o={points:this.getRegionPoints(l,u),region:Ge,text:le,lineLength:Fe}}else if(t==="regionFilter"){var Je=e,l=Je.start,u=Je.end,tr=Je.apply,nr=Je.color,$e=this.view.geometries,Qe=[],Sr=function(Er){!Er||(Er.isGroup()?Er.getChildren().forEach(function(Gr){return Sr(Gr)}):Qe.push(Er))};(0,f.each)($e,function(Er){tr?(0,f.contains)(tr,Er.type)&&(0,f.each)(Er.elements,function(Gr){Sr(Gr.shape)}):(0,f.each)(Er.elements,function(Gr){Sr(Gr.shape)})}),o={color:nr,shapes:Qe,start:this.parsePosition(l),end:this.parsePosition(u)}}var xr=(0,f.deepMix)({},n,(0,H.__assign)((0,H.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return xr.container=this.getComponentContainer(xr),xr.animate=this.view.getOptions().animate&&xr.animate&&(0,f.get)(e,"animate",xr.animate),xr.animateOption=(0,f.deepMix)({},Xo,xr.animateOption,e.animateOption),xr},r.prototype.isTop=function(t){return(0,f.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,f.get)(this.view.getTheme(),["components","annotation",t],{})},r}(zo),$C=KC;function Sv(i,r){return(0,f.get)(i,["components","axis",r,"grid"],{})}function ul(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var h=o.value,c=(h+u)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function yf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var h=l?l.value:u.value,c=u.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,f.map)(Array(a+1),function(g,C){return i.convert({x:C/a,y:e?c:v})})}),u},s[0]),o}function Cv(i,r){var t=(0,f.get)(r,"grid");if(t===null)return!1;var e=(0,f.get)(i,"grid");return!(t===void 0&&e===null)}var lo=["container"],Mv=(0,H.__assign)((0,H.__assign)({},Xo),{appear:null}),QC=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(xt.BG).addGroup(),e.axisContainer=e.view.getLayer(xt.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,f.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,h=l.scale,c=l.alignTick,v;if(s===Ut.AXIS)e.isPolar?u==="x"?v=e.isTransposed?fr(e,o):Ar(e):u==="y"&&(v=e.isTransposed?Ar(e):fr(e,o)):v=fr(e,o);else if(s===Ut.GRID)if(e.isPolar){var g=void 0;e.isTransposed?g=u==="x"?yf(e,t.view.getYScales()[0],h,c,u):ul(e,h,u,c):g=u==="x"?ul(e,h,u,c):yf(e,t.view.getXScale(),h,c,u),v={items:g,center:t.view.getCoordinate().getCenter()}}else v={items:ul(e,h,u,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=hr(this.option,e.field);if(n!==!1){var a=Fr(n,Mt.BOTTOM),o=xt.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(u);if(c){var v=this.getLineAxisCfg(e,n,a);Bt(v,lo),c.component.update(v),t.set(u,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(u,c),t.set(u,c);var g=this.cache.get(h);if(g){var v=this.getLineGridCfg(e,n,a,s);Bt(v,lo),g.component.update(v),t.set(h,g)}else g=this.createLineGrid(e,n,o,a,s),g&&(this.cache.set(h,g),t.set(h,g))}else if(l.isPolar){var c=this.cache.get(u);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,Mt.RADIUS):this.getCircleAxisCfg(e,n,a);Bt(v,lo),c.component.update(v),t.set(u,c)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;c=this.createLineAxis(e,n,o,Mt.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var g=this.cache.get(h);if(g){var v=l.isTransposed?this.getCircleGridCfg(e,n,Mt.RADIUS,s):this.getLineGridCfg(e,n,Mt.CIRCLE,s);Bt(v,lo),g.component.update(v),t.set(h,g)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;g=this.createCircleGrid(e,n,o,Mt.RADIUS,s)}else g=this.createLineGrid(e,n,o,Mt.CIRCLE,s);g&&(this.cache.set(h,g),t.set(h,g))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,f.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=hr(e.option,s);if(l!==!1){var u=xt.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),g=e.view.getCoordinate();if(g.isRect){var C=Fr(l,o===0?Mt.LEFT:Mt.RIGHT),k=e.cache.get(c);if(k){var D=e.getLineAxisCfg(a,l,C);Bt(D,lo),k.component.update(D),t.set(c,k)}else k=e.createLineAxis(a,l,u,C,h),e.cache.set(c,k),t.set(c,k);var G=e.cache.get(v);if(G){var D=e.getLineGridCfg(a,l,C,h);Bt(D,lo),G.component.update(D),t.set(v,G)}else G=e.createLineGrid(a,l,u,C,h),G&&(e.cache.set(v,G),t.set(v,G))}else if(g.isPolar){var k=e.cache.get(c);if(k){var D=g.isTransposed?e.getCircleAxisCfg(a,l,Mt.CIRCLE):e.getLineAxisCfg(a,l,Mt.RADIUS);Bt(D,lo),k.component.update(D),t.set(c,k)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;k=e.createCircleAxis(a,l,u,Mt.CIRCLE,h)}else k=e.createLineAxis(a,l,u,Mt.RADIUS,h);e.cache.set(c,k),t.set(c,k)}var G=e.cache.get(v);if(G){var D=g.isTransposed?e.getLineGridCfg(a,l,Mt.CIRCLE,h):e.getCircleGridCfg(a,l,Mt.RADIUS,h);Bt(D,lo),G.component.update(D),t.set(v,G)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;G=e.createLineGrid(a,l,u,Mt.CIRCLE,h)}else G=e.createCircleGrid(a,l,u,Mt.RADIUS,h);G&&(e.cache.set(v,G),t.set(v,G))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new Yn(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===Mt.RADIUS?Mt.NONE:a,type:Ut.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new Ci(s),layer:n,direction:Mt.NONE,type:Ut.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new fi(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:Ut.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new ki(s),layer:n,direction:Mt.NONE,type:Ut.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=fr(o,n),l=Kr(t,e),u=mr(this.view.getTheme(),n),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,H.__assign)((0,H.__assign)({container:a},s),{ticks:t.getTicks().map(function(q){return{id:""+q.tickValue,name:q.text,value:q.value}}),verticalFactor:o.isPolar?br(s,o.getCenter())*-1:br(s,o.getCenter())}),u,h),v=this.getAnimateCfg(c),g=v.animate,C=v.animateOption;c.animateOption=C,c.animate=g;var k=vr(s),D=(0,f.get)(c,"verticalLimitLength",k?1/3:1/2);if(D<=1){var G=this.view.getCanvas().get("width"),N=this.view.getCanvas().get("height");c.verticalLimitLength=D*(k?G:N)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Cv(mr(this.view.getTheme(),n),e)){var o=Sv(this.view.getTheme(),n),s=(0,f.deepMix)({container:this.gridContainer},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e));return s.items=ul(this.view.getCoordinate(),t,a,(0,f.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(k){return{id:""+k.tickValue,name:k.text,value:k.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Kr(t,e),u=mr(this.view.getTheme(),Mt.CIRCLE),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,H.__assign)((0,H.__assign)({container:a},Ar(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),u,h),v=this.getAnimateCfg(c),g=v.animate,C=v.animateOption;return c.animate=g,c.animateOption=C,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Cv(mr(this.view.getTheme(),n),e)){var o=Sv(this.view.getTheme(),Mt.RADIUS),s=(0,f.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,f.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=yf(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,f.get)(t,"animate"),animateOption:t&&t.animateOption?(0,f.deepMix)({},Mv,t.animateOption):Mv}},r}(zo),JC=QC;function fl(i,r,t){return t===Mt.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===Mt.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===Mt.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===Mt.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===Mt.TOP_LEFT||t===Mt.LEFT_TOP?[i.tl.x,i.tl.y]:t===Mt.TOP_RIGHT||t===Mt.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===Mt.BOTTOM_LEFT||t===Mt.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===Mt.BOTTOM_RIGHT||t===Mt.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function qC(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Ev(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Av(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function tM(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Ev(n)),e<0&&(n=Av(n)),n}function eM(i,r){var t=i;return r.isReflect("x")&&(t=Ev(t)),r.isReflect("y")&&(t=Av(t)),t}function SG(i,r){var t=i;return t=qC(t,r),t=tM(t,r),t=eM(t,r),t}function _v(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,H.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function Tv(i){var r=i.symbol;(0,f.isString)(r)&&_o[r]&&(i.symbol=_o[r])}function mf(i){return i.startsWith(Mt.LEFT)||i.startsWith(Mt.RIGHT)?"vertical":"horizontal"}function rM(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,g=c.text,C=c.value,k=g,D=a.invert(C),G=i.filterFieldData(o,[(v={},v[o]=D,v)]).length===0,N=_v(s,D,u),q=_v(l,D,"point"),tt=r.getShapeMarker(q,{color:N,isInPolar:h});return tt=(0,f.deepMix)({},e,tt,n),Tv(tt),{id:D,name:k,value:D,marker:tt,unchecked:G}})}return[]}function nM(i,r,t){return t.map(function(e){var n=(0,f.deepMix)({},i,r,e.marker);return Tv(n),e.marker=n,e})}function Pv(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r],i)}function ms(i){return(0,f.get)(i,"position",Mt.BOTTOM)}var iM=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(xt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,u){var h=t.createFieldLegend(s,l,u);h&&(h.component.init(),t.components.push(h))};if((0,f.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=xt.FORE,o=ms(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:Ut.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,f.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,f.each)(this.components,function(n){var a=n.component,o=n.direction,s=mf(o),l=t.getCategoryLegendSizeCfg(s),u=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,u||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new Ir(c.x,c.y,c.width,c.height),g=fl(t.view.viewBBox,v,o),C=g[0],k=g[1],D=fl(t.layoutBBox,v,o),G=D[0],N=D[1],q=0,tt=0;o.startsWith("top")||o.startsWith("bottom")?(q=C,tt=N):(q=G,tt=k),o.indexOf("left")>=0&&(q+=e[3]),o.indexOf("right")>=0&&(q-=e[1]),o.indexOf("top")>=0&&(tt+=e[0]),o.indexOf("bottom")>=0&&(tt-=e[2]),a.update({x:q,y:tt}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,g,C){var k=t.getId(C.field),D=t.getComponentById(k);if(D){var G=void 0,N=Pv(t.option,C.field);N!==!1&&((0,f.get)(N,"custom")?G=t.getCategoryCfg(v,g,C,N,!0):C.isLinear?G=t.getContinuousCfg(v,g,C,N):C.isCategory&&(G=t.getCategoryCfg(v,g,C,N))),G&&(Bt(G,["container"]),D.direction=ms(N),D.component.update(G),e[k]=!0)}else{var q=t.createFieldLegend(v,g,C);q&&(q.component.init(),t.components.push(q),e[k]=!0)}};if((0,f.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Bt(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=xt.FORE,h=ms(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:Ut.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,f.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,f.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,f.each)(n,function(o){var s=o.getGroupAttributes();(0,f.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=Pv(this.option,n.field),s=xt.FORE,l=ms(o);if(o!==!1&&((0,f.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:Ut.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new jt(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new ie(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new jt(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,f.find)(o,function(k){return k.value===0}),l=(0,f.find)(o,function(k){return k.value===1}),u=o.map(function(k){var D=k.value,G=k.tickValue,N=e.mapping(n.invert(D)).join("");return{value:G,attrValue:N,color:N,scaleValue:D}});s||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(k,D){return k.value-D.value});var h={min:(0,f.head)(u).value,max:(0,f.last)(u).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=u.map(function(k){return k.attrValue}));var c=this.container,v=ms(a),g=mf(v),C=(0,f.get)(a,"title");return C&&(C=(0,f.deepMix)({text:De(n)},C)),h.container=c,h.layout=g,h.title=C,h.animateOption=Xo,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,f.get)(a,"position",Mt.BOTTOM),u=(0,f.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,f.get)(a,"marker"),c=mf(l),v=o?nM(u,h,a.items):rM(this.view,t,e,u,h),g=(0,f.get)(a,"title");g&&(g=(0,f.deepMix)({text:n?De(n):""},g));var C=this.getCategoryLegendSizeCfg(c);C.container=s,C.layout=c,C.items=v,C.title=g,C.animateOption=Xo;var k=this.mergeLegendCfg(C,a,l);k.reversed&&k.items.reverse();var D=(0,f.get)(k,"maxItemWidth");return D&&D<=1&&(k.maxItemWidth=this.view.viewBBox.width*D),k},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,f.get)(this.view.getTheme(),["components","legend",a],{});return(0,f.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,f.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*K,maxHeight:a}:{maxWidth:n,maxHeight:a*K}},r}(zo),aM=iM,oM=function(i){(0,H.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(xt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Ir(e.x,e.y,Math.min(e.width,t),e.height),a=fl(this.view.viewBBox,n,Mt.BOTTOM),o=a[0],s=a[1],l=fl(this.view.coordinateBBox,n,Mt.BOTTOM),u=l[0],h=l[1];this.slider.component.update({x:u,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new ln.Slider((0,H.__assign)({container:this.container},t));return e.init(),{component:e,layer:xt.FORE,direction:Mt.BOTTOM,type:Ut.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return Bt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,f.isObject)(this.option)){var t=(0,H.__assign)({data:this.getData()},(0,f.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,f.deepMix)({},{x:e,y:n,width:a},this.option);return(0,H.__assign)((0,H.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,f.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(k,D){return k.includes(D[s])||k.push(D[s]),k},[]),u=(0,f.size)(l),h=Math.floor(t*(u-1)),c=Math.floor(e*(u-1)),v=(0,f.get)(l,[h]),g=(0,f.get)(l,[c]),C=this.getSliderCfg().formatter;C&&(v=C(v,n[h],h),g=C(g,n[c],c)),this.slider.component.update({minText:v,maxText:g,start:t,end:e}),this.view.filter(a.field,function(k,D){var G=l.indexOf(k);return G>-1?Xi(G,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(zo),sM=oM;function lM(i){for(var r=[],t=function(n){var a=i[n],o=(0,f.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var uM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,H.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,g=this.items,C=this.title;if(!(0,f.isEqual)(C,a)||!(0,f.isEqual)(g,n)?(e.emit("tooltip:change",(0,H.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,f.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var k=(0,f.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(k?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,f.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var u=l[s],h=u.mappingData,c=h.x,v=h.y;u.x=(0,f.isArray)(c)?c[c.length-1]:c,u.y=(0,f.isArray)(v)?v[v.length-1]:v}var g=this.getTooltipCfg().shared;if(g===!1&&e.length>1){for(var C=e[0],k=Math.abs(t.y-C[0].y),D=0,G=e;D<G.length;D++){var N=G[D],q=Math.abs(t.y-N[0].y);q<=k&&(C=N,k=q)}e=[C]}return lM((0,f.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,f.get)(n,["components","tooltip"],{}),o=(0,f.isUndefined)((0,f.get)(e,"enterable"))?a.enterable:(0,f.get)(e,"enterable");return(0,f.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new ve((0,H.__assign)((0,H.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,h=(0,H.__assign)((0,H.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,f.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!J(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=ft(n,t),l=n.getCenter(),u=n.getRadius();o=Pn(l.x,l.y,u,s),a=l}var h=(0,f.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new ln.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!J(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Yt(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,f.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new ln.Crosshair[o](a),u.init()):u.update(a):(u=new ln.Crosshair[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,f.get)(n,["crosshairs","text"]),o=(0,f.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,g=void 0;if(o){var C=this.view.getCoordinate().invert(e);v=h.invert(C.x),g=c.invert(C.y)}else v=u.data[h.field],g=u.data[c.field];var k=t==="x"?v:g;return(0,f.isFunction)(a)?a=a(t,k,s,e):a.content=k,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=pn(l,t,n);u.length&&a.push(u)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],h=Nr(e,u,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var g=pn(h,t,n);g.length&&a.push(g)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,u=0,h=a;u<h.length;u++){var c=h[u];if(c.visible&&c.tooltipOption!==!1){var v=c.type,g=void 0;["point","edge","polygon"].includes(v)?g=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?g=this.getTooltipItemsByFindData(c,e,l):s!==!1?g=this.getTooltipItemsByFindData(c,e,l):g=this.getTooltipItemsByHitShape(c,e,l),g.length&&n.push(g)}}for(var C=0,k=t.views;C<k.length;C++){var D=k[C];n=n.concat(this.findItemsFromView(D,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,f.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(zo),fM=uM,hM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,f.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,f.each)(l,function(Ie){if(Ie.type==="interval"||Ie.type==="schema"){var Ge=Ie.getElementsBy(function(Fe){var Je=Fe.getData();return Je[a]===o});s=s.concat(Ge)}}),s.length){var u=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,f.each)(s,function(Ie){var Ge=Ie.shape.getCanvasBBox();u.isTransposed?(Ge.minY<h.minY&&(h=Ge),Ge.maxY>c.maxY&&(c=Ge)):(Ge.minX<h.minX&&(h=Ge),Ge.maxX>c.maxX&&(c=Ge)),v.x=Math.min(Ge.minX,v.minX),v.y=Math.min(Ge.minY,v.minY),v.width=Math.max(Ge.maxX,v.maxX)-v.x,v.height=Math.max(Ge.maxY,v.maxY)-v.y});var g=t.backgroundGroup,C=t.coordinateBBox,k=void 0;if(u.isRect){var D=t.getXScale(),G=D.isLinear?0:.25,N=void 0,q=void 0,tt=void 0,bt=void 0;u.isTransposed?(N=C.minX,q=Math.min(c.minY,h.minY)-G*c.height,tt=C.width,bt=v.height+G*2*c.height):(N=Math.min(h.minX,c.minX)-G*h.width,q=Math.min(C.minY,h.minY),tt=v.width+G*2*h.width,bt=C.height),k=[["M",N,q],["L",N+tt,q],["L",N+tt,q+bt],["L",N,q+bt],["Z"]]}else{var Nt=(0,f.head)(s),Zt=(0,f.last)(s),ee=Bi(Nt.getModel(),u).startAngle,Ht=Bi(Zt.getModel(),u).endAngle,le=u.getCenter(),be=u.getRadius(),me=u.innerRadius*be;k=vi(le.x,le.y,be,ee,Ht,me)}this.regionPath?(this.regionPath.attr("path",k),this.regionPath.show()):this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:k,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(gn),cM=hM,vM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,u={x:e.x,y:e.y};(!l||!(0,f.isEqual)(l,u))&&this.showTooltip(n,u),this.timeStamp=s,this.location=u}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(gn),Lv=vM,dM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=gr(t);(0,f.each)(n,function(a){var o=qr(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=gr(t);(0,f.each)(e,function(n){n.hideTooltip()})},r}(Lv),pM=dM,gM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,f.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,H.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,f.get)(a,["components","tooltip","domStyles"],{}),s=new ve({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(gn),yM=gM,mM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=Re(t,this.stateName);(0,f.each)(n,function(a){e.setElementState(a,!1)})},r}(gn),xf=mM;function Iv(i){return(0,f.get)(i.get("delegateObject"),"item")}var xM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=ue(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=Xn(a,e),s=ke(t,e);return!(0,f.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,f.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=zn(this.context);if(e)st(this.context)&&this.setStateByElement(e,t);else{var n=At(this.context);if(Z(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Iv(s.fromShape)===Iv(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=zn(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(xf),bf=xM,bM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(bf),wM=bM,SM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=ke(t,a.field);if(!this.cache[o]){var s=ce(n,a.field,o),l=this.linkGroup,u=l.addGroup();this.cache[o]=u;var h=s.length;(0,f.each)(s,function(c,v){if(v<h-1){var g=s[v+1];e.addLinkShape(u,c,g)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=ke(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=zn(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=zn(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(gn),CM=SM,MM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(It(this.context))t=Vt(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=ir(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=ue(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=gr(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,f.each)(o,function(h){var c=ue(h),v=c.filter(function(g){var C=g.getModel().data;return In(s,C,l,u)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=gr(n);It(this.context)&&(0,f.each)(a,function(o){var s=ue(o),l=he(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,f.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=gr(e);(0,f.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(xf),wf=MM,EM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(wf),AM=EM,_M=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=zn(this.context);if(e){if(!st(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=zn(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(xf),Sf=_M,TM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Sf),PM=TM,xs="inactive",bs="active";function Cf(i){var r=ue(i);(0,f.each)(r,function(t){t.hasState(bs)&&t.setState(bs,!1),t.hasState(xs)&&t.setState(xs,!1)})}function Ov(i,r,t){(0,f.each)(i,function(e){r(e)?(e.hasState(xs)&&e.setState(xs,!1),e.setState(bs,t)):(e.hasState(bs)&&e.setState(bs,!1),e.setState(xs,t))})}var To=ae.INACTIVE,$a=ae.ACTIVE,LM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=$a,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(To)&&t.setState(To,!1),t.setState($a,!0)):t.hasState($a)||t.setState(To,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,f.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=Re(this.context.view,$a),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(t,function(l){e(l)&&(l.hasState($a)&&l.setState($a,!1),l.setState(To,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=ue(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Cf(t)},r}(bf),Mf=LM,IM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=ke(t,o.field),l=ue(n),u=l.filter(function(h){return ke(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},e)}},r}(Mf),OM=IM,kM=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(To)&&t.setState(To,!1),t.setState($a,!0)):(t.setState(To,!0),t.hasState($a)&&t.setState($a,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=ke(t,a.field),s=ue(n),l=s.filter(function(u){return ke(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=zn(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Mf),BM=kM,DM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Cf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){Ov(n,function(a){return t.indexOf(a)>=0},e)},r}(wf),kv=DM,FM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=ue(n);Ov(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Cf(t)},r}(Sf),RM=FM,NM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(wf),GM=NM,YM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(bf),zM=YM,XM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Sf),VM=XM,HM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=At(this.context),e=null;return Z(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Or(e),a=[];return(0,f.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=Xn(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=Xn(o,a),l=ke(e,a),u=s.getText(l);this.setItemsState(t,u,n)},r.prototype.setStateEnable=function(t){var e=this,n=zn(this.context);if(n){var a=this.getAllowComponents();(0,f.each)(a,function(u){e.setStateByElement(u,n,t)})}else{var o=At(this.context);if(Z(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,f.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(gn),hl=HM,WM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(hl),jM=WM,Bv="inactive",Dv="active";function UM(i){var r=i.getItems();(0,f.each)(r,function(t){i.hasState(t,Dv)&&i.setItemState(t,Dv,!1),i.hasState(t,Bv)&&i.setItemState(t,Bv,!1)})}var ws="inactive",Po="active",ZM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Po,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,f.each)(a,function(l){e(l)?(t.hasState(l,ws)&&t.setItemState(l,ws,!1),t.setItemState(l,Po,!0)):t.hasState(l,Po)||t.setItemState(l,ws,!0)});else{var o=t.getItemsByState(Po),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(a,function(l){e(l)&&(t.hasState(l,Po)&&t.setItemState(l,Po,!1),t.setItemState(l,ws,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)UM(t.list);else{var e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(Po),n.clearItemsState(ws)})}},r}(hl),Ef=ZM,KM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(hl),$M=KM,QM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(hl),JM=QM,qM=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,H.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,f.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(gn),Af=qM,t2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,f.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=Pr(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Af),e2=t2,r2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,f.head)(t),end:(0,f.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Af),Fv=r2;function Rv(i){i.x=(0,f.clamp)(i.x,0,1),i.y=(0,f.clamp)(i.y,0,1)}var n2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,f.head)(n)),l=o.invert((0,f.last)(n));return this.inPlot&&(Rv(s),Rv(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(Fv),Nv=n2,i2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,f.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Af),Gv=i2,a2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return $r(t,!0)},r}(Gv),o2=a2,s2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(gn),l2=s2,u2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,f.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=At(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(Z(t)){if(a){var o=n.getItemsByState("unchecked"),s=Xn(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var g=s.getText(v);return!l.includes(g)}):this.filterView(e,a,null),e.render(!0)}}else if(rt(t)){var u=n.getValue(),h=u[0],c=u[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(gn),f2=u2;function Yv(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(u),v=i.values.indexOf(h),g=i.values.slice(c,v+1);return function(C){return g.includes(C)}}else return function(C){return C>=u&&C<=h}}var h2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(It(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),u=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=Yv(h,"x",l,u);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=Yv(v,"y",l,u);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(gn),cl=h2,c2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=gr(t);(0,f.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=gr(t);(0,f.each)(e,function(n){n.render(!0)})},r}(cl),_f=c2,v2=function(i){(0,H.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=At(this.context),e=this.context.view,n=ue(e);if(It(this.context)){var a=Vt(this.context,10);a&&(0,f.each)(n,function(C){a.includes(C)?C.show():C.hide()})}else if(t){var o=t.component,s=o.get("field");if(Z(t)){if(s){var l=o.getItemsByState("unchecked"),u=Xn(e,s),h=l.map(function(C){return C.name});(0,f.each)(n,function(C){var k=ke(C,s),D=u.getText(k);h.indexOf(D)>=0?C.hide():C.show()})}}else if(rt(t)){var c=o.getValue(),v=c[0],g=c[1];(0,f.each)(n,function(C){var k=ke(C,s);k>=v&&k<=g?C.show():C.hide()})}}},r.prototype.clear=function(){var t=ue(this.context.view);(0,f.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(gn),d2=v2,p2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){It(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Vt(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=gr(t);(0,f.each)(s,function(l){var u=ue(l);(0,f.each)(u,function(h){var c=h.getModel().data;In(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=gr(e);(0,f.each)(n,function(a){var o=he(t.context,a,10),s=ue(a);o&&(0,f.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=gr(this.context.view);(0,f.each)(t,function(e){var n=ue(e);(0,f.each)(n,function(a){a.show()})})},r}(gn),zv=p2,g2=10,y2=5,m2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,f.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,H.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=_i(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,H.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=On.transform(null,[["t",n.x-o.width-g2,n.y+o.height+y2]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(gn),x2=m2,b2=4,w2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Pr(t,this.startPoint)>b2&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(gn),S2=w2,C2=5,M2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=Pr(t,e);if(n>C2&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=On.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(gn),E2=M2,Xv="x",Vv="y",A2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[Xv,Vv],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(Xv),this.resetDim(Vv);var t=this.context.view;t.render(!0)},r}(gn),Hv=A2,_2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,f.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view,c=this.dims;(0,f.each)(c,function(v){t.translateDim(v,{x:l*-1,y:u*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,h=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Hv),T2=_2,P2=function(i){(0,H.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,f.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,h=n*s,c=l-h,v=u+h,g=v-c,C=g/s;v>c&&C<100&&C>.01&&a.scale(e.field,{nice:!1,min:l-h,max:u+h})},r}(Hv),L2=P2;Ft("dark",ja(gb)),W("canvas",L),W("svg",P),ba("Polygon",XS),ba("Interval",BS),ba("Schema",HS),ba("Path",lf),ba("Point",GS),ba("Line",FS),ba("Area",ES),ba("Edge",_S),ba("Heatmap",LS),vs("base",$s),vs("interval",sC),vs("pie",fC),vs("polar",pv),Co("overlap",wC),Co("distribute",cC),Co("fixed-overlap",bC),Co("limit-in-shape",gC),Co("limit-in-canvas",pC),Co("pie-outer",dC),di("fade-in",SC),di("fade-out",CC),di("grow-in-x",EC),di("grow-in-xy",_C),di("grow-in-y",AC),di("scale-in-x",LC),di("scale-in-y",IC),di("wave-in",BC),di("zoom-in",DC),di("zoom-out",FC),di("position-update",PC),di("sector-path-update",kC),di("path-in",TC),en("rect",jC),en("mirror",HC),en("list",YC),en("matrix",XC),en("circle",NC),en("tree",ZC),yn("axis",JC),yn("legend",aM),yn("tooltip",fM),yn("annotation",$C),yn("slider",sM),Yr("tooltip",Lv),Yr("sibling-tooltip",pM),Yr("ellipsis-text",yM),Yr("element-active",wM),Yr("element-single-active",PM),Yr("element-range-active",AM),Yr("element-highlight",Mf),Yr("element-highlight-by-x",BM),Yr("element-highlight-by-color",OM),Yr("element-single-highlight",RM),Yr("element-range-highlight",kv),Yr("element-sibling-highlight",kv,{effectSiblings:!0,effectByRecord:!0}),Yr("element-selected",zM),Yr("element-single-selected",VM),Yr("element-range-selected",GM),Yr("element-link-by-color",CM),Yr("active-region",cM),Yr("list-active",jM),Yr("list-selected",$M),Yr("list-highlight",Ef),Yr("list-unchecked",JM),Yr("legend-item-highlight",Ef,{componentNames:["legend"]}),Yr("axis-label-highlight",Ef,{componentNames:["axis"]}),Yr("rect-mask",Fv),Yr("x-rect-mask",Nv,{dim:"x"}),Yr("y-rect-mask",Nv,{dim:"y"}),Yr("circle-mask",e2),Yr("path-mask",Gv),Yr("smooth-path-mask",o2),Yr("cursor",l2),Yr("data-filter",f2),Yr("brush",cl),Yr("brush-x",cl,{dims:["x"]}),Yr("brush-y",cl,{dims:["y"]}),Yr("sibling-filter",_f),Yr("sibling-x-filter",_f),Yr("sibling-y-filter",_f),Yr("element-filter",d2),Yr("element-sibling-filter",zv),Yr("element-sibling-filter-record",zv,{byRecord:!0}),Yr("view-drag",S2),Yr("view-move",E2),Yr("scale-translate",T2),Yr("scale-zoom",L2),Yr("reset-button",x2,{name:"reset-button",text:"reset"});function uo(i){return i.isInPlot()}Dn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Dn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Dn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Dn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Dn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Dn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Dn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Dn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Dn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Dn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Dn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Dn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Dn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:uo,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:uo,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:uo,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Dn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Dn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:uo,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:uo,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:uo,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Dn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:uo,action:"path-mask:start"},{trigger:"mousedown",isEnable:uo,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Dn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Dn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Dn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Dn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Dn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Dn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Wv(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}Dn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Wv(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Wv(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Dn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var jv={translate:Hu,rotate:Cc,zoom:lb,transform:Ks,getAngle:Bi,polarToCartesian:Pn},vl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),I2=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(vl),fo=typeof performance=="object"&&performance.now?performance:Date,O2=300,Uv=10,k2=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>Uv||n-this.touchStartY>Uv)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=fo.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},O2)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(vl),B2=100,D2=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(fo.now()-this.latestMoveTime<B2){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=fo.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=fo.now()},r}(vl),F2=300,Zv=2,R2=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<Zv&&n-this.touchStartY<Zv&&fo.now()-this.touchStartTime<F2&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=fo.now(),this.touchStartX=e,this.touchStartY=n},r}(vl),N2={Pan:I2,Press:k2,Swipe:D2,Tap:R2},G2=function(i){return N2[i]},Kv=function(i){(0,Ot.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=G2(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(te.default),Y2=d(68716),z2=Y2.yD,X2=800,V2="swipe",H2="pan",$v="wheel",W2=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){e.raf&&cancelAnimationFrame(e.raf);var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit($v,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=fo.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new Kv(t,{gestures:["Pan","Swipe"]}),e.gm.on(V2,e.onSwipe),e.gm.on(H2,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=fo.now(),s=(o-e.ms)/X2;if(s<1){s=z2(1-s);var l=o-e.rafMs,u=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,u,h);e.emit($v,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,Ot.__assign)((0,Ot.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(te.default),_n=d(29583),Qv=d(64815),j2=d(6750),CG=d(61058),U2=d(31882),ho=d(27978),MG=d(38700),Z2=d(88373),Lo=d(55225);yn("gesture",$.Z);var sa="origin",Ss="_origin",Jv=1e3,qv=60*Jv,td=60*qv,dl=24*td,K2=dl*7,$2=dl*30,Q2=dl*365,J2={second:{value:Jv,format:"HH:mm:ss"},miniute:{value:qv,format:"HH:mm"},hour:{value:td,format:"HH"},day:{value:dl,format:"YYYY-MM-DD"},week:{value:K2,format:"YYYY-MM-DD"},month:{value:$2,format:"YYYY-MM"},year:{value:Q2,format:"YYYY"}},pl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],q2=[],tE={axis:"axis-label",label:"label",legend:"legend-item"},eE={title:"title",description:"description",breadcrumb:"breadcrumb"},ed=(0,f.deepMix)(Pi(eE),Tf("Plot",pl)),rd=Tf("Layer",pl),bn=(0,f.deepMix)({},Pi(tE),Tf("View",pl),rE());function ci(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function Pi(i){var r={};return(0,f.each)(i,function(t,e){var n=(0,f.upperFirst)(e),a="on"+n,o=t+":";(0,f.each)(pl,function(s){var l=(0,f.upperFirst)(s),u=""+a+l,h=""+o+s;r[u]=h})}),r}function Tf(i,r){var t={},e="on";return(0,f.each)(r,function(n){var a=(0,f.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function rE(){var i={},r="on";return(0,f.each)(q2,function(t){var e=(0,f.upperFirst)(t),n=""+r+e;i[n]=t}),i}var nE=d(85800),iE=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(nE.BBox),on=iE,aE=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,f.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,f.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,f.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new on(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,f.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(rd);(0,f.each)(t,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=rd[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new on(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,u=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:u}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(te.default),gl=aE;function Wo(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function nd(i,r){var t=(0,Ot.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function oE(i){return i.getComponents().filter(function(r){return r.type===_n.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function sE(i){return i.getComponents().filter(function(r){return r.type===_n.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function EG(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function AG(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function lE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function id(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function _G(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var uE=function(){function i(r){this.position="top",this.destroyed=!1,(0,f.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return on.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,f.isArray)(e)&&(0,f.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new on(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,f.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,Ot.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",u=s.split(""),h=[],c=0;c<u.length;c++){var v=u[c];n.attr("text",l+=v);var g=n.getBBox().width-1;if(g>r){if(c===0)break;h.push(c),l=""}}return nd(u,h)});return n.remove(),o.join(`
`)},i}(),yl=uE,fE=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,Ot.__assign)((0,Ot.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(te.default),Cs=fE,hE=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,f.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,f.each)(this.geometry.elements,function(s,l){var u=[].concat(e.drawLabelItem(t,s,l));(0,f.each)(u,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,f.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,ho.getDefaultAnimateCfg)("label",this.coord):!1;(0,f.each)(a,function(s,l){var u=t.findById(l);if(u)if(n[l]){var h=n[l],c=(0,f.get)(o,"update");c&&(u.stopAnimate(),u.attr(h),(0,ho.doAnimate)(u,c,{toAttrs:(0,Ot.__assign)({},s),coordinate:e.coord}))}else{var v=(0,f.get)(o,"appear");v&&(u.stopAnimate(),(0,ho.doAnimate)(u,v,{toAttrs:(0,Ot.__assign)({},u.attr()),coordinate:e.coord}))}delete n[l]}),(0,f.each)(n,function(s,l){var u=(0,f.get)(o,"leave");if(u){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,ho.doAnimate)(h,u,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,Ot.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),u=this.getLabelOffset();return(0,f.map)(s,function(h,c){var v,g={x:h.x+u.x,y:h.y+u.y},C=(0,f.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,k=a.getLabelId(C);return a.drawLabelText(t,(0,Ot.__assign)((0,Ot.__assign)({},h),g),(v={id:k,name:"label",offset:l,element:e},v[sa]=C,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,f.isNumber)(e)?e:0,y:(0,f.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,f.isNumber)(a)&&(l.x+=a),(0,f.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new on(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(Cs),Pf=hE,ad={};function qi(i,r){ad[i]=r}function cE(i){return ad[i]}var Lf=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},If=function(){return function(i){return i}},od=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,f.isNil)(i)?r:t.toFixed(i)}},sd=function(i){return function(r){return(0,f.isNil)(i)?r:r+" "+i}};function Of(i,r,t){i[t]&&(r[t]=i[t])}var vE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,Ot.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,Of(this.localProps,this.config,"autoHideLabel"),Of(this.localProps,this.config,"autoRotateLabel"),Of(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,f.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,u=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,f.isFunction)(s)?this.config.grid=function(h,c,v){var g=s(h,c,v);return{line:{type:l,style:(0,f.deepMix)({},(0,f.get)(r.themeConfig,"grid.line.style"),g)},alternateColor:u}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:u},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,Ot.__rest)(r,["style"]),n=(0,Ot.__assign)({},e);t&&(n.style=(0,Ot.__assign)({},this.localProps.label.style)),n.style=(0,f.deepMix)({},(0,f.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,Ot.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,f.deepMix)({},(0,f.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,f.deepMix)({},(0,f.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=Lf(If(),od(r.precision),sd(r.suffix));return r.formatter&&(t=Lf(t,r.formatter)),t},i}(),dE=vE;function ml(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function kf(i,r){return i.x*r.y+i.y*r.x}function TG(i,r){var t=ml(i),e=ml(r),n=kf(i,r),a=Math.acos(n/t/e);return a}function PG(i,r){var t=ml(i),e=ml(r),n=kf(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function LG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,u=n*a-t*s,h=t*o-e*a;return{x:l,y:u,z:h}}function IG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function xl(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return zc.transformMat3(e,e,r),{x:e[0],y:e[1]}}function ld(i,r,t){return i>=r&&i<=t}var pE=.001;function OG(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,u=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>pE*u*h){var v=(n.x*o.y-n.y*o.x)/s,g=(n.x*a.y-n.y*a.x)/s;ld(v,0,1)&&ld(g,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function gE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;u&&(t=!t)}return t}function bl(i){return i*i}function wl(i,r){return Math.sqrt(bl(i.x-r.x)+bl(i.y-r.y))}function ud(i,r){return Math.sqrt(bl(i.x-r.x)+bl(i.y-r.y))}function fd(i,r,t){var e=wl(r,t);if(e===0)return wl(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=wl(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function hd(i,r){var t=Infinity;(0,f.each)(r,function(h){var c=Math.sqrt(wl(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=fd(i,{x:a,y:o},{x:s,y:l});t>u&&(t=u)}return t}function yE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=gE(n,r);if(a)return!0}return!1}function cd(i,r){if(yE(i,r))return 0;var t=Infinity,e=Infinity;return(0,f.each)(i,function(n){var a=hd(n,r);t>a&&(t=a)}),(0,f.each)(r,function(n){var a=hd(n,i);e>a&&(e=a)}),Math.min(t,e)}function mE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=xl({x:0,y:0},s);l.x+=t,l.y+=e;var u=xl({x:n,y:0},s);u.x+=t,u.y+=e;var h=xl({x:0,y:a},s);h.x+=t,h.y+=e;var c=xl({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,u,h,c];v.sort(function(ee,Ht){return ee.y-Ht.y});var g=v[0].y,C=v[v.length-1].y,k=[v[0],v[1]],D=[v[2],v[3]],G=k[0].x<k[1].x?k[0]:k[1],N=k[0].x<k[1].x?k[1]:k[0],q=D[0].x<D[1].x?D[0]:D[1],tt=D[0].x<D[1].x?D[1]:D[0];v.sort(function(ee,Ht){return ee.x-Ht.x});var bt=v[0].x,Nt=v[v.length-1].x,Zt={width:Nt-bt,height:C-g,left:bt,right:Nt,top:g,bottom:C,topLeft:G,topRight:N,bottomLeft:q,bottomRight:tt,centerX:bt+(Nt-bt)/2,centerY:g+(C-g)/2};return Zt}var xE=2;function Bf(i){return i.length<5?i:Df(i,xE)}function Df(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},u=fd(s,l.start,l.end);u>e&&(e=u,n=o)}if(e>r){var h=Df(i.slice(0,n+1),r),c=Df(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function vd(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function bE(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}function dd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function wE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var SE=function(){function i(r){(0,f.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,f.isEmpty)(n)||!(0,f.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,f.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,f.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),u=(1-l.scale(s))*100+"%",h=["0%",u],c=["100%",u];this.config=(0,f.mix)({start:h,end:c},o)}else{var v=this.cfg,g=v.start,C=v.end;this.config=(0,f.clone)(o);var k=this.getXScale(),D=this.getYScale(),G=(0,f.clone)(g),N=(0,f.clone)(C);(0,f.each)(g,function(q,tt){(!(0,f.contains)((0,f.toArray)(g[tt]),"%")||(0,f.isNumber)(g[tt]))&&(tt===0?G[tt]=k.scale(g[0])*100+"%":G[tt]=(1-D.scale(g[1]))*100+"%")}),(0,f.each)(C,function(q,tt){(!(0,f.contains)((0,f.toArray)(C[tt]),"%")||(0,f.isNumber)(C[tt]))&&(tt===0?N[tt]=k.scale(C[0])*100+"%":N[tt]=(1-D.scale(C[1]))*100+"%")}),this.config.start=G,this.config.end=N}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,Br.getScale)("linear"),n=new e((0,f.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,f.isString)(r[0])){var t=(0,Br.getScale)("cat"),e=new t((0,f.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,Br.getScale)("linear"),e=new t((0,f.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return vd(this.values);if(r==="mean")return bE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),CE=SE,ME=function(){function i(r){this.config={};var t=r.plot,e=(0,Ot.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,f.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,Ot.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,f.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,f.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,f.deepMix)({},(0,f.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,f.each)(e,function(a){(0,f.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,f.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return Lf(If(),od(t.precision),sd(t.suffix),t.formatter?t.formatter:If())(a,e,n)}},i}(),EE=ME,Io,Ff;function pd(i,r){Io||gd(i),(0,f.each)(Io,function(t){var e=yd(t,r),n=e.labelData,a=e.con;if(md(n,a)){var o=PE();t.shape.attr(o)}})}function AE(i,r){Io||gd(i),(0,f.each)(Io,function(t,e){var n=yd(t,r),a=n.labelData,o=n.con;if(md(a,o)){var s=Ff[e],l=TE(s);t.shape.attr(l)}})}function gd(i){var r;Io=[],Ff=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,f.each)(t,function(e){var n=e.component,a=[],o=_E(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,f.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),Ff.push(h.attr()))}),o){var l=o.ticks,u=o.field;(0,f.each)(a,function(h,c){h.value=l[c],h.scaleField=u,h.type=o.type})}Io.push.apply(Io,a)})}function _E(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function yd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,f.clone)(r);return i.type==="time"&&(0,f.isObject)(r)&&!(0,f.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function TE(i){var r=i.opacity||1;return{opacity:r*.2}}function PE(){return{opacity:1,fontWeight:600,fill:"red"}}function md(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,f.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var LE={active:pd,selected:pd,disable:AE},IE=function(i){(0,Ot.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,f.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(te.default),OE=IE;function Qa(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return(0,f.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var kE=function(){function i(r){this.shapeContainers=[],(0,f.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new OE},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,f.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,f.each)(this.shapes,function(o,s){var l=o.get("origin").data,u=(0,f.isArray)(l)?l[0]:l;if(Qa(u,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,f.isFunction)(h)?v=h(c):v=(0,f.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,f.each)(r,function(e){var n=e.state,a;(0,f.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?ci(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,f.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,f.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,f.each)(this.shapes,function(t){r.push((0,f.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,f.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,f.each)(t,function(a){if(n.plot[a]){var o=WE(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,f.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),BE=kE,jo,Sl;function xd(i,r){jo||bd(i),(0,f.each)(jo,function(t,e){var n=t.get("origin");if(Qa(n,r)){var a=Sl[e],o=(0,f.mix)({},a,{opacity:1});t.attr(o)}})}function DE(i,r){jo||bd(i),(0,f.each)(jo,function(t,e){var n=t.get("origin");if(Qa(n,r)){var a=Sl[e],o=FE(a);t.attr(o)}})}function bd(i){jo=[],Sl=[];var r=i.view.get("elements");(0,f.each)(r,function(t){var e=t.get("labels");e&&(0,f.each)(e,function(n){jo.push(n),Sl.push(n.attr())})})}function FE(i){var r=i.opacity||1;return{opacity:r*.2}}var RE={active:xd,selected:xd,disable:DE},NE=["xField","yField","angleField"];function wd(i,r){var t=i.options;if(YE(t,r)){var e=t.data;(0,f.each)(e,function(n){if(Qa(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){Sd(r,o,!1)}),i.view.showTooltip(a)}})}}function GE(i,r){i.view.on("tooltip:change",function(t){Sd(r,t,!0)})}function Sd(i,r,t){var e=!t,n=(0,f.clone)(r.items);r.items.splice(0),(0,f.each)(n,function(a){var o=a.point._origin;Qa(o,i)===e&&r.items.push(a)})}function YE(i,r){var t=zE(i);return!(0,f.isFunction)(r)&&t.indexOf(r.name)}function zE(i){var r=[];return(0,f.each)(NE,function(t){(0,f.has)(i,t)&&r.push(t)}),r}var XE={active:wd,selected:wd,disable:GE},VE={axis:dE,label:EE,guideLine:CE},HE={tooltip:XE,label:RE,axis:LE};function Ni(i,r){var t=VE[i];return new t(r).config}function WE(i,r){return HE[i][r]}var jE=["start","process","end","reset"],UE=function(){function i(r){var t=this.getDefaultCfg();(0,f.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,f.each)(jE,function(t){var e=r[t+"Event"],n=(0,f.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,f.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),Rf=UE,ZE=function(i){(0,Ot.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(Rf),Sa=ZE,Cd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,f.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,f.flatten)((0,f.map)(l,function(u){return s[u]||[]}))},ka;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(ka||(ka={}));var Cl=4,Md=8,KE=32,$E=20,QE=999,Ml=function(i){i===void 0&&(i={});var r=(0,Ot.__assign)({type:"horizontal",categorySize:KE,width:Md,height:Md,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Cl,0,Cl,0]:[0,Cl,0,Cl]),r},JE=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Ml(e),a=n.padding,o=a[0],s=a[1],l=a[2],u=a[3];return n.type==="horizontal"?new on(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new on(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,f.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(ka.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(ka.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Ml(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],u=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:u.x,y:u.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new ln.Scrollbar({container:this.container,x:u.x,y:u.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",QE),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Ml(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",u=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?u.width:u.height)/t.categorySize),this.trackLen=l?u.width-s-a:u.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,f.clamp)(this.step/h.values.length,0,1),$E)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,f.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Ml(this.getInteractionConfig()),l=this.getViewLayer(),u=l.options.meta,h=l.getData(),c=Cd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var g=(0,f.get)(u,v.field)||{};n.view.scale(v.field,(0,Ot.__assign)((0,Ot.__assign)({formatter:v.formatter},g),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(Sa),qE=JE,El=4,Ed=16,Nf=function(i){i===void 0&&(i={});var r=(0,Ot.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[El,0,El,0]:[0,El,0,El]),i.height||(r.height=Ed),i.width||(r.width=Ed);var t=(0,f.clamp)(Math.min(r.start,r.end),0,1),e=(0,f.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},tA=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Nf(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],u=a[3];if(n.type==="horizontal"){var h=new on(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new on(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=Nf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,f.isEqual)(s,[0,0,0,1]))&&!(0,f.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new ln.Slider((0,Ot.__assign)((0,Ot.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=Nf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,u=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,g=o.trendCfg,C=g===void 0?{}:g,k=l[0],D=l[1],G=l[2],N=l[3],q=this.getSliderMinMaxText(this.curStart,this.curEnd),tt=q.minText,bt=q.maxText,Nt={x:e.minX+N,y:n.minY+k,width:e.width-N-D,height:n.height-k-G,start:this.curStart,end:this.curEnd,minText:tt,maxText:bt,backgroundStyle:u,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,Ot.__assign)((0,Ot.__assign)({isArea:!1,smooth:!1},C),{data:this.getSliderTrendData()})};return Nt},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,f.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,f.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Cd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,f.size)(o),u=Math.round(t*l),h=Math.max(u+1,Math.round(e*l)),c=o.slice(u,h);return{minText:c.length>0?(0,f.head)(c)[s]:"",maxText:c.length>0?(0,f.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,f.clamp)(Math.min(t[0],t[1]),0,1),a=(0,f.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,u=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:u}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(Sa),eA=tA,rA=function(i){(0,Ot.__extends)(r,i);function r(t){return i.call(this,(0,f.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(Cs),nA=rA,Ad="timelinestart",iA="timelinechange",_d="timelineend",aA="timelineupdate",oA=20,sA=20,lA=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,(0,f.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,f.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(_d,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Ad,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,f.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(aA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new nA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,u=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+oA,this.timeLine.y=u+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-sA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,g){e.tickPosList.push(e.timeLine.x+g*h);var C=t.addShape("text",{attrs:{x:e.timeLine.x+g*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),k=C.getBBox();return k.minX>c?(C.show(),c=k.minX+k.width+10):C.hide(),C})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,f.findIndex)(a,function(v){return v===e}),u=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",u),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:u,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",u),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:u,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(iA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,f.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Ad,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(_d,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(Cs),uA=lA,fA=40;function Td(i){return(0,Ot.__assign)({loop:!1,auto:!0,height:fA,padding:[0,20,0,0],speed:2},i)}var hA=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Td(e),a=n.padding[0],o=n.padding[2];return new on(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=Td(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],u=o[1],h=o[2],c=o[3],v=this.getRange(),g=this.getTicks(),C=e.width-c-u,k={x:e.minX+c,y:v.tl.y+l,width:C,height:v.height-l-h,loop:a,ticks:g,speed:s,defaultCurrentTick:g[0]};this.timeline?(0,f.isEqual)(k,this.timeLineConfig)||(this.timeLineConfig=k,this.timeline.update(k)):(this.container=this.canvas.addGroup(),this.timeline=new uA((0,Ot.__assign)({container:this.container},k)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(g[0])),this.timeLineConfig=k)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,f.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(_n.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(_n.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(Sa),cA=hA;function vA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=On.transform(t,r);i.setMatrix(e)}function Uo(i,r){var t=r?(0,f.clone)(r):[1,0,0,0,1,0,0,0,1];return On.transform(t,i)}function Pd(i,r,t,e){var n=e?(0,f.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function dA(i,r,t){jv.translate(i,r,t)}function kG(i,r){Util.rotate(i,r)}var pA=document.createElement("canvas"),Ld=pA.getContext("2d"),Al=(0,f.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return Ld.font=[a,o,n,t+"px",e].join(" "),Ld.measureText((0,f.isString)(i)?i:"").width},function(i,r){return r?(0,Ot.__spreadArrays)([i],(0,f.values)(r)).join(""):i}),Id=function(i,r,t){var e=16,n=Al("...",t),a;(0,f.isString)(i)?a=i:a=(0,f.toString)(i);var o=r,s=[],l,u;if(Al(i,t)<=r)return i;for(;l=a.substr(0,e),u=Al(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),u=Al(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},ri;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(ri||(ri={}));var _l;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(_l||(_l={}));var co;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(co||(co={}));var gA=160,yA=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=xA(e.target,function(o){return o.get("name")===ri.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),u=(0,f.clamp)(t.offsetX+o,s,l);u!==t.offsetX&&(dA(t.bodyGroup,t.offsetX-u,0),t.offsetX=u)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:co.NORMAL,style:{}},line:{spacingX:co.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:co.SMALL,style:{}},itemName:{spacingX:co.NORMAL,spacingY:co.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:co.LARGE};this.config=(0,f.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],u=t.addGroup({name:ri.TOOLTIP_INDICATOR_INNER});this.renderTitle(u),this.bodyGroup=u.addGroup({name:ri.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(u),Pd(u,o,s),this.applyClip(t),this.bindEvents(u)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:ri.TOOLTIP_INDICATOR_TITLE,attrs:(0,Ot.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:ri.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,u=o.addShape({name:ri.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,Ot.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,u.attr({width:this.curX-s-u.attr("lineWidth")*2,height:this.curY-l-u.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,Ot.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:ri.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=Id(e.title,gA,n.style||{}),o=t.addShape({name:ri.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,Ot.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:ri.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,u){var h=o.addGroup({name:ri.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:u}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:ri.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,Ot.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:ri.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,Ot.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(ri.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return on.fromBBoxObject(l.getBBox())}),a=t.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return on.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,u){var h=n[u],c=l.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var g=on.fromBBoxObject(c.getBBox()),C=on.fromBBoxObject(v.getBBox());g.height<h.height&&c.attr("y",c.attr("y")+(h.height-g.height)/2),C.height<h.height&&v.attr("y",v.attr("y")+(h.height-C.height)/2),C.maxX<s&&v.attr("x",v.attr("x")+s-C.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(_l.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,u=t.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(ri.TOOLTIP_INDICATOR_ITEM_VALUE),g=e&&e+"Style";u&&(u.attr(a.style),u.attr(a[g]||{})),h&&(h.attr(o.style),h.attr(o[g]||{})),c.forEach(function(C){C.attr(s.style),C.attr(s[g]||{})}),v.forEach(function(C){C.attr(l.style),C.attr(l[g]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(ri.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new Kv(n),this.wheel=new W2(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(Cs),mA=yA;function xA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function bA(i,r){return(0,f.filter)(i.geometries,function(t){return t.type===r})}function vo(i,r){return(0,f.head)(bA(i,r))}function wA(i){return(0,f.map)(i.elements,function(r){return r.shape})}function BG(i,r){i.geometries.forEach(r)}function Gf(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function SA(i,r,t){return(0,f.some)(r,function(e){return t(e.get(sa),i.get(sa))})}function Tl(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function Yf(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function Pl(i,r){var t=i.getBBox();return(0,f.some)(r,function(e){var n=e.getBBox();return Yf(t,n,2)>0})}var Od=8,kd=function(i){i===void 0&&(i={});var r=(0,Ot.__assign)({showTotal:!1,showPercent:!1,padding:[Od,24,Od,24],height:i.showPercent?72:54},i);return r},Zo;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Zo||(Zo={}));var CA=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=U2.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;Gf(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(Zo.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];Gf(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(Zo.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;Gf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(gn);Yr("tooltip-indicator",CA),Dn("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var MA=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,u=n.getData(),h=u[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(u[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=kd(e),a=n.padding,o=a[0],s=a[2];return new on(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,f.last)(a.getTicks()).tickValue,s=t.view.padding;(0,f.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(_l.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(Zo.ACTIVE_ELEMENT,this.onElementActive),e.on(Zo.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=kd(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),u=this.view.getXScale(),h=(0,f.last)(u.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new mA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,f.last)(o.getTicks()).tickValue,u=e.getLegendAttributes(),h=u.find(function(k){return k.type==="color"}),c=[],v=e.getGroupScales()[0],g=v.field;v&&v.isCategory&&v.getTicks().forEach(function(k){var D=k.text,G=k.tickValue,N=h.mapping(G).join("")||a;c.push({id:G,title:D,color:N,values:[]})});var C=(n==null?void 0:n.filter(function(k){return k[o.field]===l}))||[];return c.forEach(function(k){var D=C.find(function(G){return G[g]===k.id});k.values.push({value:s.formatter?s.formatter(D[s.field]):D[s.field]})}),c},r}(Sa),EA=MA;Sa.registerInteraction("slider",eA),Sa.registerInteraction("scrollbar",qE),Sa.registerInteraction("timeline",cA),Sa.registerInteraction("tooltip-indicator",EA);var Bd=Sa,AA=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,f.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,f.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new on(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,f.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,u=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),u>r&&u<=t&&o==="left"&&(r=u),l>=r&&u<=t&&o==="right"&&(t=l)}}),new on(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,u=this.plot.config.theme.bleeding;(0,f.isArray)(u)&&(0,f.each)(u,function(k,D){typeof u[D]=="function"&&(u[D]=u[D](t))}),this.bleeding=(0,f.clone)(u);var h=[new on(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,f.each)(v,function(k){var D=k,G=D.getBBox();h.push(G)}),c=this._mergeBBox(h);var g=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],C=this._getPanel(e);return g[0]+=C[0],g[1]+=C[1],g[2]+=C[2],g[3]+=C[3],g},i.prototype._getCartesianAxis=function(r,t,e){var n=oE(r),a=r.getCoordinate().isTransposed;(0,f.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),u=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new on(t.minX-c,h,c,v)):s==="left"?e.push(new on(u,t.maxY,c,v)):s==="top"&&e.push(new on(t.maxX,h,c,v)):s==="left"?e.push(new on(t.minX-c,h,c,v)):s==="bottom"?e.push(new on(u,t.maxY,c,v)):s==="right"&&e.push(new on(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=sE(r);(0,f.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,u=s.minY,h=s.width,c=s.height;o==="top"?e.push(new on(l,t.minY-c,h,c)):o==="bottom"?e.push(new on(l,t.maxY,h,c)):o==="left"?e.push(new on(t.minX-h,u,h,c)):e.push(new on(t.maxX,u,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,f.each)(e,function(C){C.labelsContainer&&t.push(C.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,f.each)(t,function(C){var k=C.get("children");k.forEach(function(D){if(!(D.type==="group"&&D.get("children").length===0)){var G=D.getBBox();G.minX<n&&(n=G.minX),G.maxX>a&&(a=G.maxX),G.minY<o&&(o=G.minY),G.maxY>s&&(s=G.maxY)}})});var l=r.coordinateBBox,u=Math.max(a-parseFloat(l.maxX),0);if(u>0){var h=l.width/(l.width+u);u*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var g=Math.max(s-parseFloat(l.maxY),0);if(g>0){var h=l.height/(l.height+g);g*=h}return[v,u,g,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,f.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),_A=AA,TA="#5B8FF9",PA=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],LA=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Dd=function(i){return i&&i.split("-")[0]==="top"?12:24},Fd=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},Rd=function(i){return(0,f.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},Nd={width:400,height:400,bleeding:[Fd,24,Rd,24],padding:"auto",defaultColor:TA,colors:PA,colors_20:LA,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Dd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},IA={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Fd,24,Rd,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Dd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},Gd={default:Nd,dark:IA};function DG(i,r){var t=Vi();Gd[i.toLowerCase()]=deepMix({},t,r)}function Vi(i){i===void 0&&(i="default");var r=Gd[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),Nd)}var Yd={};function zd(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,f.each)(r,function(a,o){var s;if((0,f.has)(t,o)){var l=t[o];(0,f.each)(a,function(u,h){(0,f.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",u)})}else e=(0,f.deepMix)({},e,(s={},s[o]=a,s))}),(0,f.isEmpty)(n)||(e=(0,f.deepMix)({},e,{geometries:n})),e}function ta(i,r){Yd[i.toLowerCase()]=zd(i,r)}function Xd(i){return Yd[i.toLowerCase()]||{}}function OA(i){var r=(0,f.clone)(i);return r.legend||(r.legend={}),r}var zf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Vd={default:zf};function Hd(i,r){Vd[i.toLowerCase()]=(0,f.deepMix)({},zf,r)}function Wd(i){var r=Vd[i.toLowerCase()];return r||zf}var kA=St(),BA=function(){function i(){}return i.getGlobalTheme=function(r){return(0,f.isString)(r)?Vi(r):(0,f.deepMix)({},Vi(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,f.isString)(e)?(0,f.deepMix)({},Vi(e),Xd(t)):(0,f.deepMix)({},Vi(),Xd(t),zd(t,e))},i.prototype.getTheme=function(r,t){var e=OA(this.getPlotTheme(r,t)),n=(0,f.deepMix)({},kA,e);return n},i.prototype.getResponsiveTheme=function(r){return Wd(r)||Wd("default")},i}(),Xf=BA,DA=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},e.options),e.paddingController=new _A({plot:e}),e.stateController=new BE({plot:e}),e.themeController=new Xf,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,f.reduce)((0,f.flatten)((0,f.map)([n,a,(0,f.hasKey)(t,"interactions")?t:e],function(s){return(0,f.get)(s,"interactions",[])})),function(s,l){var u=(0,f.findIndex)(s,function(h){return h.type===l.type});return u>=0&&s.splice(u,1),(0,Ot.__spreadArrays)(s,[l])},[]);return(0,f.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(ka.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new Gu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(ka.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(ka.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,f.isEmpty)(t)||this.view.render(),this.emit(ka.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,f.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,f.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(ka.BEFORE_CHANGE_DATA);var e=(0,f.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(ka.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,f.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,f.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=Ni("axis",{plot:this,dim:"x"}),e=Ni("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,f.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,f.deepMix)({},n)),(0,f.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,f.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,f.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,f.get)(e,"position")),offsetX:(0,f.get)(e,"offsetX"),offsetY:(0,f.get)(e,"offsetY"),flipPage:(0,f.get)(e,"flipPage"),marker:(0,f.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,f.get)(e,"title"):null,itemName:(0,f.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,f.each)(this.options.guideLine,function(n){var a=Ni("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,f.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,f.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=on.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new on(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,_n.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var u=Bd.getInteraction(l.type,t.type);if(u){var h=new u({view:t.view},t,u.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,f.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:bn;(0,f.each)(n.events,function(o,s){if((0,f.isFunction)(o)){var l=a[s]||s,u=o;ci(e,l,u)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Wo(t.title)){var n=this.width,a=this.config.theme,o=new yl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Wo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Wo(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new yl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,f.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=cE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,f.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=Bd.getInteraction(s.type,t.type),u=l&&l.getInteractionRange(a,s.cfg),h="";u&&(u.maxY===a.maxY&&u.minY>a.minY?h="bottom":u.maxX===a.maxX&&u.minX>a.minX?h="right":u.minX===a.minX&&u.maxX>a.maxX?h="left":u.minY===a.minY&&u.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return u},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,f.hasKey)(t,"max")||(0,f.hasKey)(t,"min")||(0,f.hasKey)(t,"maxLimit")||(0,f.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},u={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),u.x=t.maxX/(n+o),u.y=t.maxY/(a+s),{start:l,end:u}},r}(gl),ni=DA,FA=d(91033),RA=function(){function i(r){var t=this;this.onResize=(0,f.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=Vi(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=Xf.getGlobalTheme(r),e=(0,f.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,Lt.Z)(this.getCanvasDOM(),r),(0,Lt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new FA.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,u=s.height,h=e==="canvas"?$c:av;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:u,pixelRatio:n}),this.width=l,this.height=u,this.updateCanvasTheme()},i}(),NA=RA;function GA(i,r){return!!(i&&r&&i===r)}function YA(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var zA=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,f.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,f.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,f.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!GA(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,f.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,f.each)(r,function(a){var o=a.getGlobalBBox();if(YA({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),XA=zA,jd={};function vn(i,r){jd[i.toLowerCase()]=r}function VA(i){return jd[i.toLowerCase()]}var HA=function(i){(0,Ot.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,f.isNil)(e.forceFit)?(0,f.isNil)(e.width)&&(0,f.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new NA({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new XA({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof ni&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof gl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof ni&&a.changeData(t)});else{var n=this.layers[0];n instanceof ni&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof ni&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof ni&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof ni&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof ni&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof ni&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=VA(t.type),n=(0,f.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(ed);t.events&&(0,f.each)(t.events,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=ed[o]||o,l=a;e.on(s,l)}})},r}(te.default),rn=HA,WA=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),Ms=WA,jA=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,f.has)(t,"color")){var a=t.color;(0,f.isString)(a)?e.values=[a]:(0,f.isFunction)(a)?e.callback=a:(0,f.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Ms),Ud=jA;function UA(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function Zd(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function Vf(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function ZA(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convertPoint(s),C=Zd(t,g);if(C>=.5)if(h===Math.PI*2){var k={x:(s.x+o.x)/2,y:(s.y+o.y)/2},D=t.convertPoint(k);l.push(["A",C,C,0,v,c,D.x,D.y]),l.push(["A",C,C,0,v,c,g.x,g.y])}else l.push(["A",C,C,0,v,c,g.x,g.y]);return l}function KA(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var $A=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=Ce.min([0,0],l,v),u=Ce.max([0,0],u,v)}l=Ce.min([0,0],l,e[0]),u=Ce.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var C=[0,0];C=Ce.sub(C,o,a),C=Ce.scale(C,C,r);var k=Ce.distance(v,a),D=Ce.distance(v,o),G=k+D;G!==0&&(k/=G,D/=G);var N=Ce.scale([0,0],C,-k),q=Ce.scale([0,0],C,D),tt=Ce.add([0,0],v,N),bt=Ce.add([0,0],v,q);s&&(tt=Ce.max([0,0],tt,l),tt=Ce.min([0,0],tt,u),bt=Ce.max([0,0],bt,l),bt=Ce.min([0,0],bt,u)),n.push(tt),n.push(bt)}return t&&n.push(n.shift()),n};function QA(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=$A(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function JA(i,r){return UA(i,r)}function Hf(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return JA(i,r);(0,f.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=QA(e,r,o);return s.unshift(["M",n.x,n.y]),s}function FG(i,r){return Zd(i,r)}function RG(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function NG(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Vf(e,i));break;case"z":default:t.push(e);break}}),t}function GG(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(Vf(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(ZA(e,n,i)):t.push(Vf(s,i));break;case"z":default:t.push(s);break}}),KA(t),t}Mn("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Kd(i,this,!1),n=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:Qd(i.color||Vi().defaultColor),opacity:t||.4},style:n});return a}}),Mn("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Kd(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:Qd(i.color||Vi().defaultColor),opacity:t||.5}});return n}});function Kd(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,f.each)(i.points,function(u){n.push(u[1]),a.push(u[0])}),a=r.parsePoints(a.reverse()),n=Bf(r.parsePoints(n));var o=t?Hf(n,!1,e):$d(n),s=$d(a);s[0][0]="L";var l=o.concat(s);return l}function $d(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function Qd(i){return"l(90) 0:"+i+" 1:#ffffff"}var qA=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(Ud),t_=qA,e_={main:Ud,mini:t_},Jd=["colorField","stackField","groupField"],r_=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,f.isString)(t.color)?n.values=[t.color]:(0,f.isFunction)(t.color)?n.callback=t.color:(0,f.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,f.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,f.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,f.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=Jd;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=Jd;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(Ms),n_=r_,i_={main:n_},a_=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,f.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,f.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,f.has)(t,"color")){var n=t.color;(0,f.isString)(n)?e.values=[n]:(0,f.isFunction)(n)?e.callback=n:(0,f.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,f.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(Ms),Wf=a_,o_=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,f.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Wf),s_=o_;Mn("line","miniLine",{draw:function(i,r){for(var t=Bf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,f.mix)({path:e,stroke:i.color||Vi().defaultColor,lineWidth:i.size||2},s)});return l}}),Mn("line","miniLineSmooth",{draw:function(i,r){var t=Bf(i.points),e=[[0,0],[1,1]],n=Hf(t,!1,e),a=r.addShape("path",{attrs:(0,f.mix)({path:n,stroke:i.color||Vi().defaultColor,lineWidth:i.size||2},i.style)});return a}});var l_=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(Wf),u_=l_,f_={main:Wf,guide:s_,mini:u_},h_=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,f.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,f.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,f.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,f.isFunction)(e)?(s?n.fields=(0,f.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,f.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(e.values=t.color)},r}(Ms),c_=h_;function v_(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[i];t.push(n)}),(0,f.uniq)(t)}var d_=["seriesField","stackField"],p_=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,f.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,f.isString)(t)?e.values=[t]:(0,f.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,f.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=v_(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,f.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=d_;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r}(Ms),g_=p_,y_={guide:g_,circle:c_},m_={area:e_,line:f_,point:y_,interval:i_};function li(i,r,t){var e=m_[i][r];return new e(t).config}function x_(i){var r=J2,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function wi(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=x_(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function b_(i,r){var t=(0,f.filter)(r,function(a){return(0,f.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,f.isNil)(i.min)&&(i.min=0):n<0&&(0,f.isNil)(i.max)&&(i.max=0)}var jf;function w_(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,f.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[jf.options.yField],u=(0,f.clone)(i.get("origin"));S_(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,g=null,C=jf.options.seriesField;C&&(g=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:u.data[0][C],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var k=g?16:0,D=c.addShape("text",{attrs:{x:o.start.x+v,y:k,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),D.animate({opacity:0},300,function(){D.remove(),(0,f.isNil)(g)||g.remove();var q=n.labelsContainer;q.get("visible")||q.set("visible",!0)}))};var G=e.delay;(0,f.isFunction)(G)&&(G=e.delay(a));var N=e.easing;(0,f.isFunction)(N)&&(N=e.easing(a)),h.animate({width:o.getWidth()},e.duration,N,e.callback,G),e.onFrame=function(q){var tt=qd(q,u,o);if(!!tt){D.attr("x",tt[0]+v),D.attr("y",tt[1]+k);var bt=C_(l,tt[1],o);l.formatter&&(bt=l.formatter(bt)),D.attr("text",bt)}},D.animate(e.onFrame,{duration:e.duration,easing:N,callback:e.callback,delay:G}),g&&g.animate({onFrame:function(q){var tt=qd(q,u,o);!tt||(g.attr("x",tt[0]+v),g.attr("y",tt[1]))}},e.duration,N,e.callback,G)}function S_(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function qd(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),u=o.y+l*(n-o.x);return[n,u]}}}function C_(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function M_(i){jf=i}di("clipingWithData",w_);var E_=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,f.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,f.deepMix)({},mE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,f.each)(this.shapes,function(n,a){var o=(0,f.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,f.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),tp=E_;function A_(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var __={type:"padding",usage:"assign",expression:A_};function T_(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=cd(t,e);return Math.round(n)>=2}var P_={type:"group",usage:"compare",expression:T_};function L_(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=cd(e,n);return Math.round(a)>=t.value}var I_={type:"chain",usage:"compare",expression:L_};function O_(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var k_={type:"chain",usage:"compare",expression:O_};function B_(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var D_={type:"padding",usage:"compare",expression:B_};function F_(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var R_={type:"padding",usage:"assign",expression:F_};function N_(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var G_={type:"padding",usage:"assign",expression:N_},ep={elementDist:I_,elementDistVertical:k_,elementCollision:P_,elementWidth:D_,columnWidth:__,ringThickness:G_,minRingThickness:R_};function YG(i,r){ep[i]=r}function Ko(i){i.attr("text","")}function Y_(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],u=l.shape;if(s!==t&&!u.get("blank")){var h=rp(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,f.each)(o,function(c,v){if(v>0){var g=c.shape;Ko(g),g.set("blank",!0)}}))}function rp(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var po=d(19432),z_=1e3,np=60*z_,Uf=60*np,Ll=24*Uf,ip=31*Ll,ap=365*Ll;function op(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),u=n[0].shape.get("delegateObject").item.name,h=new Date(u),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),g=sp(h,v),C=sp(l,o);if(g===C){if(t!==0&&t!==n.length-1){var k=H_(g);i.attr("text",po.default.format(l,k))}return}if(t!==0){var D=n[t-1].shape.get("delegateObject").item.name,G=new Date(D),N=X_(g,l,G);if(N){var k=V_(g,C);i.attr("text",po.default.format(l,k));return}}}function X_(i,r,t){var e=lp(r,i),n=lp(t,i);return e===n}function sp(i,r){var t,e=Math.abs(i-r),n={minute:[np,Uf],hour:[Uf,Ll],day:[Ll,ip],month:[ip,ap],year:[ap,Infinity]};return(0,f.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function V_(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function H_(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function lp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function W_(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var up={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function fp(i,r,t,e){if(!(!(0,f.has)(e,"node")||!(0,f.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=hp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var u=U_(n),h=vd(u),l=j_(h),c=up[l].number,v=Z_(n),g=K_(v,c),s=hp({unit:l,decimal:g},a).num;i.attr("text",s+l)}}}}function hp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=up[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function j_(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function U_(i){var r=[];return(0,f.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function Z_(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function K_(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function $_(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=Q_(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function Q_(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=kf(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=J_(l);var u=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:u,distY:h}}function J_(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function q_(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(rp(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,u=10;if(l-u>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),g=tT(c,v).get("box"),C=g.left+g.width/2,k=g.top,D=s.get("labelController").labelsContainer,G=D.addShape("path",{attrs:{path:[["M",C,k],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),N={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-u),n[t]=e.nodes.measure(a.shape),n[t].line=G,n[t].origin_position=N}}}}function tT(i,r){var t;return(0,f.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function eT(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!cp(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&Ko(i)}}function cp(i,r,t){var e=[];(0,f.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,f.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function rT(i,r,t,e){var n=e.nodes.nodes;if(!cp(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&Ko(i)}}function nT(i,r,t,e){var n=e.nodes.nodes,a=aT(n);if(!(t<=1)){var o=n[t],s=iT(t,n),l=s.centerX-o.centerX,u=s.centerY-o.centerY,h=Math.sqrt(l*l+u*u);h<a&&(Ko(i),i.set("blank",!0))}}function iT(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function aT(i){var r=(0,f.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function oT(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,f.get)(s,["label","fields",0],(0,f.get)(s,["position","fields",1])),u=sT(o,l,n),h=!1;if((0,f.each)(u,function(C){C.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,g=c.y;i.attr("x",v),i.attr("y",g)}}else Ko(i)}function sT(i,r,t){var e=[];(0,f.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=Zf(t,r,n),o=e[e.length-1],s=Zf(t,r,o),l=lT(e),u=Zf(t,r,l);return{min:a,max:s,median:u}}function lT(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function Zf(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function vp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function uT(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?fp(i,r,t,n):W_(a)?op(i,r,t,n):vp(i,r)}function fT(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function hT(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var dp={textWrapper:hT,textRotation:fT,textAbbreviate:vp,textHide:Ko,digitsAbbreviate:fp,datetimeStringAbbrevaite:op,robustAbbrevaite:uT,nodesResampling:eT,nodesResamplingByAbbrevate:rT,nodesResamplingByChange:nT,nodesResamplingByState:oT,nodeJitter:$_,nodeJitterUpward:q_,clearOverlapping:Y_};function zG(i,r){dp[i]=r}var cT=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,f.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=ep[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=dp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),pp=cT,vT=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),gp=vT,dT={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},pT=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new tp({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,u=s.rules;new pp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:u,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return dT[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,f.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(gp),go=pT;function gT(i){var r=i.getResponsiveTheme(),t=i.canvas;new go({plot:i,responsiveTheme:r,dim:"x"}),new go({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var yT=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,f.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new tp({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new pp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(gp),yp=yT,mT=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","type"],"point")},r}(yp);function xT(i){var r=i.getResponsiveTheme();new mT({plot:i,responsiveTheme:r})}var bT=[],wT=[{name:"responsiveAxis",method:gT},{name:"responsivePointLabel",method:xT}],ST={preRender:bT,afterRender:wT},mp=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Ot.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,f.get)(t,"model.mappingData",[]);return(0,f.map)(l,function(u,h){var c,v=n.getValue(u);return(0,Ot.__assign)((0,Ot.__assign)((0,Ot.__assign)({},n.getPosition(u)),{text:s?s(v,(c={},c[Ss]=u._origin,c.mappingDatum=u,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,f.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,f.isArray)(t.x)?(0,f.last)(t.x):t.x,y:(0,f.isArray)(t.y)?(0,f.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,f.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,f.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),u=l.x-s.x,h=l.y-s.y,c=Math.sqrt(u*u+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=id(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(u,h){return h.minY-u.minY}),(0,f.each)(a,function(u,h){h>0&&u.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=id(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(Pf),xp=mp;qi("point",mp);var bp=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=on.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),u=l[0],h=l[1],c=(0,f.groupBy)(e,function(g){return g.get(sa)[_n.FIELD_ORIGIN][u]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,f.each)((0,f.keys)(c).reverse(),function(g){for(var C=n.sortLabels(t,c[g]);C.length;){var k=C.shift();if(SA(k,o,function(N,q){return N._origin[u]===q._origin[u]&&N._origin[h]===q._origin[h]})){k.set("visible",!1);continue}Tl(k,s);var D=Pl(k,o),G=void 0;if(D&&(k.attr("y",k.attr("y")+2*v),Tl(k,s),G=Pl(k,o)),G){k.set("visible",!1);continue}o.push(k)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(sa)[_n.FIELD_ORIGIN][n]-o.get(sa)[_n.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(xp),CT=bp;qi("point-auto",bp);var MT=8,ET=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(n.name):n.name;r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return delete t.fill,{offsetX:MT,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),wp=ET,AT={line:"line",point:"point"},_T=Pi(AT);(0,f.assign)(bn,_T);var TT={stroke:"transparent",fill:"#FCC509",lineWidth:0},PT={stroke:"#FFF",fill:"#FCC509",lineWidth:1},LT={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},IT=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:TT,selected:LT,active:PT},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,f.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,f.each)(this.config.data,function(e,n){(0,f.each)(r,function(a){var o=(0,f.find)(a,function(G){return(0,f.isMatch)(G._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),u=o.x,h=o.y;(0,f.isArray)(u)&&(u=u[0]),(0,f.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,g=v.offsetX,C=v.offsetY,k=void 0;if((0,f.isString)(c)&&c.startsWith("image://")){var D=c.substr(8);k=l.addShape("image",{attrs:{x:u-t.size/2+g,y:h-t.size/2+C,img:D,width:t.size,height:t.size}})}else c=(0,f.isString)(c)?j2.MarkerSymbols[c]:c,k=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,Ot.__assign)((0,Ot.__assign)({x:u+g,y:h+C,r:t.size/2},s),{symbol:c})});t.points.push(k),t._animatePoint(k),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,u=n.formatter,h=n.position,c=n.field,v=t._origin[c];u&&(v=u(v,{_origin:t._origin},e));var g=(0,f.isArray)(t.x)?t.x[0]:t.x,C=(0,f.isArray)(t.y)?t.y[0]:t.y,k=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,Ot.__assign)((0,Ot.__assign)({x:g+o,y:C+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(k)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,f.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),u=s.get("id"),h={id:u,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===u?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,f.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,u=l===void 0?ho.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,Ot.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),u)}},i}(),OT=IT,kT=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},BT=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},DT=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};ta("line",{lineStyle:{normal:{},active:kT,disable:BT,selected:DT},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var FT={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};Hd("line",FT);var RT=function(i){(0,Ot.__extends)(r,i);function r(t){return i.call(this,(0,Ot.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",!1)})})},r}(Rf),NT=RT,GT=function(i){(0,Ot.__extends)(r,i);function r(t){return i.call(this,(0,Ot.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(Rf),YT=GT,zT=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}(Qv.Z);yn("selected-tooltip",zT);var XT=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,f.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,f.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(gn),VT=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Ot.__assign)((0,Ot.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}(Qv.Z);yn("tooltip-active",VT);var HT=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,f.filter)(t.geometries,function(a){return a.type=="point"});(0,f.each)(n,function(a){(0,f.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,f.filter)(e.geometries,function(s){return s.type=="point"});(0,f.each)(o,function(s){(0,f.each)(s.elements,function(l){l.setState("active",(0,f.findIndex)(a,function(u){return u.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(gn),WT=HT;Yr("selected-tooltip",XT),Dn("selected-tooltip",{start:[{trigger:_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Yr("marker-active",WT),Dn("marker-active",{start:[{trigger:_n.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var jT={line:"line",point:"point"},Sp=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,f.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new OT((0,Ot.__assign)((0,Ot.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return jT[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&wi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&wi(e[t.yField],t.yAxis),this.setConfig("scales",e),b_(e[t.yField],(0,f.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,f.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=li("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,f.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=li("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=vo(this.view,"line");if(n.type==="line"){var l=new wp((0,Ot.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,Ot.__assign)({type:"point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(M_({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new NT({view:this.view})),this.interactions.push(new YT({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,_)},r.prototype.applyResponsive=function(t){var e=this,n=ST[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(ni),Es=Sp;vn("line",Sp);var UT=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Es.getDefaultOptions,r}(rn),Cp=UT;function ZT(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=r;(0,f.each)(o,function(h){h.y0=t,h.y1=n,h.x0=u,u+=h.value*l,h.x1=h.x0+h.value*l})}function KT(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=t;(0,f.each)(o,function(h){h.x0=r,h.x1=e,h.y0=u,u+=h.value*l,h.y1=h.y0+h.value*l})}var $T=(1+Math.sqrt(5))/2;function Mp(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(Zt,ee){return ee.value-Zt.value});for(var s=[],l,u,h,c,v,g,C,k,D=0,G=0;D<a.length;){var N=e-r,q=n-t;for(l=a[G++].value,u=l,h=l,c=Math.max(q/N,N/q)/(o*$T),v=l*l*c,C=Math.max(u/v,v/h);G<a.length;G++){if(k=a[G].value,l+=k,k<h&&(h=k),k>u&&(u=k),v=l*l*c,g=Math.max(u/v,v/h),g>C){l-=k;break}C=g}var tt={value:l,dice:N<q,children:a.slice(D,G)};if(s.push(tt),tt.dice){var bt=o?q*l/o:q;ZT(tt,r,t,e,t+bt),o&&(t+=bt)}else{var Nt=o?N*l/o:N;KT(tt,r,t,r+Nt,n),o&&(r+=Nt)}o-=l,D=G}return s}var QT=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,Ot.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,Ot.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,Ot.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,Ot.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,Ot.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),Pd(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],u=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,Ot.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(g,C){var k=t.addGroup({id:"item-group-"+g.key,data:g,class:"item-group",attrs:{cursor:"pointer"}}),D=k.addShape("rect",{id:"item-background-"+g.key,class:"item-background",attrs:(0,Ot.__assign)((0,Ot.__assign)({x:e,y:n,width:h+l,height:s+u},a.itemBackgroundStyle),{cursor:"pointer"})});D.name="breadcrumb";var G=k.addShape("text",{id:"item-text-"+g.key,class:"item-text",attrs:(0,Ot.__assign)((0,Ot.__assign)({x:e+h,y:n+s,text:g.text},a.textStyle),{cursor:"pointer"})});G.name="breadcrumb";var N=G.getBBox();c=a.itemHeight||N.height;var q=a.itemWidth||N.width;a.maxItemWidth&&(q=Math.min(q,a.maxItemWidth));var tt={x:e,y:n,width:q+h+l,height:c+s+u};if(D.attr("width",tt.width),D.attr("height",tt.height),k.setClip({type:"rect",attrs:tt}),e+=tt.width,C!==a.items.length-1){var bt=t.addShape("text",{attrs:(0,Ot.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=bt.getBBox().width}}),v.attr({width:e,height:c+s+u})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,u){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(u,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),u=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",u),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:u}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(Cs),JT=QT,Il=[1,0,0,0,1,0,0,0,1],Oo=400,$o="easeQuadInOut";function qT(i,r,t){var e=Tp(i),n=_p(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,u=Uo([["s",a,o],["t",s,l]]),h=r.geometries[0];Ol(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=Ep(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,f.each)(v,function(D,G){G===0?D.animate({matrix:u},Oo,$o,function(){c.remove(),r.canvas.draw()}):D.animate(Uo,Oo)}),h=r.geometries[0],Ol(h);var g=h.getShapes();(0,f.each)(g,function(D){D.attr("opacity",0),D.animate({opacity:1},Oo,$o)});var C=h.container;C.stopAnimate(),C.set("visible",!0),C.attr("matrix",(0,f.clone)(Il)),vA(C,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var k=(0,f.clone)(Il);h.container.animate({matrix:k},Oo,$o,function(){Pp(h)}),r.canvas.draw()},16)}function Ep(i,r){var t=i.getShapes(),e=[];return(0,f.each)(t,function(n){var a=r.addShape("path",{attrs:(0,f.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Ap(i,r,t){var e=r.geometries[0];Ol(e);var n=e.container;n.attr("matrix",(0,f.clone)(Il));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Ep(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],Ol(e),n=e.container;var s=tP(e.getShapes(),i),l=Tp(s),u=_p(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:u.minX,y:u.minY,width:u.width,height:u.height}}),eP(a,o,l,u);var c=u.width/l.width,v=u.height/l.height,g=(u.minX-l.minX)*c,C=(u.minY-l.minY)*v,k=Uo([["s",c,v],["t",g,C]]);n.setMatrix(k),n.set("visible",!0),n.animate({matrix:Il},Oo,$o,function(){Pp(e)})}function tP(i,r){var t;return(0,f.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function _p(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function Tp(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function eP(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=Uo([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},Oo,$o,function(){i.remove()}),(0,f.each)(r,function(s){s.animate({opacity:0},Oo,$o)})}function Ol(i){var r=i.labelsContainer;r.set("visible",!1)}function Pp(i){var r=i.labelsContainer;r.set("visible",!0)}var rP=100,nP=30,iP=10,aP=function(i){i===void 0&&(i={});var r=(0,Ot.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:rP,itemHeight:nP,padding:[0,0,0,0]},i);return r},Lp=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=aP(e),a=n.padding,o=a[0],s=a[1];if(t)return new on(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,f.clone)(this.currentNode.name),value:(0,f.clone)(this.currentNode.value)},depth:(0,f.clone)(this.currentDepth)},this.currentDepth++,qT(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,f.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,f.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+iP,this.breadcrumb=new JT({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,f.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,f.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Ap(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,f.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Ap(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,f.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,f.hasKey)(this.mapping,String(t))){var n=(0,f.clone)(this.mapping[t]);if(n.values&&(0,f.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,f.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(Sa),oP=Lp;Sa.registerInteraction("drilldown",Lp);var sP={drilldown:oP},lP={rect:"polygon",breadcrumb:"breadcrumb"},uP=Pi(lP);(0,f.assign)(bn,uP);var Ip=4,fP=8;function hP(i,r){return!i.children||i.depth>=r}function cP(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var u="",h=l.split(""),c=[],v=0;v<h.length;v++){var g=h[v];a.attr("text",u+=g);var C=a.getBBox().width-1;if(C>r){if(v===0)break;c.push(v),u=""}}return nd(h,c)});return a.remove(),s.join(`
`)}function Op(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,u=0;u<i.length;u++){var h=i[u];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var vP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=hP(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,f.clone)(r.options.style),l=r.getPosition(n,o),u=r.options.formatter,h=u?u(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,f.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,f.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,fP),l=e.x+e.width/2,u=e.y+e.height/2;r.attr({x:l,y:u,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-Ip*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=cP(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var g=Op(a,s,h,this.container);r.attr("text",g)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-Ip*2;if(r.getBBox().width>n){var a=Op(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),dP=vP,pP=4,As=4,kp=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,f.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new dP((0,Ot.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=Mp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(u){var h=t.adjustStyleByDepth(u,l);return(0,f.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,f.each)(e,function(a){var o=sP[a.type];if(o){var s=new o((0,f.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,f.each)(t,function(o){(0,f.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,f.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var u=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=u/2>h?h:As;s.showLabel=c!==As;var v=Mp(s,s.x0+As,s.y0+c,s.x1-As,s.y1-As);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,f.each)(t,function(l){(0,f.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,Ot.__assign)((0,Ot.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,f.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,f.each)(t,function(a){(0,f.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+pP*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(ni),gP=kp;vn("treemap",kp);var yP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gP.getDefaultOptions,r}(rn),Bp=yP,Dp=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(Es);vn("step-line",Dp);var mP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Dp.getDefaultOptions,r}(rn),Fp=mP;function Rp(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}var xP=function(){function i(r){(0,f.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,f.deepMix)({},ho.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,u;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,u,h,s),u=s,l=h}):a.forEach(function(h,c){u=e[c],c++>0&&r._drawTag(h,u,o,s),s=u,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=Rp(r,o)[a?3:0],l=Rp(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,u=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-u)/2<e?(e=Math.max(1,(c-u)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-u,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-u,t.y-o]]:(h-u)/2<e?(e=Math.max(1,(h-u)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-u],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-u]];var g=this.container.addShape("polygon",{name:"arrow",attrs:(0,Ot.__assign)((0,Ot.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(g)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,u=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,Ot.__assign)((0,Ot.__assign)({},this.value.style),{text:h,x:u?(r.x+e.x)/2:r.x+s+o/2,y:u?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(u){var v=e.x-r.x,g=c.getBBox().width;if(g>v){var C=g/h.length,k=Math.max(1,Math.ceil(v/C)-1),D=h.slice(0,k)+"...";c.attr("text",D)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,f.get)(t,"appear",ho.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),Np=xP;function bP(i){var r=i.getResponsiveTheme(),t=i.canvas;new go({plot:i,responsiveTheme:r,dim:"x"}),new go({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var wP=[],SP=[{name:"responsiveAxis",method:bP}],CP={preRender:wP,afterRender:SP},MP=function(i){var r=i.opacity||1;return{opacity:r*.5}},EP=function(i){var r=i.opacity||1;return{opacity:r*.5}},Kf={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:MP,disable:EP,selected:{lineWidth:1,stroke:"black"}}};ta("bar",Kf);function Ja(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function $f(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function XG(i){return"#"+($f(i[0])+$f(i[1])+$f(i[2]))}function kl(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var Qf=function(i){var r=Ja(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},Gp=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),u=this.getValue(t);return(0,f.deepMix)({},o,(0,Ot.__assign)((0,Ot.__assign)({},this.getPosition(t)),{text:s?s(u,(n={},n[Ss]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):u,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),u=this.getElementShapeBBox(e);if(u.width<=l.width){var h=u.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Ot.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,C=c.position,k=l+u/2+g,D=n<0?-1:1,G;if(C==="left"){var N=n>0?o:s;G=N+e*D+v}else if(C==="right"){var N=n>0?s:o;G=N+e*D+v}else G=o+h/2+v;return{x:G,y:k}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Ja(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=kl(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new on(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Pf),Yp=Gp;qi("bar",Gp);var zp=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=this.options,c=h.offsetX,v=h.offsetY,g=l+u/2+v,C=n<0?-1:1,k=n>0?s:o,D=k+e*C+c;return{x:D,y:g}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(sa)[_n.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(sa)[_n.FIELD_ORIGIN][o]]||[],g=c.get("element"),C=g.shape,k=Qf(C.attr("fill")),D=n.getElementShapeBBox(g),G=on.fromBBoxObject(c.getBBox());if(Yf(a,D)<=0&&c.set("visible",!1),G.width>D.width){var N=(0,f.findIndex)(v,function(tt){return tt===c});N!==v.length-1&&c.set("visible",!1)}else{c.attr({x:D.x+D.width/2,textAlign:"center"});var q=G.width>D.width||G.height>D.height;q?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:k?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:k?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(sa)[_n.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(sa)[_n.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(C){return l.push(C)})});l.length>0;){var v=l.shift();v.get("visible")&&(Tl(v,n),Pl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(Yp),AP=zp;qi("bar-auto",zp);var _P={bar:"interval"},TP=Pi(_P);(0,f.assign)(bn,TP);var PP={bar:"interval"},LP={interval:"bar"},Xp=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Np((0,Ot.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?PP[e]:LP[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,f.each)(e,function(o){var s=(0,f.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,f.has)(t,"yAxis")&&wi(e[t.yField],t.yAxis),e[t.xField]={},(0,f.has)(t,"xAxis")&&wi(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=Ni("axis",{plot:this,dim:"x"}),e=Ni("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=li("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=vo(this.view,"interval");this.doRenderLabel(s,(0,Ot.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=CP[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(ni),Bl=Xp;vn("bar",Xp);var IP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Bl.getDefaultOptions,r}(rn),Vp=IP;ta("stackedBar",Kf);var OP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(Yp),VG=null;qi("stacked-bar",OP);var kP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(AP),HG=null;qi("stacked-bar-auto",kP);var Hp=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=vo(this.view,"interval");this.doRenderLabel(s,(0,Ot.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Bl),Jf=Hp;vn("stackedBar",Hp);var BP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Jf.getDefaultOptions,r}(rn),Wp=BP;ta("groupedBar",Kf);var jp=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,f.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,f.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,f.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,f.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Bl),Up=jp;vn("groupedBar",jp);var DP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Up.getDefaultOptions,r}(rn),Zp=DP,qf=function(i,r,t){var e=(0,f.groupBy)(i,r);e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){return(0,f.map)(t,function(l){return s[l]})})}),e=(0,f.mapValues)(e,f.flatten),e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){var l=Number.parseFloat(s);return!(0,f.isNumber)(l)||isNaN(l)?0:l})});var n=(0,f.mapValues)(e,function(o){return(0,f.reduce)(o,function(s,l){return s+l},0)}),a=(0,f.map)(i,function(o){var s=(0,Ot.__assign)((0,Ot.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,f.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,f.each)((0,f.groupBy)(a,r),function(o){var s=0;(0,f.each)(o,function(l,u){(0,f.each)(t,function(h,c){(s+l[h]>=1||u===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},Kp=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return qf(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Jf),$p=Kp;vn("percentStackedBar",Kp);var FP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$p.getDefaultOptions,r}(rn),Qp=FP,Jp=8;function RP(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var NP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,f.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextAlign(),h=[];(0,f.each)(s,function(c,v){var g=v===0?r.options.leftStyle:r.options.rightStyle,C=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&C!=="black"&&(g.stroke=null);var k=r.options.formatter,D=k?k(l[v]):l[v],G=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:D,fill:C,textAlign:u[v],textBaseline:"middle"}),name:"label"});h.push(G),r.doAnimation(G)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new on(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:Jp,offsetY:0,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,u=s.offsetY,h=a+o/2+u,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=Ja(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=RP(s,o);return l}var u=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,u=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=u[0].width+u[1].width,g=u[0].maxX-u[1].minX>2,C=v>s;(g||C)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),u[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),u[1]=t.getBBox())}u[0].minX<l.minX&&(h=l.minX+Jp,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),GP=NP,qp;function tg(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}tg.animationName="clipInFromCenter";function YP(i){qp=i}function eg(i,r){var t=zP(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function zP(i){var r=i.id,t;return(0,f.each)(qp,function(e){e.id===r&&(t=e)}),t}eg.animationName="updateFromCenter",di("clipInFromCenter",tg),di("updateFromCenter",eg);var rg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),YP(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new GP((0,Ot.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(Bl),XP=rg;vn("rangeBar",rg);var VP=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=XP.getDefaultOptions,r}(rn),ng=VP,ig=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(xp),HP=ig;qi("area-point",ig);var ag=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=vo(e,"area"),l=wA(s).sort(function(u,h){return h.getBBox().height-u.getBBox().height});(0,f.each)(t,function(u){var h=u.getBBox(),c=wE(h.x,h.y,h.width,h.height),v=(0,f.map)(l,function(k){return{area:k,matches:(0,f.filter)(c,function(D){return!!k.isHit(D[0],D[1])}).length}}).sort(function(k,D){return k.matches-D.matches});if((0,f.last)(v).matches>0){var g=(0,f.last)(v).area.attr("fill"),C=Qf(g);u.attr({fill:C?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:C?o.fillOpacity:a.fillOpacity,stroke:C?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(CT),WP=ag;qi("area-point-auto",ag);function jP(i){var r=i.getResponsiveTheme(),t=i.canvas;new go({plot:i,responsiveTheme:r,dim:"x"}),new go({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var UP=[],ZP=[{name:"responsiveAxis",method:jP}],KP={preRender:UP,afterRender:ZP},$P={area:"area",line:"line",point:"point"},QP=Pi($P);(0,f.assign)(bn,QP);var JP=function(i){var r=i.opacity||1;return{opacity:r}},qP=function(i){var r=i.opacity||1;return{opacity:r*.5}},tL=function(i){var r=i.opacity||1;return{opacity:r}},eL=function(i){var r=i.opacity||1;return{opacity:r*.5}},rL=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},nL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},iL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},aL=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},og={areaStyle:{normal:{},active:JP,disable:qP,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:tL,disable:eL,selected:rL},pointStyle:{normal:{},active:nL,disable:aL,selected:iL},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};ta("area",og);var oL={area:"area",line:"line",point:"point"},sg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return oL[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&wi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&wi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=li("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,f.deepMix)({},t.line);if(e.visible){var n=li("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,f.deepMix)({},t.point);if(e.visible){var n=li("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=vo(this.view,"area");this.doRenderLabel(s,(0,Ot.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=KP[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(ni),th=sg;vn("area",sg);var sL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=th.getDefaultOptions,r}(rn),lg=sL,lL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,f.reduce)(n.y,function(u,h){return u+h},0)/(0,f.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(wp),uL=lL,eh=12,fL=.01,hL=100,cL=12;function vL(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,f.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function ug(i,r,t){var e=r[0],n=r[r.length-1];(0,f.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function dL(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var pL=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,f.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,f.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,f.each)(n,function(o,s){var l=r.options,u=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),g=r.options.formatter,C=g?g(o._origin[t]):o._origin[t],k=r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:o.x+h,y:o.y+c,text:C,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},u),name:"label"});a.push(k)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=vL(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),u={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(cL,a,this.testFit,u,fL,hL);if(h!==null){u.justTest=!1;var c=this.testFit(u);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=ug(o,e,0),l=ug(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,u=n;u.height=l,u.width=l*u.aspect;var h=e(u),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],u=l.x,h=u+e;if(h>t[1])break;for(var c=dL(a,h),v=-Infinity,g=null,C=Infinity,k=s;k<c;k++){var D=a[k].y[1],G=a[k].y[0];if(G<C&&(C=G),D>v&&(v=D,g=G),C-v<n)break}if(C-v>=n)return o?!0:{x:u,y0:v,y1:g,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,f.clone)(this.plot.theme.label.textStyle);t.fontSize=eh;var e=this.container.addShape("text",{attrs:(0,Ot.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return eh*t}return eh},i}(),gL=pL,yL={lineLabel:{Ctr:uL},areaLabel:{Ctr:gL}};function mL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=yL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var xL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(HP),WG=null;qi("stackedArea-point",xL);var bL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(WP),jG=null;qi("stackedArea-point-auto",bL),ta("stackedArea",og);var fg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,f.get)(this.options,["label","visible"]),e=(0,f.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,f.each)(e,function(n){var a=(0,Ot.__assign)({view:t.view,plot:t},t.options[n]),o=mL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(th),rh=fg;vn("stackedArea",fg);var wL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=rh.getDefaultOptions,r}(rn),hg=wL,cg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return qf(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(rh),vg=cg;vn("percentStackedArea",cg);var SL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=vg.getDefaultOptions,r}(rn),dg=SL;function CL(i){var r=i.getResponsiveTheme(),t=i.canvas;new go({plot:i,responsiveTheme:r,dim:"x"}),new go({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var ML=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","position"],"inner")},r}(yp);function EL(i){var r=i.getResponsiveTheme();new ML({plot:i,responsiveTheme:r})}var AL=[],_L=[{name:"responsiveAxis",method:CL},{name:"responsiveLabel",method:EL}],TL={preRender:AL,afterRender:_L},PL={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};Hd("column",PL);var pg=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,u=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,f.deepMix)({},s,(0,Ot.__assign)((0,Ot.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[Ss]=(a=u[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Ot.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,C=c.position,k=o+h/2+v,D=n>0?-1:1,G;if(C==="top"){var N=n>0?s:l;G=N+e*D+g}else if(C==="bottom"){var N=n>0?l:s;G=N+e*D+g}else G=s+u/2+g;return{x:k,y:G}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Ja(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=kl(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new on(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Pf),nh=pg;qi("column",pg);var gg=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.width,h=this.options,c=h.offsetX,v=h.offsetY,g=o+u/2+c,C=n>0?-1:1,k=n>0?s:l,D=k+e*C+v;return{x:g,y:D}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(sa)[_n.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(sa)[_n.FIELD_ORIGIN][o]]||[],g=c.get("element"),C=g.shape,k=Qf(C.attr("fill")),D=n.getElementShapeBBox(g),G=on.fromBBoxObject(c.getBBox());if(Yf(a,D)<=0&&c.set("visible",!1),G.height>D.height){var N=(0,f.findIndex)(v,function(tt){return tt===c});N!==0&&c.set("visible",!1)}else{c.attr({y:D.y+D.height/2,textBaseline:"middle"});var q=G.width>D.width||G.height>D.height;q?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:k?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:k?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(sa)[_n.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(sa)[_n.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(C){return l.push(C)})});l.length>0;){var v=l.shift();v.get("visible")&&(Tl(v,n),Pl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(nh),LL=gg;qi("column-auto",gg);var IL={column:"interval"},OL=Pi(IL);(0,f.assign)(bn,OL);var kL=function(i){var r=i.opacity||1;return{opacity:r*.5}},BL=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},ih={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:kL,disable:BL,selected:{lineWidth:1,stroke:"black"}}};ta("column",ih);var DL={column:"interval"},FL={interval:"column"},yg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Np((0,Ot.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?DL[e]:FL[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,f.each)(t,function(a){var o=(0,f.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&wi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&wi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=li("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=vo(this.view,"interval");this.doRenderLabel(s,(0,Ot.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=TL[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(ni),Qo=yg;vn("column",yg);var RL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Qo.getDefaultOptions,r}(rn),mg=RL;ta("groupedColumn",ih);var xg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Qo),ah=xg;vn("groupedColumn",xg);var NL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ah.getDefaultOptions,r}(rn),bg=NL;function wg(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}function GL(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var YL=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,f.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,f.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,f.each)(t,function(o){a[o]=[]}),(0,f.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=wg(r[a],n),s=wg(r[a+1],n),l=(0,f.mix)({},this._areaStyle[t]),u=(0,f.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,u.opacity=0);var h=this.container.addShape("path",{attrs:(0,f.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,f.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=GL()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,f.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,f.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(Qa(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,f.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(Qa(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,f.each)(this.areas,function(t){var e=t.get("data");Qa(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,f.each)(this.lines,function(t){var e=t.get("data");Qa(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),zL=YL;ta("stackedColumn",ih);var XL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(nh),UG=null;qi("stacked-column",XL);var VL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(LL),ZG=null;qi("stacked-column-auto",VL);var Sg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new zL((0,Ot.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=vo(this.view,"interval");this.doRenderLabel(s,(0,Ot.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Qo),Dl=Sg;vn("stackedColumn",Sg);var HL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Dl.getDefaultOptions,r}(rn),Cg=HL,oh=8;function WL(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var jL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,f.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextBaseline(),h=[];(0,f.each)(s,function(c,v){var g=v===1?r.options.topStyle:r.options.bottomStyle,C=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&C!=="black"&&(g.stroke=null);var k=r.options.formatter,D=k?k(l[v]):l[v],G=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:D,fill:C,textAlign:"center",textBaseline:u[v]}),name:"label"});h.push(G),r.doAnimation(G)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new on(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:oh,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,u,h;return this.options.position==="outer"?(u=n-s,h=a+s):(u=n+s,h=a-s),[{x:l,y:h},{x:l,y:u}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=Ja(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=WL(s,o);return l}var u=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,u=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),g=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var C=c[0].height+c[1].height,k=c[1].maxY-c[0].minY>2,D=C>u;(k||D)&&(g=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-oh&&(v=h.maxY-oh/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",g),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),UL=jL,Mg;function Eg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Eg.animationName="clipInFromCenterVertical";function ZL(i){Mg=i}function Ag(i,r){var t=KL(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function KL(i){var r=i.id,t;return(0,f.each)(Mg,function(e){e.id===r&&(t=e)}),t}Ag.animationName="updateFromCenterVertical",di("clipInFromCenterVertical",Eg),di("updateFromCenterVertical",Ag);var _g=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),ZL(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new UL((0,Ot.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(Qo),$L=_g;vn("rangeColumn",_g);var QL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$L.getDefaultOptions,r}(rn),Tg=QL,Pg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return qf(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Dl),Lg=Pg;vn("percentStackedColumn",Pg);var JL=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Lg.getDefaultOptions,r}(rn),Ig=JL,qL={pie:"interval"},tI=Pi(qL);(0,f.assign)(bn,tI);function Fl(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function KG(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function eI(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function rI(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function $G(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var nI=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function iI(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function aI(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var QG=4;function oI(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function sI(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var lI=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,f.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),u=n.getBBox();if(s.get("parent").get("visible")&&(a=eI(l,u),!nI(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return sI(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,u=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,g){var C=(0,f.deepMix)({},v,e),k=r.getFilteredSum(),D=r.plot.options.angleField,G=v.origin[D]/k,N=n?n(v.name,{_origin:v.origin,percent:G},g):v.name,q=r.container.addGroup({name:"itemGroup",index:g,capture:!1}),tt=q.addShape("text",{attrs:(0,f.deepMix)({},C,{x:v.x+o,y:v.y+s,text:N})});tt.set("id","text-"+v.name+"-"+g),c.push(tt)}),c.forEach(function(v){var g=r.coordinateBBox;r.adjustText(v,g)}),l&&this.layout(c,h,this.coordinateBBox),u||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,g){a&&r.rotateLabel(v,aI(h[g].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return Id(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,u=r.options.offset>4?4:0,h=r.getLinePath(o,s,u),c=r.options.line;n.addShape("path",{attrs:(0,Ot.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-u:u))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,u=Fl(s,a,l+e);e<4&&(u=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},g=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*u.x-t.x,2*u.y-t.y,u.x,u.y],C=["L",u.x,u.y],k=n?g:C,D=["M",v.x,v.y].concat(k).concat("L",t.x,t.y);return D.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,f.isString)(t)&&(t=e*oI(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=On.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=Fl(n,s.angle,a+t),u=(0,Ot.__assign)((0,Ot.__assign)({},s),l);return r.adjustItem(u),u});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,u=l[1],h=u.field,c=e.map(function(v){var g=v.shape.get("origin"),C=g.color,k=g.data[0]||g.data,D=s+Math.PI*2*u.scale(k[h]),G=(s+D)/2,N=Fl(a,G,o);s=D;var q=u.getText(k[t]),tt=N.x>a.x?"left":"right";return{x:N.x,y:N.y,color:C,name:q,origin:k,angle:iI(r.getGeometry().coordinate,N),textAlign:tt}});this.arcPoints=c},i}(),sh=lI;function JG(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var uI=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,f.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,Ot.__assign)((0,Ot.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),u={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,f.clone)(u),c=(0,f.clone)(u);if(e.get("id")!==t.get("id")){var v=rI(s,l),g=v.xOverlap,C=v.yOverlap;if(g&&(h.x=u.x+g,h.y=u.y+Math.tan(o)*g),C){var k=C;u.y<a.y?k=k<0?k:l.minY-s.maxY:k=k>0?k:l.maxY-s.minY,c.y=u.y+k,c.x=u.x+k/Math.tan(o)}var D=ud(u,h),G=ud(u,c),N=D<G?h:c;t.attr("x",N.x),t.attr("y",N.y)}},r}(sh),fI=uI,qG=16,hI=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Ot.__assign)((0,Ot.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,f.filter)(t,function(u){return u.attr("x")<=o.x}),l=(0,f.filter)(t,function(u){return u.attr("x")>o.x});[l,s].forEach(function(u,h){a._antiCollision(u,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,u=s.radius,h=this.options.offset,c=u+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),g=Math.floor(v/o);this.options.allowOverlap||t.slice(g).forEach(function(Ht){Ht.get("parent").set("visible",!1)}),t.splice(g,t.length-g),t.sort(function(Ht,le){return Ht.getBBox().y-le.getBBox().y});for(var C=!0,k,D=l.y+v/2,G=l.y-v/2,N=t.map(function(Ht){var le=Ht.getBBox();return le.maxY>D&&(D=Math.min(n.maxY,le.maxY)),le.minY<G&&(G=Math.max(n.minY,le.minY)),{text:Ht.attr("text"),size:o,pos:le.y,targets:[]}}),q=0;q<N.length;)q===N.length-1?N[q].targets[0]=D:N[q].targets[0]=N[q+1].pos-N[q+1].size/2,q++;for(;C;)for(N.forEach(function(Ht){var le=(0,f.last)(Ht.targets);Ht.pos=Math.max(G,Math.min(Ht.pos,le-Ht.size))}),C=!1,k=N.length;k--;)if(k>0){var tt=N[k-1],bt=N[k];if(tt.pos+tt.size>bt.pos){tt.size+=bt.size,tt.targets=tt.targets.concat(bt.targets);var Nt=(0,f.last)(tt.targets);tt.pos+tt.size>Nt&&(tt.pos=Nt-tt.size),N.splice(k,1),C=!0}else tt.targets.splice(-1,1,bt.pos)}k=0,N.forEach(function(Ht){var le=o/2;Ht.targets.forEach(function(){t[k].attr("y",Ht.pos+le),le+=o,k++})});var Zt=[],ee=[];t.forEach(function(Ht,le){var be=a.arcPoints[le];be.angle>=0&&be.angle<=Math.PI?ee.push(Ht):Zt.push(Ht)}),[Zt,ee].forEach(function(Ht,le){if(!!Ht.length){var be=le?(0,f.last)(Ht).getBBox().maxY-l.y:l.y-(0,f.head)(Ht).getBBox().minY;be=Math.max(c,be);var me=h>4?4:0,Ie=Math.max.apply(0,(0,f.map)(t,function(tr){return tr.getBBox().width}))+h+me,Ge=Math.max(c,Math.min((be+c)/2,l.x-(n.minX+Ie))),Fe=Ge*Ge,Je=be*be;Ht.forEach(function(tr,nr){var $e=a.arcPoints[nr],Qe=tr.getBBox(),Sr={x:Qe.minX+Qe.width/2,y:Qe.minY+Qe.height/2},xr=Math.pow(Sr.y-l.y,2),Lr=Fl(l,$e.angle,u),ar=(e?1:-1)*me*2;if(xr>Je)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",tr.attr("text")),tr.attr("x",Lr.x+ar);else{var Er=l.x+(e?1:-1)*Math.sqrt((1-xr/Je)*Fe);(l.x===Lr.x&&Sr.y===Lr.y||l.y===Lr.y&&Er===Lr.x)&&(Er=Lr.x),tr.attr("x",Er+ar)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,f.head)(t)?(0,f.head)(t).getBBox().height:14},r}(sh),cI=hI,tY=16,vI=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Ot.__assign)((0,Ot.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(sh),dI=vI,Og={inner:fI,outer:cI,"outer-center":dI};function pI(i){if(!Og[i]){console.warn("this label "+i+" is not registered");return}return Og[i]}var gI=0,lh=15,yI="#CCC",mI=2,xI=-2,kg=15;function Bg(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var bI=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,f.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,f.each)(n,function(bt){e.push(bt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],u=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,g=this.view.coordinateBBox,C=g.width,k=g.height;this.width=C,this.height=k;for(var D=c,G=function(bt){var Nt=t[bt],Zt=u.scale(Nt[l]),ee=D+Math.PI*2*Zt,Ht=D+(ee-D)/2;D=ee;var le=Bg(h,Ht,v+gI),be=Bg(h,Ht,v+lh),me=yI;if(N.options.fields.length===2){var Ie=N.options.fields[1],Ge=N.view.geometries[0].scales[Ie],Fe=Ge.scale(Nt[Ie]);if(Fe){var Je=Math.floor(Fe*(e.length-1));me=e[Je].attr("fill")}}var tr={_anchor:le,_inflection:be,_data:Nt,x:be.x,y:be.y,r:v+lh,fill:me,textGroup:null,_side:null},nr=[];if((0,f.each)(N.options.fields,function(Gr){o&&Gr===Rl?nr.push(Nt[s]):nr.push(Nt[Gr])}),N.options.formatter){var $e=N.options.formatter(Nt[s],{_origin:Nt,color:me},bt);(0,f.isString)($e)&&($e=[$e]),nr=$e}var Qe=N.container.addGroup({capture:!1,visible:!1}),Sr={x:0,y:0,fontSize:N.options.text.fontSize,lineHeight:N.options.text.fontSize,fontWeight:N.options.text.fontWeight,fill:N.options.text.fill},xr=Nt[s];N.options.formatter&&(xr=nr[0]);var Lr=(0,f.clone)(Sr);nr.length===2&&(Lr.fontWeight=700);var ar=Qe.addShape("text",{attrs:(0,f.mix)({textBaseline:nr.length===2?"top":"middle",text:xr},Lr),data:Nt,offsetY:nr.length===2?mI:0,name:"label"});if(ar.name="label",nr.length===2){var Er=Qe.addShape("text",{attrs:(0,f.mix)({textBaseline:"bottom",text:nr[1]},Sr),data:Nt,offsetY:xI,name:"label"});Er.name="label"}tr.textGroup=Qe,le.x<h.x?(tr._side="left",N.halves[0].push(tr)):(tr._side="right",N.halves[1].push(tr))},N=this,q=0;q<t.length;q++)G(q);var tt=Math.floor(k/this.options.lineHeight);(0,f.each)(this.halves,function(bt){bt.length>tt&&bt.splice(tt,bt.length-tt),bt.sort(function(Nt,Zt){return Nt.y-Zt.y}),r._antiCollision(bt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-lh-this.options.lineHeight,l=!0,u=n,h,c=0,v=Number.MIN_VALUE,g=0,C=r.map(function(q){var tt=q.y;tt>c&&(c=tt),tt<v&&(v=tt);var bt=q.textGroup,Nt=bt.getBBox().width;return Nt>=g&&(g=Nt),{size:t.options.lineHeight,targets:[tt-s]}});c-s>u&&(u=c-s);for(var k=function(q){q.forEach(function(tt){var bt=(Math.min.apply(v,tt.targets)+Math.max.apply(v,tt.targets))/2;tt.pos=Math.min(Math.max(v,bt-tt.size/2),u-tt.size)})};l;)for(k(C),l=!1,h=C.length;h--;)if(h>0){var D=C[h-1],G=C[h];D.pos+D.size>G.pos&&(D.size+=G.size,D.targets=D.targets.concat(G.targets),D.pos+D.size>u&&(D.pos=u-D.size),C.splice(h,1),l=!0)}h=0,C.forEach(function(q){var tt=s;q.targets.forEach(function(){r[h].y=q.pos+tt+t.options.lineHeight/2,tt+=t.options.lineHeight,h++})});var N=[];r.forEach(function(q){var tt=t._drawLabel(q);t._drawLabelLine(q,g,tt),N.push(tt)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,u=(0,Ot.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(u.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(u),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],u=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+kg,v=l[0]-kg,g=[r._side==="left"?c:v,a[1]];u=[n,h,g,l],(r._side==="right"&&g[0]<h[0]||r._side==="left"&&g[0]>h[0])&&(u=[n,h,l])}else u=[n,[a[0],o],l];for(var C=[],k=0;k<u.length;k++){var D=u[k],G="L";k===0&&(G="M"),C.push([G,D[0],D[1]])}e.addShape("path",{attrs:{path:C,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),wI=bI,SI=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},CI=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};ta("pie",{columnStyle:{normal:{},active:SI,disable:CI,selected:{lineWidth:1,stroke:"black"}}});var Rl="$$percentage$$",MI={pie:"interval"},EI={pie:"column"},Dg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,f.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,f.every)(n,function(h){return h[o]===0}),l=s?Rl:o;this.labelComponent=new wI((0,Ot.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var u=pI(e.type);this.labelComponent=new u(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?MI[e]:EI[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,f.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,f.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,Ot.__assign)((0,Ot.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[Rl]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,Ot.__assign)((0,Ot.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,f.every)(e,function(s){return s[n]===0});o?a=li("interval","main",{plot:this,positionFields:[1,Rl]}):a=li("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,y)},r.prototype.label=function(){this.pie.label=!1},r}(ni),Fg=Dg;vn("pie",Dg);var AI=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Fg.getDefaultOptions,r}(rn),Rg=AI,_I=.3989422804014327,TI=1/255/16,_s="_origin",PI=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[_s][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,f.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,f.get)(this.styleOption,["style","shadowBlur"]);(0,f.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=Ja(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(TI/t/n/_I))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color"),h=u.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(q){return q[_s][h]<=e[1]&&q[_s][h]>=e[0]}));for(var v=this.scales[h],g=0;g<t.length;g++){var C=t[g],k=this.getDrawCfg(C),D=v.scale(C[_s][h]);this.drawGrayScaleBlurredCircle(k.x-a.x,k.y-o.y,this.radius+this.blur,D,c)}var G=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(G),c.putImageData(G,0,0);var N=new Image;N.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,Ot.__assign)((0,Ot.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[_s]})},r}(Ua);ba("linearHeatmap",PI);var LI=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,f.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(te.default),II=LI,Nl=4,Ng=1,OI=.1,kI=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new on(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,f.clone)(e).reverse(),u=(t-r)/e.length;(0,f.each)(l,function(h,c){var v=o*c,g={to:t-u*c,from:t-u*(c+1)},C=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:Ng,cursor:"pointer"},name:"legend"});C.set("info",g);var k=n.getDataSlide(g);n.dataSlides[g.from+"-"+g.to]={mode:"active",data:k},s.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Ot.__assign)({text:t,x:a/2,y:-Nl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Ot.__assign)((0,Ot.__assign)({text:r,x:a/2,y:this.height+Nl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,f.each)(e,function(u,h){var c=a*h,v={from:l*h,to:l*(h+1)},g=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:u,opacity:.8,cursor:"pointer"},name:"legend"});g.set("info",v),s.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Ot.__assign)((0,Ot.__assign)({text:r,x:-Nl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Ot.__assign)({text:t,x:this.width+Nl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(t)&&(0,f.each)(t,function(u,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:OI},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:Ng},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,f.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,f.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,f.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),BI=kI,DI={background:{Ctr:II},legend:{Ctr:BI,padding:"outer"}};function FI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=DI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var RI={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},NI=Pi(RI);(0,f.assign)(bn,NI);var Gg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&wi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&wi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,f.deepMix)(e,t.point):t.point=e;var n=li("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=Ni("label",(0,Ot.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,f.each)(e,function(n){var a=(0,Ot.__assign)({view:t.view,plot:t},t.options[n]),o=FI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(ni),GI=Gg;vn("densityHeatmap",Gg);var YI=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=GI.getDefaultOptions,r}(rn),Yg=YI;function Gl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function Yl(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function zg(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}Mn("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Gl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),Mn("point","curvePoint",{draw:function(i,r){var t=Yl(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var zI=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,f.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),g=r.container.addShape("text",{attrs:(0,f.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(g,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=Ja(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=kl(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),XI=zI,Xg=4,VI=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new on(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,f.each)(e,function(v,g){var C=o*g;l+=C+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var C=s*g;n.container.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",0,C],["L",n.width,C]]},n.options.ticklineStyle)});var k=Math.round(a*g);n.container.addShape("text",{attrs:(0,Ot.__assign)({text:k,textAlign:"left",textBaseline:"middle",x:n.width+Xg,y:C},n.options.text.style),name:"legend-label"})});var u=10,h=14,c=[["M",-u,-h/2],["L",0,0],["L",-u,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Ot.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,f.each)(e,function(v,g){var C=o*g;l+=C+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var C=s*g;n.container.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",C,0],["L",C,n.height]]},n.options.ticklineStyle),name:"legend-label"});var k=Math.round(a*g);n.container.addShape("text",{attrs:(0,Ot.__assign)({text:k,textAlign:"center",textBaseline:"top",x:C,y:n.height+Xg},n.options.text.style)})});var u=14,h=10,c=[["M",0,0],["L",-u/2,-h],["L",u/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Ot.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(e)&&(0,f.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,u=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=u-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(u-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=u-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var u=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",u),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:u}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,f.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),HI=VI,WI={label:{Ctr:XI},legend:{Ctr:HI,padding:"outer"}};function jI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=WI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var Vg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,f.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,Br.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,f.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,f.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],u=t.height-n[0]-n[2],h=(0,f.valuesOfKey)(s,a).length,c=(0,f.valuesOfKey)(s,o).length;return[l/h,u/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,f.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,u=o.size,h=u*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=zg(s,l,u),v=Gl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,f.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,f.each)(o,function(D){s.push(a.convertPoint(D))});var l=n.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=e.options.sizeField?1:.9,C=zg(c,v,Math.min(u,h)/2*g),k=Yl(c,v,Math.min(u,h)/2*g);n.stopAnimate(),n.animate({path:C},500,"easeLinear",function(){n.attr("path",k)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=Gl(c,v,u,h,s);a.stopAnimate(),a.animate({path:g},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),u=l.x,h=l.y,c=l.size,v=Yl(u,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var u=Yl(o,s,l/2);n.stopAnimate(),n.animate({path:u},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,u=a.minY+s/2,h=Gl(l,u,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,f.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,f.each)(e,function(n){var a=(0,Ot.__assign)({view:t.view,plot:t},t.options[n]),o=jI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(ni),UI=Vg;vn("heatmap",Vg);var ZI=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=UI.getDefaultOptions,r}(rn),Hg=ZI,KI=function(i){(0,Ot.__extends)(r,i);function r(t){var e=this,n=(0,f.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(Z2.Z),$I=KI;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var uh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),Jo=function(){if(!!uh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),QI=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},fh=function(r,t){if(!uh)return;Array.isArray(r)||(r=[r]),r.forEach(function(Dr,Ve){if(typeof Dr=="string"){if(r[Ve]=document.getElementById(Dr),!r[Ve])throw"The element id specified is not found."}else if(!Dr.tagName&&!Dr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:Jo,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<Jo&&(e.minFontSize=Jo),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var u=function(Ve){var ur=Math.min(Math.max(e.minFontSize,e.maxFontSize*Ve/s),e.maxFontSize);return Hr?ur*e.fontScale:ur},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(Ve){return 1-Math.sin(Ve)},h=!0;break;case"diamond":e.shape=function(Ve){var ur=Ve%(2*Math.PI/4);return 1/(Math.cos(ur)+Math.sin(ur))};break;case"square":e.shape=function(Ve){var ur=(Ve+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(ur)+Math.sin(ur))};break;case"triangle-forward":e.shape=function(Ve){var ur=Ve%(2*Math.PI/3);return 1/(Math.cos(ur)+Math.sqrt(3)*Math.sin(ur))};break;case"triangle-backward":e.shape=function(Ve){var ur=(Ve+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(ur)+Math.sqrt(3)*Math.sin(ur))};break;case"triangle":case"triangle-up":e.shape=function(Ve){var ur=(Ve+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(ur)+Math.sqrt(3)*Math.sin(ur))};break;case"triangle-down":e.shape=function(Ve){var ur=(Ve+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(ur)+Math.sqrt(3)*Math.sin(ur))};break;case"pentagon":e.shape=function(Ve){var ur=(Ve+.955)%(2*Math.PI/5);return 1/(Math.cos(ur)+.726543*Math.sin(ur))};break;case"star":e.shape=function(Ve){var ur=(Ve+.955)%(2*Math.PI/10);return(Ve+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-ur)+3.07768*Math.sin(2*Math.PI/10-ur)):1/(Math.cos(ur)+3.07768*Math.sin(ur))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,g=Math.abs(e.maxRotation-e.minRotation),C=Math.min(e.maxRotation,e.minRotation),k=e.rotationSteps,D,G,N,q,tt,bt,Nt;function Zt(Dr,Ve){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Ve-Dr)+Dr).toFixed()+"%)"}switch(e.color){case"random-dark":Nt=function(){return Zt(10,50)};break;case"random-light":Nt=function(){return Zt(50,90)};break;default:typeof e.color=="function"&&(Nt=e.color);break}var ee=null;typeof e.classes=="function"&&(ee=e.classes);var Ht=!1,le=[],be,me=function(Ve){var ur=Ve.currentTarget,Wr=ur.getBoundingClientRect(),tn,Rr;Ve.touches?(tn=Ve.touches[0].clientX,Rr=Ve.touches[0].clientY):(tn=Ve.clientX,Rr=Ve.clientY);var fn=tn-Wr.left,nn=Rr-Wr.top,Ur=Math.floor(fn*(ur.width/Wr.width||1)/c),hn=Math.floor(nn*(ur.height/Wr.height||1)/c);return le&&le[Ur]&&le[Ur][hn]},Ie=function(Ve,ur,Wr,tn){tn(Ve?Ve.id:-1)},Ge=function(Ve){var ur=me(Ve);if(be!==ur&&!(Hr&&ur&&ur.item&&!(0,f.get)(ur,["item","twiceRender"]))){if(!ur){e.onWordCloudHover(void 0,void 0,Ve,sn),e.active&&Ie(void 0,void 0,Ve,sn);return}e.onWordCloudHover(ur.item,ur.dimension,Ve,sn),e.active&&Ie(ur.item,ur.dimension,Ve,sn),be=ur}},Fe=function(Ve){var ur=me(Ve);!ur||(e.onWordCloudClick(ur.item,ur.dimension,Ve),Ve.preventDefault())},Je=[],tr=function(Ve){if(Je[Ve])return Je[Ve];var ur=Ve*8,Wr=ur,tn=[];for(Ve===0&&tn.push([q[0],q[1],0]);Wr--;){var Rr=1;e.shape!=="circle"&&(Rr=e.shape(Wr/ur*2*Math.PI)),tn.push([q[0]+Ve*Rr*Math.cos(-Wr/ur*2*Math.PI),q[1]+Ve*Rr*Math.sin(-Wr/ur*2*Math.PI)*e.ellipticity,Wr/ur*2*Math.PI])}return Je[Ve]=tn,tn},nr=function(){return e.abortThreshold>0&&new Date().getTime()-bt>e.abortThreshold},$e=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:g===0?C:k>0?C+Math.floor(Math.random()*k)*g/k:C+Math.random()*g},Qe=function(Ve,ur,Wr){var tn=!1,Rr=u(ur);if(Rr<=0)return!1;var fn=1;Rr<Jo&&(fn=function(){for(var Ro=2;Ro*Rr<Jo;)Ro+=2;return Ro}());var nn=document.createElement("canvas"),Ur=nn.getContext("2d",{willReadFrequently:!0});Ur.font=e.fontWeight+" "+(Rr*fn).toString(10)+"px "+e.fontFamily;var hn=Ur.measureText(Ve).width/fn,wn=Math.max(Rr*fn,Ur.measureText("m").width,Ur.measureText("\uFF37").width)/fn,Un=hn+wn*2,Bn=wn*3,qn=Math.ceil(Un/c),si=Math.ceil(Bn/c);Un=qn*c,Bn=si*c;var zi=-hn/2,ji=-wn*.4,bi=Math.ceil((Un*Math.abs(Math.sin(Wr))+Bn*Math.abs(Math.cos(Wr)))/c),zr=Math.ceil((Un*Math.abs(Math.cos(Wr))+Bn*Math.abs(Math.sin(Wr)))/c),ti=zr*c,Ii=bi*c;nn.setAttribute("width",ti),nn.setAttribute("height",Ii),tn&&(document.body.appendChild(nn),Ur.save()),Ur.scale(1/fn,1/fn),Ur.translate(ti*fn/2,Ii*fn/2),Ur.rotate(-Wr),Ur.font=e.fontWeight+" "+(Rr*fn).toString(10)+"px "+e.fontFamily,Ur.fillStyle="#000",Ur.textBaseline="middle",Ur.fillText(Ve,zi*fn,(ji+Rr*.5)*fn);var Si;try{Si=Ur.getImageData(0,0,ti,Ii).data}catch(Ui){return!1}if(nr())return!1;tn&&(Ur.strokeRect(zi*fn,ji,hn*fn,wn*fn),Ur.restore());for(var Va=[],Oi=zr,Fn,Tn,Zn,Jn=[bi/2,zr/2,bi/2,zr/2];Oi--;)for(Fn=bi;Fn--;){Zn=c;t:{for(;Zn--;)for(Tn=c;Tn--;)if(Si[((Fn*c+Zn)*ti+(Oi*c+Tn))*4+3]){Va.push([Oi,Fn]),Oi<Jn[3]&&(Jn[3]=Oi),Oi>Jn[1]&&(Jn[1]=Oi),Fn<Jn[0]&&(Jn[0]=Fn),Fn>Jn[2]&&(Jn[2]=Fn),tn&&(Ur.fillStyle="rgba(255, 0, 0, 0.5)",Ur.fillRect(Oi*c,Fn*c,c-.5,c-.5));break t}tn&&(Ur.fillStyle="rgba(0, 0, 255, 0.5)",Ur.fillRect(Oi*c,Fn*c,c-.5,c-.5))}}return tn&&(Ur.fillStyle="rgba(0, 255, 0, 0.5)",Ur.fillRect(Jn[3]*c,Jn[0]*c,(Jn[1]-Jn[3]+1)*c,(Jn[2]-Jn[0]+1)*c)),{mu:fn,occupied:Va,bounds:Jn,gw:zr,gh:bi,fillTextOffsetX:zi,fillTextOffsetY:ji,fillTextWidth:hn,fillTextHeight:wn,fontSize:Rr}},Sr=function(Ve,ur,Wr,tn,Rr){for(var fn=Rr.length;fn--;){var nn=Ve+Rr[fn][0],Ur=ur+Rr[fn][1];if(nn>=G||Ur>=N||nn<0||Ur<0){if(!e.drawOutOfBound)return!1;continue}if(!D[nn][Ur])return!1}return!0},xr=function(Ve,ur,Wr,tn,Rr,fn,nn,Ur,hn,wn,Un){var Bn=Wr.fontSize,qn=e.color,si=e.classes;if(!Un)Nt?qn=Nt(tn,Rr,Bn,fn,nn):qn=e.color,ee?si=ee(tn,Rr,Bn,fn,nn):si=e.classes;else{var zi=_r(wn);qn=zi?zi.color:e.color}var ji,bi=Wr.bounds;ji={x:(Ve+bi[3])*c,y:(ur+bi[0])*c,w:(bi[1]-bi[3]+1)*c,h:(bi[2]-bi[0]+1)*c},r.forEach(function(zr){if(zr.getContext){var ti=zr.getContext("2d"),Ii=Wr.mu;ti.save();var Si=e.fontWeight+" "+(Bn*Ii).toString(10)+"px "+e.fontFamily;ti.scale(1/Ii,1/Ii),ti.font=Si,ti.fillStyle=qn;var Va=(Ve+Wr.gw/2)*c*Ii,Oi=(ur+Wr.gh/2)*c*Ii;ti.translate(Va,Oi),Ur!==0&&ti.rotate(-Ur),ti.textBaseline="middle",e.selected===wn&&(ti.shadowColor=e.shadowColor,ti.shadowBlur=e.shadowBlur),ti.fillText(tn,Wr.fillTextOffsetX*Ii,(Wr.fillTextOffsetY+Bn*.5)*Ii),Un||n.push({gx:Ve,gy:ur,info:Wr,word:tn,weight:Rr,distance:fn,theta:nn,rotateDeg:Ur,attributes:hn,id:wn,color:qn}),ti.restore()}else{var Fn=document.createElement("span"),Tn="";Tn="rotate("+-Ur/Math.PI*180+"deg) ",Wr.mu!==1&&(Tn+="translateX(-"+Wr.fillTextWidth/4+"px) scale("+1/Wr.mu+")");var Zn={position:"absolute",display:"block",font:e.fontWeight+" "+Bn*Wr.mu+"px "+e.fontFamily,left:(Ve+Wr.gw/2)*c+Wr.fillTextOffsetX+"px",top:(ur+Wr.gh/2)*c+Wr.fillTextOffsetY+"px",width:Wr.fillTextWidth+"px",height:Wr.fillTextHeight+"px",lineHeight:Bn+"px",whiteSpace:"nowrap",transform:Tn,webkitTransform:Tn,msTransform:Tn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};qn&&(Zn.color=qn),Fn.textContent=tn;for(var Jn in Zn)Fn.style[Jn]=Zn[Jn];if(hn)for(var Ui in hn)Fn.setAttribute(Ui,hn[Ui]);si&&(Fn.className+=si),zr.appendChild(Fn)}})},Lr=function(Ve,ur,Wr,tn,Rr){if(!(Ve>=G||ur>=N||Ve<0||ur<0)){if(D[Ve][ur]=!1,Wr){var fn=r[0].getContext("2d");fn.fillRect(Ve*c,ur*c,v,v)}Ht&&(le[Ve][ur]={item:Rr,dimension:tn})}},ar=function(Ve,ur,Wr,tn,Rr){var fn=Rr.occupied,nn=e.drawMask,Ur;nn&&(Ur=r[0].getContext("2d"),Ur.save(),Ur.fillStyle=e.maskColor);var hn;if(Ht){var wn=Rr.bounds;hn={x:(Ve+wn[3])*c,y:(ur+wn[0])*c,w:(wn[1]-wn[3]+1)*c,h:(wn[2]-wn[0]+1)*c}}for(var Un=fn.length;Un--;){var Bn=Ve+fn[Un][0],qn=ur+fn[Un][1];if(!(Bn>=G||qn>=N||Bn<0||qn<0)){var si=_r(Rr.item.id);si&&(Rr.item.color=si.color),Lr(Bn,qn,nn,hn,Rr.item)}}nn&&Ur.restore()},Er=function(Ve,ur,Wr,tn,Rr,fn,nn,Ur){var hn=Math.floor(Ve[0]-ur.gw/2),wn=Math.floor(Ve[1]-ur.gh/2),Un=ur.gw,Bn=ur.gh;return Sr(hn,wn,Un,Bn,ur.occupied)?(xr(hn,wn,ur,Wr,tn,Rr,Ve[2],fn,nn,Ur,!1),ar(hn,wn,Un,Bn,ur),{gx:hn,gy:wn,rot:fn,info:ur}):!1},Gr=function(Ve){var ur,Wr,tn,Rr;Array.isArray(Ve)?(ur=Ve[0],Wr=Ve[1]):(ur=Ve.word,Wr=Ve.weight,tn=Ve.attributes,Rr=Ve.id);var fn=(0,f.isNil)(Ve.rotateDeg)?$e():Ve.rotateDeg,nn=Qe(ur,Wr,fn);if(nn&&(nn.item=Ve),!nn||nr())return!1;if(!e.drawOutOfBound){var Ur=nn.bounds;if(Ur[1]-Ur[3]+1>G||Ur[2]-Ur[0]+1>N)return!1}for(var hn=tt+1;hn--;){var wn=tr(tt-hn);e.shuffle&&(wn=[].concat(wn),QI(wn));for(var Un=0;Un<wn.length;Un++){var Bn=Er(wn[Un],nn,ur,Wr,tt-hn,fn,tn,Rr);if(Bn)return Bn}}return null},Tr=function(Ve,ur,Wr){if(ur)return!r.some(function(tn){var Rr=document.createEvent("CustomEvent");return Rr.initCustomEvent(Ve,!0,ur,Wr||{}),!tn.dispatchEvent(Rr)},this);r.forEach(function(tn){var Rr=document.createEvent("CustomEvent");Rr.initCustomEvent(Ve,!0,ur,Wr||{}),tn.dispatchEvent(Rr)},this)},_r=function(Ve){for(var ur=0;ur<n.length;ur++){var Wr=n[ur];if(n[ur].id===Ve)return Wr}},Hr,sn=function(Ve){if(Ve!==void 0){if(e.selected!==Ve&&r[0].getContext){e.selected=Ve;var ur=r[0].getContext("2d");ur.fillStyle=e.backgroundColor,ur.clearRect(0,0,r[0].width,r[0].height),ur.fillRect(0,0,r[0].width,r[0].height);for(var Wr=0;Wr<n.length;Wr++){var tn=n[Wr];(!Hr||Hr&&(0,f.get)(tn,["info","item","twiceRender"]))&&xr(tn.gx,tn.gy,tn.info,tn.word,tn.weight,tn.distance,tn.theta,tn.rotateDeg,tn.attributes,tn.id,!0)}}return}var Rr=r[0];if(Rr.getContext)G=Math.ceil(Rr.width/c),N=Math.ceil(Rr.height/c);else{var fn=Rr.getBoundingClientRect();G=Math.ceil(fn.width/c),N=Math.ceil(fn.height/c)}if(!!Tr("wordcloudstart",!0)){q=e.origin?[e.origin[0]/c,e.origin[1]/c]:[G/2,N/(h?4:2)],tt=Math.floor(Math.sqrt(G*G+N*N)),D=[];var nn,Ur,hn;if(!Rr.getContext||e.clearCanvas)for(r.forEach(function(Tn){if(Tn.getContext){var Zn=Tn.getContext("2d");Zn.fillStyle=e.backgroundColor,Zn.clearRect(0,0,G*(c+1),N*(c+1)),Zn.fillRect(0,0,G*(c+1),N*(c+1))}else Tn.textContent="",Tn.style.backgroundColor=e.backgroundColor,Tn.style.position="relative"}),nn=G;nn--;)for(D[nn]=[],Ur=N;Ur--;)D[nn][Ur]=!0;else{var wn=document.createElement("canvas").getContext("2d");wn.fillStyle=e.backgroundColor,wn.fillRect(0,0,1,1);var Un=wn.getImageData(0,0,1,1).data,Bn=Rr.getContext("2d").getImageData(0,0,G*c,N*c).data;nn=G;for(var qn,si;nn--;)for(D[nn]=[],Ur=N;Ur--;){si=c;t:for(;si--;)for(qn=c;qn--;)for(hn=4;hn--;)if(Bn[((Ur*c+si)*G*c+(nn*c+qn))*4+hn]!==Un[hn]){D[nn][Ur]=!1;break t}D[nn][Ur]!==!1&&(D[nn][Ur]=!0)}Bn=wn=Un=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Ht=!0,nn=G+1;nn--;)le[nn]=[];e.onWordCloudHover&&Rr.addEventListener("mousemove",Ge),e.onWordCloudClick&&(Rr.addEventListener("click",Fe),Rr.addEventListener("touchstart",Fe),Rr.addEventListener("touchend",function(Tn){Tn.preventDefault()}),Rr.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),Rr.addEventListener("wordcloudstart",function Tn(){Rr.removeEventListener("wordcloudstart",Tn),Rr.removeEventListener("mousemove",Ge),Rr.removeEventListener("click",Fe),be=void 0})}if(e.animatable){hn=0;var ti,Ii;e.wait!==0?(ti=window.setTimeout,Ii=window.clearTimeout):(ti=window.setImmediate,Ii=window.clearImmediate);var Si=function(Zn,Jn){r.forEach(function(Ui){Ui.addEventListener(Zn,Jn)},this)},Va=function(Zn,Jn){r.forEach(function(Ui){Ui.removeEventListener(Zn,Jn)},this)},Oi=function Tn(){Va("wordcloudstart",Tn),Ii(Fn)};Si("wordcloudstart",Oi);var Fn=ti(function Tn(){if(hn>=e.data.length){Ii(Fn),Tr("wordcloudstop",!1),Va("wordcloudstart",Oi);return}bt=new Date().getTime();var Zn=Gr(e.data[hn]),Jn=!Tr("wordclouddrawn",!0,{item:e.data[hn],drawn:Zn});if(nr()||Jn){Ii(Fn),e.abort(),Tr("wordcloudabort",!1),Tr("wordcloudstop",!1),Va("wordcloudstart",Oi);return}hn++,Fn=ti(Tn,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(Tn){if(Tn.getContext){var Zn=Tn.getContext("2d");Zn.fillStyle=e.backgroundColor,Zn.clearRect(0,0,G*(c+1),N*(c+1)),Zn.fillRect(0,0,G*(c+1),N*(c+1))}});for(var zi=[],ji=0;ji<e.data.length;ji++){var bi=Gr(e.data[ji]);bi&&zi.push(bi)}if(zi.length===e.data.length&&!Hr){for(r.forEach(function(Tn){if(Tn.getContext){var Zn=Tn.getContext("2d");Zn.fillStyle=e.backgroundColor,Zn.clearRect(0,0,G*(c+1),N*(c+1)),Zn.fillRect(0,0,G*(c+1),N*(c+1))}}),nn=G;nn--;)for(D[nn]=[],Ur=N;Ur--;)D[nn][Ur]=!0;Hr=!0;for(var zr=0;zr<e.data.length;zr++)Gr((0,Ot.__assign)((0,Ot.__assign)({},e.data[zr]),{twiceRender:Hr}))}}}};sn()};fh.isSupported=uh,fh.minFontSize=Jo;var JI=fh,qI=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,f.get)(t,"tooltip.visible",!0),e.options=(0,f.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new $I({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),JI(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,f.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),u=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=s[3]):(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=254);a.putImageData(u,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,f.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,u=0;u<a.data.length;u+=o){var h=a.data[u]+a.data[u+1]+a.data[u+2],c=a.data[u+3];c<128||h>250*3?(a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=s):(a.data[u]=s,a.data[u+1]=s,a.data[u+2]=s,a.data[u+3]=l)}return n.putImageData(a,0,0),e},r}(gl),tO=qI,eO=function(i){(0,Ot.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(rn),rO=eO;vn("wordCloud",tO);var nO={rose:"interval"},iO=Pi(nO);(0,f.assign)(bn,iO);var aO={rose:"interval"},oO={rose:"column"},Wg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,f.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?aO[e]:oO[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=li("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,x)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,f.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=Ni("label",(0,Ot.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(ni),hh=Wg;vn("rose",Wg);var sO=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=hh.getDefaultOptions,r}(rn),jg=sO,lO=function(i){var r=i.opacity||1;return{opacity:r*.5}},uO=function(i){var r=i.opacity||1;return{opacity:r*.5}};ta("funnel",{columnStyle:{normal:{},active:lO,disable:uO,selected:{lineWidth:1,stroke:"black"}}});var Ug=d(26485);function fO(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function hO(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,u=a[0]+a[1],h=a.map(function(k){return k/u/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,f.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var g=s[0]+s[1],C=s.map(function(k){return k/g/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*C[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*C[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,f.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}Mn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,fO(i)},draw:function(i,r){var t,e=(0,Ug.getStyle)(i,!1,!0),n=(0,f.get)(i,"data.__compare__"),a=this.parsePath(hO(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,Ot.__assign)((0,Ot.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function ch(i,r,t){return(1-t)*i+t*r}function cO(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,u=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*ch(u,l,n)+s;a.push(["M",c,o.y]);for(var v=1,g=i.length;v<g;v++){var C=i[v].x;switch(v){case 1:case 2:C=(C-s)*ch(u,l,e)+s;break;case 3:C=(C-s)*ch(u,l,n)+s;break}a.push(["L",C,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}Mn("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,Ug.getStyle)(i,!1,!0),e=(0,f.get)(i,"data.__custom__"),n=this.parsePath(cO(i.points,e));return r.addShape("path",{attrs:(0,Ot.__assign)((0,Ot.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function Zg(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=l?u.maxX:u.minX,c=(u.minY+u.maxY)/2,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(On.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var C={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(C,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Zg.animationName="funnelScaleInX",di("funnelScaleInX",Zg);function Kg(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=(u.minX+u.maxX)/2,c=l?u.maxY:u.minY,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(On.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var C={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(C,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Kg.animationName="funnelScaleInY",di("funnelScaleInY",Kg);function zl(i,r,t){return(1-t)*i+t*r}var vO={column:"interval"},dO={interval:"funnel"},$g=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,f.deepMix)({},ho.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,f.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,f.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,f.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=ai.CONTAINER_CLASS,o=(0,wt.Z)('<div class="'+a+'"></div>'),(0,Lt.Z)(o,Lo.default[a]);var u=o;if(e){a=ai.TITLE_CLASS,o=(0,wt.Z)('<div class="'+a+'"></div>'),(0,Lt.Z)(o,Lo.default[a]),u.appendChild(o);var h=o;a=ai.MARKER_CLASS,o=(0,wt.Z)('<span class="'+a+'"></span>'),(0,Lt.Z)(o,Lo.default[a]),(0,Lt.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,wt.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=ai.LIST_CLASS,o=(0,wt.Z)('<ul class="'+a+'"></ul>'),(0,Lt.Z)(o,Lo.default[a]),u.appendChild(o);var c=o;n.reduce(function(v,g){s||(s=g.color);var C=(0,f.get)(g,"point._origin.__compare__.compareValues"),k=(0,f.get)(g,"point._origin.__compare__.yValues");return k.forEach(function(D,G){return v.push([C[G],D])}),v},[]).forEach(function(v,g){var C=v[0],k=v[1];a=ai.LIST_ITEM_CLASS,o=(0,wt.Z)('<li class="'+a+'" data-index='+g+"></li>"),(0,Lt.Z)(o,Lo.default[a]),c.appendChild(o);var D=o;a=ai.NAME_CLASS,o=(0,wt.Z)('<span class="'+a+'">'+C+"</span>"),(0,Lt.Z)(o,Lo.default[a]),D.appendChild(o),a=ai.VALUE_CLASS,o=(0,wt.Z)('<span class="'+a+'">'+k+"</span>"),(0,Lt.Z)(o,Lo.default[a]),D.appendChild(o)})}return s&&l&&(0,Lt.Z)(l,{backgroundColor:s}),u}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=li("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,f.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,f.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,f.findIndex)(n,function(l){return(0,f.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?vO[e]:dO[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,f.set)(t,"meta."+t.yField+".nice",!1),(0,f.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,u=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,g=v===void 0?{}:v,C=Date.now(),k=this._findPercentageContainer(!0);this._eachShape(function(D,G,N,q){if(G>0){var tt=D.getBBox(),bt=tt.minX,Nt=tt.maxX,Zt=tt.maxY,ee=tt.minY,Ht=e.transpose?bt:Nt,le=e.transpose&&e.compareField?Zt:ee,be=t._findPercentageMembersInContainerByIndex(k,G,!0),me=be.line,Ie=be.text,Ge=be.value,Fe=[function($e,Qe,Sr,xr,Lr){Sr&&(Sr.attr((0,f.deepMix)({},u.style,{x1:$e,y1:Qe,x2:e.transpose?$e+a:$e-a,y2:e.transpose?Qe-o:Qe+o,opacity:0})),Sr.set("adjustTimestamp",C));var ar=0,Er=0,Gr=function(){xr&&(xr.attr((0,f.deepMix)({},c.style,{x:e.transpose?$e+a:$e-a-s-Er-s,y:e.transpose?Qe-o-s:Qe+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),xr.set("adjustTimestamp",C),ar=xr.getBBox().width)},Tr=function(){Lr&&(Lr.attr((0,f.deepMix)({},g.style,{x:e.transpose?$e+a+ar+s:$e-a-s,y:e.transpose?Qe-o-s:Qe+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)(q,"__compare__.yValues.0"),(0,f.get)(N,"__compare__.yValues.0")):g.formatter(q[e.yField],N[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),Lr.set("adjustTimestamp",C),Er=Lr.getBBox().width)};e.transpose?(Gr(),Tr()):(Tr(),Gr())},function($e,Qe,Sr,xr,Lr){Sr&&(Sr.attr((0,f.deepMix)({},u.style,{x1:$e,y1:Qe,x2:$e+a,y2:e.transpose?e.compareField?Qe+o:Qe-o:Qe+o,opacity:0})),Sr.set("adjustTimestamp",C));var ar=0;xr&&(xr.attr((0,f.deepMix)({},c.style,{x:e.transpose?$e+a:$e+a+s,y:e.transpose?e.compareField?Qe+o+s:Qe-o-s:Qe+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),xr.set("adjustTimestamp",C),ar=xr.getBBox().width),Lr&&(Lr.attr((0,f.deepMix)({},g.style,{x:e.transpose?$e+a+ar+s:$e+a+s+ar+s,y:e.transpose?e.compareField?Qe+o+s:Qe-o-s:Qe+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)(q,"__compare__.yValues.1"),(0,f.get)(N,"__compare__.yValues.1")):g.formatter(q[e.yField],N[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),Lr.set("adjustTimestamp",C))}];if(e.compareField){var Je=[bt,ee],tr=Je[0],nr=Je[1];[[tr,nr],[Ht,le]].forEach(function($e,Qe){var Sr=$e[0],xr=$e[1];return Fe[Qe](Sr,xr,me&&me[Qe],Ie&&Ie[Qe],Ge&&Ge[Qe])})}else Fe[1](Ht,le,me,Ie,Ge)}q=N,G++}),k.get("children").forEach(function(D){D.get("adjustTimestamp")!=C&&(D.attr({opacity:0}),k.set(D.get("id"),null),setTimeout(function(){return D.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var u={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),g={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},C=function(D){if(D&&D.get("type")=="text"){var G=D.getBBox(),N=G.minX,q=G.maxX,tt=G.minY,bt=G.maxY;N<g.minX&&(g.minX=N),q>g.maxX&&(g.maxX=q),tt<g.minY&&(g.minY=tt),bt>g.maxY&&(g.maxY=bt)}};if((0,f.each)(v,function(D){return(0,f.isArray)(D)?C(D[l]):C(D)}),g.minX>u.maxX||g.maxX<u.minX||g.minY>u.maxY||g.maxY<u.minY){var k=function(D){if(D){var G={opacity:1};t?D.animate(G,t):D.attr(G)}};(0,f.each)(v,function(D){return(0,f.isArray)(D)?k(D[l]):k(D)}),(0,f.assign)(u,g)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),u=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,f.each)(l,function(h){return(0,f.isArray)(h)?h.forEach(u):u(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,u=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,g=v===void 0?{}:v,C={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return C;if(u.visible!==!1){var k=function(q){var tt="_percentage-line-"+e+"-"+q,bt=t.get(tt);return!bt&&n&&(bt=t.addShape({id:tt,type:"line",attrs:{}}),t.set(tt,bt)),bt},D=a.compareField?[0,1].map(k):k(0);C.line=D}if(c.visible!==!1){var k=function(tt){var bt="_percentage-text-"+e+"-"+tt,Nt=t.get(bt);return!Nt&&n&&(Nt=t.addShape({id:bt,type:"text",attrs:{}}),t.set(bt,Nt)),Nt},G=a.compareField?[0,1].map(k):k(0);C.text=G}if(g.visible!==!1){var k=function(tt){var bt="_percentage-value-"+e+"-"+tt,Nt=t.get(bt);return!Nt&&n&&(Nt=t.addShape({id:bt,type:"text",attrs:{}}),t.set(bt,Nt)),Nt},N=a.compareField?[0,1].map(k):k(0);C.value=N}return C},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,f.get)(t,"animation.update.duration"),n=(0,f.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},u=(0,f.deepMix)((0,Ot.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,g,C){var k,D=c.get("element");v==0&&(h=g);var G=c.getBBox(),N=G.minX,q=G.maxX,tt=G.minY,bt=G.maxY,Nt=g[n],Zt=g[a];l.adjustColor&&(u.fill=t._getAdjustedTextFillByShape(c));var ee=g.__compare__,Ht,le=(k={},k[Ss]=g,k.element=D,k.elementIndex=C,k.mappingDatum=[].concat(D.getModel().mappingData)[0],k.mappingDatumIndex=0,k);l.formatter?Ht=l.formatter(Nt,le,v,Zt,h[a]):ee?Ht=[0,1].map(function(){return""+Zt}).join(e.transpose?`

`:"    "):Ht=Nt+" "+Zt;var be=t._findLabelInContainerByIndex(s,v,!0),me=ee?ee.yValues[0]/(ee.yValues[0]+ee.yValues[1]):.5;be&&(be.attr((0,Ot.__assign)((0,Ot.__assign)({},u),{x:zl(N,q,e.transpose?.5:me),y:zl(tt,bt,e.transpose?me:.5),text:Ht})),be.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h=s.getBBox(),c=u.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?u.animate(v,e):u.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h={opacity:0};e?u.animate(h,e):u.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(g,C,k){C==0&&(e=g.get("parent").getBBox(),n=(0,f.get)(k,"__compare__"))}),e&&n&&(0,f.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,u=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(g){var C=v[g];C||(C=a.addShape({type:"text"})),C.attr((0,f.deepMix)({},(0,f.get)(t,"compareText.style"),{text:t.transpose?s[g]:g?"  "+s[g]:s[g]+"  ",x:t.transpose?l+(0,f.get)(t,"compareText.offsetX"):zl(l,u,o[0]/(o[0]+o[1])),y:t.transpose?zl(h,c,o[0]/(o[0]+o[1]))+(g?8:-8):h+(0,f.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":g?"left":"right",textBaseline:t.transpose&&g?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,u){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,u),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=Ja(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=kl(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],u=l/n,h=a-u;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,f.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,f.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,u=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(C){return C[e.xField]==u});v||(v=(l={},l[e.xField]=u,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var g=c==n?0:1;return v.__compare__.yValues[g]=h,a[g]<h&&(a[g]=h),v.__compare__.compareValues[g]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,f.get)(o,"__compare__.yValues",[]).reduce(function(l,u){return l+=u},0),(0,f.set)(o,"__compare__.yValuesMax",a),(0,f.set)(o,"__compare__.yValuesNext",(0,f.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,f.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,f.set)(n,"__compare__.yValuesMax",e),(0,f.set)(n,"__compare__.yValuesNext",(0,f.get)(t,a+1+".__compare__.yValues"))})},r}(ni),pO=$g;vn("funnel",$g);var gO=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=pO.getDefaultOptions,r}(rn),yO=gO,Qg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(hh),mO=Qg;vn("stackedRose",Qg);var xO=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=mO.getDefaultOptions,r}(rn),Jg=xO,qg=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(hh),bO=qg;vn("groupedRose",qg);var wO=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bO.getDefaultOptions,r}(rn),ty=wO,SO={area:"area",line:"line",point:"point"},CO=Pi(SO);(0,f.assign)(bn,CO);var MO=function(i){var r=i.opacity||1;return{opacity:r}},EO=function(i){var r=i.opacity||1;return{opacity:r*.5}},AO=function(i){var r=i.opacity||1;return{opacity:r}},_O=function(i){var r=i.opacity||1;return{opacity:r*.5}},TO=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},PO=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},LO=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},IO=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};ta("radar",{areaStyle:{normal:{},active:MO,disable:EO,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:AO,disable:_O,selected:TO},pointStyle:{normal:{},active:PO,disable:IO,selected:LO}});var OO={area:"area",line:"line",point:"point"},ey=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return OO[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,f.has)(t,"angleAxis")&&wi(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,f.has)(t,"radiusAxis")&&wi(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=Ni("axis",{plot:this,dim:"angle"}),n=Ni("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=li("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=li("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=li("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=Ni("label",(0,Ot.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},r}(ni),kO=ey;vn("radar",ey);var BO=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=kO.getDefaultOptions,r}(rn),ry=BO,DO=d(89810),FO=d(79189),RO=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,f.isElement)(this.container)){this.wrapperNode=(0,wt.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Lt.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,f.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,DO.Z)(this.wrapperNode),o=(0,FO.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Lt.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),ny=RO,NO="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",GO="font-size:32px;font-weight:bold;color:#4D4D4D";function YO(i,r){var t='<span class="liquid-guide-value" style='+GO+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+NO+">"+t+"</div>"}var zO=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,f.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=YO(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(ny),XO=zO,VO={liquid:"intervl",statistic:"annotation-text"},HO=Pi(VO);(0,f.assign)(bn,HO);var iy=Vi(),ay={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,f.isArray)(e)?e:[e],(0,f.each)(e,function(n,a){var o={x:(0,f.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},vh={lerp:function(i,r,t){return(1-t)*i+t*r}},WO=function(i){var r={lineWidth:0,fill:iy.color,fillOpacity:.85},t=(0,f.mix)({},r,i.style);return ay.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},jO=function(i){var r={fill:"#fff",stroke:iy.color,fillOpacity:0,lineWidth:2},t=(0,f.mix)({},r,i.style);return ay.addStrokeAttrs(t,i),t};function UO(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function ZO(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],u=e;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var h=a-i+u-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var g=v%4,C=UO(v*t/4,g,t,n);l.push(["C",C[0][0]+h,-C[0][1]+r,C[1][0]+h,-C[1][1]+r,C[2][0]+h,-C[2][1]+r]),v===s-1&&(c=C[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function KO(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var g=e<=1?0:v/(e-1),C=a.addShape("path",{attrs:{path:ZO(s,l.minY+h*t,u/4,0,u/vh.lerp(56,64,g),i,r),fill:n,opacity:vh.lerp(.6,.3,g)}}),k=Uo([["t",u/2,0]]);C.animate({matrix:k},{duration:vh.lerp(c,.7*c,g),repeat:!0})}}Mn("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,f.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),u=WO(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return KO(a.x,a.y,1-i.points[1].y,3,u,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,f.mix)(jO(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function oy(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,f.get)(r,"factor",.5)),1),a=(0,f.get)(r,"delay",0),o=(0,f.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,u=e.maxY,h=t.find(function(k){return k.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(k){return k.get("name")=="waves"}),g=(0,f.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],C=Uo(g,[["t",-l,-u],["s",1,0],["t",l,u]]);v.setMatrix(C),v.animate({matrix:g},o,r.easing,function(){return s&&s(t,h,v)},a)}oy.animationName="liquidMoveIn",di("liquidMoveIn",oy);var $O={column:"interval"},QO={interval:"liquid"},sy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,f.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,f.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,f.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};wi(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,f.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=li("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,f.get)(t,"animation.factor"),n=(0,f.get)(t,"animation.easing"),a=(0,f.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?$O[e]:QO[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,f.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,f.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var u=(0,f.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete u.visible,delete u.formatter,delete u.adjustColor,u}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,O)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Lt.Z)(o,{position:"relative"}),this.statistic=new XO((0,Ot.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,f.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,f.get)(t,"statistic.adjustColor")===!1)return{fill:(0,f.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,f.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var u=this.options.color,h=.8,c=Ja(u),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,u=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-u/2,g=c-u/2;return new on(v,g,u,u)},r}(ni),dh=sy;vn("liquid",sy);var JO=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof dh&&a.changeValue(t)});else{var n=this.layers[0];n instanceof dh&&n.changeValue(t)}},r.getDefaultOptions=dh.getDefaultOptions,r}(rn),ly=JO,uy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,f.clone)(t);(0,f.sortBy)(l,a);var u=(0,f.valuesOfKey)(l,a),h=(0,f.getRange)(u),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var g=dd(u);v=c/g}var C={};(0,f.each)(l,function(D){var G=D[a],N=e.getBin(G,v),q=N[0]+"-"+N[1];(0,f.hasKey)(C,q)||(C[q]={name:q,range:N,count:0,data:[]}),C[q].data.push(D),C[q].count+=1});var k=[];return(0,f.each)(C,function(D){k.push(D)}),k},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(Qo),qO=uy;vn("histogram",uy);var tk=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=qO.getDefaultOptions,r}(rn),fy=tk,ek={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},hy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,f.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,f.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,u=l||"epanechnikov",h=ek[u],c=(0,f.clone)(t);(0,f.sortBy)(c,a);var v=(0,f.valuesOfKey)(c,a),g=(0,f.getRange)(v),C=g.max-g.min,k=s,D=o;!s&&o&&(k=Math.floor(C/o)),!o&&s&&(D=C/s),!s&&!o&&(k=dd(v),D=C/s);var G=(0,Br.getScale)("linear"),N=new G({min:g.min,max:g.max,tickCount:k,nice:!1}),q=N.getTicks(),tt=[];return(0,f.each)(q,function(bt){var Nt=e.kernelDensityEstimator(D,h,bt,v);tt.push({value:bt.text,density:Nt})}),tt},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,f.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(th),rk=hy;vn("density",hy);var eY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=rk.getDefaultOptions,r}(rn),rY=null,nk={ring:"interval"},ik=Pi(nk);(0,f.assign)(bn,ik);var ak="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",ok="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",sk="font-size:32px;font-weight:bold;color:#4D4D4D";function lk(i,r,t,e){var n=ak+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+ok+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+sk+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var uk=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,f.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,f.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,f.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,f.each)(this.plot.options.data,function(u){typeof u[a]=="number"&&(e+=u[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,u=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:u.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=lk(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(ny),fk=uk,hk={ring:"interval"},ck={interval:"ring"},cy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,Lt.Z)(e,{position:"relative"}),this.statistic=new fk((0,Ot.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?hk[e]:ck[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(Fg),vy=cy;vn("donut",cy);var vk=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=vy.getDefaultOptions,r}(rn),dy=vk;function dk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,Ot.__assign)((0,Ot.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function pk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}Mn("interval","waterfall",{draw:function(i,r){var t=dk(i,!1,!0),e=this.parsePath(pk(i.points)),n=r.addShape("path",{attrs:(0,Ot.__assign)((0,Ot.__assign)({},t),{path:e}),name:"interval"}),a=(0,f.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,Ot.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var py=2,gk=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),u=l[la],h=l[this.layer.options.yField],c=(0,f.isArray)(u)?u[1]:u,v=this.options.formatter,g=[].concat(e.getModel().mappingData),C=v?g[0]&&g[0]._origin[Xl]:0,k=v?v(c,(n={},n[Ss]=(a=g[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=g[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=C,n),C):c,D=(s.minY+s.maxY)/2,G="bottom";h<0?(D=s.maxY+py,G="top"):D=s.minY-py,t.attr("y",D),t.attr("text",k),t.attr("textBaseline",G)},r}(nh),nY=null;qi("waterfall",gk);function yk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var mk=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,f.mix)(yk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,f.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[la],u=l;(0,f.isArray)(l)&&(u=l[1]-l[0]),u=u>0?"+"+u:u,o[ph]&&(u=l[0]-l[1]);var h=u;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+u,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:(0,Ot.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(_n.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(_n.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),xk=mk,bk={waterfall:"interval"},wk={interval:"waterfall"},la="$$value$$",ph="$$total$$",Xl="$$index$$",gy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new xk({view:this.view,fields:[t.xField,t.yField,la],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,f.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[ph]){var l=s[la];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=vo(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,Ot.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?bk[e]:wk[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,la]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,f.map)(t,function(u,h){var c,v=u[o];if(h>0){var g=n[h-1][la];(0,f.isArray)(g)?v=[g[1],u[o]+g[1]]:v=[g,u[o]+g]}n.push((0,Ot.__assign)((0,Ot.__assign)({},u),(c={},c[la]=v,c[Xl]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,f.map)(t,function(u){return u[o]}),l=(0,f.reduce)(s,function(u,h){return u+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[la]=[l,0],e[Xl]=n.length,e[ph]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&wi(e[t.xField],t.xAxis),e[la]={},(0,f.has)(t,"yAxis")&&wi(e[la],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=Ni("axis",{plot:this,dim:"x"}),e=Ni("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[la]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,R)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,la]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,f.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,Ot.__assign)((0,Ot.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,la,Xl]};if((0,f.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",u="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,f.isString)(e.color))l=u=h=e.color;else if((0,f.isObject)(e.color)){var c=e.color,v=c.rising,g=c.falling,C=c.total;l=v,u=g,h=C}s.callback=function(k,D,G,N){return N===t.options.data.length?h||(G[0]>=0?l:u):((0,f.isArray)(G)?G[1]-G[0]:G)>=0?l:u}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[la]=n}},r}(ni),Sk=gy;vn("waterfall",gy);var Ck=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Sk.getDefaultOptions,r}(rn),yy=Ck,Mk=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new on(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new on(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var u={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(u)}else s=[new on(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new on(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new on(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var g={name:"top-right",bbox:new on(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(g);var C={name:"bottom-right",bbox:new on(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(C)}}else if(s.length===2)if(e<=o.min){var k={name:"top-left",bbox:s[0],index:0};this.regionData.push(k);var g={name:"top-right",bbox:s[1],index:2};this.regionData.push(g)}else{var D={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(D);var C={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(C)}else if(t<=a.min)if(e<=o.min){var g={name:"top-right",bbox:s[0],index:2};this.regionData.push(g)}else{var C={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(C)}else if(e<=o.min){var k={name:"top-left",bbox:s[0],index:0};this.regionData.push(k)}else{var D={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(D)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,f.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,Ot.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var u=(0,f.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,u);s.addShape("text",{attrs:(0,Ot.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,f.deepMix)({},t.line,this.options.lineStyle);(0,f.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,f.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,f.isFunction)(n)&&(0,f.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,f.isFunction)(s)?s=s(r):(0,f.isArray)(s)&&(s=s[e]);var l=t.position,u=l.split("-"),h=r.name.split("-");return h[1]==="left"?(u[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),u[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(u[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),u[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(u[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),u[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(u[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),u[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,f.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,Ot.__assign)({x:n,y:a,text:s},o)},i}(),Ek=Mk,ko=d(56645),Ak={exp:ko.regressionExp,linear:ko.regressionLinear,loess:ko.regressionLoess,log:ko.regressionLog,poly:ko.regressionPoly,pow:ko.regressionPow,quad:ko.regressionQuad};function _k(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var Tk=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=Ak[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,Br.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),u=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,u,e);this.container.addShape("path",{attrs:(0,Ot.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,u,e),v=[[0,0],[1,1]],g=Hf(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,Ot.__assign)({path:g},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,f.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=_k(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,f.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,u=e.start.y-e.height*s;n.push({x:l,y:u})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,f.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),g=t.scale(c.y0),C=t.scale(c.y1),k=e.start.x+e.width*v,D=e.start.y-e.height*g,G=e.start.y-e.height*C;n.push({x:k,y:D}),a.push({x:k,y:G})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",u=n[s];!isNaN(u.x)&&!isNaN(u.y)&&o.push([l,u.x,u.y])}for(var h=a.length-1;h>0;h--){var u=a[h];!isNaN(u.x)&&!isNaN(u.y)&&o.push(["L",u.x,u.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,u=o.yField,h=e==="x"?l:u,c=(0,f.minBy)(s,h)[h],v=(0,f.maxBy)(s,h)[h],g=(n-c)/(v-c),C=(a-v)/(v-c),k=(0,f.minBy)(t,e)[e],D=(0,f.maxBy)(t,e)[e];return{min:k+g*(D-k),max:D+C*(D-k)}},i}(),Pk=Tk,Lk={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},Ik=Pi(Lk);(0,f.assign)(bn,Ik);var Ok=function(i){var r=i.stroke||"#000";return{stroke:r}},kk=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},Bk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ta("scatter",{pointStyle:{normal:{},active:Ok,selected:kk,inactive:Bk}});var Dk={scatter:"point"},Fk={point:"point"},my=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new Ek((0,Ot.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new Pk((0,Ot.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,f.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,f.get)(this.options,["xAxis","type"],"linear"),l=(0,f.get)(this.options,["yAxis","type"],"linear");if(s&&l){var u=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,Ot.__assign)((0,Ot.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return u}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?Dk[e]:Fk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&wi(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&wi(e[t.yField],t.yAxis);var n=(0,f.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,f.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=li("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,Ot.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=Ni("label",(0,Ot.__assign)((0,Ot.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||Y)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(ni),xy=my;vn("scatter",my);var Rk=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xy.getDefaultOptions,r}(rn),by=Rk,Nk=d(75564);Mn("point","bubble-point",{draw:function(i,r){var t=(0,Nk.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var Gk=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},Yk=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},zk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ta("bubble",{pointStyle:{normal:{},active:Gk,selected:Yk,inactive:zk}});var wy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Y)},r}(xy),Xk=wy;vn("bubble",wy);var Vk=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=Xk.getDefaultOptions,r}(rn),Sy=Vk,Hk={bullet:"interval",bulletTarget:"bullet-target"},Wk=Pi(Hk);(0,f.assign)(bn,Wk);var jk=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,f.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var u=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=u}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new on(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,f.get)(a,"lineHeight",0)-a.fontSize/2,u=0;u<o;u+=1){var h=r.minX+t*u*e,c=""+t*u;if(n.axis.formatter&&(c=n.axis.formatter(c,u)),this.container.addShape("text",{name:"tick",attrs:(0,Ot.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;u>0&&u!==o-1&&this.container.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),Uk=jk,Zk=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,f.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var u=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,Ot.__assign)((0,Ot.__assign)({width:u.width,height:r.height*a.markerSize-u.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},u),{fill:o[l%o.length]||u.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),Kk=Zk,$k=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},Qk=function(i){var r=i.opacity||1;return{opacity:r*.5}};ta("bullet",{columnStyle:{normal:{},active:$k,disable:Qk,selected:{}}});var Jk={bullet:"interval"},qk={interval:"bullet"},tB="$$stackField$$",eB="$$xField$$",rB="$$yField$$",Cy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:tB,xField:eB,yField:rB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,f.has)(t,"yAxis")&&wi(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&wi(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new Uk(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new Kk(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?Jk[e]:qk[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,Ot.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=li("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,j)},r.prototype.extractLabel=function(){var t=this.options,e=(0,f.deepMix)({},t.label);if(e.visible===!1)return!1;var n=Ni("label",(0,Ot.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var u=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=u,s[e.stackField]=""+l,s))}}),n},r}(ni),nB=Cy;vn("bullet",Cy);var iB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=nB.getDefaultOptions,r}(rn),My=iB,qo="$$day$$",ts="$$week$$",Ey="$$date$$",iY="$$is_month_center$$",es="YYYY-MM-DD",aB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oB=["S","M","T","W","T","F","S"],Ts=864e5;function sB(i){var r=(0,Ot.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[po.default.format((0,f.head)(r),es),po.default.format((0,f.last)(r),es)]}function aY(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function lB(i){return i.getMonth()!==Vl(new Date(i),7*Ts).getMonth()}function uB(i){return i.getMonth()!==Vl(new Date(i),Ts).getMonth()}function Ay(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/Ts+r.getDay()+1)/7)}function fB(i){return i.getDay()}function Vl(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function _y(i){var r,t=i[0],e=i[1],n=po.default.parse(t,es),a=po.default.parse(e,es);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function hB(i,r,t){for(var e=[],n=_y(r),a=n[0],o=n[1],s=new Date(a),l=function(){var u,h=po.default.format(s,es),c=(0,f.find)(i,function(v){return v[t]===h});e.push((0,Ot.__assign)((u={},u[qo]=fB(s),u[ts]=""+Ay(s),u[t]=h,u[Ey]=new Date(s),u),c)),Vl(s,Ts)};s<=o;)l();return e}function cB(i){var r=_y(i),t=r[0],e=r[1],n=new Map;function a(l){var u=l.getMonth(),h=Ay(l);n.has(u)||n.set(u,[]),n.get(u).push(h)}for(var o=new Date(t);o<=e;)a(o),Vl(o,Ts*7);e<o&&a(e);var s={};return n.forEach(function(l,u){var h=Math.ceil(((0,f.head)(l)+(0,f.last)(l))/2);s[h]=u}),s}var vB={rect:"polygon"},dB=Pi(vB);(0,f.assign)(bn,dB);var Ty=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[qo]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[ts]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,f.isNil)(n)){var a=(0,f.map)(t,function(o){return po.default.parse(""+o[e],es)});n=sB(a)}return hB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[ts,qo]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[ts,qo]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return Ni("label",(0,Ot.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=Ni("axis",{plot:this,dim:"x"}),e=Ni("axis",{plot:this,dim:"y"}),n={};n[ts]=t,n[qo]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=cB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?oB:a,s=n.months,l=s===void 0?aB:s,u=e[ts],h=e[qo];u.formatter=function(C){var k=t[C];return k!==void 0?l[k]:""},h.formatter=function(C){return o[C]||""};var c=this.options,v=c.xAxis,g=c.yAxis;u.alias=(0,f.get)(v,["title","text"],u.alias),h.alias=(0,f.get)(g,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,V)},r}(ni),pB=Ty;vn("calendar",Ty),Mn("polygon","calendar-polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,Ot.__assign)((0,Ot.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[Ey];if(lB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),uB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var gB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=pB.getDefaultOptions,r}(rn),yB=gB,Py=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;Mn("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,u=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:u.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var g=this.getAngleRange(),C=g.starAngle,k=g.endAngle,D=u.x*(k-C)+C;switch(l){case"meterGauge":this.drawBarGauge(D),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(D),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(D),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Vi().colors,u=this.getAngleRange(),h=u.starAngle,c=u.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},g=0;g<a.length;g++){var C=this.valueToAngle(a[g],v),k=this.valueToAngle(a[g+1],v);if(k>=C){var D=this.getPath(C,k),G=(0,f.deepMix)({fill:l[g]},s);this.drawRing(D,G)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,g=this.valueToAngle(v+h/2,u);this.drawRect(g,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u),C=(0,f.clone)(t.tickLine.style);c%5!=0&&(C.lineWidth=C.lineWidth/2),this.drawRect(g,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:C})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u);this.drawRect(g,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,u=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||Vi().colors,v=this.getAngleRange(),g=v.starAngle,C=v.endAngle,k={min:a,max:o,starAngle:g,endAngle:C},D=(C-g)/(50-1),G=D/3,N=0;N<50;N++){var q=g+N*D,tt=this.getPath(q-G/2,q+G-G/2),bt=h;if(s&&s.length){var Nt=s.map(function(Ht){return e.valueToAngle(Ht,k)}),Zt=lE(Nt,q),ee=Math.min(Zt,s.length-1);bt=(0,f.deepMix)({},{fill:c[ee-1]},u)||h}else bt=t>=q?(0,f.deepMix)({},{fill:l},u):h;this.drawRing(tt,bt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var u=l*(s-o)+o;return u=Math.max(u,o),u=Math.min(u,s),u},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,f.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,Ot.__assign)((0,Ot.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,u;o<0?u=this.gauge.ringRadius-this.gauge.options.rangeSize+o:u=this.gauge.ringRadius+o;var h=u*Math.cos(t)+l.x,c=u*Math.sin(t)+l.y,v=(u+s)*Math.cos(t)+l.x,g=(u+s)*Math.sin(t)+l.y,C=this.gauge.group.addShape("line",{attrs:(0,f.deepMix)({},{x1:h,y1:c,x2:v,y2:g},e.style)});C.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,u=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,g=(a-o)*Math.cos(e)+n.x,C=(a-o)*Math.sin(e)+n.y,k=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,k,1,c,v],["L",g,C],["A",a-o,a-o,0,k,0,u,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,u=this.gauge.pivot,h=u.thickness,c=u.thickness/2.5,v=this.gauge.group,g=t.points[0],C=this.parsePoint({x:0,y:0}),k=g.x*(a-n)+n,D=(this.gauge.ringRadius-l)*s*Math.cos(k)+this.gauge.center.x,G=(this.gauge.ringRadius-l)*s*Math.sin(k)+this.gauge.center.y,N={x:D,y:G};if(u.base.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:C.x,y:C.y,r:u.base.size?u.base.size/2:h*2.2},u.base.style)}),u.pointer.visible){var q={x:C.x-N.x,y:C.y-N.y},tt=Math.sqrt(q.x*q.x+q.y*q.y);q.x*=1/tt,q.y*=1/tt;var bt=-Math.PI/2,Nt=Math.cos(bt)*q.x-Math.sin(bt)*q.y,Zt=Math.sin(bt)*q.x+Math.cos(bt)*q.y,ee=Math.PI/2,Ht=Math.cos(ee)*q.x-Math.sin(ee)*q.y,le=Math.sin(ee)*q.x+Math.cos(ee)*q.y,be=[["M",N.x+Nt*c,N.y+Zt*c],["L",C.x+Nt*h,C.y+Zt*h],["L",C.x+Ht*h,C.y+le*h],["L",N.x+Ht*c,N.y+le*c],["Z"]];v.addShape("path",{attrs:(0,f.deepMix)({},{path:be},u.pointer.style)}),v.addShape("circle",{attrs:{x:N.x,y:N.y,r:c,fill:u.pointer.style.fill}}),v.addShape("circle",{attrs:{x:C.x,y:C.y,r:h,fill:u.pointer.style.fill}})}u.pin.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:C.x,y:C.y,r:c/1.2},u.pin.style)})}})},i}(),mB={range:"point",statistic:"annotation-text"},xB=Pi(mB);(0,f.assign)(bn,xB);var Ly=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(C){return+C}).sort(function(C,k){return C-k}),o=this.options,s=o.min,l=s===void 0?a[0]:s,u=o.max,h=u===void 0?a[a.length-1]:u,c=o.format,v=c===void 0?function(C){return""+C}:c,g=v(e);this.options.data=[{value:e||0}],this.options.valueText=g,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new Py((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};wi(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,nt)},r}(ni),gh=Ly;vn("gauge",Ly);var bB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gh.getDefaultOptions,r}(rn),Iy=bB,Oy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new Py((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(u,h){return{type:"text",top:!0,position:["50%","50%"],content:a(u),style:(0,f.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(gh),wB=Oy;vn("fanGauge",Oy);var SB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=wB.getDefaultOptions,r}(rn),ky=SB,By=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(gh),CB=By;vn("meterGauge",By);var MB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=CB.getDefaultOptions,r}(rn),Dy=MB,EB=d(42473),qa=d.n(EB),oY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=vy.getDefaultOptions,r}(rn),sY=null,lY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=ah.getDefaultOptions,r}(rn),uY=null,fY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=Up.getDefaultOptions,r}(rn),hY=null,cY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=vg.getDefaultOptions,r}(rn),vY=null,dY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=$p.getDefaultOptions,r}(rn),pY=null,gY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=Lg.getDefaultOptions,r}(rn),yY=null,mY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=rh.getDefaultOptions,r}(rn),xY=null,bY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=Jf.getDefaultOptions,r}(rn),wY=null,SY=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),qa()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=Dl.getDefaultOptions,r}(rn),CY=null,AB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,f.each)(e.guideLine,function(o){var s=Ni("guideLine",{plot:t,cfg:(0,f.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(ni),Hl=AB,_B=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,f.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,u=(0,f.deepMix)({},l,r.style);n=(0,f.deepMix)({},u,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,f.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,Ot.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),Fy=_B,TB={progress:"interval"},PB=Pi(TB);(0,f.assign)(bn,PB);var LB={progress:"interval"},IB={interval:"progress"},Ry=["#55A6F3","#E8EDF3"],Ny=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Ry};t=(0,f.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,f.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,f.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,f.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,f.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,f.each)(this.options.marker,function(s){var l=(0,f.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),u=new Fy(l);t.markers.push(u)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?LB[e]:IB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=li("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,f.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,ct)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,f.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,f.isString)(e)){var n=(0,f.clone)(Ry);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,f.each)(this.markers,function(u,h){h>e-1?u.destroy():u.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,f.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new Fy(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,f.each)(l,function(u){if(u.type==="interval"){var h=u.elements;(0,f.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,f.isArray)(t)?(0,f.each)(t,function(u,h){o[h].animate(u,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,f.isArray)(t)?(0,f.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(Hl),Gy=Ny;vn("progress",Ny);var OB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=Gy.getDefaultOptions,r}(rn),Yy=OB,kB={ringProgress:"interval"},BB=Pi(kB);(0,f.assign)(bn,BB);var DB=["#55A6F3","#E8EDF3"],zy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||DB};t=(0,f.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=li("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,ut)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(Gy),FB=zy;vn("ringProgress",zy);var RB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=FB.getDefaultOptions,r}(rn),Xy=RB,NB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,f.assign)(bn,NB);var GB=.6,YB={column:"interval"},zB={interval:"column"},Vy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?YB[e]:zB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=li("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Pt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,f.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*GB},r.prototype.getColumnNum=function(t,e){var n=[];return(0,f.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(Hl),XB=Vy;vn("tinyColumn",Vy);var VB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=XB.getDefaultOptions,r}(rn),Hy=VB,HB={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(bn,HB);var WB={area:"area",line:"line"},Wy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return WB[e]},r.prototype.addGeometry=function(){this.area=li("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=li("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Gt)},r}(Hl),jB=Wy;vn("tinyArea",Wy);var UB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=jB.getDefaultOptions,r}(rn),jy=UB,ZB={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(bn,ZB);var KB={line:"line"},Uy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return KB[e]},r.prototype.addGeometry=function(){this.line=li("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,qt)},r}(Hl),$B=Uy;vn("tinyLine",Uy);var QB=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$B.getDefaultOptions,r}(rn),Zy=QB,yh=5,JB=function(i){(0,Ot.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},t),e.themeController=new Xf,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,f.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,u=0;u<this.requiredField.length;u++){var h=this.requiredField[u];if(!(0,f.hasKey)(this.options,h))return!1}return!(!(0,f.isArray)(l)||l.length<2||!(0,f.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,f.each)(o,function(c,v){if(!(0,f.isArray)(c)||c.length===0){var g=t.getMockData(v);o[v]=g}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,f.isArray)(t[0])||(0,f.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,f.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,f.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,f.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,Ot.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,f.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,f.each)(s,function(h,c){if(!(0,f.isString)(h)&&(0,f.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var u=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,f.deepMix)({},u,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,Br.getScale)("linear"),a=new n((0,f.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),u=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),u.push(c)}return u},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,f.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],u=o.max?o.max:s[s.length-1];return{min:l,max:u,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=Vi().bleeding;(0,f.isArray)(a)&&(0,f.each)(a,function(g,C){typeof a[C]=="function"&&(a[C]=a[C](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),u=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),u=h.height+yh*2);var v=s.map(function(g,C){return C===0?Math.max.apply(null,[g+u,l[C]]):Math.max.apply(null,[g,l[C]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+yh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+yh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,f.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,f.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,f.each)(s,function(l){var u=l.get("component").get("field");u===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Wo(t.title)){var n=this.width,a=this.theme,o=new yl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Wo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Wo(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new yl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new on(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,f.each)(o,function(s){if(s){var l=s.position,u=s.getBBox(),h=u.minX,c=u.maxX,v=u.minY,g=u.maxY;g>=n&&g<=a&&l==="top"&&(n=g),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new on(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(gl),Ky=JB,$y={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Qy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Jy=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:Qy,rightConfig:Qy},lineConfigs:[(0,f.deepMix)({},$y,{color:"#5B8FF9"}),(0,f.deepMix)({},$y,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,u=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,g=e.customMeta;this.colors=[h[0].color,h[1].color];var C=this.getYAxisGlobalConfig(),k=this.createLayer(Es,n[0],(0,Ot.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,f.deepMix)({},C,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));k.render();var D={};D[s[1]]={ticks:this.getTicks()};var G=this.createLayer(Es,n[1],(0,Ot.__assign)({xField:o,yField:s[1],meta:g?a:(0,f.deepMix)({},a,D),serieField:s[1],xAxis:l,yAxis:(0,f.deepMix)({},C,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(N,q){t.tooltip(N,q)}}},u),events:v},h[1]));G.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,f.clone)(e.items[0]),u=this.getDataByXField(e.title,0)[0];u&&(0,f.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,Ot.__assign)((0,Ot.__assign)({},l),{mappingData:(0,f.deepMix)({},l.mappingData,{_origin:u}),data:u,name:o[0],value:u[o[0]],color:this.colors[0]})),s.visible&&(0,f.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var g=c===0?1:0;e.items.splice(g,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,f.each)(this.geomLayers,function(u,h){var c=(0,f.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],g=new ln.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});g.init(),g.render(),t.legends.push(g)}),(0,f.each)(this.geomLayers,function(u,h){t.legendFilter(h)})},r}(Ky),qB=Jy;vn("dualLine",Jy);var tD=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=qB.getDefaultOptions,r}(rn),qy=tD,eD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},rD={color:"#5B8FF9"},t0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},e0=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:t0,rightConfig:t0},lineConfig:eD,columnConfig:rD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Vi(),l=s.colors,u=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?u:l,v=[];(0,f.each)(h,function(g,C){v.push(c[C+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,u=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,u.color],this.drawColumn();var g={};g[o[1]]={ticks:this.getTicks()};var C=this.createLayer(Es,e[1],(0,Ot.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,f.deepMix)({},n,g),xAxis:{visible:!1},yAxis:(0,f.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},u));C.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,u=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(Qo,n[0],(0,Ot.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,f.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}},l),events:c},u));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,u=(0,f.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,f.get)(l,"formatter");if(h&&(0,f.each)(h,function(D,G){var N=n.geomLayers[1].options.seriesField,q=N?D[N]:s[1],tt=c?c(D[o],D[s[1]],D[N]):{name:q,value:D[s[1]]};e.items.push((0,Ot.__assign)((0,Ot.__assign)((0,Ot.__assign)((0,Ot.__assign)({},u),{mappingData:(0,f.deepMix)({},u.mappingData,{_origin:h}),data:D}),tt),{color:(0,f.isArray)(n.colors[1])?n.colors[1][G]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),g=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===g){t.style.display="none";return}else t.style.display="block";var C=[],k=[];(0,f.each)(e.items,function(D){var G=D.name;!(0,f.contains)(C,G)&&!(0,f.contains)(v,G)&&(C.push(G),k.push(D))}),(0,f.each)(e.items,function(D,G){G<k.length?e.items[G]=k[G]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,f.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],u=new ln.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return u.init(),u.render(),u},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,f.each)(t,function(u,h){s.push({name:u,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new ln.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(u){var h=n.geomLayers[t].view,c=u.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,f.pull)(o,c.name),h.filter(c.value,function(v){return!(0,f.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,f.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r}(Ky),mh=e0;vn("columnLine",e0);var nD=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=mh.getDefaultOptions,r}(rn),r0=nD,iD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},aD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},n0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},i0=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},n0,{colorMapping:!1}),rightConfig:n0},lineConfig:iD,columnConfig:aD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=Vi(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],C=s.length;(0,f.each)(c,function(D,G){g.push(v[G+C])}),a.lineConfig.color=g}var k=this.options.columnConfig.color;this.options.columnConfig.color=k.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(ah,n[0],(0,Ot.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.groupField){var g=t.getValueByGroupField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(mh),oD=i0;vn("groupedColumnLine",i0);var sD=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=oD.getDefaultOptions,r}(rn),a0=sD,lD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},uD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},o0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},s0=function(i){(0,Ot.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},o0,{colorMapping:!1}),rightConfig:o0},lineConfig:lD,columnConfig:uD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=Vi(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],C=n.length;(0,f.each)(c,function(D,G){g.push(v[G+C])}),o.lineConfig.color=g}var k=this.options.columnConfig.color;this.options.columnConfig.color=k.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Dl,n[0],(0,Ot.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,C){t.tooltip(g,C)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.stackField){var g=t.getValueByStackField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(mh),fD=s0;vn("stackedColumnLine",s0);var hD=function(i){(0,Ot.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=fD.getDefaultOptions,r}(rn),l0=hD,cD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},MY=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},vD=function(r,t){return new Set(r.concat(t)).size===r.length},dD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},pD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},Ps={sameArray:vD,camelCase:cD,isType:dD,clone:pD},gD=d(73935),yD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",gD.render(r,t),t},xh=yD;function u0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function mD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?u0(Object(t),!0).forEach(function(e){xD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):u0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function xD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function dn(i,r){var t=(0,X.useRef)(),e=(0,X.useRef)(null),n=function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(u,h)},a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var g,C=r;v="".concat((C==null||(g=C.title)===null||g===void 0?void 0:g.text)||(i==null?void 0:i.name),".png")}var k=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(u,h),D=document.createElement("a");D.href=k,D.download=v,document.body.appendChild(D),D.click(),document.body.removeChild(D),D=null}catch(G){console.log(G)}},o=function(){var l,u,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var g=r.statistic.htmlContent;r.statistic.htmlContent=function(){var k=g.apply(void 0,arguments);return Ps.isType(k,"String")||Ps.isType(k,"Number")||Ps.isType(k,"HTMLDivElement")?k:xh(k)}}if(((u=r.tooltip)===null||u===void 0||(h=u.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=xh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var C=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(k,D){var G=C(k,D)||"";return Ps.isType(G,"HTMLDivElement")?G:xh(G)}}};return(0,X.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,X.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,mD({},r));return s.__proto__.toDataURL=function(l,u){return n(l,u)},s.__proto__.downloadImage=function(l,u,h){return a(l,u,h)},s.render(),t.current=Ps.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var bD=X.createContext({});function Wl(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wl=function(t){return typeof t}:Wl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(i)}function wD(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function f0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function SD(i,r,t){return r&&f0(i.prototype,r),t&&f0(i,t),i}function CD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&bh(i,r)}function bh(i,r){return bh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},bh(i,r)}function MD(i){var r=_D();return function(){var e=jl(i),n;if(r){var a=jl(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return ED(this,n)}}function ED(i,r){return r&&(Wl(r)==="object"||typeof r=="function")?r:AD(i)}function AD(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _D(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function jl(i){return jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jl(i)}var TD=function(i){CD(t,i);var r=MD(t);function t(){var e;return wD(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return X.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return SD(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(X.Component),cn=TD,EY=bD.Provider;function PD(i,r){if(i==null)return{};var t=LD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var h0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PD(i,["chartRef","style","className"]),s=dn(lg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});h0.defaultProps=lg.getDefaultOptions();var ID=h0;function OD(i,r){if(i==null)return{};var t=kD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function kD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var c0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OD(i,["chartRef","style","className"]),s=dn(Vp,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});c0.defaultProps=Vp.getDefaultOptions();var BD=c0;function DD(i,r){if(i==null)return{};var t=FD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function FD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var v0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=DD(i,["chartRef","style","className"]),s=dn(Sy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});v0.defaultProps=Sy.getDefaultOptions();var RD=v0;function ND(i,r){if(i==null)return{};var t=GD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function GD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var d0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=ND(i,["chartRef","style","className"]),s=dn(My,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});d0.defaultProps=My.getDefaultOptions();var YD=d0;function zD(i,r){if(i==null)return{};var t=XD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function XD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var VD=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=zD(i,["chartRef","style","className"]),s=dn(yB,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))}),HD=VD;function WD(i,r){if(i==null)return{};var t=jD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function jD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var p0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=WD(i,["chartRef","style","className"]),s=dn(mg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});p0.defaultProps=mg.getDefaultOptions();var g0=p0;function UD(i,r){if(i==null)return{};var t=ZD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function ZD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=UD(i,["chartRef","style","className"]),s=dn(r0,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});y0.defaultProps=r0.getDefaultOptions();var KD=y0;function $D(i,r){if(i==null)return{};var t=QD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function QD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=$D(i,["chartRef","style","className"]),s=dn(Yg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});m0.defaultProps=Yg.getDefaultOptions();var JD=m0;function qD(i,r){if(i==null)return{};var t=tF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function tF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var x0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=qD(i,["chartRef","style","className"]),s=dn(dy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});x0.defaultProps=dy.getDefaultOptions();var b0=x0;function eF(i,r){if(i==null)return{};var t=rF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function rF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var w0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=eF(i,["chartRef","style","className"]),s=dn(qy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});w0.defaultProps=qy.getDefaultOptions();var nF=w0;function iF(i,r){if(i==null)return{};var t=aF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function aF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var S0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=iF(i,["chartRef","style","className"]),s=dn(ky,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});S0.defaultProps=ky.getDefaultOptions();var oF=S0;function sF(i,r){if(i==null)return{};var t=lF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function lF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var uF=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=sF(i,["chartRef","style","className"]),s=dn(yO,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))}),fF=uF;function hF(i,r){if(i==null)return{};var t=cF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function cF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var C0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=hF(i,["chartRef","style","className"]),s=dn(Iy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});C0.defaultProps=Iy.getDefaultOptions();var vF=C0;function dF(i,r){if(i==null)return{};var t=pF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function pF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var M0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=dF(i,["chartRef","style","className"]),s=dn(Zp,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});M0.defaultProps=Zp.getDefaultOptions();var gF=M0;function yF(i,r){if(i==null)return{};var t=mF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function mF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var E0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=yF(i,["chartRef","style","className"]),s=dn(bg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});E0.defaultProps=bg.getDefaultOptions();var xF=E0;function bF(i,r){if(i==null)return{};var t=wF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function wF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var A0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=bF(i,["chartRef","style","className"]),s=dn(a0,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});A0.defaultProps=a0.getDefaultOptions();var SF=A0;function CF(i,r){if(i==null)return{};var t=MF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function MF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=CF(i,["chartRef","style","className"]),s=dn(ty,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});_0.defaultProps=ty.getDefaultOptions();var EF=_0;function AF(i,r){if(i==null)return{};var t=_F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var T0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=AF(i,["chartRef","style","className"]),s=dn(Hg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});T0.defaultProps=Hg.getDefaultOptions();var TF=T0;function PF(i,r){if(i==null)return{};var t=LF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PF(i,["chartRef","style","className"]),s=dn(fy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});P0.defaultProps=fy.getDefaultOptions();var IF=P0;function OF(i,r){if(i==null)return{};var t=kF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function kF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OF(i,["chartRef","style","className"]),s=dn(Cp,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});L0.defaultProps=Cp.getDefaultOptions();var I0=L0;function BF(i,r){if(i==null)return{};var t=DF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function DF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=BF(i,["chartRef","style","className"]),s=dn(ly,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});O0.defaultProps=ly.getDefaultOptions();var FF=O0;function RF(i,r){if(i==null)return{};var t=NF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function NF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var k0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=RF(i,["chartRef","style","className"]),s=dn(Dy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});k0.defaultProps=Dy.getDefaultOptions();var GF=k0;function YF(i,r){if(i==null)return{};var t=zF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function zF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=YF(i,["chartRef","style","className"]),s=dn(dg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});B0.defaultProps=dg.getDefaultOptions();var XF=B0;function VF(i,r){if(i==null)return{};var t=HF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function HF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=VF(i,["chartRef","style","className"]),s=dn(Qp,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});D0.defaultProps=Qp.getDefaultOptions();var WF=D0;function jF(i,r){if(i==null)return{};var t=UF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function UF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=jF(i,["chartRef","style","className"]),s=dn(Ig,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});F0.defaultProps=Ig.getDefaultOptions();var ZF=F0;function KF(i,r){if(i==null)return{};var t=$F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KF(i,["chartRef","style","className"]),s=dn(Rg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});R0.defaultProps=Rg.getDefaultOptions();var QF=R0;function JF(i,r){if(i==null)return{};var t=qF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function qF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=JF(i,["chartRef","style","className"]),s=dn(Yy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});N0.defaultProps=Yy.getDefaultOptions();var G0=N0;function t5(i,r){if(i==null)return{};var t=e5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function e5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=t5(i,["chartRef","style","className"]),s=dn(ry,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});Y0.defaultProps=ry.getDefaultOptions();var r5=Y0;function n5(i,r){if(i==null)return{};var t=i5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function i5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=n5(i,["chartRef","style","className"]),s=dn(ng,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});z0.defaultProps=ng.getDefaultOptions();var a5=z0;function o5(i,r){if(i==null)return{};var t=s5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function s5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=o5(i,["chartRef","style","className"]),s=dn(Tg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});X0.defaultProps=Tg.getDefaultOptions();var l5=X0;function u5(i,r){if(i==null)return{};var t=f5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function f5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=u5(i,["chartRef","style","className"]),s=dn(Xy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});V0.defaultProps=Xy.getDefaultOptions();var H0=V0;function h5(i,r){if(i==null)return{};var t=c5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function c5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=h5(i,["chartRef","style","className"]),s=dn(jg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});W0.defaultProps=jg.getDefaultOptions();var v5=W0;function d5(i,r){if(i==null)return{};var t=p5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function p5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=d5(i,["chartRef","style","className"]),s=dn(by,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});j0.defaultProps=by.getDefaultOptions();var g5=j0;function y5(i,r){if(i==null)return{};var t=m5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function m5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=y5(i,["chartRef","style","className"]),s=dn(hg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});U0.defaultProps=hg.getDefaultOptions();var x5=U0;function b5(i,r){if(i==null)return{};var t=w5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function w5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=b5(i,["chartRef","style","className"]),s=dn(Wp,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});Z0.defaultProps=Wp.getDefaultOptions();var S5=Z0;function C5(i,r){if(i==null)return{};var t=M5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function M5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var K0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=C5(i,["chartRef","style","className"]),s=dn(Cg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});K0.defaultProps=Cg.getDefaultOptions();var E5=K0;function A5(i,r){if(i==null)return{};var t=_5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=A5(i,["chartRef","style","className"]),s=dn(l0,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});$0.defaultProps=l0.getDefaultOptions();var T5=$0;function P5(i,r){if(i==null)return{};var t=L5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function L5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=P5(i,["chartRef","style","className"]),s=dn(Jg,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});Q0.defaultProps=Jg.getDefaultOptions();var I5=Q0;function O5(i,r){if(i==null)return{};var t=k5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function k5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=O5(i,["chartRef","style","className"]),s=dn(Fp,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});J0.defaultProps=Fp.getDefaultOptions();var B5=J0;function D5(i,r){if(i==null)return{};var t=F5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function F5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=D5(i,["chartRef","style","className"]),s=dn(jy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});q0.defaultProps=jy.getDefaultOptions();var tm=q0;function R5(i,r){if(i==null)return{};var t=N5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function N5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=R5(i,["chartRef","style","className"]),s=dn(Hy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});em.defaultProps=Hy.getDefaultOptions();var rm=em;function G5(i,r){if(i==null)return{};var t=Y5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Y5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nm=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=G5(i,["chartRef","style","className"]),s=dn(Zy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});nm.defaultProps=Zy.getDefaultOptions();var z5=nm;function X5(i,r){if(i==null)return{};var t=V5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function V5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var im=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=X5(i,["chartRef","style","className"]),s=dn(Bp,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});im.defaultProps=Bp.getDefaultOptions();var H5=im;function W5(i,r){if(i==null)return{};var t=j5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function j5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var am=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=W5(i,["chartRef","style","className"]),s=dn(yy,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))});am.defaultProps=yy.getDefaultOptions();var U5=am;function Z5(i,r){if(i==null)return{};var t=K5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function K5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $5=(0,X.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Z5(i,["chartRef","style","className"]),s=dn(rO,o),l=s.chart,u=s.container;return(0,X.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,X.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),X.createElement(cn,null,X.createElement("div",{className:a,style:n,ref:u}))}),Q5=$5,J5={i8:"3.8.5"},oi=d(50229),q5={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,Nn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,Nn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},tR=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,oi.d9)(q5);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,oi.S6)(l,function(h,c){u[c]=(0,oi.Ko)(s,h)}),this.events=u)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),wh=tR,Sh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Sh||(Sh={}));var Ca=d(16185),Qt=d(86031),eR=d(21885),rR=function(i){(0,Qt.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(eR.Z),Ch=function(r){var t=0,e=0,n=0,a=0;if((0,Ca.default)(r))t=e=n=a=r;else if((0,Ln.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,Ri.default)(r)&&(t=r[0],n=(0,Fi.default)(r[1])?r[0]:r[1],a=(0,Fi.default)(r[2])?r[0]:r[2],e=(0,Fi.default)(r[3])?n:r[3]);return[t,n,a,e]},Ul=function(r){var t=new rR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},om=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},to=function(r){return Number.isNaN(Number(r))},sm=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),u=l.minX,h=l.minY,c=l.maxX,v=l.maxY;u<t&&(t=u),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var g=Math.floor(t),C=Math.floor(n),k=Math.ceil(e)-Math.floor(t),D=Math.ceil(a)-Math.floor(n);return{x:g,y:C,width:k,height:D,minX:t,minY:n,maxX:e,maxY:a}},nR=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},u=0;u<e;u++){var h=r[u],c=h.source,v=h.target,g=c+"-"+v;if(!s[u]){o[g]||(o[g]=[]),s[u]=!0,o[g].push(h);for(var C=0;C<e;C++)if(u!==C){var k=r[C],D=k.source,G=k.target;s[C]||(c===G&&v===D?(o[g].push(k),s[C]=!0,l[D+"|"+G+"|"+(o[g].length-1)]=!0):c===D&&v===G&&(o[g].push(k),s[C]=!0))}}}for(var N in o)for(var q=o[N],tt=q.length,bt=0;bt<tt;bt++){var Nt=q[bt];if(Nt.source===Nt.target){Nt.type="loop",Nt.loopCfg={position:a[bt%8],dist:Math.floor(bt/8)*20+50};continue}Nt.type="quadratic";var Zt=(bt%2==0?1:-1)*(l[Nt.source+"|"+Nt.target+"|"+bt]?-1:1);tt%2==1?Nt.curveOffset=Zt*Math.ceil(bt/2)*n:Nt.curveOffset=Zt*(Math.floor(bt/2)*n+t)}return r},lm=Math.abs,iR=10,aR=["shift","ctrl","alt","control"],oR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(to(e)||to(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=s+this.scalableRange&&u.minX+a>s+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+a<0)&&(a=0),(u.minY<=l+this.scalableRange&&u.minY+o>l+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Sh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(N){N.hide()})}for(var u=n.getNodes(),h=0,c=u.length;h<c;h++)for(var v=u[h].getContainer(),g=v.get("children"),C=0,k=g;C<k.length;C++){var D=k[C],G=D.get("isKeyShape");G||D.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=Ul(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(lm(this.origin.x-r.clientX)+lm(this.origin.y-r.clientY)<iR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(D){D.show()})}for(var s=t.getNodes(),l=0,u=s.length;l<u;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,g=c;v<g.length;v++){var C=g[v],k=C.get("isKeyShape");k||C.show()}}if(!this.dragging){this.origin=null;return}r=Ul(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(aR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},sR=d(6767),Zl=d.n(sR),lR=d(17621),Kl=d.n(lR),$l=2,um=.16,uR=.05,fR=.05,hR=.15,fm=5,hm=4,cR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function cm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-$l*r:Math.round(i.h)+$l*r:e=t?Math.round(i.h)+$l*r:Math.round(i.h)-$l*r,e<0?e+=360:e>=360&&(e-=360),e}function vm(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-um*r:r===hm?e=i.s+um:e=i.s+uR*r,e>1&&(e=1),t&&r===fm&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function dm(i,r,t){var e;return t?e=i.v+fR*r:e=i.v-hR*r,e>1&&(e=1),Number(e.toFixed(2))}function Mh(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=Kl()(i),n=fm;n>0;n-=1){var a=e.toHsv(),o=Kl()({h:cm(a,n,!0),s:vm(a,n,!0),v:dm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=hm;s+=1){var l=e.toHsv(),u=Kl()({h:cm(l,s),s:vm(l,s),v:dm(l,s)}).toHexString();t.push(u)}return r.theme==="dark"?cR.map(function(h){var c=h.index,v=h.opacity,g=Kl().mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return g}):t}var Eh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},$i={},Ah={};Object.keys(Eh).forEach(function(i){$i[i]=Mh(Eh[i]),$i[i].primary=$i[i][5],Ah[i]=Mh(Eh[i],{theme:"dark",backgroundColor:"#141414"}),Ah[i].primary=Ah[i][5]});var AY=$i.red,_Y=$i.volcano,TY=$i.gold,PY=$i.orange,LY=$i.yellow,IY=$i.lime,OY=$i.green,kY=$i.cyan,BY=$i.blue,DY=$i.geekblue,FY=$i.purple,RY=$i.magenta,NY=$i.grey,Ba=function(r,t,e){var n=Zl()(r),a=Zl()(t);return Zl()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},pm=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Ba(t,r,.05).rgb().toString(),o=Ba(t,n,.02).rgb().toString(),s=Ba(t,n,.05).rgb().toString(),l=Ba(t,n,.1).rgb().toString(),u=Ba(t,n,.2).rgb().toString(),h=Ba(t,n,.3).rgb().toString(),c=Mh(r,{theme:e,backgroundColor:t}),v=Zl()(r).hex().toLowerCase(),g=c.indexOf(v),C=r;return g!==-1&&(C=c[g+1]),{mainStroke:r,mainFill:Ba(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Ba(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:C,highlightFill:Ba(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:u,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:C,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:s}},vR="rgb(95, 149, 255)",dR="rgb(255, 255, 255)",gm="rgb(0, 0, 0)",Cn=pm(vR,dR),Ke={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Cn.mainStroke,fill:Cn.mainFill},size:20,color:Cn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Cn.activeFill,stroke:Cn.activeStroke}},nodeStateStyles:{active:{fill:Cn.activeFill,stroke:Cn.activeStroke,lineWidth:2,shadowColor:Cn.mainStroke,shadowBlur:10},selected:{fill:Cn.selectedFill,stroke:Cn.selectedStroke,lineWidth:4,shadowColor:Cn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Cn.highlightFill,stroke:Cn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Cn.inactiveFill,stroke:Cn.inactiveStroke,lineWidth:1},disable:{fill:Cn.disableFill,stroke:Cn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:gm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Cn.edgeMainStroke,lineAppendWidth:2},color:Cn.edgeMainStroke},edgeStateStyles:{active:{stroke:Cn.edgeActiveStroke,lineWidth:1},selected:{stroke:Cn.edgeSelectedStroke,lineWidth:2,shadowColor:Cn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Cn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Cn.edgeInactiveStroke,lineWidth:1},disable:{stroke:Cn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:gm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Cn.comboMainFill,lineWidth:1,stroke:Cn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Cn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Cn.comboActiveStroke,lineWidth:1,fill:Cn.comboActiveFill},selected:{stroke:Cn.comboSelectedStroke,lineWidth:2,fill:Cn.comboSelectedFill,shadowColor:Cn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Cn.comboHighlightStroke,lineWidth:2,fill:Cn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Cn.comboInactiveStroke,fill:Cn.comboInactiveFill,lineWidth:1},disable:{stroke:Cn.comboDisableStroke,fill:Cn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},pR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=e.get("id"),h=l.filter(function(v){var g=v.get("id");return u===g});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var g=v.hasLocked();g||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,oi.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,oi.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:g})}else{var e=this.graph.get("group"),n=(0,oi.b$)({},Ke.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,u=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:(0,Qt.__assign)({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var u=e[l],h=u.getBBox(),c=h.minX,v=h.minY,g=h.maxX,C=h.maxY;c<n&&(n=c),v<o&&(o=v),g>a&&(a=g),C>s&&(s=C)}var k=Math.floor(n),D=Math.floor(o),G=Math.ceil(a)-Math.floor(n),N=Math.ceil(s)-Math.floor(o);return{x:k,y:D,width:G,height:N,minX:n,minY:o}}},gR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c],g=v.hasState("selected");n.resetSelected&&g&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var C=l[c];e.setItemState(C,a,!1),o&&e.setItemState(C,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var k=t.getEdges(),D=k.length,c=0;c<D;c++){var C=k[c],G=void 0;C.getSource()===t?G=C.getTarget():G=C.getSource(),o&&e.setItemState(G,o,!1),e.setItemState(G,a,!0),e.setItemState(C,o,!1),e.setItemState(C,a,!0),C.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var g=l[c];e.clearItemStates(g,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,u=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<u;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},Ql=Math.min,ym=Math.max,mm=Math.abs,xm="shift",yR=["drag","shift","ctrl","alt","control"],mR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:xm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return yR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=xm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},u=n.getPointByCanvas(a.x,a.y),h=Ql(l.x,u.x),c=ym(l.x,u.x),v=Ql(l.y,u.y),g=ym(l.y,u.y),C=[],k=[];n.getNodes().forEach(function(G){var N=G.getBBox();if(N.centerX>=h&&N.centerX<=c&&N.centerY>=v&&N.centerY<=g&&o(G,"select")){C.push(G);var q=G.getModel();k.push(q.id),n.setItemState(G,s,!0)}});var D=[];this.includeEdges&&C.forEach(function(G){var N=G.getOutEdges();N.forEach(function(q){var tt=q.getModel(),bt=tt.source,Nt=tt.target;k.includes(bt)&&k.includes(Nt)&&o(q,"select")&&(D.push(q),n.setItemState(q,t.selectedState,!0))})}),this.selectedEdges=D,this.selectedNodes=C,this.onSelect&&this.onSelect(C,D),n.emit("nodeselectchange",{selectedItems:{nodes:C,edges:D},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:mm(r.canvasX-t.x),height:mm(r.canvasY-t.y),x:Ql(r.canvasX,t.x),y:Ql(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},bm="shift",xR=["shift","ctrl","alt","control"],bR={getDefaultCfg:function(){return{multiple:!0,trigger:bm,selectedState:"selected"}},getEvents:function(){var r=this;return xR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=bm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,u=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,Nn.default)(c,function(C){C!==e&&o.setItemState(C,t.selectedState,!1)})}if(e.hasState(this.selectedState)){u.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!1})}else{u.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,Nn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,Nn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},ua=d(31502);ua.translate=function(i,r,t){var e=new Array(9);return ua.fromTranslation(e,t),ua.multiply(i,e,r)},ua.rotate=function(i,r,t){var e=new Array(9);return ua.fromRotation(e,t),ua.multiply(i,e,r)},ua.scale=function(i,r,t){var e=new Array(9);return ua.fromScaling(e,t),ua.multiply(i,e,r)},ua.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":ua.translate(t,t,[a[1],a[2]]);break;case"s":ua.scale(t,t,[a[1],a[2]]);break;case"r":ua.rotate(t,t,a[1]);break;default:break}}return t};var eo=ua,Da=d(76172);Da.angle=function(i,r){var t=Da.dot(i,r)/(Da.length(i)*Da.length(r));return Math.acos((0,f.clamp)(t,-1,1))},Da.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Da.angleTo=function(i,r,t){var e=Da.angle(i,r),n=Da.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Da.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var $n=Da,wR=d(88395),wm=wR,Fa=function(i,r){var t=i?(0,f.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,f.each)(r,function(e){switch(e[0]){case"t":eo.translate(t,t,[e[1],e[2]]);break;case"s":eo.scale(t,t,[e[1],e[2]]);break;case"r":eo.rotate(t,t,e[1]);break;case"m":eo.multiply(t,t,e[1]);break;default:return!1}}),t},Sm=.05,SR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(g,C){return Math.hypot(C.x-g.x,C.y-g.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),u=n.getZoom(),h=u,c=u;r.wheelDelta<0?h=1-Sm*l:h=1/(1-Sm*l),c=u*h;var v=this.get("minZoom")||n.get("minZoom"),g=this.get("maxZoom")||n.get("maxZoom");if(!(c>g||c<v)){var C=this.get("enableOptimize");if(C){var k=this.get("optimizeZoom"),D=this.get("optimized"),G=n.getNodes(),N=n.getEdges(),q=G.length,tt=N.length;if(!D){for(var bt=0;bt<q;bt++){var Nt=G[bt];if(!Nt.destroyed)for(var Zt=Nt.get("group").get("children"),ee=Zt.length,Ht=0;Ht<ee;Ht++){var le=Zt[Ht];!le.destoryed&&!le.get("isKeyShape")&&le.hide()}}for(var be=0;be<tt;be++)for(var me=N[be],Zt=me.get("group").get("children"),ee=Zt.length,Ht=0;Ht<ee;Ht++){var le=Zt[Ht];le.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ie=setTimeout(function(){var Ur=n.getZoom(),hn=t.get("optimized");if(hn){t.set("optimized",!1);for(var wn=0;wn<q;wn++){var Un=G[wn],Bn=Un.get("group").get("children"),qn=Bn.length;if(Ur<k)Un.getKeyShape().show();else for(var si=0;si<qn;si++){var zi=Bn[si];zi.get("visible")||zi.show()}}for(var ji=0;ji<tt;ji++){var bi=N[ji],Bn=bi.get("group").get("children"),qn=Bn.length;if(Ur<k)bi.getKeyShape().show();else for(var si=0;si<qn;si++){var zi=Bn[si];zi.get("visible")||zi.show()}}}},500);this.set("timeout",Ie)}if(u<=1){var Ge=void 0,Fe=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Ge=n.findAllByState("node",a.fixState),Fe=n.findAllByState("edge",a.fixState);for(var Je=u/c,tr=Ge.length,nr=0;nr<tr;nr++){var Nt=Ge[nr],$e=Nt.getContainer(),Qe=Nt.getModel(),Sr=Nt.getOriginStyle(),xr=Nt.getStateStyle(a.fixState),Lr=Nt.get("shapeFactory").getShape(Qe.shape||Qe.type).getStateStyle(a.fixState,Nt)[a.fixState];if(a.fixAll){if(c<=1){var ar=(0,f.clone)($e.getMatrix());ar||(ar=[1,0,0,0,1,0,0,0,1]);var Er=Nt.getModel(),Gr=Er.x,Tr=Er.y;eo.translate(ar,ar,[-Gr,-Tr]),eo.scale(ar,ar,[Je,Je]),eo.translate(ar,ar,[Gr,Tr]),$e.setMatrix(ar)}}else for(var Zt=$e.get("children"),ee=Zt.length,Ht=0;Ht<ee;Ht++){var le=Zt[Ht],_r=void 0,Hr=void 0;if(a.fixLabel){var sn=le.get("type");if(sn==="text"){_r=le.attr("fontSize")||12;var Dr=xr[le.get("name")],Ve=Lr[le.get("name")],ur=Dr?Dr.fontSize:12,Wr=Ve?Ve.fontSize:12,tn=ur||Wr||12;if(c<=1&&le.attr("fontSize",tn/c),Hr)break}}if(a.fixLineWidth&&le.get("isKeyShape")){Hr=le.attr("lineWidth")||0;var Rr=xr.lineWidth||Lr.lineWidth||Sr.lineWidth||0;if(c<=1&&le.attr("lineWidth",Rr/c),_r)break}}}for(var fn=Fe.length,nn=0;nn<fn;nn++)for(var me=Fe[nn],$e=me.getContainer(),Zt=$e.get("children"),Qe=me.getModel(),xr=me.getStateStyle(a.fixState),Lr=me.get("shapeFactory").getShape(Qe.shape||Qe.type).getStateStyle(a.fixState,me)[a.fixState],ee=Zt.length,Ht=0;Ht<ee;Ht++){var le=Zt[Ht],_r=void 0,Hr=void 0;if(a.fixLabel||a.fixAll){var sn=le.get("type");if(sn==="text"){_r=le.attr("fontSize")||12;var Dr=xr[le.get("name")],Ve=Lr[le.get("name")],ur=Dr?Dr.fontSize:12,Wr=Ve?Ve.fontSize:12,tn=ur||Wr||12;if(c<=1&&le.attr("fontSize",tn/c),Hr)break}}if((a.fixLineWidth||a.fixAll)&&le.get("isKeyShape")){Hr=le.attr("lineWidth")||0;var Rr=xr.lineWidth||Lr.lineWidth||1;if(c<=1&&le.attr("lineWidth",Rr/c),_r)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},Vn=d(1513),xi=d(57821),Cm={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,Vn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,Vn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,Vn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),u=s.getCanvasByPoint(l.x,l.y),h=u.x,c=u.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var g=h+"px",C=c+"px";(0,Vn.Z)(this.container,{left:g,top:C,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,xi.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,Vn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},CR=(0,Qt.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Cm),MR=(0,Qt.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Cm),Hi=d(90497),ER={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,u=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){u=c.parentId;break}}if(u){var v=o[u].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var G=this,N=G.mouseOrigin,q=G.shapeOrigin,tt=r.x-N.x,bt=r.y-N.y,Nt=tt+q.x,Zt=bt+q.y;a.attr({x:Nt,y:Zt}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),u=o.x,h=o.y,c=o.width,v=o.height,g=(0,Qt.__assign)({width:c,height:v},(0,Hi.default)({},Ke.delegateStyle,this.delegateStyle));if(s==="circle"){var C=c>v?c/2:v/2,k=u+C,D=h+C;a=l.addShape("circle",{attrs:(0,Qt.__assign)({x:k,y:D,r:C},g),name:"circle-delegate-shape"}),this.shapeOrigin={x:k,y:D}}else a=l.addShape("rect",{attrs:(0,Qt.__assign)({x:u,y:h},g),name:"rect-delegate-shape"}),this.shapeOrigin={x:u,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},AR=document.body,_R={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");o.setGroupStyle(u,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(u,"default"):o.setGroupStyle(u,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,u=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),g=c.getBBox(),C=v.centerX,k=v.centerY,D=g.minX,G=g.minY,N=g.maxX,q=g.maxY;if(!(C<N*this.maxMultiple&&C>D*this.minMultiple&&k<q*this.maxMultiple&&k>G*this.minMultiple)||this.inGroupId!==a){var tt=u[a];u[a]=tt.filter(function(Zt){return Zt!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var bt=l[this.inGroupId].nodeGroup;if(!bt)return;var Nt=bt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,bt,Nt)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var bt=l[this.inGroupId].nodeGroup;if(!bt)return;var c=bt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,bt,c)}else if(!this.inGroupId&&a){Object.keys(u).forEach(function(Ht){var le=u[Ht];u[Ht]=le.filter(function(be){return be!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&AR.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,u):(r.updatePosition(u),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),u=(0,Hi.default)({},Ke.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:(0,Qt.__assign)({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},Mm="dblclick",TR=["click","dblclick"],PR={getDefaultCfg:function(){return{trigger:Mm}},getEvents:function(){var r,t;return TR.includes(this.trigger)?t=this.trigger:(t=Mm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},Em="click",LR=["click","dblclick"],IR={getDefaultCfg:function(){return{trigger:Em,onChange:function(){}}},getEvents:function(){var r,t;return LR.includes(this.trigger)?t=this.trigger:(t=Em,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},OR=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,oi.S6)(e,function(n){i(n,t)})}},kR={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var h=e.findById(u.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],OR(n,function(l){if(l.destroyed)return!1;var u=l.getModel();return t.currentItemChildCombos.push(u.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,h=s.width,c=o.filter(function(v){var g=v.getModel();return a.parentId,g.id!==a.id&&!t.currentItemChildCombos.includes(g.id)});c.map(function(v){var g=v.getBBox(),C=g.centerX,k=g.centerY,D=g.width,G=l-C,N=u-k,q=2*Math.sqrt(G*G+N*N);h+D-q>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,oi.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,oi.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var u=l.getModel();u.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,oi.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,oi.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:g})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=sm(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:h};var c=(0,Qt.__assign)((0,Qt.__assign)({},Ke.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:(0,Qt.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},Am="dblclick",BR=["click","dblclick"],DR={getDefaultCfg:function(){return{trigger:Am,relayout:!0}},getEvents:function(){var r,t;return BR.includes(this.trigger)?t=this.trigger:(t=Am,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},_m=function(r,t,e){return r>=t&&r<=e},Ls=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},u=s.x*l.y-s.y*l.x,h=u*u,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,g=null;if(h>a*c*v){var C=(o.x*l.y-o.y*l.x)/u,k=(o.x*s.y-o.y*s.x)/u;_m(C,0,1)&&_m(k,0,1)&&(g={x:r.x+C*s.x,y:r.y+C*s.y})}return g},Tm=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,u=[],h={x:s,y:l};u.push({x:e,y:n}),u.push({x:e+a,y:n}),u.push({x:e+a,y:n+o}),u.push({x:e,y:n+o}),u.push({x:e,y:n});for(var c=null,v=1;v<u.length&&(c=Ls(u[v-1],u[v],h,t),!c);v++);return c},Pm=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,u=s-n,h=Math.sqrt(l*l+u*u);if(h<a)return null;var c=Math.sign(l),v=Math.sign(u),g=Math.atan(u/l);return{x:e+Math.abs(a*Math.cos(g))*c,y:n+Math.abs(a*Math.sin(g))*v}},Lm=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/e);return u<0&&(u+=2*Math.PI),{x:a+e*Math.cos(u),y:o+n*Math.sin(u)}},Is=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),wm.transformMat3(n,n,t),{x:n[0],y:n[1]}},Im=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=eo.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return wm.transformMat3(a,a,n),{x:a[0],y:a[1]}},_h=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,u=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*u)/h,y:-(n*u-o*l)/h}},Os=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},Om=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},Th=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},Ph=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,h=o[l],c=o[u];a[h][c]=1,t||(a[c][h]=1)}),a},km=function(r,t){r.translate(t.x,t.y)},Bm=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Fa(e,[["t",a,o]]);r.setMatrix(s)},FR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Ri.default)(t)||(n=[t,t]),(0,Ri.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=Fa(e,[["s",n[0],n[1]]]),r.setMatrix(e)},RR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Fa(e,[["r",t]]),r.setMatrix(e)},Jl=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function NR(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var ks=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=r[l],h=r[(l+1)%a];if(NR(u,h,[t,e]))return!0;s(u[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-u[1])*(u[0]-h[0])/(u[1]-h[1])-u[0])<0&&(n=!n)}return n},Dm=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},GR=function(r,t){var e=!1;return(0,f.each)(r,function(n){if(Ls(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Lh=function(r,t){var e=function(v){var g=v.map(function(k){return k[0]}),C=v.map(function(k){return k[1]});return{minX:Math.min.apply(null,g),maxX:Math.max.apply(null,g),minY:Math.min.apply(null,C),maxY:Math.max.apply(null,C)}},n=function(v){for(var g=[],C=v.length,k=0;k<C-1;k++){var D=v[k],G=v[k+1];g.push({from:{x:D[0],y:D[1]},to:{x:G[0],y:G[1]}})}if(g.length>1){var N=v[0],q=v[C-1];g.push({from:{x:q[0],y:q[1]},to:{x:N[0],y:N[1]}})}return g};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!Dm(a,o))return!1;var s=!1;if((0,f.each)(t,function(c){if(ks(r,c[0],c[1]))return s=!0,!1}),s||((0,f.each)(r,function(c){if(ks(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),u=n(t),h=!1;return(0,f.each)(u,function(c){if(GR(l,c))return h=!0,!1}),h},Bo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),Ih=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},YR=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},Fm=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=Ih(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3];o[s]=Ls({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},Oh=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Ih(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3],g=YR(t,new Bo(u,h,c,v));g=Math.abs(g-.5),g>=0&&g<=1&&(o+=1,a=g<a?g:a)}return o===0?-1:a},Rm=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},ql=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},Nm=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,u=s*a+l*o,h;u<=0?h=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?h=0:h=u*u/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},kh=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},Gm=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),u=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+u*u},zR=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Ym=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,Zs.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},tu=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];$n.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},zm=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=zR(a,s)}return t&&(n+="Z"),n},eu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},Bh=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,u=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,g=r[s+1].y,C=s!==r.length-2?r[s+2].x:v,k=s!==r.length-2?r[s+2].y:g,D=h+(v-l)/6,G=c+(g-u)/6,N=v-(C-h)/6,q=g-(k-c)/6;o.push(["C",D,G,N,q,v,g])}return o.unshift(["M",n.x,n.y]),o},Xm=function(r,t){return $n.scale([],$n.normalize([],r),t)},Vm=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},Hm=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function Wm(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],g=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+g+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=$n.scale([],Vm(c[0],c[1]),r),g=$n.scale([],v,-1),C=$n.add([],c[0],v),k=$n.add([],c[1],v),D=$n.add([],c[1],g),G=$n.add([],c[0],g);return"M "+C+" L "+k+" A "+[r,r,"0,0,0",D].join(",")+" L "+G+" A "+[r,r,"0,0,0",C].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=$n.scale([],Vm(o,s),r);n[a]=[$n.add([],o,l),$n.add([],s,l)]}var u="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=u+h[0]+" L "+h[1],v}),n.join(" ")}function jm(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=Hm(h[0],h[1]),v=Xm(c,r),g=$n.add([],h[0],$n.scale([],v,-1)),C=$n.add([],h[1],v),k=1.2*r,D=Xm($n.normalize([],c),k),G=$n.scale([],D,-1),N=$n.add([],g,G),q=$n.add([],C,G),tt=$n.add([],g,D);return"M "+g+" C "+[N,q,C].join(",")+" S "+[tt,g].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(u,h){var c=i[(h+1)%t];return{p:u,v:$n.normalize([],Hm(u,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=$n.normalize([],$n.add([],a[s].v,$n.scale([],a[o].v,-1)));a[o].p=$n.add([],a[o].p,$n.scale([],l,r))}return a.map(function(u){var h=u.p;return{x:h[0],y:h[1]}})}var Um="shift",XR=["drag","shift","ctrl","alt","control"],VR=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=eu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Lh(t,e)},HR={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Um,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return XR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Um,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(VR(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var g=v.getModel(),C=g.source,k=g.target;l.includes(C)&&l.includes(k)&&n(v,"select")&&(u.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:(0,Qt.__assign)({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Zm="click",WR=["click","drag"],Km=void 0,jR=["shift","ctrl","control","alt","meta",void 0],UR={getDefaultCfg:function(){return{trigger:Zm,key:Km,edgeConfig:{}}},getEvents:function(){var r=this;WR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Zm,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&jR.indexOf(r.key.toLowerCase())===-1&&(r.trigger=Km,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",(0,Qt.__assign)({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),u=l.length,h=0;h<u;h++){var c=l[h],v=c.getModel(),g=c.getBBox();if(o<=g.maxX&&o>=g.minX&&s<=g.maxY&&s>=g.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},$m="ctrl",ZR=["shift","ctrl","alt","control"],KR="1",$R={getDefaultCfg:function(){return{trigger:$m,combinedKey:KR,functionName:"fitView",functionParams:[]}},getEvents:function(){return ZR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=$m,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},QR={"drag-canvas":oR,"zoom-canvas":SR,"drag-node":pR,"activate-relations":gR,"brush-select":mR,"click-select":bR,"lasso-select":HR,tooltip:CR,"edge-tooltip":MR,"drag-group":ER,"drag-node-with-group":_R,"collapse-expand-group":PR,"collapse-expand":IR,"drag-combo":kR,"collapse-expand-combo":DR,"create-edge":UR,"shortcuts-call":$R};(0,Nn.default)(QR,function(i,r){wh.registerBehavior(r,i)});var Qm=wh,Do=d(19083),Bs=d(19270),Ma=d(27549),Jm=d(54544),JR=function(r){var t=(0,Jm.default)(r.groups,"id"),e=(0,Jm.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=(0,Qt.__spreadArrays)(o,s);n[a]=l}else o&&(n[a]=o)}var u=(0,Qt.__assign)((0,Qt.__assign)({},t),n),h={};for(var c in u)if(!(!c||c==="undefined")){var o=u[c].map(function(k){return k.id});h[c]=o}var v={},g=function(k){if(!k||k==="undefined")return"continue";for(var D=h[k],G=[],N=0,q=D;N<q.length;N++){var tt=q[N],bt=u[tt].map(function(Zt){return Zt.id});G.push.apply(G,bt)}var Nt=r.nodes?r.nodes.filter(function(Zt){return G.indexOf(Zt.groupId)>-1||G.indexOf(Zt.parentId)>-1}).map(function(Zt){return Zt.id}):[];v[k]=Nt};for(var c in h)g(c);return v},qR=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,Nn.default)(r,function(t){(0,Nn.default)(t,function(e,n){(0,Ln.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,Nn.default)(e||[],function(o){var s=wh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,Nn.default)(t,function(e){r.indexOf(e)<0&&((0,Ln.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,Ln.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,Nn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,Ri.default)(r)?a=r:a=[r],(0,Ri.default)(t))return(0,Nn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),tN=qR,eN=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var u=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=u;u>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Ch(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],u=(o.y-r.y)*s[4],h=0,c=0,v=0,g=0;this.graph.get("canvas").animate(function(C){v=l*C,g=u*C,n.graph.translate(v-h,g-c),h=v,c=g},(0,Qt.__assign)({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=Im({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Is({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,Ln.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,Ca.default)(r)||!(0,Ca.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,Vn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,Vn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),rN=eN,Ds=d(73136),ru=d(61262),nN=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,ru.default)(this,"onCanvasEvents"),s=(0,ru.default)(this,"onExtendEvents"),l=(0,ru.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,Ds.Z)(a,"DOMMouseScroll",l)),e.push((0,Ds.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,Ds.Z)(window,"keydown",s)),e.push((0,Ds.Z)(window,"keyup",s)),e.push((0,Ds.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),om(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var u=i.getItemRoot(n);if(!u){t.emit(a,r);return}var h=u.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,Fi.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=Ul(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,Nn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),iN=nN,qm=d(8289),tx=d(33643),ex=d(85260),aN=d(58070),oN={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},ya=Math.PI,Dh=Math.sin,Fh=Math.cos,Gi=Dh(ya/8),Yi=Fh(ya/8),nu=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Is(n,o),a=Is(a,o)}var s=n.x,l=n.y,u=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:h,width:u-s,height:h-l}},rx=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||Ke.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],g=o.height/2,C=o.height/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi;if(c[0]===v[0]&&c[1]===v[1]){switch(u){case"top":c=[h[0]-k,h[1]-D],v=[h[0]+G,h[1]-N];break;case"top-right":g=o.height/2,C=o.width/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi,c=[h[0]+k,h[1]-D],v=[h[0]+N,h[1]-G];break;case"right":g=o.width/2,C=o.width/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi,c=[h[0]+D,h[1]-k],v=[h[0]+N,h[1]+G];break;case"bottom-right":g=o.width/2,C=o.height/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi,c=[h[0]+D,h[1]+k],v=[h[0]+G,h[1]+N];break;case"bottom":g=o.height/2,C=o.height/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi,c=[h[0]+k,h[1]+D],v=[h[0]-G,h[1]+N];break;case"bottom-left":g=o.height/2,C=o.width/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi,c=[h[0]-k,h[1]+D],v=[h[0]-N,h[1]+G];break;case"left":g=o.width/2,C=o.width/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi,c=[h[0]-D,h[1]+k],v=[h[0]-N,h[1]-G];break;case"top-left":g=o.width/2,C=o.height/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi,c=[h[0]-D,h[1]-k],v=[h[0]-G,h[1]-N];break;default:g=o.width/2,C=o.width/2,k=g*Gi,D=g*Yi,G=C*Gi,N=C*Yi,c=[h[0]-k,h[1]-D],v=[h[0]+G,h[1]-N]}if(s.clockwise===!1){var q=[c[0],c[1]];c=[v[0],v[1]],v=[q[0],q[1]]}}var tt=[c[0]-h[0],c[1]-h[1]],bt=(g+l)/g,Nt=(C+l)/C;s.clockwise===!1&&(bt=(C+l)/C,Nt=(g+l)/g);var Zt=$n.scale([],tt,bt),ee=[h[0]+Zt[0],h[1]+Zt[1]],Ht=[v[0]-h[0],v[1]-h[1]],le=$n.scale([],Ht,Nt),be=[h[0]+le[0],h[1]+le[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:ee[0],y:ee[1]},{x:be[0],y:be[1]}],r},iu=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var u=r.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=ya*2),e&&(l.x+=Fh(h)*e,l.y+=Dh(h)*e),n){var c=h-ya/2;h>1/2*ya&&h<3*1/2*ya&&(c-=ya),l.x+=Fh(c)*n,l.y+=Dh(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*ya&&h<3*1/2*ya&&(h-=ya),(0,Qt.__assign)({rotate:h},v)):v},nx=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},sN=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},Qi=function(r,t){typeof t=="function"&&nx(r,t)},ma=function(r,t){typeof t=="function"&&sN(r,t)},ix=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;Qi(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var u=ya*2/l,h=a[s]-n[s];return h===0||Qi(r,function(c){var v=(c[s]-n[s])/h*(ya*2-u)+u,g=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=g*Math.cos(v),c.y=g*Math.sin(v),!0}),r},ax=function(r,t){return t*(oN[r]||1)},ox=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=ax(a,t)}),[e,t]},Rh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var u=(0,f.clone)(s);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo "+u.id+" can not be the same as the combo's id"),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo "+u.id+" does not exist!"),delete u.parentId);var h=n[u.id];if(h){if(u.children=h.children,n[u.id]=u,h=u,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(u):c.children=[u];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[u.id]=u}return}if((0,f.isString)(s.parentId)){var g=n[s.parentId];if(g)g.children?g.children.push(u):g.children=[u],n[u.id]=u;else{var C={id:s.parentId,children:[u]};n[C.id]=C,n[u.id]=u}}else e.push(u),n[u.id]=u});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var u={id:s.id,comboId:s.comboId};l.children?l.children.push(u):l.children=[u],u.itemType="node",n[s.id]=u}}),e.forEach(function(s){s.depth=0,nx(s,function(l){var u,h=n[l.id].itemType;h==="node"?u=n[l.comboId]:u=n[l.parentId],u?h==="node"?l.depth=u.depth+1:l.depth=u.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},Nh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(g){if(!s){if(g.id===t){a=g,g.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}Qi(g,function(C){return o[C.id]={children:C.children},n=o[C.parentId||C.comboId||"root"].children,C&&(C.removed||t===C.id)&&n?(l=C.parentId||C.comboId||"root",a=C,C.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var u=n?n.indexOf(a):-1;if(u>-1&&n.splice(u,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(g){h||Qi(g,function(C){return e===C.id?(h=!0,C.children?C.children.push(a):C.children=[a],c=C.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;Qi(a,function(g){return g.itemType==="node"?v+=2:v+=1,g.depth=v,!0})}return r},Gh=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},lN=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),u=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/u,h.end.x=(a+n)/l,h.end.y=(o+e)/u,h};function au(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(i)}function sx(i){if(typeof i!="string")return i;var r=function(Zt){if(typeof Zt!="string")return Zt;try{return JSON.parse(Zt.trim())}catch(ee){return Zt.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(Zt){return Zt[Zt.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var Zt=[],ee=0;ee<arguments.length;ee++)Zt[ee]=arguments[ee];return Zt.some(function(Ht){return e(o)===Ht})},l=function(){return e(a)},u=null,h=0,c="";h<n.length;){var v=n[h],g=s('"',"'");if(!g&&!v.trim()){h+=1;continue}var C=n[h-1]==="\\",k=s("}"),D=s("]"),G=s(","),N=l();if(g)if(e(o)===v&&!C){o.pop();var q=r(c);N.push(q),u=q,c=""}else c+=v;else if(D&&v===",")c&&(N.push(r(c)),c="");else if(k&&v===":")o.push(","),c&&(N.push(c),c="");else if(G&&v===",")c&&(N.push(r(c)),c=""),o.pop();else if(v==="}"&&(k||G)){c&&(N.push(r(c)),c=""),G&&o.pop();for(var tt={},bt=1;bt<N.length;bt+=2)tt[N[bt-1]]=N[bt];a.pop(),a.length&&e(a).push(tt),o.pop(),u=tt}else v==="]"&&D?(c&&(N.push(r(c)),c=""),a.pop(),a.length&&e(a).push(N),o.pop(),u=N):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return u||c}var uN=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},fN=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,aN.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function lx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return lx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=uN(s),u=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=sx(u);t=(0,Qt.__assign)((0,Qt.__assign)({},t),h)}else a[l]=sx(u)}catch(c){if(l==="style")throw c;a[l]=u}}),a.attrs=t,r&&r.style&&a.name&&au(r.style[a.name])==="object"&&(a.attrs=(0,Qt.__assign)((0,Qt.__assign)({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=(0,Qt.__assign)((0,Qt.__assign)({},a.attrs),r.style)),n.length&&(a.children=n),a}function hN(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=ox(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=(0,Qt.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function ux(i,r){var t;r===void 0&&(r={x:0,y:0});var e=(0,Qt.__assign)({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=(0,Qt.__assign)({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var u=ux(i.children[l],s);if(u.bbox){var h=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=hN(i,r,e),i.attrs=(0,Qt.__assign)((0,Qt.__assign)({},i.attrs),i.bbox),i}function fx(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var u=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<u;v+=1)l.push(fx(c[v],h[v]));var g=Object.keys(r.attrs),C=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:g.filter(function(k){return k!=="children"}).some(function(k){return i.attrs[k]!==r.attrs[k]||!C.includes(k)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function hx(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=fN(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=ux(lx(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(h){var c=h.attrs,v=c===void 0?{}:c,g=h.bbox,C=h.type,k=h.children,D=(0,Qt.__rest)(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var G=a.addShape(h.type,(0,Qt.__assign)({attrs:v,origin:{bbox:g,type:C,children:k}},D));h.keyshape&&(s=G)}h.children&&h.children.forEach(function(N){return u(N)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=r[n.id].pop(),h=fx(l,u),c=function C(k){var D;k.type!=="group"&&o.addShape(k.type,{attrs:k.attrs}),((D=k.children)===null||D===void 0?void 0:D.length)&&k.children.map(function(G){return C(G)})},v=function C(k){var D,G=s.find(function(N){return N.attrs.key===k.attrs.key});G&&o.removeChild(G),((D=k.children)===null||D===void 0?void 0:D.length)&&k.children.map(function(N){return C(N)})},g=function C(k){var D=k.key;if(k.type!=="group"){var G=s.find(function(q){return q.attrs.key===D});switch(k.action){case"change":if(G){var N=k.val.keyshape?a.getOriginStyle():{};G.attr((0,Qt.__assign)((0,Qt.__assign)({},N),k.val.attrs))}break;case"add":c(k.val);break;case"delete":v(k.val);break;case"restructure":v(k.formerTarget),c(k.nowTarget);break;default:break}}k.children&&k.children.forEach(function(q){return C(q)})};g(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Yh={};function cx(i){return Yh[i]||(Yh[i]=(0,f.upperFirst)(i)),Yh[i]}var cN={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},zh={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},ou=function(){function i(){}return i.registerFactory=function(r,t){var e=cx(r),n=cN,a=(0,Qt.__assign)((0,Qt.__assign)({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=cx(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=hx(t);a=(0,Qt.__assign)((0,Qt.__assign)({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=hx(s);a=(0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):zh;a=(0,Qt.__assign)((0,Qt.__assign)({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):zh,o=(0,Qt.__assign)((0,Qt.__assign)({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):zh,o=(0,Qt.__assign)((0,Qt.__assign)({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),ui=ou;ou.registerFactory("node",{defaultShapeType:"circle"}),ou.registerFactory("edge",{defaultShapeType:"line"}),ou.registerFactory("combo",{defaultShapeType:"circle"});var Xh="bboxCache",Vh="bboxCanvasCache",vN=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,f.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,f.deepMix)({},u.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=nu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=nu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,f.each)(n,function(u){var h=u.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,f.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,f.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,f.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=ui.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,f.isPlainObject)(r)?this._cfg=(0,Qt.__assign)((0,Qt.__assign)({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(Xh,null),this.set(Vh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,f.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=(0,Qt.__assign)((0,Qt.__assign)({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,f.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,f.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,f.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,f.isString)(t)){var u=e.filter(function(v){return v.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,f.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,f.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,f.isNil)(r.x)?t.x:r.x,n=(0,f.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,f.isNil)(e)||(0,f.isNil)(n)||(a.resetMatrix(),km(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(Xh);return r||(r=this.calculateBBox(),this.set(Xh,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(Vh);return r||(r=this.calculateCanvasBBox(),this.set(Vh,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),vx=vN,su={source:"start",target:"end"},Ra="Node",rs="Point",dN="Anchor",pN=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=su[t]+rs,a=t+Ra,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=su[t]+rs,o=t+Ra,s=this.get(a);if(!s){var l=this.get(o),u=t+dN,h=this.getPrePoint(t,n),c=e[u];(0,f.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,f.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+Ra,n=su[t]+rs,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+Ra,n=su[t]+rs,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Ra),n=this.get("target"+Ra);return e?delete t["source"+Ra]:t.source=this.get("start"+rs),n?delete t["target"+Ra]:t.target=this.get("end"+rs),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,f.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+Ra),e=this.get("target"+Ra);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(vx),gN=pN,Fs=d(66974),Hh="anchorPointsCache",yN="bboxCache",mN=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Os(t[0],e),s=0;s<t.length;s++){var l=t[s],u=Os(l,e);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===e?u.getTarget():u.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),h;switch(n){case"circle":h=Pm({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=Lm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=Tm(l,t)}var c=h;return u.length&&(c||(c=t),c=this.getNearestPoint(u,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(Hh);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,Nn.default)(l,function(u,h){var c=(0,Fs.default)({x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height},u[2],{index:h});t.push(c)}),this.set(Hh,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(yN,null),this.set(Hh,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,Fi.default)(t.x),n=!(0,Fi.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(vx),dx=mN,xN="bboxCache",px="bboxCanvasCache",Wh="sizeCache",bN="anchorPointsCache",wN=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||Ke.defaultCombo.size[0]/2,width:n.width||Ke.defaultCombo.size[0],height:n.height||Ke.defaultCombo.size[1]};a.style=(0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)({},e),t.style),o);var s=t.padding||Ke.defaultCombo.padding;return(0,Ca.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(Wh,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=nu(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Wh);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(px,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(xN,null),this.set(px,null),this.set(bN,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(Wh,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(dx),SN=wN,lu="node",uu="edge",gx="vedge",fu="combo",CN="default",yx="Mapper",ro="stateStyles",MN=Object.hasOwnProperty,EN=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===gx?uu:r,o=n.get(a+"Group")||n.get("group"),s=(0,ex.default)(a),l=null,u=n.get(a+(0,ex.default)(ro))||{},h=n.get(CN+s);t[ro]&&(u=t[ro]);var c=n.get(a+yx);if(c){var v=c(t);v[ro]&&(u=v[ro],delete v[ro]),t=(0,Hi.default)({},h,t,v)}else h&&(0,Nn.default)(h,function(q,tt){MN.call(t,tt)||((0,tx.default)(q)?t[tt]=(0,qm.default)(q):t[tt]=h[tt])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===uu||r===gx){var g=void 0,C=void 0;if(g=t.source,C=t.target,g&&(0,Ln.default)(g)&&(g=n.findById(g)),C&&(0,Ln.default)(C)&&(C=n.findById(C)),!g||!C){console.warn("The source or target node of edge "+t.id+" does not exist!");return}g.getType&&g.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(g)),C.getType&&C.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(C)),l=new gN({model:t,source:g,target:C,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===lu)l=new dx({model:t,styles:u,group:o.addGroup()});else if(r===fu){var k=t.children,D=Gh(k,n);t.x=D.x||t.x||Math.random()*100,t.y=D.y||t.y||Math.random()*100;var G=o.addGroup();G.setZIndex(t.depth),l=new SN({model:t,styles:u,bbox:D,group:G});var N=l.getModel();(k||[]).forEach(function(q){var tt=n.findById(q.id);l.addChild(tt),q.depth=N.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,Ln.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+yx),o=r.getModel();if(a){var s=(0,Hi.default)({},o,t),l=a(s),u=(0,Hi.default)({},o,l,t);l[ro]&&(r.set("styles",u[ro]),delete u[ro]),(0,Nn.default)(u,function(g,C){t[C]=g})}else(0,Nn.default)(t,function(g,C){o[C]&&(0,tx.default)(g)&&!(0,Ri.default)(g)&&(t[C]=(0,Qt.__assign)((0,Qt.__assign)({},o[C]),t[C]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===uu){if(t.source){var h=t.source;(0,Ln.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,Ln.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===lu||n===fu){var v=r.getEdges();(0,Nn.default)(v,function(g){g.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,Ln.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=Gh(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,Ln.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,Ln.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,Ln.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,qm.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===uu){var l=e.get("v"+a+"s"),u=l.indexOf(r);u>-1&&l.splice(u,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),g=r.get("id");if(a===lu){var C=r.getModel().comboId;if(v){var k=v,D=!1;v.forEach(function(Nt){D||Qi(Nt,function(Zt){if(Zt.id===g&&k){var ee=k.indexOf(Zt);return k.splice(ee,1),D=!0,!1}return k=Zt.children,!0})})}for(var G=r.getEdges(),N=G.length-1;N>=0;N--)e.removeItem(G[N],!1);C&&e.updateCombo(C)}else if(a===fu){var q=r.getModel().parentId,tt,bt=!1;(v||[]).forEach(function(Zt){bt||Qi(Zt,function(ee){return ee.id===g?(tt=ee,bt=!0,!1):!0})}),tt.removed=!0,tt&&tt.children&&tt.children.forEach(function(Zt){t.removeItem(Zt.id)});for(var G=r.getEdges(),N=G.length;N>=0;N--)e.removeItem(G[N],!1);q&&e.updateCombo(q)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,Ln.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,Ln.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,Ln.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,Ln.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,Ln.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){ma(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,Ln.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===lu){var a=r.getEdges();(0,Nn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===fu){var o=n.get("comboTrees"),s=r.get("id"),l=[],u=!1;(o||[]).forEach(function(c){u||!c.children||c.children.length===0||Qi(c,function(v){return v.id===s?(l=v.children,u=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,Nn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),AN=EN,xa=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Fs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),mx={registerLayout:function(r,t,e){if(e===void 0&&(e=xa),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){(0,Qt.__extends)(o,a);function o(s){var l=a.call(this)||this,u=l,h={},c=u.getDefaultCfg();return(0,Fs.default)(h,c,t,s),(0,Nn.default)(h,function(v,g){u[g]=v}),l}return o}(e);mx[r]=n}},xx=mx;function _N(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function TN(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function PN(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var LN=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,u=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,g=(v-c)/a,C={};e.forEach(function(Ht,le){C[Ht.id]=le}),t.nodeMap=C;var k=Jl(e.length,C,n);t.degrees=k,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!u?s=t.height>t.width?t.width/2:t.height/2:!l&&u?l=u:l&&!u&&(u=l);var D=t.angleRatio,G=g*D;t.astep=G;var N=t.ordering,q=[];N==="topology"?q=t.topologyOrdering():N==="topology-directed"?q=t.topologyOrdering(!0):N==="degree"?q=t.degreeOrdering():q=e;for(var tt=t.clockwise,bt=Math.ceil(a/h),Nt=0;Nt<a;++Nt){var Zt=s;!Zt&&l!==null&&u!==null&&(Zt=l+Nt*(u-l)/(a-1)),Zt||(Zt=10+Nt*100/(a-1));var ee=c+Nt%bt*G+2*Math.PI/h*Math.floor(Nt/bt);tt||(ee=v-Nt%bt*G-2*Math.PI/h*Math.floor(Nt/bt)),q[Nt].x=o[0]+Math.cos(ee)*Zt,q[Nt].y=o[1]+Math.sin(ee)*Zt,q[Nt].weight=k[Nt]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,f.clone)(o),l=e.nodeMap,u=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,_N(s,a,l,t);var g=0;return s.forEach(function(C,k){if(k!==0)if((k===v-1||n[k]!==n[k+1]||TN(u[g],C,a))&&c[k]!==!0)u.push(C),h.push(o[l[C.id]]),c[k]=!0,g++;else{for(var D=u[g].children,G=!1,N=0;N<D.length;N++){var q=l[D[N]];if(n[q]===n[k]&&c[q]!==!0){u.push(s[q]),h.push(o[l[s[q].id]]),c[q]=!0,G=!0;break}}for(var tt=0;!G&&(c[tt]||(u.push(s[tt]),h.push(o[l[s[tt].id]]),c[tt]=!0,G=!0),tt++,tt!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(PN),n},r}(xa),IN=LN,ON=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,Ri.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(ee){s.push(ee);var Ht=l;(0,Ri.default)(ee.size)?Ht=Math.max(ee.size[0],ee.size[1]):(0,f.isNumber)(ee.size)&&(Ht=ee.size),l=Math.max(l,Ht)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var u={},h={};if(s.forEach(function(ee,Ht){u[ee.id]=ee,h[ee.id]=Ht}),(t.sortBy==="degree"||!(0,Ln.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,f.isNumber)(e[0].degree))){var c=Jl(e.length,h,n);s.forEach(function(ee,Ht){ee.degree=c[Ht]})}s.sort(function(ee,Ht){return Ht[t.sortBy]-ee[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],g=v[0];s.forEach(function(ee){if(g.length>0){var Ht=Math.abs(g[0][t.sortBy]-ee[t.sortBy]);t.maxLevelDiff&&Ht>=t.maxLevelDiff&&(g=[],v.push(g))}g.push(ee)});var C=l+t.minNodeSpacing;if(!t.preventOverlap){var k=v.length>0&&v[0].length>1,D=Math.min(t.width,t.height)/2-C,G=D/(v.length+(k?1:0));C=Math.min(C,G)}var N=0;if(v.forEach(function(ee){var Ht=t.sweep;Ht===void 0&&(Ht=2*Math.PI-2*Math.PI/ee.length);var le=ee.dTheta=Ht/Math.max(1,ee.length-1);if(ee.length>1&&t.preventOverlap){var be=Math.cos(le)-Math.cos(0),me=Math.sin(le)-Math.sin(0),Ie=Math.sqrt(C*C/(be*be+me*me));N=Math.max(Ie,N)}ee.r=N,N+=C}),t.equidistant){for(var q=0,tt=0,bt=0;bt<v.length;bt++){var Nt=v[bt],Zt=Nt.r-tt;q=Math.max(q,Zt)}tt=0,v.forEach(function(ee,Ht){Ht===0&&(tt=ee.r),ee.r=tt,tt+=q})}v.forEach(function(ee){var Ht=ee.dTheta,le=ee.r;ee.forEach(function(be,me){var Ie=t.startAngle+(t.clockwise?1:-1)*Ht*me;be.x=o[0]+le*Math.cos(Ie),be.y=o[1]+le*Math.sin(Ie)})})}},r}(xa),kN=ON,BN=d(49772),bx=d.n(BN),DN=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(bx()).graphlib.Graph,l;n?(0,Ri.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(g){return g.size?(0,Ri.default)(g.size)?g.size:[g.size,g.size]:[40,40]};var u=hu(t.nodesepFunc,t.nodesep,50),h=hu(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(u=hu(t.ranksepFunc,t.ranksep,50),h=hu(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var g=l(v),C=h(v),k=u(v),D=g[0]+2*k,G=g[1]+2*C;s.setNode(v.id,{width:D,height:G})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),bx().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var g=e.findIndex(function(C){return C.id===v});e[g].x=c.x,e[g].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var g=o.findIndex(function(C){return C.source===v.v&&C.target===v.w});t.controlPoints&&o[g].type!=="loop"&&o[g].shape!=="loop"&&(o[g].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,u={};if(s.forEach(function(k){var D=k.comboId;u[D]||(u[D]={x:0,y:0,count:0}),u[D].x+=k.x,u[D].y+=k.y,u[D].count++}),Object.keys(u).forEach(function(k){u[k].x/=u[k].count,u[k].y/=u[k].count}),l!==1){var h=s.sort(function(k,D){return k.x-D.x}),c=h[0].x,v=h[l-1].x,g=(v-c)/(l-1),C=s.sort(function(k,D){var G=k[t]||"undefined",N=D[t]||"undefined";return G<N?-1:G>N?1:0});C.forEach(function(k,D){k.x=c+D*g})}})},r}(xa),FN=DN;function hu(i,r,t){var e;return i?e=i:(0,f.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function RN(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return wx(this.cover(r,t),r,t,i)}function wx(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,u=i._x1,h=i._y1,c,v,g,C,k,D,G,N;if(!a)return i._root=o,i;for(;a.length;)if((k=r>=(c=(s+u)/2))?s=c:u=c,(D=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[G=D<<1|k]))return n[G]=o,i;if(g=+i._x.call(null,a.data),C=+i._y.call(null,a.data),r===g&&t===C)return o.next=a,n?n[G]=o:i._root=o,i;do n=n?n[G]=new Array(4):i._root=new Array(4),(k=r>=(c=(s+u)/2))?s=c:u=c,(D=t>=(v=(l+h)/2))?l=v:h=v;while((G=D<<1|k)==(N=(C>=v)<<1|g>=c));return n[N]=a,n[G]=o,i}function NN(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,u=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<u&&(u=a),a>c&&(c=a));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),t=0;t<e;++t)wx(this,o[t],s[t],i[t]);return this}function GN(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,u;t>i||i>=n||e>r||r>=a;)switch(u=(r<e)<<1|i<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function YN(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function zN(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ea(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function XN(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,u,h=this._x1,c=this._y1,v=[],g=this._root,C,k;for(g&&v.push(new ea(g,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);C=v.pop();)if(!(!(g=C.node)||(o=C.x0)>h||(s=C.y0)>c||(l=C.x1)<n||(u=C.y1)<a))if(g.length){var D=(o+l)/2,G=(s+u)/2;v.push(new ea(g[3],D,G,l,u),new ea(g[2],o,G,D,u),new ea(g[1],D,s,l,G),new ea(g[0],o,s,D,G)),(k=(r>=G)<<1|i>=D)&&(C=v[v.length-1],v[v.length-1]=v[v.length-1-k],v[v.length-1-k]=C)}else{var N=i-+this._x.call(null,g.data),q=r-+this._y.call(null,g.data),tt=N*N+q*q;if(tt<t){var bt=Math.sqrt(t=tt);n=i-bt,a=r-bt,h=i+bt,c=r+bt,e=g.data}}return e}function VN(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,h,c,v,g,C,k,D,G;if(!t)return this;if(t.length)for(;;){if((C=h>=(v=(o+l)/2))?o=v:l=v,(k=c>=(g=(s+u)/2))?s=g:u=g,r=t,!(t=t[D=k<<1|C]))return this;if(!t.length)break;(r[D+1&3]||r[D+2&3]||r[D+3&3])&&(e=r,G=D)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[D]=a:delete r[D],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[G]=t:this._root=t),this):(this._root=a,this)}function HN(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function WN(){return this._root}function jN(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function UN(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new ea(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var u=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new ea(n,u,h,s,l)),(n=e[2])&&r.push(new ea(n,a,h,u,l)),(n=e[1])&&r.push(new ea(n,u,o,s,h)),(n=e[0])&&r.push(new ea(n,a,o,u,h))}return this}function ZN(i){var r=[],t=[],e;for(this._root&&r.push(new ea(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,h=(o+l)/2,c=(s+u)/2;(a=n[0])&&r.push(new ea(a,o,s,h,c)),(a=n[1])&&r.push(new ea(a,h,s,l,c)),(a=n[2])&&r.push(new ea(a,o,c,h,u)),(a=n[3])&&r.push(new ea(a,h,c,l,u))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function KN(i){return i[0]}function $N(i){return arguments.length?(this._x=i,this):this._x}function QN(i){return i[1]}function JN(i){return arguments.length?(this._y=i,this):this._y}function jh(i,r,t){var e=new Uh(r==null?KN:r,t==null?QN:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function Uh(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function Sx(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var ra=jh.prototype=Uh.prototype;ra.copy=function(){var i=new Uh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=Sx(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=Sx(e));return i},ra.add=RN,ra.addAll=NN,ra.cover=GN,ra.data=YN,ra.extent=zN,ra.find=XN,ra.remove=VN,ra.removeAll=HN,ra.root=WN,ra.size=jN,ra.visit=UN,ra.visitAfter=ZN,ra.x=$N,ra.y=JN;function na(i){return function(){return i}}function yo(i){return(i()-.5)*1e-6}var qN={value:function(){}};function Cx(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new cu(t)}function cu(i){this._=i}function t3(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}cu.prototype=Cx.prototype={constructor:cu,on:function(r,t){var e=this._,n=t3(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=e3(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=Mx(e[a],r.name,t);else if(t==null)for(a in e)e[a]=Mx(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new cu(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function e3(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function Mx(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=qN,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var r3=Cx,n3=d(35374),i3=1664525,a3=1013904223,Ex=4294967296;function o3(){var i=1;return function(){return(i=(i3*i+a3)%Ex)/Ex}}function s3(i){return i.x}function l3(i){return i.y}var u3=10,f3=Math.PI*(3-Math.sqrt(5));function Ax(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=(0,n3.HT)(c),u=r3("tick","end"),h=o3();i==null&&(i=[]);function c(){v(),u.call("tick",r),t<e&&(l.stop(),u.call("end",r))}function v(k){var D,G=i.length,N;k===void 0&&(k=1);for(var q=0;q<k;++q)for(t+=(a-t)*n,s.forEach(function(tt){tt(t)}),D=0;D<G;++D)N=i[D],N.fx==null?N.x+=N.vx*=o:(N.x=N.fx,N.vx=0),N.fy==null?N.y+=N.vy*=o:(N.y=N.fy,N.vy=0);return r}function g(){for(var k=0,D=i.length,G;k<D;++k){if(G=i[k],G.index=k,G.fx!=null&&(G.x=G.fx),G.fy!=null&&(G.y=G.fy),isNaN(G.x)||isNaN(G.y)){var N=u3*Math.sqrt(.5+k),q=k*f3;G.x=N*Math.cos(q),G.y=N*Math.sin(q)}(isNaN(G.vx)||isNaN(G.vy))&&(G.vx=G.vy=0)}}function C(k){return k.initialize&&k.initialize(i,h),k}return g(),r={tick:v,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(D){return arguments.length?(i=D,g(),s.forEach(C),r):i},alpha:function(D){return arguments.length?(t=+D,r):t},alphaMin:function(D){return arguments.length?(e=+D,r):e},alphaDecay:function(D){return arguments.length?(n=+D,r):+n},alphaTarget:function(D){return arguments.length?(a=+D,r):a},velocityDecay:function(D){return arguments.length?(o=1-D,r):1-o},randomSource:function(D){return arguments.length?(h=D,s.forEach(C),r):h},force:function(D,G){return arguments.length>1?(G==null?s.delete(D):s.set(D,C(G)),r):s.get(D)},find:function(D,G,N){var q=0,tt=i.length,bt,Nt,Zt,ee,Ht;for(N==null?N=Infinity:N*=N,q=0;q<tt;++q)ee=i[q],bt=D-ee.x,Nt=G-ee.y,Zt=bt*bt+Nt*Nt,Zt<N&&(Ht=ee,N=Zt);return Ht},on:function(D,G){return arguments.length>1?(u.on(D,G),r):u.on(D)}}}function _x(){var i,r,t,e,n=na(-30),a,o=1,s=Infinity,l=.81;function u(g){var C,k=i.length,D=jh(i,s3,l3).visitAfter(c);for(e=g,C=0;C<k;++C)r=i[C],D.visit(v)}function h(){if(!!i){var g,C=i.length,k;for(a=new Array(C),g=0;g<C;++g)k=i[g],a[k.index]=+n(k,g,i)}}function c(g){var C=0,k,D,G=0,N,q,tt;if(g.length){for(N=q=tt=0;tt<4;++tt)(k=g[tt])&&(D=Math.abs(k.value))&&(C+=k.value,G+=D,N+=D*k.x,q+=D*k.y);g.x=N/G,g.y=q/G}else{k=g,k.x=k.data.x,k.y=k.data.y;do C+=a[k.data.index];while(k=k.next)}g.value=C}function v(g,C,k,D){if(!g.value)return!0;var G=g.x-r.x,N=g.y-r.y,q=D-C,tt=G*G+N*N;if(q*q/l<tt)return tt<s&&(G===0&&(G=yo(t),tt+=G*G),N===0&&(N=yo(t),tt+=N*N),tt<o&&(tt=Math.sqrt(o*tt)),r.vx+=G*g.value*e/tt,r.vy+=N*g.value*e/tt),!0;if(g.length||tt>=s)return;(g.data!==r||g.next)&&(G===0&&(G=yo(t),tt+=G*G),N===0&&(N=yo(t),tt+=N*N),tt<o&&(tt=Math.sqrt(o*tt)));do g.data!==r&&(q=a[g.data.index]*e/tt,r.vx+=G*q,r.vy+=N*q);while(g=g.next)}return u.initialize=function(g,C){i=g,t=C,h()},u.strength=function(g){return arguments.length?(n=typeof g=="function"?g:na(+g),h(),u):n},u.distanceMin=function(g){return arguments.length?(o=g*g,u):Math.sqrt(o)},u.distanceMax=function(g){return arguments.length?(s=g*g,u):Math.sqrt(s)},u.theta=function(g){return arguments.length?(l=g*g,u):Math.sqrt(l)},u}function h3(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-i)*e,u=(u/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function c3(i){return i.index}function Tx(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function Px(i){var r=c3,t=c,e,n=na(30),a,o,s,l,u,h=1;i==null&&(i=[]);function c(D){return 1/Math.min(s[D.source.index],s[D.target.index])}function v(D){for(var G=0,N=i.length;G<h;++G)for(var q=0,tt,bt,Nt,Zt,ee,Ht,le;q<N;++q)tt=i[q],bt=tt.source,Nt=tt.target,Zt=Nt.x+Nt.vx-bt.x-bt.vx||yo(u),ee=Nt.y+Nt.vy-bt.y-bt.vy||yo(u),Ht=Math.sqrt(Zt*Zt+ee*ee),Ht=(Ht-a[q])/Ht*D*e[q],Zt*=Ht,ee*=Ht,Nt.vx-=Zt*(le=l[q]),Nt.vy-=ee*le,bt.vx+=Zt*(le=1-le),bt.vy+=ee*le}function g(){if(!!o){var D,G=o.length,N=i.length,q=new Map(o.map(function(bt,Nt){return[r(bt,Nt,o),bt]})),tt;for(D=0,s=new Array(G);D<N;++D)tt=i[D],tt.index=D,typeof tt.source!="object"&&(tt.source=Tx(q,tt.source)),typeof tt.target!="object"&&(tt.target=Tx(q,tt.target)),s[tt.source.index]=(s[tt.source.index]||0)+1,s[tt.target.index]=(s[tt.target.index]||0)+1;for(D=0,l=new Array(N);D<N;++D)tt=i[D],l[D]=s[tt.source.index]/(s[tt.source.index]+s[tt.target.index]);e=new Array(N),C(),a=new Array(N),k()}}function C(){if(!!o)for(var D=0,G=i.length;D<G;++D)e[D]=+t(i[D],D,i)}function k(){if(!!o)for(var D=0,G=i.length;D<G;++D)a[D]=+n(i[D],D,i)}return v.initialize=function(D,G){o=D,u=G,g()},v.links=function(D){return arguments.length?(i=D,g(),v):i},v.id=function(D){return arguments.length?(r=D,v):r},v.iterations=function(D){return arguments.length?(h=+D,v):h},v.strength=function(D){return arguments.length?(t=typeof D=="function"?D:na(+D),C(),v):t},v.distance=function(D){return arguments.length?(n=typeof D=="function"?D:na(+D),k(),v):n},v}function v3(i){return i.x+i.vx}function d3(i){return i.y+i.vy}function Lx(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=na(i==null?1:+i));function o(){for(var u,h=r.length,c,v,g,C,k,D,G=0;G<a;++G)for(c=jh(r,v3,d3).visitAfter(s),u=0;u<h;++u)v=r[u],k=t[v.index],D=k*k,g=v.x+v.vx,C=v.y+v.vy,c.visit(N);function N(q,tt,bt,Nt,Zt){var ee=q.data,Ht=q.r,le=k+Ht;if(ee){if(ee.index>v.index){var be=g-ee.x-ee.vx,me=C-ee.y-ee.vy,Ie=be*be+me*me;Ie<le*le&&(be===0&&(be=yo(e),Ie+=be*be),me===0&&(me=yo(e),Ie+=me*me),Ie=(le-(Ie=Math.sqrt(Ie)))/Ie*n,v.vx+=(be*=Ie)*(le=(Ht*=Ht)/(D+Ht)),v.vy+=(me*=Ie)*le,ee.vx-=be*(le=1-le),ee.vy-=me*le)}return}return tt>g+le||Nt<g-le||bt>C+le||Zt<C-le}}function s(u){if(u.data)return u.r=t[u.data.index];for(var h=u.r=0;h<4;++h)u[h]&&u[h].r>u.r&&(u.r=u[h].r)}function l(){if(!!r){var u,h=r.length,c;for(t=new Array(h),u=0;u<h;++u)c=r[u],t[c.index]=+i(c,u,r)}}return o.initialize=function(u,h){r=u,e=h,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(n=+u,o):n},o.radius=function(u){return arguments.length?(i=typeof u=="function"?u:na(+u),l(),o):i},o}function p3(i){var r=na(.1),t,e,n;typeof i!="function"&&(i=na(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:na(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:na(+s),o(),a):i},a}function g3(i){var r=na(.1),t,e,n;typeof i!="function"&&(i=na(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:na(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:na(+s),o(),a):i},a}function y3(){function i(ar){return function(){return ar}}var r=function(Er){return Er.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},u=[],h=100,c=100,v={none:{x:0,y:0}},g=[],C,k="force",D=!0,G=.1;function N(ar){if(!D)return N;C.tick(),ee();for(var Er=0,Gr=s.length,Tr=void 0,_r=ar*G;Er<Gr;++Er)Tr=s[Er],Tr.vx+=(v[r(Tr)].x-Tr.x)*_r,Tr.vy+=(v[r(Tr)].y-Tr.y)*_r}function q(){!s||tt()}function tt(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var ar=bt();C=Ax(ar.nodes).force("x",p3(h).strength(.1)).force("y",g3(c).strength(.1)).force("collide",Lx(function(Er){return Er.r}).iterations(4)).force("charge",_x().strength(e)).force("links",Px(ar.nodes.length?ar.links:[]).distance(n).strength(a)),g=C.nodes(),ee()}}function bt(){var ar=[],Er=[],Gr={},Tr=[],_r={},Hr=[];return _r=Nt(s),Hr=Zt(u),Tr=Object.keys(_r),Tr.forEach(function(sn,Dr){var Ve=_r[sn];ar.push({id:sn,size:Ve.count,r:Math.sqrt(Ve.sumforceNodeSize/Math.PI)}),Gr[sn]=Dr}),Hr.forEach(function(sn){var Dr=Gr[sn.source],Ve=Gr[sn.target];Dr!==void 0&&Ve!==void 0&&Er.push({source:Dr,target:Ve,count:sn.count})}),{nodes:ar,links:Er}}function Nt(ar){var Er={};return ar.forEach(function(Gr){var Tr=r(Gr);Er[Tr]||(Er[Tr]={count:0,sumforceNodeSize:0})}),ar.forEach(function(Gr){var Tr=r(Gr),_r=t(Gr),Hr=Er[Tr];Hr.count=Hr.count+1,Hr.sumforceNodeSize=Hr.sumforceNodeSize+Math.PI*(_r*_r)*1.3,Er[Tr]=Hr}),Er}function Zt(ar){var Er={},Gr=[];ar.forEach(function(_r){var Hr=Ht(_r),sn=0;Er[Hr]!==void 0&&(sn=Er[Hr]),sn+=1,Er[Hr]=sn});var Tr=Object.entries(Er);return Tr.forEach(function(_r){var Hr=_r[0],sn=_r[1],Dr=Hr.split("~")[0],Ve=Hr.split("~")[1];Dr!==void 0&&Ve!==void 0&&Gr.push({source:Dr,target:Ve,count:sn})}),Gr}function ee(){return v={none:{x:0,y:0}},g.forEach(function(ar){v[ar.id]={x:ar.x-o[0],y:ar.y-o[1]}}),v}function Ht(ar){var Er=r(l[ar.source]),Gr=r(l[ar.target]);return Er<=Gr?Er+"~"+Gr:Gr+"~"+Er}function le(ar){l={},ar.forEach(function(Er){l[Er.id]=Er})}function be(ar){return arguments.length?(k=ar,q(),N):k}function me(ar){return arguments.length?typeof ar=="string"?(r=function(Gr){return Gr[ar]},N):(r=ar,N):r}function Ie(ar){return arguments.length?(D=ar,N):D}function Ge(ar){return arguments.length?(G=ar,N):G}function Fe(ar){return arguments.length?(h=ar,N):h}function Je(ar){return arguments.length?(c=ar,N):c}function tr(ar){return arguments.length?(le(ar||[]),s=ar||[],N):s}function nr(ar){return arguments.length?(u=ar||[],q(),N):u}function $e(ar){return arguments.length?(typeof ar=="function"?t=ar:t=i(+ar),q(),N):t}function Qe(ar){return arguments.length?(typeof ar=="function"?e=ar:e=i(+ar),q(),N):e}function Sr(ar){return arguments.length?(typeof ar=="function"?n=ar:n=i(+ar),q(),N):n}function xr(ar){return arguments.length?(typeof ar=="function"?a=ar:a=i(+ar),q(),N):a}function Lr(ar){return arguments.length?(o=ar,N):o}return N.initialize=function(ar){s=ar,q()},N.template=be,N.groupBy=me,N.enableGrouping=Ie,N.strength=Ge,N.centerX=Fe,N.centerY=Je,N.nodes=tr,N.links=nr,N.forceNodeSize=$e,N.nodeSize=N.forceNodeSize,N.forceCharge=Qe,N.forceLinkDistance=Sr,N.forceLinkStrength=xr,N.offset=Lr,N.getFocis=ee,N}var no={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},m3=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var h=_x();if(e.nodeStrength&&h.strength(e.nodeStrength),o=Ax().nodes(n),e.clustering){var c=y3();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",h3(e.center[0],e.center[1])).force("charge",h).alpha(u).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=Px().id(function(k){return k.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!w3()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var g=b3(o),C=1;C<=g;C++)o.tick(),postMessage({type:no.TICK,currentTick:C,totalTicks:g,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(k){e.ticking=!1,console.warn(k)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,Ca.default)(a)?s=function(){return a}:(0,Qs.default)(a)?s=a:s=function(){return 0},!n)o=function(g){if(g.size){if((0,Ri.default)(g.size)){var C=g.size[0]>g.size[1]?g.size[0]:g.size[1];return C/2+s(g)}return g.size/2+s(g)}return 10+s(g)};else if((0,Qs.default)(n))o=function(g){var C=n(g);return C+s(g)};else if((0,Ri.default)(n)){var u=n[0]>n[1]?n[0]:n[1],h=u/2;o=function(g){return h+s(g)}}else if((0,Ca.default)(n)){var c=n/2;o=function(g){return c+s(g)}}else o=function(){return 10};t.force("collisionForce",Lx(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Fs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(xa),x3=m3;function b3(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function w3(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var S3=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,u;t.initVals(),l&&(u=t.getClusterMap());for(var h=function(D){var G=[];e.forEach(function(N,q){G[q]={x:0,y:0}}),t.applyCalculate(e,n,G),l&&t.applyClusterForce(u,G),e.forEach(function(N,q){!(0,f.isNumber)(N.x)||!(0,f.isNumber)(N.y)||(N.x+=G[q].x*s,N.y+=G[q].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var g=[0,0];e.forEach(function(k){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(g[0]+=k.x,g[1]+=k.y)}),g[0]/=e.length,g[1]/=e.length;var C=[o[0]-g[0],o[1]-g[1]];e.forEach(function(k,D){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(k.x+=C[0],k.y+=C[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,u,h;if((0,f.isNumber)(l)?h=function(){return l}:(0,f.isFunction)(l)?h=l:h=function(){return 0},!s)u=function(bt){if(bt.size){if((0,f.isArray)(bt.size)){var Nt=bt.size[0]>bt.size[1]?bt.size[0]:bt.size[1];return Nt/2+h(bt)}return bt.size/2+h(bt)}return 10+h(bt)};else if((0,f.isFunction)(s))u=function(bt){var Nt=s(bt);return Nt+h(bt)};else if((0,f.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;u=function(bt){return v+h(bt)}}else if((0,f.isNumber)(s)){var g=s/2;u=function(bt){return g+h(bt)}}else u=function(){return 10};this.nodeSize=u;var C=this.linkDistance,k;C||(C=50),(0,f.isNumber)(C)&&(k=function(bt){return C}),this.linkDistance=k;var D=this.linkStrength,G;D||(D=1),(0,f.isNumber)(D)&&(G=function(bt){return D}),this.linkStrength=G;var N=this.nodeStrength,q;N||(N=30),(0,f.isNumber)(N)&&(q=function(bt){return N}),this.nodeStrength=q},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,f.isNumber)(o.x)&&(l.cx+=o.x),(0,f.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(h.y))){var v=t[h.cluster],g=h.x-v.cx,C=h.y-v.cy,k=Math.sqrt(g*g+C*C);e[c].x-=g*s*l/k,e[c].y-=C*s*l/k}});for(var u in t)t[u].cx=0,t[u].cy=0,t[u].count=0;o.forEach(function(h){var c=t[h.cluster];(0,f.isNumber)(h.x)&&(c.cx+=h.x),(0,f.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var u in t)t[u].cx/=t[u].count,t[u].cy/=t[u].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(!(l<h)){var c=s.x-u.x,v=s.y-u.y,g=c*c+v*v;g<1&&(g=Math.sqrt(g)),c===0&&(c=Math.random()*.01,g+=c*c),v===0&&(v=Math.random()*.01,g+=v*v);var C=Math.sqrt(g);o[s.id+"-"+u.id]={vx:c,vy:v,vl:g,sqrtVl:C},o[u.id+"-"+s.id]={vx:-c,vy:-v,vl:g,sqrtVl:C}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,u=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(g,C){if(v!==C&&!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(g.x)||!(0,f.isNumber)(c.y)||!(0,f.isNumber)(g.y))){var k=n[c.id+"-"+g.id],D=k.vl,G=k.vx,N=k.vy;if(!(D>a)&&(e[v].x+=G*o(g)*s/D,e[v].y+=N*o(g)*s/D,u&&v<C)){var q=h(c),tt=h(g),bt=q+tt;if(D<bt*bt){var Nt=n[c.id+"-"+g.id].sqrtVl,Zt=(bt-Nt)/Nt*l,ee=tt*tt/(q*q+tt*tt),Ht=G*Zt,le=N*Zt;e[v].x+=Ht*ee,e[v].y+=le*ee,ee=1-ee,e[C].x-=Ht*ee,e[C].y-=le*ee}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,u=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],g=a.nodeIdxMap[h.target];if(v!==g){var C=a.nodeMap[h.source],k=a.nodeMap[h.target];if(!(!(0,f.isNumber)(k.x)||!(0,f.isNumber)(C.x)||!(0,f.isNumber)(k.y)||!(0,f.isNumber)(C.y))){var D=n[h.target+"-"+h.source],G=D.vl,N=D.sqrtVl,q=D.vx,tt=D.vy,bt=(N-o(h))/N*s*l(h),Nt=q*bt,Zt=tt*bt,ee=u[c];e[g].x-=Nt*ee,e[g].y-=Zt*ee,e[v].x+=Nt*(1-ee),e[v].y+=Zt*(1-ee)}}}})},r}(xa),C3=S3,M3=800,E3=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,u){(0,f.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,f.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=u}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(D){if(v[D.cluster]===void 0){var G={name:D.cluster,cx:0,cy:0,count:0};v[D.cluster]=G}var N=v[D.cluster];(0,f.isNumber)(D.x)&&(N.cx+=D.x),(0,f.isNumber)(D.y)&&(N.cy+=D.y),N.count++});for(var g in v)v[g].cx/=v[g].count,v[g].cy/=v[g].count}for(var C=function(G){var N=[];if(e.forEach(function(bt,Nt){N[Nt]={x:0,y:0}}),t.applyCalculate(e,n,N,l),c){var q=t.clusterGravity||u;e.forEach(function(bt,Nt){if(!(!(0,f.isNumber)(bt.x)||!(0,f.isNumber)(bt.y))){var Zt=v[bt.cluster],ee=Math.sqrt((bt.x-Zt.cx)*(bt.x-Zt.cx)+(bt.y-Zt.cy)*(bt.y-Zt.cy)),Ht=l*q;N[Nt].x-=Ht*(bt.x-Zt.cx)/ee,N[Nt].y-=Ht*(bt.y-Zt.cy)/ee}});for(var tt in v)v[tt].cx=0,v[tt].cy=0,v[tt].count=0;e.forEach(function(bt){var Nt=v[bt.cluster];(0,f.isNumber)(bt.x)&&(Nt.cx+=bt.x),(0,f.isNumber)(bt.y)&&(Nt.cy+=bt.y),Nt.count++});for(var tt in v)v[tt].cx/=v[tt].count,v[tt].cy/=v[tt].count}e.forEach(function(bt,Nt){if(!(!(0,f.isNumber)(bt.x)||!(0,f.isNumber)(bt.y))){var Zt=.01*l*u;N[Nt].x-=Zt*(bt.x-o[0]),N[Nt].y-=Zt*(bt.y-o[1])}}),e.forEach(function(bt,Nt){if(!(!(0,f.isNumber)(bt.x)||!(0,f.isNumber)(bt.y))){var Zt=Math.sqrt(N[Nt].x*N[Nt].x+N[Nt].y*N[Nt].y);if(Zt>0){var ee=Math.min(s*(h/M3),Zt);bt.x+=N[Nt].x/Zt*ee,bt.y+=N[Nt].y/Zt*ee}}})},k=0;k<a;k++)C(k)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,f.isNumber)(a.x)||!(0,f.isNumber)(s.x)||!(0,f.isNumber)(a.y)||!(0,f.isNumber)(s.y))){var u=a.x-s.x,h=a.y-s.y,c=u*u+h*h;if(c===0){c=1;var v=o>l?1:-1;u=.01*v,h=.01*v}var g=n*n/c;e[o].x+=u*g,e[o].y+=h*g}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var u=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(u.x)||!(0,f.isNumber)(h.y)||!(0,f.isNumber)(u.y))){var c=h.x-u.x,v=h.y-u.y,g=Math.sqrt(c*c+v*v),C=g*g/n;e[l].x-=c/g*C,e[l].y-=v/g*C,e[s].x+=c/g*C,e[s].y+=v/g*C}}}})},r}(xa),A3=E3,_3=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(N){s.push(N)});var l={};if(s.forEach(function(N,q){l[N.id]=q}),(t.sortBy==="degree"||!(0,Ln.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",to(e[0].degree))){var u=Jl(s.length,l,o);s.forEach(function(N,q){N.degree=u[q]})}s.sort(function(N,q){return q[t.sortBy]-N[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),g=t.large();(v-1)*g>=t.cells?t.small(v-1):(g-1)*v>=t.cells&&t.large(g-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),g=t.large();(g+1)*v>=t.cells?t.large(g+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(N){(!N.x||!N.y)&&(N.x=0,N.y=0);var q,tt;(0,f.isArray)(N.size)?(q=N.size[0],tt=N.size[1]):(0,f.isNumber)(N.size)&&(q=N.size,tt=N.size),(q===void 0||tt===void 0)&&((0,f.isArray)(t.nodeSize)?(q=t.nodeSize[0],tt=t.nodeSize[1]):(0,f.isNumber)(t.nodeSize)?(q=t.nodeSize,tt=t.nodeSize):(q=30,tt=30));var bt=t.preventOverlapPadding,Nt=q+bt,Zt=tt+bt;t.cellWidth=Math.max(t.cellWidth,Nt),t.cellHeight=Math.max(t.cellHeight,Zt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var C=0;C<s.length;C++){var k=s[C],D=void 0;if(t.position&&(D=t.position(k)),D&&(D.row!==void 0||D.col!==void 0)){var G={row:D.row,col:D.col};if(G.col===void 0)for(G.col=0;t.used(G.row,G.col);)G.col++;else if(G.row===void 0)for(G.row=0;t.used(G.row,G.col);)G.row++;t.id2manPos[k.id]=G,t.use(G.row,G.col)}t.getPos(k)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,u=e.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(xa),T3=_3,P3=d(40670),Ix=d(81306),Ox=d(59206),vu=d(69610),du=d(54941);const L3=Object.prototype.toString;function ca(i){return L3.call(i).endsWith("Array]")}function I3(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ca(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}function O3(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ca(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}function kx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ca(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!ca(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=O3(i),n=I3(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*u+o;return t}var pu=" ".repeat(2),Bx=" ".repeat(4);function k3(){return Dx(this)}function Dx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o;return"".concat(i.constructor.name,` {
`).concat(pu,`[
`).concat(Bx).concat(B3(i,e,a,s),`
`).concat(pu,`]
`).concat(pu,"rows: ").concat(i.rows,`
`).concat(pu,"columns: ").concat(i.columns,`
}`)}function B3(i,r,t,e){for(var n=i.rows,a=i.columns,o=Math.min(n,r),s=Math.min(a,t),l=[],u=0;u<o;u++){for(var h=[],c=0;c<s;c++)h.push(D3(i.get(u,c),e));l.push("".concat(h.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-t," more columns")),o!==n&&l.push("... ".concat(n-r," more rows")),l.join(`
`.concat(Bx))}function D3(i,r){var t=String(i);if(t.length<=r)return t.padEnd(r," ");var e=i.toPrecision(r-2);if(e.length<=r)return e;var n=i.toExponential(r-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,r-o.length)+o}function F3(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function Ea(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function Aa(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function ns(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function is(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function R3(i,r){if(!ca(r))throw new TypeError("row indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.rows)throw new RangeError("row indices are out of range")}function N3(i,r){if(!ca(r))throw new TypeError("column indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.columns)throw new RangeError("column indices are out of range")}function Fx(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(yu("startRow",r),yu("endRow",t),yu("startColumn",e),yu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function gu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function yu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function as(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function G3(i){for(var r=gu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function Y3(i){for(var r=gu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function z3(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function X3(i){for(var r=gu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function V3(i){for(var r=gu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function H3(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function W3(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,u=0,h=0;h<n;h++)u=i.get(o,h)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function j3(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,u=0,h=0;h<e;h++)u=i.get(h,o)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function U3(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,u=0;u<e;u++)for(var h=0;h<n;h++)l=i.get(u,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function Z3(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function K3(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function $3(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function Q3(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function J3(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function q3(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function t4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function e4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function r4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var Li=function(){function i(){(0,vu.Z)(this,i)}return(0,du.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var u=e+1;u<t.rows;u++){var h=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var u=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-u*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new un(this.rows*n,this.columns*o),l=0;l<n;l++)for(var u=0;u<o;u++)s.setSubMatrix(this,this.rows*l,this.columns*u);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Ea(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return un.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Ea(this,t),e=ns(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){Ea(this,t),Ea(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){Aa(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return un.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Aa(this,t),e=is(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Aa(this,t),Aa(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=ns(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=ns(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=ns(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=ns(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=is(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=is(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=is(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=is(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){Ea(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Aa(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)>o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var u=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)>u&&(u=this.get(h,c));return u}default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){as(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.POSITIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)<o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var u=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)<u&&(u=this.get(h,c));return u}default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){as(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(Ea(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){Ea(this,t),as(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(Ea(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){Ea(this,t),as(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(Aa(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Aa(this,t),as(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(Aa(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Aa(this,t),as(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=un.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new un(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var u=0;u<n;u++)s[u]=t.get(u,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=un.checkMatrix(t);var e=new un(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),u=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),g=(l+h)*a,C=n*(s-c),k=h*(u-a),D=(n+o)*c,G=(l-n)*(a+s),N=(o-h)*(u+c),q=v+k-D+N,tt=C+D,bt=g+k,Nt=v-g+C+G;return e.set(0,0,q),e.set(0,1,tt),e.set(1,0,bt),e.set(1,1,Nt),e}},{key:"strassen3x3",value:function(t){t=un.checkMatrix(t);var e=new un(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),u=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),g=t.get(0,0),C=t.get(0,1),k=t.get(0,2),D=t.get(1,0),G=t.get(1,1),N=t.get(1,2),q=t.get(2,0),tt=t.get(2,1),bt=t.get(2,2),Nt=(n+a+o-s-l-c-v)*G,Zt=(n-s)*(-C+G),ee=l*(-g+C+D-G-N-q+bt),Ht=(-n+s+l)*(g-C+G),le=(s+l)*(-g+C),be=n*g,me=(-n+h+c)*(g-k+N),Ie=(-n+h)*(k-N),Ge=(h+c)*(-g+k),Fe=(n+a+o-l-u-h-c)*N,Je=c*(-g+k+D-G-N-q+tt),tr=(-o+c+v)*(G+q-tt),nr=(o-v)*(G-tt),$e=o*q,Qe=(c+v)*(-q+tt),Sr=(-o+l+u)*(N+q-bt),xr=(o-u)*(N-bt),Lr=(l+u)*(-q+bt),ar=a*D,Er=u*tt,Gr=s*k,Tr=h*C,_r=v*bt,Hr=be+$e+ar,sn=Nt+Ht+le+be+tr+$e+Qe,Dr=be+me+Ge+Fe+$e+Sr+Lr,Ve=Zt+ee+Ht+be+$e+Sr+xr,ur=Zt+Ht+le+be+Er,Wr=$e+Sr+xr+Lr+Gr,tn=be+me+Ie+Je+tr+nr+$e,Rr=tr+nr+$e+Qe+Tr,fn=be+me+Ie+Ge+_r;return e.set(0,0,Hr),e.set(0,1,sn),e.set(0,2,Dr),e.set(1,0,Ve),e.set(1,1,ur),e.set(1,2,Wr),e.set(2,0,tn),e.set(2,1,Rr),e.set(2,2,fn),e}},{key:"mmulStrassen",value:function(t){t=un.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,g,C){var k=v.rows,D=v.columns;if(k===g&&D===C)return v;var G=i.zeros(g,C);return G=G.setSubMatrix(v,0,0),G}var u=Math.max(n,o),h=Math.max(a,s);e=l(e,u,h),t=l(t,u,h);function c(v,g,C,k){if(C<=512||k<=512)return v.mmul(g);C%2==1&&k%2==1?(v=l(v,C+1,k+1),g=l(g,C+1,k+1)):C%2==1?(v=l(v,C+1,k),g=l(g,C+1,k)):k%2==1&&(v=l(v,C,k+1),g=l(g,C,k+1));var D=parseInt(v.rows/2,10),G=parseInt(v.columns/2,10),N=v.subMatrix(0,D-1,0,G-1),q=g.subMatrix(0,D-1,0,G-1),tt=v.subMatrix(0,D-1,G,v.columns-1),bt=g.subMatrix(0,D-1,G,g.columns-1),Nt=v.subMatrix(D,v.rows-1,0,G-1),Zt=g.subMatrix(D,g.rows-1,0,G-1),ee=v.subMatrix(D,v.rows-1,G,v.columns-1),Ht=g.subMatrix(D,g.rows-1,G,g.columns-1),le=c(i.add(N,ee),i.add(q,Ht),D,G),be=c(i.add(Nt,ee),q,D,G),me=c(N,i.sub(bt,Ht),D,G),Ie=c(ee,i.sub(Zt,q),D,G),Ge=c(i.add(N,tt),Ht,D,G),Fe=c(i.sub(Nt,N),i.add(q,bt),D,G),Je=c(i.sub(tt,ee),i.add(Zt,Ht),D,G),tr=i.add(le,Ie);tr.sub(Ge),tr.add(Je);var nr=i.add(me,Ge),$e=i.add(be,Ie),Qe=i.sub(le,be);Qe.add(me),Qe.add(Fe);var Sr=i.zeros(2*tr.rows,2*tr.columns);return Sr=Sr.setSubMatrix(tr,0,0),Sr=Sr.setSubMatrix(nr,tr.rows,0),Sr=Sr.setSubMatrix($e,0,tr.columns),Sr=Sr.setSubMatrix(Qe,tr.rows,tr.columns),Sr.subMatrix(0,C-1,0,k-1)}return c(e,t,u,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new un(this.rows,this.columns),l=0;l<this.rows;l++){var u=this.getRow(l);u.length>0&&kx(u,{min:n,max:o,output:u}),s.setRow(l,u)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new un(this.rows,this.columns),l=0;l<this.columns;l++){var u=this.getColumn(l);u.length&&kx(u,{min:n,max:o,output:u}),s.setColumn(l,u)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=un.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new un(e*a,n*o),l=0;l<e;l++)for(var u=0;u<n;u++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*u+c,this.get(l,u)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=un.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(un.eye(n,n)),o=un.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new un(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rx,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rx,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){Fx(this,t,e,n,a);for(var o=new un(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new un(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new un(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=un.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;Fx(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){R3(this,t),N3(this,e);for(var n=new un(t.length,e.length),a=0;a<t.length;a++)for(var o=t[a],s=0;s<e.length;s++){var l=e[s];n.set(a,s,this.get(o,l))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new un(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return G3(this);case"column":return Y3(this);case void 0:return z3(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return X3(this);case"column":return V3(this);case void 0:return H3(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!ca(l))throw new TypeError("mean must be an array");return W3(this,o,l)}case"column":{if(!ca(l))throw new TypeError("mean must be an array");return j3(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return U3(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!ca(o))throw new TypeError("center must be an array");return Z3(this,o),this}case"column":{if(!ca(o))throw new TypeError("center must be an array");return K3(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return $3(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=Q3(this);else if(!ca(n))throw new TypeError("scale must be an array");return J3(this,n),this}case"column":{if(n===void 0)n=q3(this);else if(!ca(n))throw new TypeError("scale must be an array");return t4(this,n),this}case void 0:{if(n===void 0)n=e4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return r4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Dx(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new un(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new un(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new un(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new un(t,e)}},{key:"ones",value:function(t,e){return new un(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new un(t,e),l=0;l<t;l++)for(var u=0;u<e;u++)s.set(l,u,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,u=n.random,h=u===void 0?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new un(t,e),g=0;g<t;g++)for(var C=0;C<e;C++){var k=o+Math.round(h()*c);v.set(g,C,k)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new un(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new un(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();Li.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Li.prototype[Symbol.for("nodejs.util.inspect.custom")]=k3);function Rx(i,r){return i-r}function n4(i){return i.every(function(r){return typeof r=="number"})}Li.random=Li.rand,Li.randomInt=Li.randInt,Li.diagonal=Li.diag,Li.prototype.diagonal=Li.prototype.diag,Li.identity=Li.eye,Li.prototype.negate=Li.prototype.neg,Li.prototype.tensorProduct=Li.prototype.kroneckerProduct;var un=function(i){(0,Ix.Z)(t,i);var r=(0,Ox.Z)(t);function t(e,n){var a;if((0,vu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,P3.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(ca(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");if(!n4(s[l]))throw new TypeError("Input data contains non-numeric values");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,du.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return Ea(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),Ea(this,n,!0),a=Float64Array.from(ns(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){Aa(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),Aa(this,n,!0),a=is(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(Li);F3(Li,un);var i4=function(i){(0,Ix.Z)(t,i);var r=(0,Ox.Z)(t);function t(e){var n;return(0,vu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,du.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(Li);function os(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var Nx=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,vu.Z)(this,i),r=i4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,u=t.autoTranspose,h=u===void 0?!1:u,c=Boolean(o),v=Boolean(l),g=!1,C;if(e<n)if(!h)C=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{C=r.transpose(),e=C.rows,n=C.columns,g=!0;var k=c;c=v,v=k}else C=r.clone();for(var D=Math.min(e,n),G=Math.min(e+1,n),N=new Float64Array(G),q=new un(e,D),tt=new un(n,n),bt=new Float64Array(n),Nt=new Float64Array(e),Zt=new Float64Array(G),ee=0;ee<G;ee++)Zt[ee]=ee;for(var Ht=Math.min(e-1,n),le=Math.max(0,Math.min(n-2,e)),be=Math.max(Ht,le),me=0;me<be;me++){if(me<Ht){N[me]=0;for(var Ie=me;Ie<e;Ie++)N[me]=os(N[me],C.get(Ie,me));if(N[me]!==0){C.get(me,me)<0&&(N[me]=-N[me]);for(var Ge=me;Ge<e;Ge++)C.set(Ge,me,C.get(Ge,me)/N[me]);C.set(me,me,C.get(me,me)+1)}N[me]=-N[me]}for(var Fe=me+1;Fe<n;Fe++){if(me<Ht&&N[me]!==0){for(var Je=0,tr=me;tr<e;tr++)Je+=C.get(tr,me)*C.get(tr,Fe);Je=-Je/C.get(me,me);for(var nr=me;nr<e;nr++)C.set(nr,Fe,C.get(nr,Fe)+Je*C.get(nr,me))}bt[Fe]=C.get(me,Fe)}if(c&&me<Ht)for(var $e=me;$e<e;$e++)q.set($e,me,C.get($e,me));if(me<le){bt[me]=0;for(var Qe=me+1;Qe<n;Qe++)bt[me]=os(bt[me],bt[Qe]);if(bt[me]!==0){bt[me+1]<0&&(bt[me]=0-bt[me]);for(var Sr=me+1;Sr<n;Sr++)bt[Sr]/=bt[me];bt[me+1]+=1}if(bt[me]=-bt[me],me+1<e&&bt[me]!==0){for(var xr=me+1;xr<e;xr++)Nt[xr]=0;for(var Lr=me+1;Lr<e;Lr++)for(var ar=me+1;ar<n;ar++)Nt[Lr]+=bt[ar]*C.get(Lr,ar);for(var Er=me+1;Er<n;Er++)for(var Gr=-bt[Er]/bt[me+1],Tr=me+1;Tr<e;Tr++)C.set(Tr,Er,C.get(Tr,Er)+Gr*Nt[Tr])}if(v)for(var _r=me+1;_r<n;_r++)tt.set(_r,me,bt[_r])}}var Hr=Math.min(n,e+1);if(Ht<n&&(N[Ht]=C.get(Ht,Ht)),e<Hr&&(N[Hr-1]=0),le+1<Hr&&(bt[le]=C.get(le,Hr-1)),bt[Hr-1]=0,c){for(var sn=Ht;sn<D;sn++){for(var Dr=0;Dr<e;Dr++)q.set(Dr,sn,0);q.set(sn,sn,1)}for(var Ve=Ht-1;Ve>=0;Ve--)if(N[Ve]!==0){for(var ur=Ve+1;ur<D;ur++){for(var Wr=0,tn=Ve;tn<e;tn++)Wr+=q.get(tn,Ve)*q.get(tn,ur);Wr=-Wr/q.get(Ve,Ve);for(var Rr=Ve;Rr<e;Rr++)q.set(Rr,ur,q.get(Rr,ur)+Wr*q.get(Rr,Ve))}for(var fn=Ve;fn<e;fn++)q.set(fn,Ve,-q.get(fn,Ve));q.set(Ve,Ve,1+q.get(Ve,Ve));for(var nn=0;nn<Ve-1;nn++)q.set(nn,Ve,0)}else{for(var Ur=0;Ur<e;Ur++)q.set(Ur,Ve,0);q.set(Ve,Ve,1)}}if(v)for(var hn=n-1;hn>=0;hn--){if(hn<le&&bt[hn]!==0)for(var wn=hn+1;wn<n;wn++){for(var Un=0,Bn=hn+1;Bn<n;Bn++)Un+=tt.get(Bn,hn)*tt.get(Bn,wn);Un=-Un/tt.get(hn+1,hn);for(var qn=hn+1;qn<n;qn++)tt.set(qn,wn,tt.get(qn,wn)+Un*tt.get(qn,hn))}for(var si=0;si<n;si++)tt.set(si,hn,0);tt.set(hn,hn,1)}for(var zi=Hr-1,ji=0,bi=Number.EPSILON;Hr>0;){var zr=void 0,ti=void 0;for(zr=Hr-2;zr>=-1&&zr!==-1;zr--){var Ii=Number.MIN_VALUE+bi*Math.abs(N[zr]+Math.abs(N[zr+1]));if(Math.abs(bt[zr])<=Ii||Number.isNaN(bt[zr])){bt[zr]=0;break}}if(zr===Hr-2)ti=4;else{var Si=void 0;for(Si=Hr-1;Si>=zr&&Si!==zr;Si--){var Va=(Si!==Hr?Math.abs(bt[Si]):0)+(Si!==zr+1?Math.abs(bt[Si-1]):0);if(Math.abs(N[Si])<=bi*Va){N[Si]=0;break}}Si===zr?ti=3:Si===Hr-1?ti=1:(ti=2,zr=Si)}switch(zr++,ti){case 1:{var Oi=bt[Hr-2];bt[Hr-2]=0;for(var Fn=Hr-2;Fn>=zr;Fn--){var Tn=os(N[Fn],Oi),Zn=N[Fn]/Tn,Jn=Oi/Tn;if(N[Fn]=Tn,Fn!==zr&&(Oi=-Jn*bt[Fn-1],bt[Fn-1]=Zn*bt[Fn-1]),v)for(var Ui=0;Ui<n;Ui++)Tn=Zn*tt.get(Ui,Fn)+Jn*tt.get(Ui,Hr-1),tt.set(Ui,Hr-1,-Jn*tt.get(Ui,Fn)+Zn*tt.get(Ui,Hr-1)),tt.set(Ui,Fn,Tn)}break}case 2:{var Ro=bt[zr-1];bt[zr-1]=0;for(var _a=zr;_a<Hr;_a++){var Xs=os(N[_a],Ro),sc=N[_a]/Xs,lc=Ro/Xs;if(N[_a]=Xs,Ro=-lc*bt[_a],bt[_a]=sc*bt[_a],c)for(var mo=0;mo<e;mo++)Xs=sc*q.get(mo,_a)+lc*q.get(mo,zr-1),q.set(mo,zr-1,-lc*q.get(mo,_a)+sc*q.get(mo,zr-1)),q.set(mo,_a,Xs)}break}case 3:{var Vs=Math.max(Math.abs(N[Hr-1]),Math.abs(N[Hr-2]),Math.abs(bt[Hr-2]),Math.abs(N[zr]),Math.abs(bt[zr])),ls=N[Hr-1]/Vs,D1=N[Hr-2]/Vs,Fu=bt[Hr-2]/Vs,uc=N[zr]/Vs,q9=bt[zr]/Vs,No=((D1+ls)*(D1-ls)+Fu*Fu)/2,Ru=ls*Fu*(ls*Fu),Hs=0;(No!==0||Ru!==0)&&(No<0?Hs=0-Math.sqrt(No*No+Ru):Hs=Math.sqrt(No*No+Ru),Hs=Ru/(No+Hs));for(var Go=(uc+ls)*(uc-ls)+Hs,us=uc*q9,Rn=zr;Rn<Hr-1;Rn++){var ia=os(Go,us);ia===0&&(ia=Number.MIN_VALUE);var Ta=Go/ia,Pa=us/ia;if(Rn!==zr&&(bt[Rn-1]=ia),Go=Ta*N[Rn]+Pa*bt[Rn],bt[Rn]=Ta*bt[Rn]-Pa*N[Rn],us=Pa*N[Rn+1],N[Rn+1]=Ta*N[Rn+1],v)for(var xo=0;xo<n;xo++)ia=Ta*tt.get(xo,Rn)+Pa*tt.get(xo,Rn+1),tt.set(xo,Rn+1,-Pa*tt.get(xo,Rn)+Ta*tt.get(xo,Rn+1)),tt.set(xo,Rn,ia);if(ia=os(Go,us),ia===0&&(ia=Number.MIN_VALUE),Ta=Go/ia,Pa=us/ia,N[Rn]=ia,Go=Ta*bt[Rn]+Pa*N[Rn+1],N[Rn+1]=-Pa*bt[Rn]+Ta*N[Rn+1],us=Pa*bt[Rn+1],bt[Rn+1]=Ta*bt[Rn+1],c&&Rn<e-1)for(var bo=0;bo<e;bo++)ia=Ta*q.get(bo,Rn)+Pa*q.get(bo,Rn+1),q.set(bo,Rn+1,-Pa*q.get(bo,Rn)+Ta*q.get(bo,Rn+1)),q.set(bo,Rn,ia)}bt[Hr-2]=Go,ji=ji+1;break}case 4:{if(N[zr]<=0&&(N[zr]=N[zr]<0?-N[zr]:0,v))for(var Nu=0;Nu<=zi;Nu++)tt.set(Nu,zr,-tt.get(Nu,zr));for(;zr<zi&&!(N[zr]>=N[zr+1]);){var Ws=N[zr];if(N[zr]=N[zr+1],N[zr+1]=Ws,v&&zr<n-1)for(var fs=0;fs<n;fs++)Ws=tt.get(fs,zr+1),tt.set(fs,zr+1,tt.get(fs,zr)),tt.set(fs,zr,Ws);if(c&&zr<e-1)for(var hs=0;hs<e;hs++)Ws=q.get(hs,zr+1),q.set(hs,zr+1,q.get(hs,zr)),q.set(hs,zr,Ws);zr++}ji=0,Hr--;break}}}if(g){var tG=tt;tt=q,q=tG}this.m=e,this.n=n,this.s=N,this.U=q,this.V=tt}return(0,du.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=un.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,u=this.rightSingularVectors,h=u.mmul(o),c=u.rows,v=l.rows,g=un.zeros(c,v),C=0;C<c;C++)for(var k=0;k<v;k++){for(var D=0,G=0;G<a;G++)D+=h.get(C,G)*l.get(k,G);g.set(C,k,D)}return g.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(un.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new un(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var u=this.U,h=u.rows,c=u.columns,v=new un(n,h),g=0;g<n;g++)for(var C=0;C<h;C++){for(var k=0,D=0;D<c;D++)k+=o.get(g,D)*u.get(C,D);v.set(g,C,k)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return un.diag(this.s)}}]),i}(),a4=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=Ph({nodes:e,edges:a},!1),u=Th(l);t.handleInfinity(u);var h=Om(u,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,g){e[g].x=v[0]+o[0],e[g].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=un.mul(un.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new Nx(a),h=un.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(c){return un.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(xa),o4=a4,s4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=un.mul(un.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new Nx(a),h=un.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(k){return un.mul([k],[h]).toJSON()[0].splice(0,t)})}catch(k){for(var c=[],v=0;v<e.length;v++){var g=Math.random()*n,C=Math.random()*n;c.push([g,C])}return c}},i}(),l4=s4,u4=800,f4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(l!==h&&o[l]===o[h]){var c=s[0]-u[0],v=s[1]-u[1],g=Math.sqrt(c*c+v*v);if(g===0){g=1;var C=l>h?1:-1;c=.01*C,v=.01*C}if(g<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var k=a*a/g;n[l].x+=c/g*k,n[l].y+=v/g*k}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(u,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],g=Math.sqrt(c*c+v*v),C=v/g,k=-c/g,D=Math.sqrt(u.x*u.x+u.y*u.y),G=Math.acos((C*u.x+k*u.y)/D);G>Math.PI/2&&(G-=Math.PI/2,C*=-1,k*=-1);var N=Math.cos(G)*D;u.x=C*N,u.y=k*N});var l=r.radii;t.forEach(function(u,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/u4),c);if(u[0]+=e[h].x/c*v,u[1]+=e[h].y/c*v,a){var g=u[0]-t[o][0],C=u[1]-t[o][1],k=Math.sqrt(g*g+C*C);g=g/k*l[h],C=C/k*l[h],u[0]=t[o][0]+g,u[1]=t[o][1]+C}}}})},i}(),h4=f4;function c4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function v4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function Gx(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var d4=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,Ln.default)(t.focusNode)){for(var l=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(s=e[u],t.focusNode=s,l=!0,u=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=v4(e,s.id);t.focusIndex=h;var c=Ph({nodes:e,edges:n},!1),v=Th(c),g=t.maxToFocus(v,h);t.handleInfinity(v,h,g+1),t.distances=v;var C=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var k=t.width||500,D=t.height||500,G=k-a[0]>a[0]?a[0]:k-a[0],N=D-a[1]>a[1]?a[1]:D-a[1];G===0&&(G=k/2),N===0&&(N=D/2);var q=N>G?G:N,tt=Math.max.apply(Math,C),bt=[];C.forEach(function(nr,$e){t.unitRadius||(t.unitRadius=q/tt),bt[$e]=nr*t.unitRadius}),t.radii=bt;var Nt=t.eIdealDisMatrix();t.eIdealDistances=Nt;var Zt=c4(Nt);t.weights=Zt;var ee=new l4({distances:Nt,linkDistance:o}),Ht=ee.layout();Ht.forEach(function(nr){to(nr[0])&&(nr[0]=Math.random()*o),to(nr[1])&&(nr[1]=Math.random()*o)}),t.positions=Ht,Ht.forEach(function(nr,$e){e[$e].x=nr[0]+a[0],e[$e].y=nr[1]+a[1]}),Ht.forEach(function(nr){nr[0]-=Ht[h][0],nr[1]-=Ht[h][1]}),t.run();var le=t.preventOverlap,be=t.nodeSize,me,Ie=t.strictRadial;if(le){var Ge=t.nodeSpacing,Fe;(0,Ca.default)(Ge)?Fe=function(){return Ge}:(0,Qs.default)(Ge)?Fe=Ge:Fe=function(){return 0},be?(0,Ri.default)(be)?me=function($e){var Qe=be[0]>be[1]?be[0]:be[1];return Qe+Fe($e)}:me=function($e){return be+Fe($e)}:me=function($e){if($e.size){if((0,Ri.default)($e.size)){var Qe=$e.size[0]>$e.size[1]?$e.size[0]:$e.size[1];return Qe+Fe($e)}return $e.size+Fe($e)}return 10+Fe($e)};var Je={nodeSizeFunc:me,adjMatrix:c,positions:Ht,radii:bt,height:D,width:k,strictRadial:Ie,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Ht.length/4.5,nodes:e},tr=new h4(Je);Ht=tr.layout()}Ht.forEach(function(nr,$e){e[$e].x=nr[0]+a[0],e[$e].y=nr[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var u=l/e;t.oneIteration(u,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,u=s.focusIndex;e.forEach(function(h,c){var v=Gx(h,[0,0]),g=v===0?0:1/v;if(c!==u){var C=0,k=0,D=0;e.forEach(function(N,q){if(c!==q){var tt=Gx(h,N),bt=tt===0?0:1/tt,Nt=a[q][c];D+=o[c][q],C+=o[c][q]*(N[0]+Nt*(h[0]-N[0])*bt),k+=o[c][q]*(N[1]+Nt*(h[1]-N[1])*bt)}});var G=n[c]===0?0:1/n[c];D*=l,D+=t*G*G,C*=l,C+=t*G*h[0]*g,h[0]=C/D,k*=l,k+=t*G*h[1]*g,h[1]=k/D}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,h){var c=[];u.forEach(function(v,g){if(h===g)c.push(0);else if(o[h]===o[g])if(t.sortBy==="data")c.push(v*(Math.abs(h-g)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var C=e[h][t.sortBy]||0,k=e[g][t.sortBy]||0;(0,Ln.default)(C)&&(C=C.charCodeAt(0)),(0,Ln.default)(k)&&(k=k.charCodeAt(0)),c.push(v*(Math.abs(C-k)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var D=(a+s)/2;c.push(v*D)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(xa),p4=d4,g4=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(xa),y4=g4,m4=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(g){var C=[];e.forEach(function(k,D){C[D]={x:0,y:0}}),t.applyCalculate(C),t.applyComboCenterForce(C),e.forEach(function(k,D){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(k.x+=C[D].x*o,k.y+=C[D].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var h=[0,0];e.forEach(function(v){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,g){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var g=s[v.id];g&&g.empty&&(v.x=g.cx||v.x,v.y=g.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Fe,Je){s[Fe.id]=Fe,l[Fe.id]=Je}),t.nodeMap=s,t.nodeIdxMap=l;var u={};a.forEach(function(Fe){u[Fe.id]=Fe}),t.oriComboMap=u,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var g=[],v=0;v<e.length;++v)g[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=g;var C=t.nodeSize,k=t.nodeSpacing,D,G;if((0,f.isNumber)(k)?G=function(){return k}:(0,f.isFunction)(k)?G=k:G=function(){return 0},this.nodeSpacing=G,!C)D=function(Je){if(Je.size){if((0,f.isArray)(Je.size)){var tr=Je.size[0]>Je.size[1]?Je.size[0]:Je.size[1];return tr/2}return Je.size/2}return 10};else if((0,f.isFunction)(C))D=function(Je){return C(Je)};else if((0,f.isArray)(C)){var N=C[0]>C[1]?C[0]:C[1],q=N/2;D=function(Je){return q}}else{var tt=C/2;D=function(Je){return tt}}this.nodeSize=D;var bt=t.comboSpacing,Nt;(0,f.isNumber)(bt)?Nt=function(){return bt}:(0,f.isFunction)(bt)?Nt=bt:Nt=function(){return 0},this.comboSpacing=Nt;var Zt=t.comboPadding,ee;(0,f.isNumber)(Zt)?ee=function(){return Zt}:(0,f.isArray)(Zt)?ee=function(){return Math.max.apply(null,Zt)}:(0,f.isFunction)(Zt)?ee=Zt:ee=function(){return 0},this.comboPadding=ee;var Ht=this.linkDistance,le;Ht||(Ht=10),(0,f.isNumber)(Ht)?le=function(Je){return Ht}:le=Ht,this.linkDistance=le;var be=this.edgeStrength,me;be||(be=1),(0,f.isNumber)(be)?me=function(Je){return be}:me=be,this.edgeStrength=me;var Ie=this.nodeStrength,Ge;Ie||(Ie=30),(0,f.isNumber)(Ie)?Ge=function(Je){return Ie}:Ge=Ie,this.nodeStrength=Ge},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var u=[];ma(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(N){if(!s[N.id]&&!e[N.id])return!0;u.push(N)});var g=s[h.id];if(g.cx=0,g.cy=0,u.length===0){g.empty=!0;var C=o[h.id],k=Object.keys(e).length,D=h.id+"-visual-child-"+k,G={id:D,x:C.x,y:C.y,depth:g.depth+1,itemType:"node"};t.nodes.push(G),e[D]=G,n[D]=k,g.cx=C.x,g.cy=C.y,u.push(G)}return u.forEach(function(N){if(g.count++,N.itemType!=="node"){var q=s[N.id];(0,f.isNumber)(q.cx)&&(g.cx+=q.cx),(0,f.isNumber)(q.cy)&&(g.cy+=q.cy);return}var tt=e[N.id];!tt||((0,f.isNumber)(tt.x)&&(g.cx+=tt.x),(0,f.isNumber)(tt.y)&&(g.cy+=tt.y))}),g.cx/=g.count,g.cy/=g.count,g.children=u,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,u=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){ma(c,function(v){if(v.itemType==="node")return!0;var g=h[v.id];if(!g)return!0;var C=h[v.id],k=(C.depth+1)*.5,D=C.cx,G=C.cy;return C.cx=0,C.cy=0,C.children.forEach(function(N){if(N.itemType!=="node"){var q=h[N.id];q&&(0,f.isNumber)(q.cx)&&(C.cx+=q.cx),q&&(0,f.isNumber)(q.cy)&&(C.cy+=q.cy);return}var tt=u[N.id],bt=tt.x-D||.005,Nt=tt.y-G||.005,Zt=Math.sqrt(bt*bt+Nt*Nt),ee=l[tt.id],Ht=a*o/Zt*k;t[ee].x-=bt*Ht,t[ee].y-=Nt*Ht,(0,f.isNumber)(tt.x)&&(C.cx+=tt.x),(0,f.isNumber)(tt.y)&&(C.cy+=tt.y)}),C.cx/=C.count,C.cy/=C.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,u){a.forEach(function(h,c){if(!(u<c)){var v=l.x-h.x||.005,g=l.y-h.y||.005,C=v*v+g*g,k=Math.sqrt(C);C<1&&(C=k),o[l.id+"-"+h.id]={vx:v,vy:g,vl2:C,vl:k},o[h.id+"-"+l.id]={vx:-v,vy:-g,vl2:C,vl:k}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(u){var h=[];ma(u,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var g=c.children;g&&g.forEach(function(D){!t[D.id]&&!a[D.id]||h.push(D)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(D){if(D.itemType!=="node")return!0;var G=a[D.id];if(!G)return!0;var N=o(G),q=G.x-N,tt=G.y-N,bt=G.x+N,Nt=G.y+N;v.minX>q&&(v.minX=q),v.minY>tt&&(v.minY=tt),v.maxX<bt&&(v.maxX=bt),v.maxY<Nt&&(v.maxY=Nt)});var C=e.oriComboMap[c.id].size||Ke.defaultCombo.size;(0,f.isArray)(C)&&(C=C[0]);var k=Math.max(v.maxX-v.minX,v.maxY-v.minY,C);return v.r=k/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;ma(a,function(u){if(!(!e[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")){var h=u.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var g=e[c.id];!g||h.forEach(function(C,k){if(!(v<=k)&&C.itemType!=="node"){var D=e[C.id];if(!!D){var G=g.cx-D.cx||.005,N=g.cy-D.cy||.005,q=G*G+N*N,tt=g.r,bt=D.r,Nt=tt+bt,Zt=bt*bt,ee=tt*tt;if(q<Nt*Nt){var Ht=c.children;if(!Ht||Ht.length===0)return;var le=C.children;if(!le||le.length===0)return;var be=Math.sqrt(q),me=(Nt-be)/be*o,Ie=G*me,Ge=N*me,Fe=Zt/(ee+Zt),Je=1-Fe;Ht.forEach(function(tr){if(tr.itemType==="node"&&!!l[tr.id]){var nr=s[tr.id];le.forEach(function($e){if($e.itemType==="node"&&!!l[$e.id]){var Qe=s[$e.id];t[nr].x+=Ie*Fe,t[nr].y+=Ge*Fe,t[Qe].x-=Ie*Je,t[Qe].y-=Ge*Je}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,g=n.depthRepulsiveForceScale,C=n.center;a.forEach(function(k,D){if(!(!k.x||!k.y)){if(C){var G=n.gravity,N=k.x-C[0]||.005,q=k.y-C[1]||.005,tt=Math.sqrt(N*N+q*q);t[D].x-=N*G*l/tt,t[D].y-=q*G*l/tt}a.forEach(function(bt,Nt){if(D!==Nt&&!(!bt.x||!bt.y)){var Zt=e[k.id+"-"+bt.id],ee=Zt.vl2,Ht=Zt.vl;if(!(Ht>o)){var le=e[k.id+"-"+bt.id],be=le.vx,me=le.vy,Ie=Math.abs(bt.depth-k.depth)+1||1;bt.comboId!==k.comboId&&Ie++;var Ge=Ie?Math.pow(g,Ie):1,Fe=s(bt)*l/ee*Ge;if(t[D].x+=be*Fe,t[D].y+=me*Fe,D<Nt&&h){var Je=c(k)+v(k),tr=c(bt)+v(bt),nr=Je+tr;if(ee<nr*nr){var $e=(nr-Ht)/Ht*u,Qe=tr*tr,Sr=Qe/(Je*Je+Qe),xr=be*$e,Lr=me*$e;t[D].x+=xr*Sr,t[D].y+=Lr*Sr,Sr=1-Sr,t[Nt].x-=xr*Sr,t[Nt].y-=Lr*Sr}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var g=n.nodeIdxMap[c.source],C=n.nodeIdxMap[c.target],k=n.nodeMap[c.source],D=n.nodeMap[c.target],G=Math.abs(k.depth-D.depth);k.comboId===D.comboId&&(G=G/2);var N=G?Math.pow(h,G):1;if(k.comboId!==D.comboId&&N===1?N=h/2:k.comboId===D.comboId&&(N=2),!(!(0,f.isNumber)(D.x)||!(0,f.isNumber)(k.x)||!(0,f.isNumber)(D.y)||!(0,f.isNumber)(k.y))){var q=e[c.target+"-"+c.source],tt=q.vl,bt=q.vx,Nt=q.vy,Zt=(tt-o(c))/tt*s*l(c)*N,ee=bt*Zt,Ht=Nt*Zt,le=u[v];t[C].x-=ee*le,t[C].y-=Ht*le,t[g].x+=ee*(1-le),t[g].y+=Ht*(1-le)}}})},r}(xa),x4=m4,b4={circular:IN,concentric:kN,dagre:FN,force:x3,g6force:C3,comboForce:x4,fruchterman:A3,grid:T3,mds:o4,radial:p4,random:y4};(0,Nn.default)(b4,function(i,r){xx.registerLayout(r,{},i)});var Rs=xx,Zh=self;function w4(i){var r=i.data.type;return r===no.RUN}function S4(i){var r=i.data.type;switch(r){case no.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Rs[s];if(!l){Zh.postMessage({type:no.ERROR,message:"layout "+s+" not found"});break}var u=new l(o);u.init({nodes:e,edges:n}),u.execute(),Zh.postMessage({type:no.END,nodes:e}),u.destroy();break}default:break}}Zh.onmessage=function(i){w4(i)&&S4(i)};var C4=null;function mu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(i)}var M4=function(r){return setTimeout(r,16)},E4=function(r){return clearTimeout(r)},xu={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||M4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||E4;return t(r)}},A4=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new C4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(xu.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(xu.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var u=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var g=!1;if(this.layoutType!==void 0){try{l=new Rs[this.layoutType](o)}catch(G){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(g=l.enableTick,g){var C=o.onTick,k=o.onLayoutEnd,c=function(){C&&C(),t.refreshPositions()};l.tick=c;var D=function(){k&&k(),t.emit("afterlayout")};l.onLayoutEnd=D}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!u)&&this.layoutType!=="force"&&!g&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,u=this.getWorker(),h=this.workerData;if(!u)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=T4(s,function(v){return typeof v!="function"});return u.postMessage({type:no.RUN,nodes:n,edges:a,layoutCfg:c}),u.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,u=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(u){case no.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=xu.requestAnimationFrame(function(){Kh(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=xu.requestAnimationFrame(function(){Kh(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case no.END:o.currentTick==null&&(Kh(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case no.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var u=l.getModel();r.push(u)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();u.isComboEdge||t.push(u)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();e.push(u)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||to(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),u=Math.ceil(s/l),h=a/(l-1),c=o/(u-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,g=r[1]-o/2;return t.forEach(function(C,k){to(C.x)&&(n=!1,C.x=k%l*h+v),to(C.y)&&(n=!1,C.y=Math.floor(k/l)*c+g)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),_4=A4;function Kh(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function T4(i,r){var t={};return i&&mu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var Fo=null,P4=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;e?(a(r,t,u),o(r,t,l)):(a(r,t,l),o(r,t,u)),Fo&&clearTimeout(Fo),Fo=setTimeout(function(){Fo=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,Ln.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,Nn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,Nn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Fo&&clearTimeout(Fo),Fo=null,this.destroyed=!0},i}(),L4=P4,$h=null,I4=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,Hi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),u=l.get("children").map(function(Lr){return Lr.get("id")});if(u.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),g=v.x,C=v.y,k=v.width,D=v.height,G=v.maxX,N=this.getGroupPadding(r),q=s.get("groupBBoxs");q[r]={x:g,y:C,width:k,height:D,maxX:G};var tt=null;if(a){var bt=s.get("groups");t.forEach(function(Lr){var ar=s.findById(Lr),Er=ar.getModel();Er.groupId||(Er.groupId=r)}),bt.find(function(Lr){return Lr.id===r})||(bt.push({id:r,title:o}),s.set({groups:bt}))}var Nt=s.get("groups").filter(function(Lr){return Lr.id===r});Nt&&Nt.length>0&&(tt=Nt[0].title);var Zt=0,ee=0,Ht=null;if(e==="circle"){var le=k>D?k/2:D/2,be=(k+2*g)/2,me=(D+2*C)/2,Ie=le+N;Ht=h.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:be,y:me,r:Ie}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),Zt=be,ee=me-Ie,this.setDeletageGroupByStyle(r,h,{width:k,height:D,x:be,y:me,r:Ie})}else{var Ge=N*c.disCoefficient;Ht=h.addShape("rect",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:g-Ge,y:C-Ge,width:k+Ge*2,height:D+Ge*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),Zt=g-Ge+15,ee=C-Ge+15,this.setDeletageGroupByStyle(r,h,{x:g-Ge,y:C-Ge,width:k+Ge,height:D+Ge,btnOffset:G-3})}if(tt){var Fe=tt.offsetX,Je=Fe===void 0?0:Fe,tr=tt.offsetY,nr=tr===void 0?0:tr,$e=tt.text,Qe=$e===void 0?tt:$e,Sr=(0,Qt.__rest)(tt,["offsetX","offsetY","text"]),xr=h.addShape("text",{attrs:(0,Qt.__assign)({text:Qe,stroke:"#444",x:Zt+Je,y:ee+nr},Sr),className:"group-title",name:"group-title-shape"});xr.set("capture",!1)}h.set("keyShape",Ht),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,Ln.default)(t)?t==="default"?e=(0,Hi.default)({},o):t==="hover"&&(e=(0,Hi.default)({},a)):e=(0,Hi.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var g=(0,Ln.default)(v)?e.findById(v):v,C=g.getBBox(),k=C.minX,D=C.minY,G=C.maxX,N=C.maxY;k<n&&(n=k),D<o&&(o=D),G>a&&(a=G),N>s&&(s=N)});var l=Math.floor(n),u=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-u;return{x:l,y:u,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&($h||($h=this.flatToTree(n)),Qi($h[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,u=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return u},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,u=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:u}};else{var c=h.groupStyle,v=(0,Hi.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],u=n.get("keyShape"),h=a.r,c=a.width,v=a.height,g=a.offsetX,C=a.offsetY,k=(0,Qt.__rest)(a,["r","width","height","offsetX","offsetY"]);Object.keys(k).forEach(function(Zt){u.attr(Zt,k[Zt])});var D={groupId:r,id:r+"-custom-node",x:u.attr("x"),y:u.attr("y"),style:{r:h},type:"circle"},G=n.find(function(Zt){return Zt.get("className")==="group-title"});s==="circle"?(u.animate({r:h},{duration:500,easing:"easeCubic"}),G&&G.attr({x:u.attr("x")+g,y:u.attr("y")+C})):s==="rect"&&(u.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),G&&G.attr({x:u.attr("x")+10,y:u.attr("y")+v/2+5}),D={groupId:r,id:r+"-custom-node",x:u.attr("x")+c/2,y:u.attr("y")+v/2,size:[c,v],type:"rect"});var N=o.getEdges(),q=N.filter(function(Zt){var ee=Zt.getModel();return!l.includes(ee.source)&&l.includes(ee.target)}),tt=N.filter(function(Zt){var ee=Zt.getModel();return l.includes(ee.source)&&!l.includes(ee.target)}),bt=N.filter(function(Zt){var ee=Zt.getModel();return l.includes(ee.source)&&l.includes(ee.target)});if(l.forEach(function(Zt){var ee=o.findById(Zt),Ht=ee.getModel(),le=Ht.groupId;if(le&&le!==r){var be=t.getDeletageGroupById(le),me=be.nodeGroup;me.hide()}ee.hide()}),bt.forEach(function(Zt){var ee=Zt.getSource(),Ht=Zt.getTarget();ee.isVisible()&&Ht.isVisible()?Zt.show():Zt.hide()}),q.length>0||tt.length>0){var Nt=o.add("node",D);Nt.set("capture",!1),Nt.hide(),this.delegateInGroup[r]={delegateNode:Nt},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,q,tt)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.target;return a[u]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.source;return o[u]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,Hi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(tr){return tr.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,u=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,g=v.default,C=v.collapse;Object.keys(g).forEach(function(tr){c.attr(tr,g[tr])});var k=h.find(function(tr){return tr.get("className")==="group-title"}),D=this.getGroupPadding(r);if(n==="circle"){var G=l>u?l/2:u/2;c.animate({r:G+D},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var N=C.width,q=C.height;c.animate({width:N+l+D*g.disCoefficient*2,height:q+u+D*g.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(k){var tt=null,bt=e.get("groups").filter(function(tr){return tr.id===r});bt&&bt.length>0&&(tt=bt[0].title);var Nt=tt.offsetX,Zt=Nt===void 0?0:Nt,ee=tt.offsetY,Ht=ee===void 0?0:ee;n==="circle"?k.animate({x:c.attr("x")+Zt,y:c.attr("y")-c.attr("r")+Ht},{duration:600,easing:"easeCubic"}):n==="rect"&&k.animate({x:c.attr("x")+(15+Zt),y:c.attr("y")+(15+Ht)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function($e){var Qe=e.findById($e),Sr=Qe.getModel(),xr=Sr.groupId;if(xr&&xr!==r){var Lr=t.getDeletageGroupById(xr),ar=Lr.nodeGroup;ar.show();var Er=ar.get("hasHidden");Er||Qe.show()}else Qe.show()});var tr=e.getEdges(),nr=tr.filter(function($e){var Qe=$e.getModel();return a.includes(Qe.source)||a.includes(Qe.target)});nr.forEach(function($e){var Qe=$e.getSource(),Sr=$e.getTarget();Qe.isVisible()&&Sr.isVisible()&&$e.show()})},300);var le=this.delegateInGroup[r];if(le){var be=le.sourceOutTargetInEdges,me=le.sourceInTargetOutEdges,Ie=le.edgesOuts,Ge=le.edgesIn,Fe=le.delegateNode;be.map(function(tr){var nr=tr.get("id"),$e=Ie[nr];return e.updateItem(tr,{target:$e}),!0}),me.map(function(tr){var nr=tr.get("id"),$e=Ge[nr];return e.updateItem(tr,{source:$e}),!0});var Je=Fe.getModel();this.deleteTmpNode(r,Je.id),e.remove(Fe),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(u){return u.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(g){var C=t.findById(g),k=C.getModel(),D=k.groupId;!D||r===D&&(delete k.groupId,t.updateItem(C,k))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(g){return g.id!==r});t.set("groups",l)}for(var u=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){u=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],u&&(a[u]=a[u].filter(function(g){return!o.includes(g)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,u=0;u<o.length;u++){var h=o[u];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var g=v.getBBox(),C=g.minX,k=g.minY,D=g.maxX,G=g.maxY,N=this.getDeletageGroupById(r).nodeGroup,q=N.get("keyShape"),tt=q.getBBox(),bt=tt.x,Nt=tt.y;if(!(bt<D&&bt>C&&Nt<G&&Nt>k)){delete l.parentId;var Zt=n.get("groupNodes"),ee=Zt[r],Ht=Zt[s];Zt[s]=Ht.filter(function(Tr){return ee.indexOf(Tr)===-1});var le=this.calculationGroupPosition(Zt[s]),be=le.x,me=le.y,Ie=le.width,Ge=le.height,Fe=this.getGroupPadding(s),Je=c.find(function(Tr){return Tr.get("className")==="group-title"}),tr=0,nr=0;if(a==="circle"){var $e=Ie>Ge?Ie/2:Ge/2,Qe=be,Sr=me;v.attr({r:$e+Fe,x:Qe,y:Sr}),tr=Qe,nr=Sr-v.attr("r")}else if(a==="rect"){var xr=this.styles.default,Lr=Fe*xr.disCoefficient;v.attr({x:be-Lr,y:me-Lr}),tr=be-Lr+15,nr=me-Lr+15}if(Je){var ar=l.title,Er=0,Gr=0;ar&&(Er=ar.offsetX,Gr=ar.offsetY),Je.attr({x:tr+Er,y:nr+Gr})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],u=this.getDeletageGroupById(r).nodeGroup,h=u.getBBox(),c=[];l.forEach(function(v,g){var C=a.findById(v),k=C.getModel(),D=k.groupId;D&&!c.includes(D)&&c.push(D),n.nodePoint[g]||(n.nodePoint[g]={x:k.x,y:k.y});var G=t.x-h.x+n.nodePoint[g].x,N=t.y-h.y+n.nodePoint[g].y;n.nodePoint[g]={x:G,y:N},a.updateItem(C,{x:G,y:N})}),c.includes(r)||c.push(r),c.forEach(function(v){var g=n.getDeletageGroupById(v).nodeGroup,C=g.get("keyShape"),k=s[v].filter(function(Ge){return Ge.indexOf("custom-node")===-1}),D=n.calculationGroupPosition(k,t),G=D.x,N=D.y,q=D.width,tt=D.height,bt=0,Nt=0;if(o==="circle"){var Zt=(q+2*G)/2,ee=(tt+2*N)/2;C.attr({x:Zt,y:ee}),bt=Zt,Nt=ee-C.attr("r")}else if(o==="rect"){var Ht=g.get("hasHidden"),le=n.getGroupPadding(v),be={},me=n.styles.default,Ie=le*me.disCoefficient;bt=G-Ie+15,Nt=N-Ie+15,Ht?(be={x:G-Ie,y:N-Ie},Nt=Nt+10):be={x:G-Ie,y:N-Ie,width:q+Ie*2,height:tt+Ie*2},C.attr(be)}n.updateGroupTitle(g,v,bt,Nt)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var u=0,h=0;s&&(u=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+u,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),u=s.get("groupNodes"),h=u[o];if(h.length===0){delete u[o];var c=s.get("groups");s.set("groups",c.filter(function(Ht){return Ht.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),g=v.x,C=v.y,k=v.width,D=v.height,G=this.getGroupPadding(o),N=0,q=0;if(l==="circle"){var tt=k>D?k/2:D/2,bt=(k+2*g)/2,Nt=(D+2*C)/2;e.attr({r:tt+G,x:bt,y:Nt}),N=bt,q=Nt-e.attr("r")}else if(l==="rect"){var Zt=this.styles.default,ee=G*Zt.disCoefficient;e.attr({x:g-ee,y:C-ee,width:k+ee*2,height:D+ee*2}),N=g-ee+15,q=C-ee+15}this.updateGroupTitle(t,o,N,q)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),O4=I4,k4=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},Yx=k4,B4=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),D4=B4,zx=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),F4=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new D4(r)}return i.prototype.prepend=function(r){var t=new zx(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new zx(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),Xx=F4,R4=function(){function i(r){r===void 0&&(r=10),this.linkedList=new Xx,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),Vx=R4,N4=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.getModel(),u=l.source,h=l.target,c=o[u],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},bu=N4,G4=function(r,t){var e=r.get("adjMatrix");e||(e=bu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},Hx=G4,Wx=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},jx=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Wx(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&Wx(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},Y4={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function z4(i,r,t){var e=!1,n=function(l,u){return r.cells[l+u*r.width]},a=function(l,u){var h=0;return n(l-1,u-1)>=t&&(h+=1),n(l,u-1)>t&&(h+=2),n(l-1,u)>t&&(h+=4),n(l,u)>t&&(h+=8),h},o=function(l,u){for(var h=l,c=u,v,g,C=0;C<r.width*r.height;C++){if(v=h,g=c,i.findIndex(function(D){return D.x===h&&D.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var k=a(h,c);switch(k){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(g===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(g===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+k),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var X4=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},V4=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=ql(s,l),h=new Bo(s.x,s.y,l.x,l.y),c=e.reduce(function(v,g){return Oh(g,h)>0?v+1:v},0);u*Math.pow(c+1,2)<a&&(n=o,a=u*Math.pow(c+1,2))}),n},Ux=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=Oh(a,t);o>=0&&o<e&&(n=a,e=o)}),n},H4=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,u=function(g,C){var k=!1;return C.forEach(function(D){k||(kh(g,{x:D.x1,y:D.y1})||kh(g,{x:D.x2,y:D.y2}))&&(k=!0)}),k},h=function(g,C){for(var k=0,D=C;k<D.length;k++){var G=D[k],N=G.getBBox(),q=[[N.x,N.y],[N.x+N.width,N.y],[N.x,N.y+N.height],[N.x+N.width,N.y+N.height]];if(ks(q,g.x,g.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var g=o.pop(),C=Ux(t,g);if(C){var k=Fm(C,g),D=k[0],G=k[1];if(G===2){var N=function(tt){for(var bt=n,Nt=Zx(C,bt,D,tt),Zt=u(Nt,o)||u(Nt,a),ee=h(Nt,t);!Zt&&ee&&bt>=1;)bt/=1.5,Nt=Zx(C,bt,D,tt),Zt=u(Nt,o)||u(Nt,a),ee=h(Nt,t);Nt&&!Zt&&(!tt||!ee)&&(o.push(new Bo(g.x1,g.y1,Nt.x,Nt.y)),o.push(new Bo(Nt.x,Nt.y,g.x2,g.y2)),s=!0)};N(!0),s||N(!1)}}s||a.push(g),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function W4(i,r,t,e,n){var a=V4(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var g=c.pop();if(c.length===0){v.push(g);break}var C=c.pop(),k=new Bo(g.x1,g.y1,C.x2,C.y2),D=Ux(r,k);D?(v.push(g),c.push(C)):c.push(k)}return v},s=new Bo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=H4(s,r,e,n),u=o(l);return u}var j4=function(r,t,e){var n=Object.assign(Y4,e),a=Rm(r.map(function(N){return{x:N.getModel().x,y:N.getModel().y}}));r=r.sort(function(N,q){return ql({x:N.getModel().x,y:N.getModel().y},a)-ql({x:q.getModel().x,y:q.getModel().y},a)});var o=[],s=[];r.forEach(function(N){var q=W4(N,t,o,n.maxRoutingIterations,n.morphBuffer);q.forEach(function(tt){s.push(tt)}),o.push(N)});for(var l=U4(r,s,n.nodeR0),u=X4(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(Z4(r,t,s,l,u,n),h=[],c=[],!!new z4(h,u,n.threshold).march()){var g=h.map(function(N){return{x:Math.round(N.x*n.pixelGroupSize+l.minX),y:Math.round(N.y*n.pixelGroupSize+l.minY)}});if(g){var C=g.length;if(n.skip>1)for(C=Math.floor(g.length/n.skip);C<3&&n.skip>1;)n.skip-=1,C=Math.floor(g.length/n.skip);for(var k=0,D=0;D<C;D+=1,k+=n.skip)c.push({x:g[k].x,y:g[k].y})}var G=function(){for(var q=0,tt=r;q<tt.length;q++){var bt=tt[q],Nt=c.map(function(Zt){return[Zt.x,Zt.y]});if(!ks(Nt,bt.getBBox().centerX,bt.getBBox().centerY))return!1}return!0};if(c&&G())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function U4(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function Z4(i,r,t,e,n,a){function o(g,C){var k=Math.floor((g-C)/a.pixelGroupSize);return k<0?0:k}function s(g,C){return g*a.pixelGroupSize+C}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(C,k){var D=Math.min(o(C.minX,k+e.minX),n.width),G=Math.min(o(C.minY,k+e.minY),n.height),N=Math.min(o(C.maxX,-k+e.minX),n.width),q=Math.min(o(C.maxY,-k+e.minY),n.height);return[D,G,N,q]},c=function(C,k){for(var D=C.getBBox(),G=h(D,a.nodeR1),N=G[0],q=G[1],tt=G[2],bt=G[3],Nt=q;Nt<bt;Nt+=1)for(var Zt=N;Zt<tt;Zt+=1)if(!(k<0&&n[Zt+Nt*n.width]<=0)){var ee=s(Zt,e.minX),Ht=s(Nt,e.minY),le=Gm({x:ee,y:Ht},{x:D.minX,y:D.minY,width:D.width,height:D.height});if(le<Math.pow(a.nodeR1,2)){var be=Math.sqrt(le)-a.nodeR1;n.cells[Zt+Nt*n.width]+=k*be*be}}},v=function(C,k){for(var D=C.getBBox(),G=h(D,a.edgeR1),N=G[0],q=G[1],tt=G[2],bt=G[3],Nt=q;Nt<bt;Nt+=1)for(var Zt=N;Zt<tt;Zt+=1)if(!(k<0&&n.cells[Zt+Nt*n.width]<=0)){var ee=s(Zt,e.minX),Ht=s(Nt,e.minY),le=Nm({x:ee,y:Ht},C);if(le<Math.pow(a.edgeR1,2)){var be=Math.sqrt(le)-a.edgeR1;n.cells[Zt+Nt*n.width]+=k*be*be}}};a.nodeInfluenceFactor&&i.forEach(function(g){c(g,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(g){v(g,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&r.forEach(function(g){c(g,a.negativeNodeInfluenceFactor/l)})}function Zx(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(C,k){return n.width*((C.y-n.minY+(k.y-n.minY))*.5)}if(o){if(a)return e?u.topLeft:u.bottomRight;if(s)return e?u.bottomLeft:u.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?u.topLeft:u.bottomRight:e?u.topRight:u.bottomLeft:o.y<l.y?e?u.bottomLeft:u.topRight:e?u.bottomRight:u.topLeft}if(l){if(a)return e?u.topRight:u.bottomLeft;if(s)return e?u.bottomRight:u.topLeft}var g=c(a,s);return g<h*.5?a.x>s.x?e?u.topLeft:u.bottomRight:e?u.bottomLeft:u.topRight:a.x<s.x?e?u.topRight:u.bottomLeft:e?u.bottomRight:u.topLeft}var K4=function(){function i(r,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=jx(r),a=Wm(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,Zs.parsePathString)(a);break;case"smooth-convex":e=jx(r),a=jm(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&Bh(a);break;case"bubble":e=j4(r,t,this.cfg.bubbleCfg),n=e.length>=2&&Bh(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:(0,Qt.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr((0,Qt.__assign)({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,f.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,f.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=eu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Lh(n,eu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),$4=K4,Q4="node",J4="svg",q4=function(i){(0,Qt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,f.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new Vx(e.cfg.maxStep),e.redoStack=new Vx(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new iN(this),e=new rN(this),n=new tN(this),a=new AN(this),o=new _4(this),s=new L4(this),l=new O4(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===J4)o=new Bs.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Do.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,f.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:Ke.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:Ke.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:Ke.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:Ke.comboContainerClassName}),u=a.addGroup({id:n+"-group",className:Ke.customGroupContainerClassName});u.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:u,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:Ke.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,f.isPlainObject)(t)?this.cfg=(0,Qt.__assign)((0,Qt.__assign)({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,f.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,f.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Ma.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");Bm(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(Ma.wO.translate(a,a,[-e.x,-e.y]),Ma.wO.scale(a,a,[t,t]),Ma.wO.translate(a,a,[e.x,e.y])):Ma.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=(0,Qt.__assign)((0,Qt.__assign)({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var u=n.getEdges(),h=u.length-1;h>=0;h--)l.edges.push((0,Qt.__assign)((0,Qt.__assign)({},u[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=Nh(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,u=e.nodes,h=e.type,c=e.zIndex,v=e.title,g=v;return(0,f.isString)(v)&&(g={text:v}),this.get("customGroupControll").create(l,u,h,c,!0,g)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var C,k=this.get("comboTrees");if(k||(k=[]),t==="combo"){var D=this.get("itemMap"),G=!1;if(k.forEach(function(le){G||ma(le,function(be){if(e.parentId===be.id){G=!0;var me=(0,Qt.__assign)({id:e.id,depth:be.depth+2},e);be.children?be.children.push(me):be.children=[me],e.depth=me.depth,C=s.addItem(t,e)}var Ie=D[be.id];return G&&Ie&&Ie.getType&&Ie.getType()==="combo"&&s.updateCombo(Ie,be.children),!0})}),!G){var N=(0,Qt.__assign)({id:e.id,depth:0},e);e.depth=N.depth,k.push(N),C=s.addItem(t,e)}this.set("comboTrees",k)}else if(t==="node"&&(0,f.isString)(e.comboId)&&k){var q=this.findById(e.comboId);if(q&&q.getType&&q.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}C=s.addItem(t,e);var tt=this.get("itemMap"),bt=!1,Nt=!1;(k||[]).forEach(function(le){Nt||bt||ma(le,function(be){if(be.id===e.id)return Nt=!0,!1;if(e.comboId===be.id&&!Nt){bt=!0;var me=(0,f.clone)(e);me.itemType="node",be.children?be.children.push(me):be.children=[me],e.depth=be.depth+1}return bt&&tt[be.id].getType&&tt[be.id].getType()==="combo"&&s.updateCombo(tt[be.id],be.children),!0})})}else C=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var q=this.findById(e.comboId||e.parentId);q&&q.addChild(C)}var Zt=this.get("combos");if(Zt&&Zt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var ee=(0,Qt.__assign)((0,Qt.__assign)({},C.getModel()),{itemType:t}),Ht={};switch(t){case"node":Ht.nodes=[ee];break;case"edge":Ht.edges=[ee];break;case"combo":Ht.combos=[ee];break;default:break}this.pushStack("add",{before:{},after:Ht})}return C},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var l=(0,f.clone)(s.getModel()),u="";s.getType&&(u=s.getType());var h=(0,Qt.__spreadArrays)(s.getStates());if(u==="combo"&&(0,f.each)(h,function(C){return a.setItemState(s,C,!1)}),o.updateItem(s,e),u==="combo"&&(0,f.each)(h,function(C){return a.setItemState(s,C,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},g=(0,Qt.__assign)({id:l.id},e);switch(u){case"node":c.nodes.push(l),v.nodes.push(g);break;case"edge":c.edges.push(l),v.edges.push(g);break;case"combo":c.combos.push(l),v.combos.push(g);break;default:break}u==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,f.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,u=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,f.each)(a,function(N){t.add("node",N,!1,!1)}),u&&u.length!==0){var h=Rh(u,a);this.set("comboTrees",h),t.addCombos(u)}(0,f.each)(s,function(N){t.add("edge",N,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(g)||g();function g(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var C=this.getNodes();C.forEach(function(N){N.toFront()})}else{var k=this.getEdges();k.forEach(function(N){N.toBack()})}if(e.nodes){var D=e.nodes.filter(function(N){return N.groupId});if(D.length>0){var G=t.get("groupType");this.renderCustomGroup(e,G)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===Q4){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(k){return n.clearItemStates(k)}),this.getEdges().map(function(k){return n.clearItemStates(k)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},u=t.combos;if(u){var h=Rh(u,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,f.each)(s,function(k,D){s[D].getModel().depth=0,!(k.getType&&k.getType()==="edge")&&(k.getType&&k.getType()==="combo"?(delete s[D],k.destroy()):l.nodes.indexOf(k)<0&&(delete s[D],n.remove(k,!1)))});for(var c=this.getCombos(),v=c.length,g=v-1;g>=0;g--)c[g].destroyed&&c.splice(g,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,f.each)(s,function(k,D){k.getType&&(k.getType()==="node"||k.getType()==="combo")||l.edges.indexOf(k)<0&&(delete s[D],n.remove(k,!1))}),this.set({nodes:l.nodes,edges:l.edges});var C=this.get("layoutController");return C.changeData(),n.get("animate")&&!C.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,f.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(u){var h=n.findById(u),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){ma(u,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,f.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),h=o.get("id"),c,v=[],g=this.get("combos"),C=this.findById(s);if(l.forEach(function(D){c||ma(D,function(G){var N;if(G.id===h){c=G;var q=o.getEdges();q.forEach(function(bt){e.removeItem(bt,!1)});var tt=g.indexOf(t);g.splice(tt,1),delete u[h],o.destroy()}if(s&&c&&G.id===s){C.removeCombo(o),v=G.children;var tt=v.indexOf(c);return tt!==-1&&v.splice(tt,1),(N=c.children)===null||N===void 0||N.forEach(function(Nt){var Zt=e.findById(Nt.id),ee=Zt.getModel();Zt.getType&&Zt.getType()==="combo"?(Nt.parentId=s,delete Nt.comboId,ee.parentId=s,delete ee.comboId):Zt.getType&&Zt.getType()==="node"&&(Nt.comboId=s,ee.comboId=s),C.addChild(Zt),v.push(Nt)}),!1}return!0})}),!s&&c){var k=l.indexOf(c);l.splice(k,1),(n=c.children)===null||n===void 0||n.forEach(function(D){D.parentId=void 0;var G=e.findById(D.id).getModel();G.parentId=void 0,D.itemType!=="node"&&l.push(D)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){ma(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var h=(0,Qt.__spreadArrays)(u.getStates());(0,f.each)(h,function(c){return t.setItemState(u,c,!1)}),a.updateCombo(u,l.children),(0,f.each)(h,function(c){return t.setItemState(u,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(h){ma(h,function(c){if(!c)return!0;var v=u[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var g=(0,Qt.__spreadArrays)(v.getStates());(0,f.each)(g,function(C){v.getStateStyle(C)&&e.setItemState(v,C,!1)}),l.updateCombo(v,c.children),(0,f.each)(g,function(C){v.getStateStyle(C)&&e.setItemState(v,C,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,f.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),u=!0,h;if((l||[]).forEach(function(k){h||Qi(k,function(D){if(!h)return D.id===a.getID()&&(h=D),!0})}),Qi(h,function(k){return k.id===e?(u=!1,!1):!0}),!u){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var g=this.findById(e);g&&g.addChild(a)}if(s){var g=this.findById(s);g&&g.removeChild(a)}var C=Nh(this.get("comboTrees"),o.id,e);this.set("comboTrees",C),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=JR(t);Object.keys(v).forEach(function(C){var k=v[C];n.get("customGroupControll").create(C,k,e,l),l--});var g=this.get("customGroup");g.sort()}else{var u=s.filter(function(C){return C.groupId}),h=[],c=(0,f.groupBy)(u,"groupId");Object.keys(c).forEach(function(C){var k=c[C].map(function(D){return D.id});n.get("customGroupControll").create(C,k,e,l),l--,h.find(function(D){return D.id===C})||h.push({id:C})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(e,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,f.each)(o,function(u){var h=t.findById(u.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var g=h.getContainer().getMatrix();g||(g=[1,0,0,0,1,0,0,0,1]),c={x:g[6],y:g[7]},h.set("originAttrs",c)}if(n){var C=n(h,l,u,c);h.set("model",Object.assign(v,C))}else v.x=c.x+(u.x-c.x)*l,v.y=c.y+(u.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,f.each)(a,function(u){u.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,f.each)(e,function(u){s=u.getModel();var h=u.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(u.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,f.each)(n,function(u){var h=u.getSource().getModel(),c=u.getTarget().getModel();(l[h.id]||l[c.id]||u.getModel().isComboEdge)&&u.refresh()}),(0,f.each)(a,function(u){u.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,g=o.getContext("2d"),C=this.get("width"),k=this.get("height"),D=void 0;if(e){var G=window.devicePixelRatio;v=g.getImageData(0,0,C*G,k*G),D=g.globalCompositeOperation,g.globalCompositeOperation="destination-over",g.fillStyle=e,g.fillRect(0,0,C,k)}s=o.toDataURL(t),e&&(g.clearRect(0,0,C,k),g.putImageData(v,0,0),g.globalCompositeOperation=D)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=(0,xi.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,f.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],g=s+c[1]+c[3],C={container:u,height:v,width:g,quickHit:!0},k=l==="svg"?new Bs.Z(C):new Do.Z(C),D=this.get("group"),G=D.clone(),N=(0,f.clone)(G.getMatrix());N||(N=[1,0,0,0,1,0,0,0,1]);var q=(a.maxX+a.minX)/2,tt=(a.maxY+a.minY)/2;Ma.wO.translate(N,N,[-q,-tt]),Ma.wO.translate(N,N,[s/2+c[3],o/2+c[0]]),G.resetMatrix(),G.setMatrix(N),k.add(G);var bt=k.get("el"),Nt="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var Zt=bt.cloneNode(!0),ee=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Ht=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",ee);Ht.replaceChild(Zt,Ht.documentElement);var le=new XMLSerializer().serializeToString(Ht);Nt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(le)}else{var be=void 0,me=bt.getContext("2d"),Ie=void 0;if(h){var Ge=window.devicePixelRatio;be=me.getImageData(0,0,g*Ge,v*Ge),Ie=me.globalCompositeOperation,me.globalCompositeOperation="destination-over",me.fillStyle=h,me.fillRect(0,0,g,v)}Nt=bt.toDataURL(e),h&&(me.clearRect(0,0,g,v),me.putImageData(be,0,0),me.globalCompositeOperation=Ie)}t==null||t(Nt)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),h=(0,xi.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,f.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var g=s+v[0]+v[2],C=l+v[1]+v[3],k={container:h,height:g,width:C},D=u==="svg"?new Bs.Z(k):new Do.Z(k),G=this.get("group"),N=G.clone(),q=(0,f.clone)(N.getMatrix());q||(q=[1,0,0,0,1,0,0,0,1]);var tt=(o.maxX+o.minX)/2,bt=(o.maxY+o.minY)/2;Ma.wO.translate(q,q,[-tt,-bt]),Ma.wO.translate(q,q,[l/2+v[3],s/2+v[0]]),N.resetMatrix(),N.setMatrix(q),D.add(N);var Nt=D.get("el");e||(e="image/png"),setTimeout(function(){var Zt="";if(u==="svg"){var ee=Nt.cloneNode(!0),Ht=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),le=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Ht);le.replaceChild(ee,le.documentElement);var be=new XMLSerializer().serializeToString(le);Zt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(be)}else{var me=void 0,Ie=Nt.getContext("2d"),Ge=void 0;if(c){var Fe=window.devicePixelRatio;me=Ie.getImageData(0,0,C*Fe,g*Fe),Ge=Ie.globalCompositeOperation,Ie.globalCompositeOperation="destination-over",Ie.fillStyle=c,Ie.fillRect(0,0,C,g)}Zt=Nt.toDataURL(e),c&&(Ie.clearRect(0,0,C,g),Ie.putImageData(me,0,0),Ie.globalCompositeOperation=Ge)}var Je=document.createElement("a"),tr=(t||"graph")+(u==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(Zt,u,Je,tr);var nr=document.createEvent("MouseEvents");nr.initEvent("click",!1,!1),Je.dispatchEvent(nr)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var u=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,u);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),h=u.length,c=new Uint8Array(h);h--;)c[h]=u.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,f.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(C){c[C.id]=C}),(u||[]).forEach(function(C){h||Qi(C,function(k){if(h&&c[k.id])return!1;if(n.parentId===k.id?(c={},k.children.forEach(function(G){c[G.id]=G})):n.id===k.id&&(h=!0),h){var D=e.findById(k.id);D&&D.getType&&D.getType()==="combo"&&(s=s.concat(D.getNodes()),l=l.concat(D.getCombos()))}return!0})});var v={},g=[];o.forEach(function(C){if(!(C.isVisible()&&!C.getModel().isVEdge)){var k=C.getSource(),D=C.getTarget();if((s.includes(k)||l.includes(k))&&!s.includes(D)&&!l.includes(D)||k.getModel().id===n.id){var G=C.getModel();if(G.isVEdge){e.removeItem(C,!1);return}for(var N=D.getModel();!D.isVisible();){if(D=e.findById(N.parentId||N.comboId),!D||!N.parentId&&!N.comboId)return;N=D.getModel()}var q=N.id;if(v[n.id+"-"+q]){v[n.id+"-"+q]+=G.size||1;return}var tt=e.addItem("vedge",{source:n.id,target:q,isVEdge:!0},!1);v[n.id+"-"+q]=G.size||1,g.push(tt)}else if(!s.includes(k)&&!l.includes(k)&&(s.includes(D)||l.includes(D))||D.getModel().id===n.id){var G=C.getModel();if(G.isVEdge){e.removeItem(C,!1);return}for(var bt=k.getModel();!k.isVisible();){if(k=e.findById(bt.parentId||bt.comboId),!k||!bt.parentId&&!bt.comboId)return;bt=k.getModel()}var Nt=bt.id;if(v[Nt+"-"+n.id]){v[Nt+"-"+n.id]+=G.size||1;return}var tt=e.addItem("vedge",{target:n.id,source:Nt,isVEdge:!0},!1);v[Nt+"-"+n.id]=G.size||1,g.push(tt)}}}),g.forEach(function(C){var k=C.getModel();e.updateItem(C,{size:v[k.source+"-"+k.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(C){c[C.id]=C}),(u||[]).forEach(function(C){h||Qi(C,function(k){if(h&&c[k.id])return!1;if(n.parentId===k.id?(c={},k.children.forEach(function(G){c[G.id]=G})):n.id===k.id&&(h=!0),h){var D=e.findById(k.id);D&&D.getType&&D.getType()==="combo"&&(s=s.concat(D.getNodes()),l=l.concat(D.getCombos()))}return!0})});var v={},g={};o.forEach(function(C){if(!(C.isVisible()&&!C.getModel().isVEdge)){var k=C.getSource(),D=C.getTarget(),G=k.get("id"),N=D.get("id");if((s.includes(k)||l.includes(k))&&!s.includes(D)&&!l.includes(D)||G===n.id){if(C.getModel().isVEdge){e.removeItem(C,!1);return}for(var q=D.getModel();!D.isVisible();){if(D=e.findById(q.comboId||q.parentId),!D||!q.parentId&&!q.comboId)return;q=D.getModel()}N=q.id;for(var tt=k.getModel();!k.isVisible();){if(k=e.findById(tt.comboId||tt.parentId),!k||!tt.parentId&&!tt.comboId)return;if(tt.comboId===n.id||tt.parentId===n.id)break;tt=k.getModel()}if(G=tt.id,N){var bt=G+"-"+N;if(v[bt]){v[bt]+=C.getModel().size||1,e.updateItem(g[bt],{size:v[bt]},!1);return}var Nt=e.addItem("vedge",{source:G,target:N,isVEdge:!0},!1);v[bt]=C.getModel().size||1,g[bt]=Nt}}else if(!s.includes(k)&&!l.includes(k)&&(s.includes(D)||l.includes(D))||N===n.id){if(C.getModel().isVEdge){e.removeItem(C,!1);return}for(var tt=k.getModel();!k.isVisible();){if(k=e.findById(tt.comboId||tt.parentId),!k||!tt.parentId&&!tt.comboId)return;tt=k.getModel()}G=tt.id;for(var q=D.getModel();!D.isVisible();){if(D=e.findById(q.comboId||q.parentId),!D||!q.parentId&&!q.comboId)return;if(q.comboId===n.id||q.parentId===n.id)break;q=D.getModel()}if(N=q.id,G){var bt=G+"-"+N;if(v[bt]){v[bt]+=C.getModel().size||1,e.updateItem(g[bt],{size:v[bt]},!1);return}var Nt=e.addItem("vedge",{target:N,source:G,isVEdge:!0},!1);v[bt]=C.getModel().size||1,g[bt]=Nt}}else(s.includes(k)||l.includes(k))&&(s.includes(D)||l.includes(D))&&k.isVisible()&&D.isVisible()&&C.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Qi(l,function(u){return n[u.depth]?n[u.depth].push(u.id):n[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),h=a[u.source]||0,c=a[u.target]||0,v=Math.max(h,c);n[v]?n[v].push(u.id):n[v]=[u.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var h=t.findById(l[u]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,f.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=Yx(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,f.clone)(e):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=bu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=bu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=Hx(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,f.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new $4(this,(0,Qt.__assign)((0,Qt.__assign)({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,f.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Ke.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Ke.imageWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Do.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),C=h.rotate,k=h.x,D=h.y;g.rotate(-C*Math.PI/180);var G=new Image;G.crossOrigin="anonymous",G.src=t,G.onload=function(){if(g.drawImage(G,k,D,h.width,h.height),g.rotate(C*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var N=document.querySelector(".g6-graph-watermarker");N||(N=document.createElement("div"),N.className="g6-graph-watermarker"),N.className="g6-graph-watermarker",a.destroyed||(N.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(N))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},Ke.textWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Do.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),C=h.rotate,k=h.fill,D=h.fontFamily,G=h.fontSize,N=h.baseline,q=h.x,tt=h.y,bt=h.lineHeight;g.rotate(-C*Math.PI/180),g.font=G+"px "+D,g.fillStyle=k,g.textBaseline=N;for(var Nt=t.length-1;Nt>=0;Nt--)g.fillText(t[Nt],q,tt+Nt*bt);if(g.rotate(C*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Zt=document.querySelector(".g6-graph-watermarker");Zt||(Zt=document.createElement("div"),Zt.className="g6-graph-watermarker"),Zt.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(Zt)}},r}(te.default),Kx=q4,t6=d(77201),$x=d.n(t6),e6=function(i){(0,Qt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=$x()[t.type](e,t);return ix(n),n}:function(e){return $x()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,oi.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=e.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,oi.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,oi.S6)(t.children||[],function(C){a.innerUpdateChild(C,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var h=s[u].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var g=o.getModel();n&&o.set("originAttrs",{x:g.x,y:g.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,oi.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,oi.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),u=r.indexOfChild(s,l.id);s.splice(u,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,oi.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Qi(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),h=l.get("model");if(u||(u={x:h.x,y:h.y},l.set("originAttrs",u)),e){var c=e(l,o,u,t);l.set("model",Object.assign(h,c))}else h.x=u.x+(s.x-u.x)*o,h.y=u.y+(s.y-u.y)*o}return!0}),(0,oi.S6)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),h=s.get("to");l.x=u.x+(h.x-u.x)*o,l.y=u.y+(h.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,oi.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,oi.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(Kx),r6=e6,n6="-shape",Qx="-label",wu=["startArrow","endArrow"],Qh="-label-bg",Jh={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,f.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+n6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+Qx)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),u=s.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":u=Fa(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=Fa(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=Fa(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=Fa(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=Fa(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+Qh;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=Ke[a]?Ke[a].style:null,s=(0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,f.mix)({},n.attr(),r.style),o=function(u){var h,c=a[u];if((0,f.isPlainObject)(c)){var v=e.find(function(g){return g.get("name")===u});v&&v.attr(c)}else n.attr((h={},h[u]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+Qx,o=e.find(function(tt){return tt.get("className")===a}),s=this.itemType+Qh,l=e.find(function(tt){return tt.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,f.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),g=r.labelCfg?r.labelCfg.style:void 0,C=c.style&&c.style.background,k=(0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)({},o.attr()),v),g),D=k.rotate;if(delete k.rotate,D){var G=[1,0,0,0,1,0,0,0,1];G=Fa(G,[["t",-k.x,-k.y],["r",D],["t",k.x,k.y]]),o.resetMatrix(),o.attr((0,Qt.__assign)((0,Qt.__assign)({},k),{matrix:G}))}else o.resetMatrix(),o.attr(k);if(!l)k.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(k.background){var N=this.getLabelBgStyleByPosition(o,r,c,e),q=(0,Qt.__assign)((0,Qt.__assign)({},N),C);l.resetMatrix(),D&&l.rotateAtStart(D),l.attr(q)}else e.removeChild(l)}else{var u=this.drawLabel(r,e);u.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,f.isBoolean)(t)?r:r+":"+t,u=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!u)){var c=(0,f.mix)({},h||u),v=e.getContainer();if(t){var g=function(me){var Ie,Ge=c[me];if((0,f.isPlainObject)(Ge)&&!wu.includes(me)){var Fe=v.find(function(Je){return Je.get("name")===me});Fe&&Fe.attr(Ge)}else o.attr((Ie={},Ie[me]=Ge,Ie))};for(var C in c)g(C)}else{var k=(0,f.clone)(e.getCurrentStatesStyle()),D=e.getModel(),G=(0,f.mix)({},D.style,(0,f.clone)(e.getOriginStyle())),N=o.get("name"),q=o.attr(),tt={},bt=function(me){var Ie=c[me];if((0,f.isPlainObject)(Ie)&&!wu.includes(me)){var Ge=v.find(function(tr){return tr.get("name")===me});if(Ge){var Fe=Ge.attr();(0,f.each)(Ie,function(tr,nr){(Fe[nr]||Fe[nr]===0)&&delete Fe[nr]}),tt[me]=Fe}}else{var Je={x:1,y:1,cx:1,cy:1};q[me]&&!Je[me]&&delete q[me]}};for(var Nt in c)bt(Nt);N?tt[N]=q:(0,f.mix)(tt,q);for(var C in k){var Zt=k[C];(!(0,f.isPlainObject)(Zt)||wu.includes(C))&&(N?((0,f.mix)(G[N],(a={},a[C]=Zt,a)),delete G[C]):(0,f.mix)(G,(n={},n[C]=Zt,n)),delete k[C])}var ee={};(0,f.deepMix)(ee,G,tt,k);var Ht=function(me){var Ie,Ge,Fe=ee[me];if((0,f.isPlainObject)(Fe)&&!wu.includes(me)){var Je=v.find(function(tr){return tr.get("name")===me});Je&&Je.attr(Fe)}else s==="combo"?N||o.attr((Ie={},Ie[me]=Fe,Ie)):o.attr((Ge={},Ge[me]=Fe,Ge))};for(var le in ee)Ht(le)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,f.clone)(u):(0,f.mix)({},l,u)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},i6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ke.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||Ke.defaultNode.size;return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,f.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Ch(o.padding),l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.offset;(0,f.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=(0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)({},c),o),{width:l,height:u}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(Zt){return Zt.get("className")==="link-point-left"}),a=t.find(function(Zt){return Zt.get("className")==="link-point-right"}),o=t.find(function(Zt){return Zt.get("className")==="link-point-top"}),s=t.find(function(Zt){return Zt.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var u=(0,f.mix)({},l,r.linkPoints),h=u.fill,c=u.stroke,v=u.lineWidth,g=u.size/2;g||(g=u.r);var C=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},k=C.left,D=C.right,G=C.top,N=C.bottom,q=this.getSize(r),tt=q[0],bt=q[1],Nt={r:g,fill:h,stroke:c,lineWidth:v};n?!k&&k!==void 0?n.remove():n.attr((0,Qt.__assign)((0,Qt.__assign)({},Nt),{x:-tt/2,y:0})):k&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},Nt),{x:-tt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!D&&D!==void 0&&a.remove(),a.attr((0,Qt.__assign)((0,Qt.__assign)({},Nt),{x:tt/2,y:0}))):D&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},Nt),{x:tt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!G&&G!==void 0&&o.remove(),o.attr((0,Qt.__assign)((0,Qt.__assign)({},Nt),{x:0,y:-bt/2}))):G&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},Nt),{x:0,y:-bt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!N&&N!==void 0?s.remove():s.attr((0,Qt.__assign)((0,Qt.__assign)({},Nt),{x:0,y:bt/2})):N&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},Nt),{x:0,y:bt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr((0,Qt.__assign)({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,f.mix)({},s.attr(),a),u=l.width,h=l.height;s.attr((0,Qt.__assign)((0,Qt.__assign)({},l),{x:-u/2,y:-h/2}))}else s.remove();else if(o){var u=a.width,h=a.height;n.addShape("image",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},a),{x:-u/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(C){return C.get("className")==="node-label"});c&&c.toFront()}}},a6=(0,Qt.__assign)((0,Qt.__assign)({},Jh),i6);ui.registerNode("single-node",a6);var Su="edge-shape";function o6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var s6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ke.defaultEdge.size,style:{x:0,y:0,stroke:Ke.defaultEdge.style.stroke,lineAppendWidth:Ke.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ke.edgeLabel.style.fill,fontSize:Ke.edgeLabel.style.fontSize}},stateStyles:(0,Qt.__assign)({},Ke.edgeStateStyles)},getPath:function(r){var t=[];return(0,f.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style),a=r.size||Ke.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),u=[o];l&&(u=u.concat(l)),u.push(s);var h=this.getPath(u),c=(0,f.mix)({},Ke.defaultEdge.style,{stroke:Ke.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(G){return G.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,C={radius:c.radius};u||(C={source:v,target:g,offset:c.offset,radius:c.radius});var k=this.getPath(h,C),D=(0,f.mix)(n,a.attr(),{lineWidth:o,path:k},r.style);a&&a.attr(D)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===Su}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+u,a.text=r.label,a;var h=(0,f.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=iu(o,s,l,u,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=(0,Qt.__assign)((0,Qt.__assign)({},o),{width:l,height:u,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,f.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,g=n&&n.find(function(q){return q.get("className")===Su}),C;h==="start"?C=0:h==="end"?C=1:C=.5;var k=e.refX||this.refX,D=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+k,c.y=t.startPoint.y+D,c;var G=iu(g,C,k-l/2,D+u/2,v),N=G.angle;return N>1/2*Math.PI&&N<3*1/2*Math.PI&&(G=iu(g,C,k+l/2,D+u/2,v)),v&&(c.x=G.x,c.y=G.y),c.rotate=G.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=o6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Su,name:Su,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,f.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),u=this.itemType+Qh;l.set("classname",u),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var u=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&u.rotateAtStart(s),u}},l6=(0,Qt.__assign)((0,Qt.__assign)({},Jh),s6);ui.registerEdge("single-edge",l6),ui.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ui.registerEdge("spline",{getPath:function(r){var t=Ym(r);return t}},"single-edge"),ui.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=_h(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,Ri.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=_h(t,o,e)}var u=Os(t,a),h=[{x:u,y:u}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),ui.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ri.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,Ri.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=tu(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),ui.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ca.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,Ca.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=tu(e,n,r.curvePosition[0],r.curveOffset[0]),o=tu(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),ui.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ca.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),ui.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ca.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),ui.registerEdge("loop",{getPathPoints:function(r){return rx(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var u6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ke.comboLabel.refX,refY:Ke.comboLabel.refY,options:{style:{stroke:Ke.defaultCombo.style.stroke,fill:Ke.defaultCombo.style.fill,lineWidth:Ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ke.comboLabel.style.fill,fontSize:Ke.comboLabel.style.fontSize}},stateStyles:(0,Qt.__assign)({},Ke.comboStateStyles)},getSize:function(r){var t=(0,f.clone)(r.size||this.options.size||Ke.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=this.getSize(r),u=Math.max(n.r,l[0]/2)||l[0]/2,h=u+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,Qt.__assign)({},e)),this.updateLabel(r,t)}},f6=(0,Qt.__assign)((0,Qt.__assign)({},Jh),u6);ui.registerCombo("single-combo",f6),ui.registerCombo("circle",{options:{size:[Ke.defaultCombo.size[0],Ke.defaultCombo.size[0]],padding:Ke.defaultCombo.padding[0],animate:!0,style:{stroke:Ke.defaultCombo.style.stroke,fill:Ke.defaultCombo.style.fill,lineWidth:Ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ke.comboLabel.style.fill,fontSize:Ke.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,Qt.__assign)({},Ke.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,f.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||Ke.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=(0,Qt.__assign)({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isArray)(n)&&(n=n[0]);var a=(0,f.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},u=t.get("keyShape"),h=(0,f.mix)({},u.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),ui.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ke.defaultCombo.style.stroke,fill:Ke.defaultCombo.style.fill,lineWidth:Ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ke.comboLabel.style.fill,fontSize:Ke.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Qt.__assign)({},Ke.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],u=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Ke.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?l=o[1]||Ke.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var u=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=(0,Qt.__assign)({x:u,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var u={stroke:r.color},h=t.get("keyShape"),c=(0,f.mix)({},h.attr(),u,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,Qt.__assign)({},e)),this.updateLabel(r,t)}},"single-combo"),ui.registerNode("circle",{options:{size:Ke.defaultNode.size,style:{x:0,y:0,stroke:Ke.defaultNode.style.stroke,fill:Ke.defaultNode.style.fill,lineWidth:Ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ke.nodeLabel.style.fill,fontSize:Ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ke.defaultNode.linkPoints.size,lineWidth:Ke.defaultNode.linkPoints.lineWidth,fill:Ke.defaultNode.linkPoints.fill,stroke:Ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Qt.__assign)({},Ke.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,Hi.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,u=o.height,h=o.show;return h&&t.addShape("image",{attrs:(0,Qt.__assign)({x:-l/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Qt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2;o&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:-g,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:g,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,Hi.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=(0,Qt.__assign)({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Hi.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),ui.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:Ke.defaultNode.style.stroke,fill:Ke.defaultNode.style.fill,lineWidth:Ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ke.nodeLabel.style.fill,fontSize:Ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ke.defaultNode.linkPoints.size,lineWidth:Ke.defaultNode.linkPoints.lineWidth,fill:Ke.defaultNode.linkPoints.fill,stroke:Ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Qt.__assign)({},Ke.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Qt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,Qt.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,f.mix)({},n,o.attr(),s);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),ui.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Ke.defaultNode.style.stroke,fill:Ke.defaultNode.style.fill,lineWidth:Ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ke.nodeLabel.style.fill,fontSize:Ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ke.defaultNode.linkPoints.size,lineWidth:Ke.defaultNode.linkPoints.lineWidth,fill:Ke.defaultNode.linkPoints.fill,stroke:Ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Qt.__assign)({},Ke.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,Qt.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Qt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2,C=v[1]/2;o&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:-C,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:C,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=(0,Qt.__assign)({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),ui.registerNode("diamond",{options:{size:[80,80],style:{stroke:Ke.defaultNode.style.stroke,fill:Ke.defaultNode.style.fill,lineWidth:Ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ke.nodeLabel.style.fill,fontSize:Ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ke.defaultNode.linkPoints.size,lineWidth:Ke.defaultNode.linkPoints.lineWidth,fill:Ke.defaultNode.linkPoints.fill,stroke:Ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Qt.__assign)({},Ke.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,Qt.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Qt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,Qt.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),ui.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:Ke.defaultNode.style.stroke,fill:Ke.defaultNode.style.fill,lineWidth:Ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ke.nodeLabel.style.fill,fontSize:Ke.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ke.defaultNode.linkPoints.size,lineWidth:Ke.defaultNode.linkPoints.lineWidth,fill:Ke.defaultNode.linkPoints.fill,stroke:Ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,Qt.__assign)({},Ke.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,u=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,g=a.offset;if(v){var C=-h/2,k=-c/2;(l==="up"||l==="down")&&(k+=g),(l==="left"||l==="right")&&(C+=g),t.addShape("image",{attrs:(0,Qt.__assign)({x:C,y:k},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),u},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,u=a.left,h=a.right,c=a.bottom,v=a.size,g=a.r,C=(0,Qt.__rest)(a,["top","left","right","bottom","size","r"]),k=this.getSize(r),D=k[0];if(u){var G=null,N=D*Math.sin(1/3*Math.PI),q=D*Math.sin(1/3*Math.PI);s==="up"?G=[-q,N]:s==="down"?G=[-q,-N]:s==="left"&&(G=[-q,q-N]),G&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},C),{x:G[0],y:G[1],r:v/2||g||5}),className:"link-point-left",name:"link-point-left"})}if(h){var tt=null,N=D*Math.sin(1/3*Math.PI),q=D*Math.sin(1/3*Math.PI);s==="up"?tt=[q,N]:s==="down"?tt=[q,-N]:s==="right"&&(tt=[q,q-N]),tt&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},C),{x:tt[0],y:tt[1],r:v/2||g||5}),className:"link-point-right",name:"link-point-right"})}if(l){var bt=null,N=D*Math.sin(1/3*Math.PI),q=D*Math.sin(1/3*Math.PI);s==="up"?bt=[q-N,-N]:s==="left"?bt=[q,-N]:s==="right"&&(bt=[-q,-N]),bt&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},C),{x:bt[0],y:bt[1],r:v/2||g||5}),className:"link-point-top",name:"link-point-top"})}if(c){var Nt=null,N=D*Math.sin(1/3*Math.PI),q=D*Math.sin(1/3*Math.PI);s==="down"?Nt=[-q+N,N]:s==="left"?Nt=[q,N]:s==="right"&&(Nt=[-q,N]),Nt&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},C),{x:Nt[0],y:Nt[1],r:v/2||g||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,Qt.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(Je){return Je.get("className")==="link-point-left"}),l=t.find(function(Je){return Je.get("className")==="link-point-right"}),u=t.find(function(Je){return Je.get("className")==="link-point-top"}),h=t.find(function(Je){return Je.get("className")==="link-point-bottom"}),c=n,v=s||l||u||h;v&&(c=v.attr());var g=(0,f.mix)({},c,r.linkPoints),C=g.fill,k=g.stroke,D=g.lineWidth,G=g.size/2;G||(G=g.r);var N=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},q=N.left,tt=N.right,bt=N.top,Nt=N.bottom,Zt=this.getSize(r),ee=Zt[0],Ht={r:G,fill:C,stroke:k,lineWidth:D},le=null,be=ee*Math.sin(1/3*Math.PI),me=ee*Math.sin(1/3*Math.PI);o==="up"?le=[-me,be]:o==="down"?le=[-me,-be]:o==="left"&&(le=[-me,me-be]),le&&(s?!q&&q!==void 0?s.remove():s.attr((0,Qt.__assign)((0,Qt.__assign)({},Ht),{x:le[0],y:le[1]})):q&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},Ht),{x:le[0],y:le[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Ie=null;o==="up"?Ie=[me,be]:o==="down"?Ie=[me,-be]:o==="right"&&(Ie=[me,me-be]),Ie&&(l?!tt&&tt!==void 0?l.remove():l.attr((0,Qt.__assign)((0,Qt.__assign)({},Ht),{x:Ie[0],y:Ie[1]})):tt&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},Ht),{x:Ie[0],y:Ie[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Ge=null;o==="up"?Ge=[me-be,-be]:o==="left"?Ge=[me,-be]:o==="right"&&(Ge=[-me,-be]),Ge&&(u?!bt&&bt!==void 0?u.remove():u.attr((0,Qt.__assign)((0,Qt.__assign)({},Ht),{x:Ge[0],y:Ge[1]})):bt&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},Ht),{x:Ge[0],y:Ge[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Fe=null;o==="down"?Fe=[-me+be,be]:o==="left"?Fe=[me,be]:o==="right"&&(Fe=[-me,be]),Fe&&(h?!Nt&&Nt!==void 0?h.remove():h.attr((0,Qt.__assign)((0,Qt.__assign)({},Ht),{x:Fe[0],y:Fe[1]})):Nt&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},Ht),{x:Fe[0],y:Fe[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),ui.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Ke.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=(0,Qt.__rest)(n,["show"]);return h&&t.addShape("rect",{attrs:(0,Qt.__assign)({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),u},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=(0,Qt.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},v),{x:u||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=(0,Qt.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},v),{x:u||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Qt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],C=v[1];o&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:-C/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},c),{x:0,y:C/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,g=s.show,C=s.width,k=-c/2+a.offset;g&&(k=-c/2+C+a.offset);var D=a.style,G=u.style,N=u.paddingTop;return(0,f.isString)(r.description)?(v=t.addShape("text",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},D),{x:k,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},G),{x:k,y:17+(N||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},D),{x:k,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,Qt.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],g=t.get("keyShape");g.attr((0,Qt.__assign)((0,Qt.__assign)({},a),{x:-c/2,y:-v/2,width:c,height:v}));var C=t.getContainer(),k=C.find(function(Gr){return Gr.get("className")==="rect-logo-icon"}),D=k?k.attr():{},G=(0,f.mix)({},D,r.logoIcon),N=G.width;N===void 0&&(N=this.options.logoIcon.width);var q=r.logoIcon?r.logoIcon.show:void 0,tt=s.offset,bt=-c/2+N+tt;!q&&q!==void 0&&(bt=-c/2+tt);var Nt=C.find(function(Gr){return Gr.get("className")==="node-label"}),Zt=C.find(function(Gr){return Gr.get("className")==="rect-description"});if(r.label)if(!Nt)C.addShape("text",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},s.style),{x:bt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var ee=r.labelCfg?r.labelCfg.style:{},Ht=(0,f.mix)({},Nt.attr(),ee);r.label&&(Ht.text=r.label),Ht.x=bt,(0,f.isString)(r.description)&&(Ht.y=-5),Zt&&(Zt.resetMatrix(),Zt.attr({x:bt})),Nt.resetMatrix(),Nt.attr(Ht)}if((0,f.isString)(r.description)){var le=u.paddingTop;if(!Zt)C.addShape("text",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},u.style),{x:bt,y:17+(le||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var ee=r.descriptionCfg?r.descriptionCfg.style:{},be=(0,f.mix)({},Zt.attr(),ee);(0,f.isString)(r.description)&&(be.text=r.description),be.x=bt,Zt.resetMatrix(),Zt.attr((0,Qt.__assign)((0,Qt.__assign)({},be),{y:17+(le||0)}))}}var me=C.find(function(Gr){return Gr.get("className")==="pre-rect"});if(me){var Ie=(0,f.mix)({},me.attr(),r.preRect);me.attr((0,Qt.__assign)((0,Qt.__assign)({},Ie),{x:-c/2,y:-v/2,height:v}))}if(k)if(!q&&q!==void 0)k.remove();else{var Ge=G.width,Fe=G.height,Je=G.x,tr=G.y,nr=G.offset,$e=(0,Qt.__rest)(G,["width","height","x","y","offset"]);k.attr((0,Qt.__assign)((0,Qt.__assign)({},$e),{x:Je||-c/2+Ge+nr,y:tr||-Fe/2,width:Ge,height:Fe}))}else q&&this.drawLogoIcon(r,C);var Qe=C.find(function(Gr){return Gr.get("className")==="rect-state-icon"}),Sr=Qe?Qe.attr():{},xr=(0,f.mix)({},Sr,r.stateIcon);if(Qe){!xr.show&&xr.show!==void 0&&Qe.remove();var Lr=xr.width,Fe=xr.height,Je=xr.x,tr=xr.y,ar=xr.offset,Er=(0,Qt.__rest)(xr,["width","height","x","y","offset"]);Qe.attr((0,Qt.__assign)((0,Qt.__assign)({},Er),{x:Je||c/2-Lr+ar,y:tr||-Fe/2,width:Lr,height:Fe}))}else xr.show&&this.drawStateIcon(r,C);this.updateLinkPoints(r,C)}},"single-node"),ui.registerNode("star",{options:{size:60,style:{stroke:Ke.defaultNode.style.stroke,fill:Ke.defaultNode.style.fill,lineWidth:Ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ke.nodeLabel.style.fill,fontSize:Ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ke.defaultNode.linkPoints.size,lineWidth:Ke.defaultNode.linkPoints.lineWidth,fill:Ke.defaultNode.linkPoints.fill,stroke:Ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Qt.__assign)({},Ke.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,Qt.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,h=n.size,c=n.r,v=(0,Qt.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),g=this.getSize(r),C=g[0];if(s){var k=Math.cos((18+72*0)/180*Math.PI)*C,D=Math.sin((18+72*0)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},v),{x:k,y:-D,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var k=Math.cos((18+72*1)/180*Math.PI)*C,D=Math.sin((18+72*1)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},v),{x:k,y:-D,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var k=Math.cos((18+72*2)/180*Math.PI)*C,D=Math.sin((18+72*2)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},v),{x:k,y:-D,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var k=Math.cos((18+72*3)/180*Math.PI)*C,D=Math.sin((18+72*3)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},v),{x:k,y:-D,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var k=Math.cos((18+72*4)/180*Math.PI)*C,D=Math.sin((18+72*4)/180*Math.PI)*C;t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},v),{x:k,y:-D,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,u=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,Qt.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(be){return be.get("className")==="link-point-left"}),a=t.find(function(be){return be.get("className")==="link-point-right"}),o=t.find(function(be){return be.get("className")==="link-point-top"}),s=t.find(function(be){return be.get("className")==="link-point-left-bottom"}),l=t.find(function(be){return be.get("className")==="link-point-right-bottom"}),u=e,h=n||a||o||s||l;h&&(u=h.attr());var c=(0,f.mix)({},u,r.linkPoints),v=c.fill,g=c.stroke,C=c.lineWidth,k=c.size/2;k||(k=c.r);var D=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},G=D.left,N=D.right,q=D.top,tt=D.leftBottom,bt=D.rightBottom,Nt=this.getSize(r),Zt=Nt[0],ee={r:k,fill:v,stroke:g,lineWidth:C},Ht=Math.cos((18+72*0)/180*Math.PI)*Zt,le=Math.sin((18+72*0)/180*Math.PI)*Zt;a?!N&&N!==void 0?a.remove():a.attr((0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le})):N&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Ht=Math.cos((18+72*1)/180*Math.PI)*Zt,le=Math.sin((18+72*1)/180*Math.PI)*Zt,o?!q&&q!==void 0?o.remove():o.attr((0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le})):q&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Ht=Math.cos((18+72*2)/180*Math.PI)*Zt,le=Math.sin((18+72*2)/180*Math.PI)*Zt,n?!G&&G!==void 0?n.remove():n.attr((0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le})):G&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Ht=Math.cos((18+72*3)/180*Math.PI)*Zt,le=Math.sin((18+72*3)/180*Math.PI)*Zt,s?!tt&&tt!==void 0?s.remove():s.attr((0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le})):tt&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Ht=Math.cos((18+72*4)/180*Math.PI)*Zt,le=Math.sin((18+72*4)/180*Math.PI)*Zt,l?!bt&&bt!==void 0?s.remove():l.attr((0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le})):bt&&t.addShape("circle",{attrs:(0,Qt.__assign)((0,Qt.__assign)({},ee),{x:Ht,y:-le}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),ui.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:(0,Qt.__assign)({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=e.width,h=e.height,c=a-u/2,v=o-h/2;t.setClip({type:"rect",attrs:(0,Qt.__assign)({x:c,y:v,width:u,height:h},s)})}else if(n==="ellipse"){var g=e.rx,C=e.ry;t.setClip({type:"ellipse",attrs:(0,Qt.__assign)({x:a,y:o,rx:g,ry:C},s)})}else if(n==="polygon"){var k=e.points;t.setClip({type:"polygon",attrs:(0,Qt.__assign)({points:k},s)})}else if(n==="path"){var D=e.path;t.setClip({type:"path",attrs:(0,Qt.__assign)({path:D},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=(0,Qt.__assign)({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Cu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(t){return typeof t}:Cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(i)}var Mu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},h6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},Jx=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},qh=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,f.each)(e,function(n){t.push(n)}),t},Eu=function(r){return r=qh(r),r},qx=function(r,t){return[r,{x:r.x,y:t.y},t]},Au=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},c6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},tc=function(r,t){var e=c6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},ec=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},rc=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},_u=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},v6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},d6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},p6=function(r,t){return v6(r,t.x).concat(d6(r,t.y))},Ns=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},g6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},t1=function(r,t,e,n,a){return Ns(r,t)+Ns(r,e)+g6(r,[t,e,n,a])},y6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},m6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},Tu=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,u=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return u>=0&&u<=1&&h>=0&&h<=1},nc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=rc(e),a=n[0],o=n[1],s=n[2],l=n[3];return Tu(r,t,a,o)||Tu(r,t,a,l)||Tu(r,t,o,s)||Tu(r,t,s,l)},x6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!nc(o,t,e)&&!nc(o,t,n)&&a.push(o)}),qh(a)},b6=function(r,t,e,n,a,o,s){var l=[],u=[t],h={},c={},v={};c[t.id]=0,v[t.id]=t1(t,e,t);var g={};r.forEach(function(D){g[D.id]=D});for(var C=function(){var G,N=Infinity;if(u.forEach(function(tt){v[tt.id]<N&&(N=v[tt.id],G=tt)}),G===e){var q=[];return y6(q,g,h,e.id),{value:q}}m6(u,G),l.push(G),x6(r,G,n,a).forEach(function(tt){if(l.indexOf(tt)===-1){u.indexOf(tt)===-1&&u.push(tt);var bt=v[G.id]+Ns(G,tt);c[tt.id]&&bt>=c[tt.id]||(h[tt.id]=G.id,c[tt.id]=bt,v[tt.id]=c[tt.id]+t1(tt,e,t,o,s))}})};u.length;){var k=C();if(Cu(k)==="object")return k.value}return[t,e]},w6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},S6=function(r,t,e,n){var a=Ns(r,t),o=Ns(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},e1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(w6(a,s,l)){var u=S6(a,s,l,t),h=u[0],c=u[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},C6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Mu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Mu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Mu(t);else if(n.getType()==="combo"){var u=n.getKeyShape();s=u.getCanvasBBox()||Mu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(Jx(o,s))return Eu(qx(r,t));var h=Au(o,a),c=Au(s,a);if(Jx(h,c))return Eu(qx(r,t));var v=tc(h,r),g=tc(c,t),C=h6([v,g]),k=ec(h,c),D=ec(h,C),G=ec(c,C),N=[];N=N.concat(rc(D)),N=N.concat(rc(G));var q={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[C,D,G].forEach(function(bt){N=N.concat(p6(bt,q).filter(function(Nt){return _u(Nt,h)&&_u(Nt,c)}))}),[{x:v.x,y:g.y},{x:g.x,y:v.y}].forEach(function(bt){_u(bt,h)&&_u(bt,c)&&N.push(bt)}),N.unshift(v),N.push(g),N=qh(N);var tt=b6(N,v,g,o,s,r,t);return tt.unshift(r),tt.push(t),Eu(tt)};function Pu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(t){return typeof t}:Pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(i)}var M6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},E6=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},A6=function(r,t){return[r,t]},_6=function(r,t,e,n,a){return Eu(C6(r,t,e,n,a.offset))},T6={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:M6,fallbackRoute:_6},GY={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:E6,fallbackRoute:A6},va=function(r,t){var e=Math.floor(r/t);return e<0?0:e},P6=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Au(a.getBBox(),e),s=va(o.minX,t);s<=va(o.maxX,t);s+=1)for(var l=va(o.minY,t);l<=va(o.maxY,t);l+=1){var u=s+"-"+l;n[u]=!0}}),n},ic=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},r1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},n1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},i1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Au(t.getBBox(),o);for(var u in l)l[u]=va(l[u],e.gridSize);var h=r.x>va(s.minX,e.gridSize)&&r.x<va(s.maxX,e.gridSize)&&r.y>va(s.minY,e.gridSize)&&r.y<va(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var g=v[c],C=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],u=0;u<4;u++){var k=C[u],D=Ls(r,{x:r.x+g.stepX*l.width,y:r.y+g.stepY*l.height},k[0],k[1]);D&&!nc(r,D,t.getBBox())&&(D.id=D.x+"-"+D.y,n.push(D))}else{var D=tc(l,r);D.id=D.x+"-"+D.y,n.push(D)}return n},a1=function(r,t,e,n,a){var o=(0,Hi.default)(T6,a);o.obstacles=o.obstacles||[];var s=P6(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:va(r.x,o.gridSize),y:va(r.y,o.gridSize)},u={x:va(t.x,o.gridSize),y:va(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=u.x+"-"+u.y;var h=i1(l,e,o),c=i1(u,n,o);h.forEach(function(ee){delete s[ee.id]}),c.forEach(function(ee){delete s[ee.id]});for(var v={},g={},C={},k={},D={},G=0;G<h.length;G++){var N=h[G];v[N.id]=N,k[N.id]=0,D[N.id]=n1(N,c,o.distFunc)}for(var q=function(Ht,le){var be=ic(Ht,le),me;if(C[Ht.id]){var Ge=ic({x:parseFloat(C[Ht.id].split("-")[0]),y:parseFloat(C[Ht.id].split("-")[1])},Ht);me=r1(Ge,be)}else{var Ie=ic(l,Ht);me=r1(Ie,be)}return me},tt=function(Ht){var le=[t],be={x:parseFloat(Ht.split("-")[0]),y:parseFloat(Ht.split("-")[1]),id:Ht};for(q(be,u)&&le.unshift({x:be.x===u.x?t.x:be.x*o.gridSize,y:be.y===u.y?t.y:be.y*o.gridSize});C[Ht]&&C[Ht]!==Ht;){var me={x:parseFloat(Ht.split("-")[0]),y:parseFloat(Ht.split("-")[1]),id:Ht},Ie=C[Ht],Ge={x:parseFloat(Ie.split("-")[0]),y:parseFloat(Ie.split("-")[1]),id:Ie},Fe=q(Ge,me);Fe&&le.unshift({x:Ge.x===me.x?le[0].x:Ge.x*o.gridSize,y:Ge.y===me.y?le[0].y:Ge.y*o.gridSize}),Ht=Ie}var Je={x:parseFloat(Ht.split("-")[0]),y:parseFloat(Ht.split("-")[1]),id:Ht};return le[0].x=Je.x===l.x?r.x:le[0].x,le[0].y=Je.y===l.y?r.y:le[0].y,le.unshift(r),le},bt=o.maximumLoops,Nt=function(){var Ht,le=Infinity;for(var be in v)D[be]<=le&&(le=D[be],Ht=v[be]);if(!Ht)return"break";if(c.findIndex(function($e){return $e.x===Ht.x&&$e.y===Ht.y})>-1){var me=tt(Ht.id);return{value:me}}delete v[Ht.id],g[Ht.id]=!0;for(var Ie=0;Ie<o.directions.length;Ie++){var Ge=o.directions[Ie],Fe={x:Ht.x+Ge.stepX,y:Ht.y+Ge.stepY,id:Ht.x+Ge.stepX+"-"+(Ht.y+Ge.stepY)};if(!g[Fe.id]){var Je=q(Ht,Fe);if(!(Je>o.maxAllowedDirectionChange)&&!s[Fe.id]){v[Fe.id]||(v[Fe.id]=Fe);var tr=o.distFunc(Ht,Fe)+(isNaN(o.penalties[Je])?o.gridSize:o.penalties[Je]),nr=k[Ht.id]+tr;k[Fe.id]&&nr>=k[Fe.id]||(C[Fe.id]=Ht.id,k[Fe.id]=nr,D[Fe.id]=nr+n1(Fe,c,o.distFunc))}}}bt-=1};Object.keys(v).length>0&&bt>0;){var Zt=Nt();if(Pu(Zt)==="object")return Zt.value;if(Zt==="break")break}return o.fallbackRoute(r,t,e,n,o)};ui.registerEdge("polyline",{options:{color:Ke.defaultEdge.color,size:Ke.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Ke.defaultEdge.style.stroke,lineAppendWidth:Ke.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ke.edgeLabel.style.fill,fontSize:Ke.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:(0,Qt.__assign)({},Ke.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var u=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var g=this.getPath(l,u,h,c,v);((0,f.isArray)(g)&&g.length<=1||(0,f.isString)(g)&&g.indexOf("L")===-1)&&(g="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(g="M0 0, L0 0");var C=(0,f.mix)({},Ke.defaultEdge.style,n,{lineWidth:r.size,path:g});return C},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(N){return N.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,C=c.radius,k=this.options.routeCfg;k.offset=c.offset;var D=this.getPath(h,v,g,C,k);((0,f.isArray)(D)&&D.length<=1||(0,f.isString)(D)&&D.indexOf("L")===-1)&&(D="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(D="M0 0, L0 0");var G=(0,f.mix)(n,a.attr(),{lineWidth:o,path:D},r.style);a&&a.attr(G)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return e1(r,n);var s=[];return(0,f.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=a1(r[0],r[r.length-1],t,e,a);var u=e1(l,n);return u}l=a1(r[0],r[r.length-1],t,e,a);var h=zm(l);return h}},"single-edge");var L6={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return u}},I6={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},ss=ui,O6={mat3:Ma.wO,mix:Fs.default,deepMix:Hi.default,transform:Ma.vs},k6=(0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)({},O6),Rt),Et),ot),vt),at),B6=k6,D6=function(){function i(r){this._cfgs=(0,Hi.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,Nn.default)(e,function(a,o){var s=(0,ru.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,Nn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Na=D6,o1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",F6=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:o1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||o1,u=(0,xi.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,xi.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);u.appendChild(h),(0,Vn.Z)(u,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Vn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(u,a),this.set("container",u),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Vn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Na),R6=F6,N6=d(38186),ac=d.n(N6);ac()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var G6=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,xi.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Vn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,Ln.default)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(Zt){h(Zt.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),g=l.get("height"),C=o.getBoundingClientRect(),k=this.get("offsetX")||0,D=this.get("offsetY")||0,G=l.getContainer().offsetTop,N=l.getContainer().offsetLeft,q=t.canvasX+N+k,tt=t.canvasY+G+D;q+C.width>v&&(q=t.canvasX-C.width-k+N),tt+C.height>g&&(tt=t.canvasY-C.height-D+G),(0,Vn.Z)(o,{top:tt+"px",left:q+"px",visibility:"visible"});var bt=function(Zt){e.onMenuHide()};document.body.addEventListener("click",bt),this.set("handler",bt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Vn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Na),Y6=G6,s1=Math.max,z6="default",X6="keyShape",V6="delegate",l1="svg",H6=function(i){(0,Qt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,f.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,xi.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),u=0,h=0,c=!1,v=0,g=0,C=0,k=0,D=0,G=0;l.addEventListener("dragstart",function(N){if(N.dataTransfer){var q=new Image;q.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",N.dataTransfer.setDragImage(q,0,0),N.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,N.target===l){var tt=l.style;v=parseInt(tt.left,10),g=parseInt(tt.top,10),C=parseInt(tt.width,10),k=parseInt(tt.height,10),!(C>n[0]||k>n[1])&&(G=a.getZoom(),D=t.get("ratio"),c=!0,u=N.clientX,h=N.clientY)}},!1),l.addEventListener("drag",function(N){if(!(!c||(0,Fi.default)(N.clientX)||(0,Fi.default)(N.clientY))){var q=u-N.clientX,tt=h-N.clientY;(v-q<0||v-q+C>=n[0])&&(q=0),(g-tt<0||g-tt+k>=n[1])&&(tt=0),v-=q,g-=tt,(0,Vn.Z)(l,{left:v+"px",top:g+"px"}),a.translate(q*G/D,tt*G/D),u=N.clientX,h=N.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),u=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(u,h),g=this.get("viewport");g||this.initViewport();var C=s.getZoom(),k=(v.x-c.x)*t,D=(v.y-c.y)*t,G=c.x*t+a,N=c.y*t+o,q=G+k,tt=N+D;G<0&&(k+=G,G=0),q>l[0]&&(k=k-(q-l[0])),N<0&&(D+=N,N=0),tt>l[1]&&(D=D-(tt-l[1])),this.set("ratio",t);var bt=G+"px",Nt=N+"px";(0,Vn.Z)(g,{left:bt,top:Nt,width:k+"px",height:D+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===l1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,Nn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Nn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),u=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(u,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,Nn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Nn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var u={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(u)}else s=n.addShape("rect",{attrs:(0,Qt.__assign)({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,xi.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,Ln.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,xi.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var u,h=e.get("renderer");h===l1?u=new Bs.Z({container:l,width:n[0],height:n[1]}):u=new Do.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case z6:this.updateGraphShapes();break;case X6:this.updateKeyShapes();break;case V6:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(u.width)&&(c=s1(u.width,c),v=s1(u.height,v)),c+=2*s,v+=2*s;var g=Math.min(n[0]/c,n[1]/v),C=[1,0,0,0,1,0,0,0,1],k=0,D=0;Number.isFinite(u.minX)&&(k=-u.minX),Number.isFinite(u.minY)&&(D=-u.minY);var G=(n[0]-(c-2*s)*g)/2,N=(n[1]-(v-2*s)*g)/2;C=Fa(C,[["t",k,D],["s",g,g],["t",G,N]]),l.setMatrix(C),this.set("ratio",g),this.set("totaldx",G+k*g),this.set("totaldy",N+D*g),this.set("dx",G),this.set("dy",N),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Na),W6=H6;function Ga(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function j6(i,r){return i.x*r.x+i.y*r.y}function u1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var U6=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(tt){(tt.x===null||!tt.y===null||tt.x===void 0||!tt.y===void 0)&&(s=!0),o[tt.id]=tt}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),u=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),g=e.get("iterations"),C=e.get("iterRate"),k=e.get("lambda"),D=0;D<v;D++){for(var G=function(bt){var Nt=[];n.forEach(function(Zt,ee){if(Zt.source!==Zt.target){var Ht=o[Zt.source],le=o[Zt.target];Nt[ee]=e.getEdgeForces({source:Ht,target:le},ee,l,k);for(var be=0;be<l+1;be++)h[ee][be].x+=Nt[ee][be].x,h[ee][be].y+=Nt[ee][be].y}})},N=0;N<g;N++)G(N);k=k/2,l*=u,g*=C,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(tt,bt){tt.source!==tt.target&&(tt.shape="polyline",tt.type="polyline",tt.controlPoints=h[bt].slice(1,h[bt].length-1))});var q=e.get("graph");q.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],h=a[s.target];if(t===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+h.x),y:.5*(u.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Ga({x:u.x,y:u.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),g=v,C=[{x:u.x,y:u.y}];o[l].forEach(function(k,D){if(D!==0){for(var G=Ga(k,o[l][D-1]);G>g;){var N=g/G,q={x:o[l][D-1].x,y:o[l][D-1].y};q.x+=N*(k.x-o[l][D-1].x),q.y+=N*(k.y-o[l][D-1].y),C.push(q),G-=g,g=v}g-=G}}),C.push({x:h.x,y:h.y}),o[l]=C}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Ga(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var h=o[l.source],c=o[l.target];n.forEach(function(v,g){if(!(g<=u)){var C=o[v.source],k=o[v.target],D=t.getBundleScore({source:h,target:c},{source:C,target:k});D>=a&&(s[u].push(g),s[g].push(u))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Ga({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Ga({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=j6({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Ga(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=u1(e.source,t),a=u1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Ga(o,s)/Ga(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Ga(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},g=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},u),C=o.getElectrostaticForce(c,e);v.x=a*(g.x+C.x),v.y=a*(g.y+C.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],u={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=Ga(s[h][t],s[e][t]),g=1/v;u.x+=c.x*g,u.y+=c.y*g}}),u},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Na),Z6=U6,Lu=.05,f1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},K6=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,oi.d9)(f1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Lu:a=1/(1-Lu);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-Lu:o=1/(1-Lu);var l=e.get("maxR"),u=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(u||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var u=e.get("r");e.set("molecularParam",(o+1)*u);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),u=e.get("minD");if(s<l&&s>u){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),g=a.getNodes(),C=g.length,k=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(k=n.get("cacheCenter"));var D=n.get("delegateCenterDiff");D&&(k.x+=D.x,k.y+=D.y),n.updateDelegate(k,u);for(var G=0;G<C;G++){var N=g[G].getModel(),q=N.x,tt=N.y;if(!(isNaN(q)||isNaN(tt))){var bt=(q-k.x)*(q-k.x)+(tt-k.y)*(tt-k.y);if(!isNaN(bt)&&bt<h&&bt!==0){var Nt=Math.sqrt(bt),Zt=v*Nt/(c*Nt+u),ee=(q-k.x)/Nt,Ht=(tt-k.y)/Nt;if(N.x=ee*Zt+k.x,N.y=Ht*Zt+k.y,s[N.id]||(s[N.id]={x:q,y:tt,texts:[]}),o.push(N),l&&2*Nt<u)for(var le=g[G],be=le.getContainer(),me=be.getChildren(),Ie=me.length,Ge=0;Ge<Ie;Ge++){var Fe=me[Ge];Fe.get("type")==="text"&&(s[N.id].texts.push({visible:Fe.get("visible"),shape:Fe}),Fe.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var h=u.texts.length,c=0;c<h;c++){var v=u.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(u)||e.set("minR",u);var g=e.get("d"),C=e.get("r");if(e.set("molecularParam",(g+1)*C),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||f1;s=l.addShape("circle",{attrs:(0,Qt.__assign)({r:e/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(C){a.scaleRByWheel(C)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(C){a.set("dragging",!0),a.set("cacheCenter",{x:C.x,y:C.y}),a.set("dragPrePos",{x:C.x,y:C.y})}),s.on("drag",function(C){a.scaleRByDrag(C)}),s.on("dragend",function(C){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(C){n.scaleDByWheel(C)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(C){a.set("dragging",!0),a.set("cacheCenter",{x:C.x,y:C.y}),a.set("dragPrePos",{x:C.x,y:C.y})}),s.on("drag",function(C){n.scaleDByDrag(C)}),s.on("dragend",function(C){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var g=o.get("group");c=g.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Na),$6=K6;ac()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var Q6=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,oi.HD)(a)&&(o=(0,xi.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(C){return C.nodeName==="LI"});if(v.length!==0){var g=v[0].getAttribute("code");!g||(u?u(g,e):t.handleDefaultOperator(g,e))}});var h=this.get("position");h&&(0,Vn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,h=l.length,c=u.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,oi.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.removeItem(u.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,oi.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Na),J6=Q6;ac()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var q6=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,xi.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Vn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,Ln.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Vn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,Vn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,g=c.y;v+=l,g+=u;var C=n.getBoundingClientRect();v+C.width>o&&(v=v-C.width-l),g+C.height>s&&(g=g-C.height-u),(0,Vn.Z)(n,{left:v+"px",top:g+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Na),t8=q6,h1=d(89539);function e8(i){return(0,f.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function c1(i){return e8(i)}function r8(i){if(i.length<=2)return c1(i);var r=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=Zs.catmullRom2Bezier(r,!1),e=(0,f.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function n8(i,r,t,e){e===void 0&&(e=!0);var n=new Br.Linear({values:i}),a=new Br.Category({values:(0,f.map)(i,function(s,l){return l})}),o=(0,f.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?r8(o):c1(o)}function i8(i,r,t){for(var e=new Br.Linear({values:i}),n=new Br.Category({values:(0,f.map)(i,function(c,v){return v})}),a=(0,f.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],u={x:l[0],y:l[1],y0:t,size:5},h=s8(u);o.push.apply(o,h)}return l8(o)}function a8(i,r){var t=new Br.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function o8(i,r,t,e){var n=(0,Qt.__spreadArrays)(i),a=a8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function s8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,h1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,h1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function l8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var YY={opacity:.5},u8={stroke:"#C5C5C5",strokeOpacity:.85},f8={fill:"#CACED4",opacity:.85},h8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,u=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,g=v===void 0?!1:v,C=r.data,k=C===void 0?[]:C,D=r.lineStyle,G=r.areaStyle,N=r.group,q=r.interval,tt=q===void 0?null:q;this.group=N,this.x=e,this.y=a,this.width=s,this.height=u,this.data=k,this.smooth=c,this.isArea=g,this.lineStyle=Object.assign({},u8,D),this.areaStyle=Object.assign({},f8,G),this.intervalConfig=tt,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,u=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var g=n8(o,n,a,s);if(v.addShape("path",{attrs:(0,Qt.__assign)({path:g},h)}),l){var C=o8(g,n,a,o);v.addShape("path",{attrs:(0,Qt.__assign)({path:C},c)})}}this.intervalConfig&&v.addShape("path",{attrs:(0,Qt.__assign)({path:i8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),c8=h8,v8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},d8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},p8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,u=r.width,h=u===void 0?2:u,c=r.height,v=c===void 0?24:c,g=r.style,C=g===void 0?{}:g;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=(0,Qt.__assign)((0,Qt.__assign)({},v8),C):n==="simple"&&(this.style=(0,Qt.__assign)((0,Qt.__assign)({},d8),C)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,f.isNumber)(r)&&(this.x=r),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),v1=p8,g8=function(){function i(r){this.config=(0,f.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,f.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:(0,Qt.__assign)({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),y8=g8,m8="#ccc",x8="green",b8={fill:"#607889",stroke:"#607889"},w8={fill:"#fff"},S8={fill:"green"},C8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Gs=110,Ya=50,M8=function(){function i(r){this.controllerCfg=(0,f.deepMix)({},C8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?m8:s,u=r.stroke,h=u===void 0?x8:u,c=r.playBtnStyle,v=c===void 0?b8:c,g=r.preBtnStyle,C=g===void 0?w8:g,k=r.nextBtnStyle,D=k===void 0?S8:k,G=e/2-5,N=a+10,q=this.group.addShape("rect",{attrs:{x:n,y:N,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:N,r:G}):this.playButton=new y8({group:this.group,x:t/2,y:N+G+5,r:G,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:(0,Qt.__assign)({path:this.getPreMarkerPath(t/2-5*G,N+G+5,G*.5)},C),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,Qt.__assign)({path:this.getPreMarkerPath(t/2-4.5*G,N+G+5,G*.5)},C),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,Qt.__assign)({path:this.getNextMarkerPath(t/2+5*G,N+G+5,G*.5)},D),name:"nextStepBtn"}),this.group.addShape("path",{attrs:(0,Qt.__assign)({path:this.getNextMarkerPath(t/2+4.5*G,N+G+5,G*.5)},D),name:"nextStepBtn"}),q.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,u=0;u<5;u++){var h=t+15+u*(u+1)+o;a.addShape("rect",{attrs:{x:e-(n?Ya:Gs),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var u=0;u<4;u++)a.addShape("rect",{attrs:{x:e-(n?Ya:Gs),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:s[u]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?Ya:Gs)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?Ya:Gs),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-Ya,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-Ya+3,this.speedAxisY[1]+6],["L",r-Ya+7,this.speedAxisY[1]+10],["L",r-Ya+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-Ya+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?Ya:Gs),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),d1=M8,p1="timelinestart",g1="timelineend",za="valueChange",Iu="timebarConfigChanged",Ou="playPauseBtn",ku="nextStepBtn",Bu="preStepBtn",E8={fill:"#416180",opacity:.05},A8={fill:"#416180",opacity:.15,radius:5},_8={fill:"#5B8FF9",opacity:.3,cursor:"move"},oc=2,T8={width:oc,height:24},P8={textBaseline:"middle",fill:"#000",opacity:.45},L8=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(Qe){return function(Sr){t.currentHandler=Qe;var xr=Sr.originalEvent;xr.stopPropagation(),xr.preventDefault(),t.prevX=(0,f.get)(xr,"touches.0.pageX",xr.pageX);var Lr=t.canvas.get("container");Lr.addEventListener("mousemove",t.onMouseMove),Lr.addEventListener("mouseup",t.onMouseUp),Lr.addEventListener("mouseleave",t.onMouseUp),Lr.addEventListener("touchmove",t.onMouseMove),Lr.addEventListener("touchend",t.onMouseUp),Lr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(Qe){Qe.stopPropagation(),Qe.preventDefault();var Sr=(0,f.get)(Qe,"touches.0.pageX",Qe.pageX),xr=Sr-t.prevX,Lr=t.adjustOffsetRange(xr/t.width);t.updateStartEnd(Lr),t.updateUI(),t.prevX=Sr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var Qe=t.canvas.get("container");Qe&&(Qe.removeEventListener("mousemove",t.onMouseMove),Qe.removeEventListener("mouseup",t.onMouseUp),Qe.removeEventListener("mouseleave",t.onMouseUp),Qe.removeEventListener("touchmove",t.onMouseMove),Qe.removeEventListener("touchend",t.onMouseUp),Qe.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,u=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,g=r.controllerCfg,C=g===void 0?{speed:1}:g,k=r.backgroundStyle,D=k===void 0?{}:k,G=r.foregroundStyle,N=G===void 0?{}:G,q=r.handlerStyle,tt=q===void 0?{}:q,bt=r.textStyle,Nt=bt===void 0?{}:bt,Zt=r.start,ee=Zt===void 0?0:Zt,Ht=r.end,le=Ht===void 0?1:Ht,be=r.minText,me=be===void 0?"":be,Ie=r.maxText,Ge=Ie===void 0?"":Ie,Fe=r.group,Je=r.graph,tr=r.canvas,nr=r.ticks,$e=r.type;this.graph=Je,this.canvas=tr,this.group=Fe,this.timeBarType=$e,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=c,this.ticks=nr,this.trendCfg=v,this.controllerCfg=C,this.currentSpeed=C.speed,$e==="trend"?this.backgroundStyle=(0,Qt.__assign)((0,Qt.__assign)({},E8),D):$e==="simple"&&(this.backgroundStyle=(0,Qt.__assign)((0,Qt.__assign)({},A8),D)),this.foregroundStyle=(0,Qt.__assign)((0,Qt.__assign)({},_8),N),this.handlerStyle=(0,Qt.__assign)((0,Qt.__assign)({},T8),tt),this.textStyle=(0,Qt.__assign)((0,Qt.__assign)({},P8),Nt),this.currentMode="range",this.start=ee,this.end=le,this.minText=me,this.maxText=Ge,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,u=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,f.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new c8((0,Qt.__assign)((0,Qt.__assign)({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:(0,Qt.__assign)({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:(0,Qt.__assign)({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,Qt.__assign)({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:(0,Qt.__assign)({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,Qt.__assign)({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:(0,Qt.__assign)({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,f.get)(this.handlerStyle,"width",2),h=(0,f.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new v1((0,Qt.__assign)({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new v1((0,Qt.__assign)({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var g=this.ticks,C=e/(g.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(D){D.destroy()});var k=-Infinity;this.textList=g.map(function(D,G){r.tickPosList.push(r.x+G*C);var N=r.group.addShape("text",{attrs:{x:r.x+G*C,y:r.y+n+5,text:D,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),q=r.group.addShape("line",{attrs:{x1:r.x+G*C,y1:r.y+n+2,x2:r.x+G*C,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),tt=N.getBBox();return tt.minX>k?(N.show(),q.show(),k=tt.minX+tt.width+10):(N.hide(),q.hide()),N}),this.controllerBtnGroup=new d1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Ou+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(ku+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(Bu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Iu,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,f.get)(this.handlerStyle,"width",oc);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(l,u){return r.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(e-n/2),(0,f.each)(s,function(l,u){return r.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit(za,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(za,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,f.get)(this.handlerStyle,"width",oc),o=this.minTextShape,s=this.maxTextShape,l=r[0],u=r[1],h=!1;l>u&&(t=[u,l],l=t[0],u=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),g=null,C=null;return this.timeBarType==="trend"?(g=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},C=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(g=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},C=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"center"}:{x:u+a/2+n,textAlign:"center"}),h?[C,g]:[g,C]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(p1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(g1,null))},i.prototype.destory=function(){this.graph.off(za);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(Ou+":click"),r.off(ku+":click"),r.off(Bu+":click"),r.off(Iu),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),I8=L8,zY={opacity:.5,fill:"#000"},XY={opacity:.5,fill:"#000",r:5},VY={fill:"#fff",fontSize:12},O8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,u=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,g=v===void 0?"#000":v,C=r.textColor,k=C===void 0?"#fff":C,D=r.opacity,G=D===void 0?.8:D,N=r.fontSize,q=N===void 0?12:N;this.container=o,this.className=c,this.backgroundColor=g,this.textColor=k,this.x=e,this.y=a,this.text=s,this.padding=u,this.opacity=G,this.fontSize=q,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,u=r.opacity,h=r.fontSize,c=r.container,v=(0,xi.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+u+'"></div>');(0,f.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,Vn.Z)(v,{visibility:"hidden",top:0,left:0});var g=(0,xi.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");g.innerHTML=s,v.appendChild(g),r.backgroundDOM=g;var C=(0,xi.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(C),r.arrowDOM=C,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,Vn.Z)(t.container,{top:-u-c+"px",left:n+"px",visibility:"visible"}),(0,Vn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Vn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:u+"px"});var v=n-l/2,g=n+l/2;v<0?(0,Vn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):g>t.parentWidth&&(0,Vn.Z)(t.backgroundDOM,{marginLeft:-l/2-g+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Vn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),k8=O8,B8={fill:"#5B8FF9"},D8={fill:"#e6e8e9"},F8=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,u=r.start,h=r.end,c=r.x,v=c===void 0?0:c,g=r.y,C=g===void 0?0:g,k=r.tickLabelFormatter,D=r.selectedTickStyle,G=D===void 0?B8:D,N=r.unselectedTickStyle,q=N===void 0?D8:N,tt=r.tooltipBackgroundColor,bt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=h,this.tickLabelFormatter=k,this.selectedTickStyle=G,this.unselectedTickStyle=q,this.x=v,this.y=C,this.tooltipBackgroundColor=tt,this.tooltipFomatter=bt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,u=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,g=4,C=3*n+g+v,k=e-C-2*n,D=2,G=a.length,N=(c-D*(G-1))/G;this.tickWidth=N;var q=this.sliceGroup,tt=[],bt=[],Nt=Math.round(G*o),Zt=Math.round(G*s);this.startTickRectId=Nt,this.endTickRectId=Zt,a.forEach(function(Ht,le){var be=le>=Nt&&le<=Zt,me=be?u:h,Ie=q.addShape("rect",{attrs:(0,Qt.__assign)({x:n+le*(N+D),y:n,width:N,height:k},me),draggable:!0,name:"tick-rect-"+le}),Ge=q.addShape("rect",{attrs:{x:n+le*N+D*(2*le-1)/2,y:n,width:le===0||le===G-1?N+D/2:N+D,height:k,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+le});Ge.toFront();var Fe=Ie.getBBox(),Je=(Fe.minX+Fe.maxX)/2;tt.push({rect:Ie,pickRect:Ge,value:Ht.date,x:Je,y:Fe.minY});var tr;if(l?(tr=l(Ht),!(0,f.isString)(tr)&&tr&&(tr=Ht.date)):le%Math.round(G/10)==0&&(tr=Ht.date),tr){bt.push(tr);var nr=Fe.maxY+n*2;q.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Je,y1:nr,x2:Je,y2:nr+g}});var $e=nr+g+n,Qe=q.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Je,y:$e,textAlign:"center",text:tr,textBaseline:"top",fontSize:10},capture:!1}),Sr=Qe.getBBox();Sr.maxX>t?Qe.attr("textAlign","right"):Sr.minX<0&&Qe.attr("textAlign","left")}}),this.tickRects=tt;var ee=this.group;this.currentSpeed=1,this.controllerBtnGroup=new d1({group:ee,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var g=r.tickRects,C=r.unselectedTickStyle;g.forEach(function(N){N.rect.attr(C)});var k=r.selectedTickStyle;g[v].rect.attr(k),r.startTickRectId=v,r.endTickRectId=v;var D=g.length,G=v/D;r.graph.emit(za,{value:[G,G]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(N){N.rect.attr(v)});var g=h.target,C=parseInt(g.get("name").split("-")[2],10),k=r.selectedTickStyle;c[C].rect.attr(k),r.startTickRectId=C;var D=c.length,G=C/D;r.graph.emit(za,{value:[G,G]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,g=r.tickRects,C=r.selectedTickStyle,k=r.unselectedTickStyle,D=0;D<g.length;D++){var G=D>=v&&D<=c?C:k;g[D].rect.attr(G)}var N=g.length;r.endTickRectId=c;var q=v/N,tt=c/N;r.graph.emit(za,{value:[q,tt]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var g=r.selectedTickStyle,C=r.tickRects;C[v].rect.attr(g),r.endTickRectId=v;var k=C.length,D=c/k,G=v/k;r.graph.emit(za,{value:[D,G]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new k8({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var g=v.target;if(g.get("type")==="rect"){var C=parseInt(g.get("name").split("-")[2],10),k=o.getClientByPoint(l[C].x,l[C].y);s.show({x:l[C].x,y:l[C].y,clientX:k.x,clientY:k.y,text:a?a(l[C].value):l[C].value})}}),c.on("mouseleave",function(v){s.hide()})});var u=this.group;u.on(Ou+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),u.on(ku+":click",function(){r.updateStartEnd(1)}),u.on(Bu+":click",function(){r.updateStartEnd(-1)}),u.on(Iu,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(p1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(g1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(za,{value:[u,h]})}},i.prototype.destory=function(){this.graph.off(za);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(Ou+":click"),r.off(ku+":click"),r.off(Bu+":click"),r.off(Iu),this.sliceGroup.destroy()},i}(),R8=F8,N8=8,G8=26,Y8=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?u=s:(u=(0,xi.Z)("<div class='"+o+"'></div>"),(0,Vn.Z)(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var h,c=t.get("renderer");c==="SVG"?h=new Bs.Z({container:u,width:n,height:a}):h=new Do.Z({container:u,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,u=t.slider,h=t.controllerCfg,c=l.data,v=(0,Qt.__rest)(l,["data"]),g=e-2*o,C=s==="trend"?G8:N8,k=this.get("graph"),D=this.get("timeBarGroup"),G=this.get("canvas"),N=null;if(s==="trend"||s==="simple")N=new I8((0,Qt.__assign)((0,Qt.__assign)({graph:k,canvas:G,group:D,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:g,height:C,padding:o,trendCfg:(0,Qt.__assign)((0,Qt.__assign)({},v),{data:c.map(function(tt){return tt.value})})},u),{ticks:c.map(function(tt){return tt.date}),handlerStyle:(0,Qt.__assign)((0,Qt.__assign)({},u.handlerStyle),{height:u.height||C}),controllerCfg:h}));else if(s==="tick"){var q=this._cfgs.tick;N=new R8((0,Qt.__assign)({graph:k,canvas:G,group:D,x:n+o,y:a+o},q))}this.set("timebar",N)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),u=Math.round(n.length*e[1]);u=u>=n.length?n.length-1:u;var h=n[l].date,c=n[u].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var g=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=g);var C=this.cacheGraphData.nodes.filter(function(G){return G.date>=h&&G.date<=c}),k=C.map(function(G){return G.id}),D=this.cacheGraphData.edges.filter(function(G){return k.includes(G.source)&&k.includes(G.target)});s.changeData({nodes:C,edges:D})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(za,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Na),z8=Y8;function X8(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var V8=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,xi.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,u=!1,h=0,c=0,v=0,g=0,C=0,k=0;a.addEventListener("mousedown",function(D){if(e.refresh=!1,D.target===o){var G=o.style;v=parseInt(G.width,10),g=parseInt(G.height,10);var N=t.get("width"),q=t.get("height");v>N||g>q||(k=n.getZoom(),C=t.get("ratio"),u=!0,s=D.clientX,l=D.clientY)}},!1),a.addEventListener("mousemove",function(D){if(!(!u||(0,Fi.default)(D.clientX)||(0,Fi.default)(D.clientY))){var G=t.get("width"),N=t.get("height"),q=o.style;h=parseInt(q.left,10),c=parseInt(q.top,10),v=parseInt(q.width,10),g=parseInt(q.height,10);var tt=s-D.clientX,bt=l-D.clientY;h-tt<0?tt=h:h-tt+v>=G&&(tt=0),c-bt<0?bt=c:c-bt+g>=N&&(bt=0),h-=tt,c-=bt,(0,Vn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(tt*k/C,bt*k/C),s=D.clientX,l=D.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),h=u.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],g={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(g.width=v[0],g.height=g.width/l):(g.height=v[1],g.width=g.height*l),g.minX=c[0]-g.width/2,g.minY=c[1]-g.height/2;var C=u.getMatrix();C||(C=[1,0,0,0,1,0,0,0,1]);var k=eo.invert([],C),D=Is({x:g.minX,y:g.minY},k),G=a.getCanvasByPoint(D.x,D.y),N=this.get("viewport");N||this.initViewport();var q=o/g.width,tt=q*e,bt=q*n,Nt=e*-G.x/g.width,Zt=n*-G.y/g.height,ee=Nt+tt,Ht=Zt+bt;Nt<0&&(tt+=Nt,Nt=0),ee>e&&(tt=tt-(ee-e)),Zt<0&&(bt+=Zt,Zt=0),Ht>n&&(bt=bt-(Ht-n)),this.set("ratio",t);var le=Nt+"px",be=Zt+"px";(0,Vn.Z)(N,{left:le,top:be,width:tt+"px",height:bt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),h=t.get("height");!u&&!h&&(u=200),u?(h=o*u,t.set("height",h)):(u=1/o*h,t.set("width",u));var c=(0,xi.Z)("<div class='"+s+"' style='width: "+u+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,Ln.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,xi.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var g=(0,xi.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(g),t.set("containerDOM",v),t.set("containerSpan",g);var C=(0,xi.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",C),t.updateImgSize(),g.appendChild(C),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=X8(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,xi.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Na),H8=V8,y1=.05,m1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},W8=function(i){(0,Qt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,oi.d9)(m1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-y1:a=1/(1-y1);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),u={x:t.x,y:t.y};e.updateDelegate(u,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(G){G.remove(),G.destroy()}),c=[],a.forEach(function(G){var N=G.getModel(),q=N.x,tt=N.y;Os({x:q,y:tt},u)<s&&(o[N.id]=G)});var v=n.getEdges(),g=[];v.forEach(function(G){var N=G.getModel(),q=N.source,tt=N.target;h(N)&&(l==="only-source"||l==="one"?o[q]&&!o[tt]&&g.push(G):l==="only-target"||l==="one"?o[tt]&&!o[q]&&g.push(G):l==="both"&&o[q]&&o[tt]&&g.push(G))});var C=e.get("showNodeLabel"),k=e.get("showEdgelabel"),D=n.get("group");g.forEach(function(G){var N=G.get("group").get("children");N.forEach(function(q){var tt=q.get("type"),bt=D.addShape(tt,{attrs:q.attr()});c.push(bt),C&&tt==="text"&&bt.set("visible",!0)})}),Object.keys(o).forEach(function(G){var N=o[G],q=N.get("group").clone();if(D.add(q),c.push(q),k)for(var tt=q.get("children"),bt=0;bt<tt.length;bt++){var Nt=tt[bt];Nt.get("type")==="text"&&Nt.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(u==="node"||u==="both")&&e.set("showNodeLabel",!0),(u==="edge"||u==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||m1;o=s.addShape("circle",{attrs:(0,Qt.__assign)({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Na),j8=W8,Ji={Menu:Y6,Grid:R6,Minimap:W6,Bundling:Z6,ToolBar:J6,Tooltip:t8,Fisheye:$6,TimeBar:z8,ImageMinimap:H8,EdgeFilterLens:j8};function U8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function x1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&x1(i,n,r,e)}),e.leave({current:r,previous:t})}function b1(i,r,t){var e=null,n=i.findById(r);x1(i,n,e,U8(t))}var Z8=function(){function i(){this.linkedList=new Xx}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),K8=Z8;function $8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var Q8=function(r,t,e){var n=$8(e),a=new K8,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},J8=Q8;function q8(i){for(var r=[],t={},e=[],n=function l(u){e.push(u),t[u.get("id")]=!0;for(var h=u.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function w1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var g=v.getNeighbors("target").filter(function(N){return i.indexOf(N)>-1}),C=0;C<g.length;C++){var k=g[C];!e[k.get("id")]&&e[k.get("id")]!==0?(c(k),n[v.get("id")]=Math.min(n[v.get("id")],n[k.get("id")])):t[k.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[k.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var D=[];r.length>0;){var G=r.pop();if(t[G.get("id")]=!1,D.push(G),G===v)break}D.length>0&&a.push(D)}},l=0,u=i;l<u.length;l++){var h=u[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function S1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?w1(e):q8(e)}var t9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(u){n[u.getID()]=u});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var g=c,C=v;C.getID()!==c.getID();)t[g.getID()]=C,g=C,C=e[C.getID()];t[g.getID()]=C}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];b1(r,l,s)}return t},C1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=S1(r,!1),u=0,h=l;u<h.length;u++){var c=h[u];if(!!c.length)for(var v=c[0],g=v.get("id"),C=[v],k=(n={},n[g]=v,n),D=(a={},a[g]=new Set,a);C.length>0;)for(var G=C.pop(),N=G.get("id"),q=G.getNeighbors(),tt=0;tt<q.length;tt+=1){var bt=q[tt],Nt=bt.get("id");if(Nt===N)s.push((o={},o[bt.getID()]=G,o));else if(!(Nt in D))k[Nt]=G,C.push(bt),D[Nt]=new Set([G]);else if(!D[N].has(bt)){for(var Zt=!0,ee=[bt,G],Ht=k[N];D[Nt].size&&!D[Nt].has(Ht)&&(ee.push(Ht),Ht!==k[Ht.getID()]);)Ht=k[Ht.getID()];if(ee.push(Ht),t&&e?(Zt=!1,ee.findIndex(function(me){return t.indexOf(me.get("id"))>-1})>-1&&(Zt=!0)):t&&!e&&ee.findIndex(function(me){return t.indexOf(me.get("id"))>-1})>-1&&(Zt=!1),Zt){for(var le={},be=1;be<ee.length;be+=1)le[ee[be-1].getID()]=ee[be];ee.length&&(le[ee[ee.length-1].getID()]=ee[0]),s.push(le)}D[Nt].add(G)}}}return s},M1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},h=function(le){for(var be=[le];be.length>0;){var me=be.pop();a.has(me)&&(a.delete(me),o[me.get("id")].forEach(function(Ie){be.push(Ie)}),o[me.get("id")].clear())}},c=function Ht(le,be,me){var Ie=!1;if(t&&e===!1&&t.indexOf(le.get("id"))>-1)return Ie;n.push(le),a.add(le);for(var Ge=me[le.getID()],Fe=0;Fe<Ge.length;Fe+=1){var Je=l[Ge[Fe]];if(Je===be){for(var tr={},nr=1;nr<n.length;nr+=1)tr[n[nr-1].getID()]=n[nr];n.length&&(tr[n[n.length-1].getID()]=n[0]),s.push(tr),Ie=!0}else a.has(Je)||Ht(Je,be,me)&&(Ie=!0)}if(Ie)h(le);else for(var Fe=0;Fe<Ge.length;Fe+=1){var Je=l[Ge[Fe]];o[Je.get("id")].has(le)||o[Je.get("id")].add(le)}return n.pop(),Ie},v=r.getNodes(),g=0;g<v.length;g+=1){var C=v[g],k=C.getID();u[k]=g,l[g]=C}if(t&&e)for(var g=0;g<t.length;g++){var k=t[g];u[v[g].getID()]=u[k],u[k]=0,l[0]=r.findById(k),l[u[v[g].getID()]]=v[g]}for(var D=function(le){for(var be,me,Ie=Infinity,Ge=0;Ge<le.length;Ge+=1)for(var Fe=le[Ge],Je=0;Je<Fe.length;Je++){var tr=u[Fe[Je].getID()];tr<Ie&&(Ie=tr,me=Ge)}for(var nr=le[me],$e=[],Ge=0;Ge<nr.length;Ge+=1){var Qe=nr[Ge];$e[Qe.getID()]=[];for(var Sr=0,xr=Qe.getNeighbors("target").filter(function(Er){return nr.indexOf(Er)>-1});Sr<xr.length;Sr++){var Lr=xr[Sr];Lr===Qe&&!(e===!1&&t.indexOf(Qe.getId())>-1)?s.push((be={},be[Qe.getID()]=Qe,be)):$e[Qe.getID()].push(u[Lr.getID()])}}return{component:nr,adjList:$e,minIdx:Ie}},G=0;G<v.length;){var N=v.filter(function(Ht){return u[Ht.getID()]>=G}),q=w1(N).filter(function(Ht){return Ht.length>1});if(q.length===0)break;var tt=D(q),bt=tt.minIdx,Nt=tt.adjList,Zt=tt.component;if(Zt.length>1){Zt.forEach(function(Ht){o[Ht.get("id")]=new Set});var ee=l[bt];if(t&&e&&t.indexOf(ee.get("id"))===-1)return s;c(ee,ee,Nt),G=bt+1}else break}return s},e9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?M1(r,e,n):C1(r,e,n)},r9=t9,n9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},u={};a.forEach(function(D,G){var N=D.getID();o.push(N),l[N]=Infinity,N===t&&(l[N]=0)});for(var h=a.length,c=function(G){var N=i9(l,a,s),q=N.get("id");if(s[q]=!0,l[q]===Infinity)return"continue";var tt=[];e?tt=N.getOutEdges():tt=N.getEdges(),tt.forEach(function(bt){var Nt=bt.getTarget().getID(),Zt=bt.getSource().getID(),ee=Nt===q?Zt:Nt,Ht=n&&bt.getModel()[n]?bt.getModel()[n]:1;l[ee]>l[N.get("id")]+Ht&&(l[ee]=l[N.get("id")]+Ht,u[ee]=N.get("id"))})},v=0;v<h;v++)c(v);var g={};for(var C in l){g[C]=[C];for(var k=u[C];k!==void 0;)g[C].unshift(k),k=u[k]}return{length:l,path:g}};function i9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var a9=n9,o9=function(r,t,e,n,a){(0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e));var o=a9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},s9=function(r,t,e,n){var a;if((0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],u=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(k){return!s[k.get("id")]})))}else{var g=o.pop();s[g.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var C=o.map(function(D){return D.get("id")});u.push(C);var g=o.pop();s[g.get("id")]=!1,l.pop()}}return u},l9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),u9=l9,f9=function(r,t){return r-t},h9=function(){function i(r){r===void 0&&(r=f9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),c9=h9,v9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(g,C){return t?g.getModel()[t]-C.getModel()[t]:0},l=new c9(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var u=l.delMin(),h=u.getSource(),c=u.getTarget();o.has(h)&&o.has(c)||(e.push(u),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},E1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(u){return u});t&&n.sort(function(u,h){return u.getModel()[t]-h.getModel()[t]});for(var a=new u9(r.getNodes().map(function(u){return u.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function d9(i,r,t){var e={prim:v9,kruskal:E1};return t?e[t](i,r):E1(i,r)}var p9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,u,h={},c={},v=0;v<l;++v){var g=s[v],C=g.get("id");h[C]=1/l,c[C]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var g=s[v],C=g.get("id");if(u=0,r.getNodeDegree(g,"in")===0)h[C]=0;else{for(var k=g.getNeighbors("source"),D=0;D<k.length;++D){var G=k[D],N=r.getNodeDegree(G,"out");N>0&&(u+=c[G.get("id")]/N)}h[C]=e*u,a+=h[C]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var g=s[v],C=g.get("id");u=h[C]+a,n+=Math.abs(u-c[C]),c[C]=u}o-=1}return c},g9=p9,HY=ss.registerNode,WY=ss.registerEdge,jY=ss.registerCombo,UY=Qm.registerBehavior,ZY=Rs.registerLayout,KY=Ji.Minimap,$Y=Ji.Grid,QY=Ji.Bundling,JY=Ji.Menu,y9=Ji.Fisheye,qY=Ji.ToolBar,tz=Ji.Tooltip,m9=Ji.TimeBar,x9=Ji.ImageMinimap,b9=Ji.EdgeFilterLens,Wi={version:J5.i8,Graph:Kx,TreeGraph:r6,Util:B6,registerNode:ss.registerNode,registerEdge:ss.registerEdge,registerCombo:ss.registerCombo,registerBehavior:Qm.registerBehavior,registerLayout:Rs.registerLayout,Layout:Rs,Global:Ke,Minimap:Ji.Minimap,Grid:Ji.Grid,Bundling:Ji.Bundling,Menu:Ji.Menu,ToolBar:Ji.ToolBar,Tooltip:Ji.Tooltip,TimeBar:m9,Fisheye:y9,ImageMinimap:x9,EdgeFilterLens:b9,Algorithm:dt,Arrow:L6,Marker:I6};function A1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Xa(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?A1(Object(t),!0).forEach(function(e){w9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):A1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function w9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Wi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Xa({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,u,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);u=t.addShape("text",{attrs:Xa(Xa({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=u?u.getBBox():{height:n[1]/2},g=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u&&u.toFront();var C;r.children&&(C=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Wi.Marker.expand:Wi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var k=r&&r.description?r.description:void 0,D=g.getBBox(),G;if(k&&(G=t.addShape("text",{attrs:Xa({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+D.height+8,text:k},h),name:"description"})),G){var N,q=G.getBBox(),tt=D.height+16+q.height,bt=n[0]>q.width+16?n[0]:q.width+16;s.attr({width:bt,height:tt}),g==null||g.attr("width",bt),(N=C)===null||N===void 0||N.attr({x:bt-n[0]/2,y:tt/2-n[1]/2})}return s},update:void 0},"single-node"),Wi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:Xa({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var S9=function(r){Wi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Xa(Xa({},a),{},{x:0,y:0})}),u={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(u=Object.assign({},u,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:Xa({x:1,y:1,width:38,height:a.height-2},u)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Wi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Wi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:Xa(Xa({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Wi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,u={x:e.x+o,y:n.y+l},h={x:u.x+s,y:n.y},c={x:(u.x-e.x)*(n.y-e.y)/(u.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",u.x,u.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var g=r||{},C=g.style,k=t.addShape("path",{attrs:{path:v,stroke:C.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:C.lineWidth||1.2,endArrow:!1},name:"path-shape"}),D=0,G=8,N;if(r.label&&(N=t.addShape("text",{attrs:{text:r.label,x:h.x+D,y:n.y-G-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var q=N?N.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+D,y:n.y-G-q.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+D,y:n.y+G+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),k},update:void 0},"single-edge"),Wi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function _1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function C9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_1(Object(t),!0).forEach(function(e){M9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):_1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function M9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var E9={show:!1,size:[150,100],type:"keyShape"},Ys=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},zs=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(E9,r),n=new Wi.Minimap(C9({},e));return t.addPlugin(n),n}};function Du(i,r,t){var e=(0,X.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,u=r.edgeStyle,h=r.width,c=r.height,v=r.layout,g=r.minimapCfg,C=r.behaviors,k=r.nodeLabelCfg,D=r.edgeLabelCfg,G;return(0,X.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,X.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(N){i.updateItem(N,{type:s,style:a,anchorPoints:o,labelCfg:k})})},[a,o,s]),(0,X.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(N){i.updateItem(N,{type:l,style:u,labelCfg:D})})},[u,l]),(0,X.useEffect)(function(){if(i&&!i.destroyed){var N=Ys(h,c,t);i.changeSize(N[0],N[1])}},[t,h,c]),(0,X.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,X.useEffect)(function(){if(!(!g||!i||i.destroyed))if(g.show)G=zs(g,i),G&&G.updateCanvas();else{var N=i.get("plugins")[0];N&&i.removePlugin(N)}},[g]),(0,X.useEffect)(function(){if(i&&!i.destroyed){var N=i.get("modes"),q=N.default,tt=[];q.forEach(function(bt){(0,f.isObject)(bt)?tt.push(bt.type):(0,f.isString)(bt)&&tt.push(bt)}),i.removeBehaviors(tt,"default"),i.addBehaviors(C,"default")}},[C]),(0,X.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var T1={hover:{stroke:"#1890ff",lineWidth:2}},A9={fill:"#91d5ff",stroke:"#40a9ff",radius:5},_9={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},T9={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},P1={style:{fill:"#000",fontSize:12}},Gn,P9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,u=r.edgeType,h=u===void 0?"flow-line":u,c=r.collapseExpand,v=c===void 0?!1:c,g=r.nodeSize,C=g===void 0?[120,40]:g,k=r.nodeLabelCfg,D=k===void 0?P1:k,G=r.edgeLabelCfg,N=G===void 0?P1:G,q=r.layout,tt=q===void 0?T9:q,bt=r.enableEdit,Nt=bt===void 0?!1:bt,Zt=r.minimapCfg,ee=r.nodeStyle,Ht=ee===void 0?A9:ee,le=r.edgeStyle,be=le===void 0?_9:le,me=r.nodeStateStyles,Ie=me===void 0?T1:me,Ge=r.edgeStateStyles,Fe=Ge===void 0?T1:Ge,Je=r.handleNodeClick,tr=r.handleEdgeClick,nr=r.handleNodeHover,$e=r.handleNodeUnHover,Qe=r.handleEdgeHover,Sr=r.handleEdgeUnHover,xr=r.handleCanvasClick,Lr=r.graphRef,ar={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:C,nodeLabelCfg:D,edgeLabelCfg:N,layout:tt,enableEdit:Nt,minimapCfg:Zt,nodeStyle:Ht,edgeStyle:be,nodeStateStyles:Ie,edgeStateStyles:Fe,handleNodeClick:Je,handleEdgeClick:tr,handleNodeHover:nr,handleNodeUnHover:$e,handleEdgeHover:Qe,handleEdgeUnHover:Sr,handleCanvasClick:xr,graphRef:Lr},Er=X.useRef(null);return Du(Gn,ar,Er),(0,X.useEffect)(function(){var Gr=Ys(a,o,Er);return(!Gn||Gn.destroyed)&&(l==="icon-node"&&S9({enableEdit:Nt}),Gn=new Wi.TreeGraph({container:Er.current,width:Gr[0],height:Gr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:C,style:Ht,labelCfg:D},defaultEdge:{type:h,style:be,labelCfg:N},nodeStateStyles:Ie,edgeStateStyles:Fe,layout:tt}),Lr&&(Lr.current=Gn)),zs(Zt,Gn),Gn.data(t),Gn.render(),Gn.fitView(),v&&Gn.addBehaviors({type:"collapse-expand",onChange:function(_r,Hr){if(!_r)return!1;var sn=_r.get("model").data;return sn.collapsed=Hr,!0}},"default"),Gn.on("node:mouseenter",function(Tr){var _r=Tr.item;Gn.setItemState(_r,"hover",!0),nr&&nr(_r,Gn)}),Gn.on("node:mouseleave",function(Tr){var _r=Tr.item;Gn.setItemState(_r,"hover",!1),$e&&$e(_r,Gn)}),Gn.on("node:click",function(Tr){var _r=Tr.item,Hr=Tr.target,sn=Hr.get("type"),Dr=Hr.get("name");if(sn==="marker"){var Ve=_r.getModel();if(Dr==="add-item"){Ve.children||(Ve.children=[]);var ur=Math.random().toString(36).slice(-8);Ve.children.push({id:ur,label:ur}),Gn.updateChild(Ve,Ve.id)}else Dr==="remove-item"&&Gn.removeChild(Ve.id)}else Je&&Je(_r,Gn)}),Gn.on("edge:mouseenter",function(Tr){var _r=Tr.item;Gn.setItemState(_r,"hover",!0),Qe&&Qe(_r,Gn)}),Gn.on("edge:mouseleave",function(Tr){var _r=Tr.item;Gn.setItemState(_r,"hover",!1),Sr&&Sr(_r,Gn)}),Gn.on("edge:click",function(Tr){var _r=Tr.item;tr&&tr(_r,Gn)}),Gn.on("canvas:click",function(Tr){xr&&xr(Gn)}),function(){return Gn.destroy()}},[]),X.createElement(cn,null,X.createElement("div",{className:e,style:n,ref:Er}))},L9=P9,L1={hover:{stroke:"#1890ff",lineWidth:2}},I9=[120,40],O9={stroke:"#40a9ff"},k9=[[.5,0],[.5,1]],B9={stroke:"#91d5ff",endArrow:{path:Wi.Arrow.vee(10,10),fill:"#91d5ff"}},D9={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},I1={style:{fill:"#000",fontSize:12}},Qn,F9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,u=r.edgeType,h=u===void 0?"polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?I9:g,k=r.nodeLabelCfg,D=k===void 0?I1:k,G=r.edgeLabelCfg,N=G===void 0?I1:G,q=r.nodeAnchorPoints,tt=q===void 0?k9:q,bt=r.layout,Nt=bt===void 0?D9:bt,Zt=r.minimapCfg,ee=r.nodeStyle,Ht=ee===void 0?O9:ee,le=r.edgeStyle,be=le===void 0?B9:le,me=r.nodeStateStyles,Ie=me===void 0?L1:me,Ge=r.edgeStateStyles,Fe=Ge===void 0?L1:Ge,Je=r.handleEdgeClick,tr=r.handleEdgeHover,nr=r.handleEdgeUnHover,$e=r.handleNodeClick,Qe=r.handleNodeHover,Sr=r.handleNodeUnHover,xr=r.handleCanvasClick,Lr=r.graphRef,ar={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:D,edgeLabelCfg:N,nodeAnchorPoints:tt,layout:Nt,minimapCfg:Zt,nodeStyle:Ht,edgeStyle:be,nodeStateStyles:Ie,edgeStateStyles:Fe,handleEdgeClick:Je,handleEdgeHover:tr,handleEdgeUnHover:nr,handleNodeClick:$e,handleNodeHover:Qe,handleNodeUnHover:Sr,handleCanvasClick:xr,graphRef:Lr},Er=X.useRef(null);return Du(Qn,ar,Er),(0,X.useEffect)(function(){var Gr=Ys(a,o,Er);return(!Qn||Qn.destroyed)&&(Qn=new Wi.Graph({container:Er.current,width:Gr[0],height:Gr[1],modes:{default:v},defaultNode:{type:l,size:C,style:Ht,anchorPoints:tt,labelCfg:D},defaultEdge:{type:h,style:be,labelCfg:N},nodeStateStyles:Ie,edgeStateStyles:Fe,layout:Nt}),Lr&&(Lr.current=Qn)),zs(Zt,Qn),Qn.data(t),Qn.render(),Qn.fitView(),Qn.on("edge:mouseenter",function(Tr){var _r=Tr.item;Qn.setItemState(_r,"hover",!0),tr&&tr(_r,Qn)}),Qn.on("node:mouseenter",function(Tr){var _r=Tr.item;Qn.setItemState(_r,"hover",!1),Qe&&Qe(_r,Qn)}),Qn.on("edge:mouseleave",function(Tr){var _r=Tr.item;Qn.setItemState(_r,"hover",!1),nr&&nr(_r,Qn)}),Qn.on("node:mouseleave",function(Tr){var _r=Tr.item;Qn.setItemState(_r,"hover",!1),Sr&&Sr(_r,Qn)}),Qn.on("edge:click",function(Tr){var _r=Tr.item;Je&&Je(_r,Qn)}),Qn.on("node:click",function(Tr){var _r=Tr.item;$e&&$e(_r,Qn)}),Qn.on("canvas:click",function(Tr){xr&&xr(Qn)}),function(){return Qn.destroy()}},[]),X.createElement(cn,null,X.createElement("div",{className:e,style:n,ref:Er}))},R9=F9,O1={hover:{stroke:"#1890ff",lineWidth:2}},N9=[150,30],G9={stroke:"#72CC4A",fill:"#f00"},Y9=[[.5,0],[.5,1]],z9={stroke:"#91d5ff",endArrow:{path:Wi.Arrow.vee(10,10),fill:"#91d5ff"}},X9={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},k1={style:{fill:"#000000A6",fontSize:10}},jn,V9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,u=r.edgeType,h=u===void 0?"fund-polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?N9:g,k=r.nodeLabelCfg,D=k===void 0?k1:k,G=r.edgeLabelCfg,N=G===void 0?k1:G,q=r.nodeAnchorPoints,tt=q===void 0?Y9:q,bt=r.layout,Nt=bt===void 0?X9:bt,Zt=r.minimapCfg,ee=r.nodeStyle,Ht=ee===void 0?G9:ee,le=r.edgeStyle,be=le===void 0?z9:le,me=r.nodeStateStyles,Ie=me===void 0?O1:me,Ge=r.edgeStateStyles,Fe=Ge===void 0?O1:Ge,Je=r.colorMap,tr=Je===void 0?{}:Je,nr=r.handleEdgeClick,$e=r.handleEdgeHover,Qe=r.handleEdgeUnHover,Sr=r.handleNodeClick,xr=r.handleNodeHover,Lr=r.handleNodeUnHover,ar=r.handleCanvasClick,Er=r.graphRef,Gr=X.useRef(null),Tr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:D,edgeLabelCfg:N,nodeAnchorPoints:tt,layout:Nt,minimapCfg:Zt,nodeStyle:Ht,edgeStyle:be,nodeStateStyles:Ie,edgeStateStyles:Fe,colorMap:tr,handleEdgeClick:nr,handleEdgeHover:$e,handleEdgeUnHover:Qe,handleNodeClick:Sr,handleNodeHover:xr,handleNodeUnHover:Lr,handleCanvasClick:ar,graphRef:Er};return Du(jn,Tr,Gr),(0,X.useEffect)(function(){var _r=Ys(a,o,Gr);(!jn||jn.destroyed)&&(jn=new Wi.Graph({container:Gr.current,width:_r[0],height:_r[1],modes:{default:v},defaultNode:{type:l,size:C,style:Ht,anchorPoints:tt,labelCfg:D},defaultEdge:{type:h,style:be,colorMap:tr,labelCfg:N},nodeStateStyles:Ie,edgeStateStyles:Fe,layout:Nt}),Er&&(Er.current=jn)),zs(Zt,jn),jn.data(t),jn.render();var Hr=jn.getEdges();return Hr.forEach(function(sn){var Dr=sn.getKeyShape(),Ve=Dr.attr("stroke"),ur=sn.getTarget();ur.update({style:{stroke:Ve}})}),jn.fitView(),jn.on("edge:mouseenter",function(sn){var Dr=sn.item;jn.setItemState(Dr,"hover",!0),$e&&$e(Dr,jn)}),jn.on("edge:mouseleave",function(sn){var Dr=sn.item;jn.setItemState(Dr,"hover",!1),Qe&&Qe(Dr,jn)}),jn.on("edge:click",function(sn){var Dr=sn.item;nr&&nr(Dr,jn)}),jn.on("node:mouseenter",function(sn){var Dr=sn.item;jn.setItemState(Dr,"hover",!1),xr&&xr(Dr,jn)}),jn.on("node:mouseleave",function(sn){var Dr=sn.item;jn.setItemState(Dr,"hover",!1),Lr&&Lr(Dr,jn)}),jn.on("node:click",function(sn){var Dr=sn.item;Sr&&Sr(Dr,jn)}),jn.on("canvas:click",function(sn){ar&&ar(jn)}),function(){return jn.destroy()}},[]),X.createElement(cn,null,X.createElement("div",{className:e,style:n,ref:Gr}))},H9=V9,B1={hover:{stroke:"#1890ff",lineWidth:2}},W9=[120,40],j9={stroke:"#40a9ff"},U9=[[0,.5],[1,.5]],Z9={stroke:"#ccc",endArrow:{path:Wi.Arrow.vee(10,10),fill:"#ccc"}},K9={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},$9={style:{fill:"#000",fontSize:12}},Hn,Q9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,u=r.edgeType,h=u===void 0?"cubic-horizontal":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,C=g===void 0?W9:g,k=r.nodeLabelCfg,D=k===void 0?$9:k,G=r.nodeAnchorPoints,N=G===void 0?U9:G,q=r.layout,tt=q===void 0?K9:q,bt=r.minimapCfg,Nt=r.nodeStyle,Zt=Nt===void 0?j9:Nt,ee=r.edgeStyle,Ht=ee===void 0?Z9:ee,le=r.nodeStateStyles,be=le===void 0?B1:le,me=r.edgeStateStyles,Ie=me===void 0?B1:me,Ge=r.collapseExpand,Fe=Ge===void 0?!0:Ge,Je=r.handleEdgeClick,tr=r.handleEdgeHover,nr=r.handleEdgeUnHover,$e=r.handleNodeClick,Qe=r.handleNodeHover,Sr=r.handleNodeUnHover,xr=r.handleCanvasClick,Lr=r.graphRef,ar=X.useRef(null),Er={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:C,nodeLabelCfg:D,nodeAnchorPoints:N,layout:tt,minimapCfg:bt,nodeStyle:Zt,edgeStyle:Ht,nodeStateStyles:be,edgeStateStyles:Ie,collapseExpand:Fe,handleEdgeClick:Je,handleEdgeHover:tr,handleEdgeUnHover:nr,handleNodeClick:$e,handleNodeHover:Qe,handleNodeUnHover:Sr,handleCanvasClick:xr,graphRef:Lr};return Du(Hn,Er,ar),(0,X.useEffect)(function(){var Gr=Ys(a,o,ar);return(!Hn||Hn.destroyed)&&(Hn=new Wi.TreeGraph({container:ar.current,width:Gr[0],height:Gr[1],modes:{default:v},defaultNode:{type:l,size:C,style:Zt,anchorPoints:N,labelCfg:D},defaultEdge:{type:h,style:Ht},nodeStateStyles:be,edgeStateStyles:Ie,layout:tt}),Lr&&(Lr.current=Hn)),zs(bt,Hn),Hn.data(t),Hn.render(),Hn.fitView(),Fe&&Hn.on("node:click",function(Tr){var _r=Tr.item;Tr.target.get("name")==="collapse-icon"?(Hn.updateItem(_r,{collapsed:!_r.getModel().collapsed}),Hn.layout()):$e&&$e(_r,Hn)}),Hn.on("edge:mouseenter",function(Tr){var _r=Tr.item;Hn.setItemState(_r,"hover",!0),tr&&tr(_r,Hn)}),Hn.on("edge:mouseleave",function(Tr){var _r=Tr.item;Hn.setItemState(_r,"hover",!1),nr&&nr(_r,Hn)}),Hn.on("edge:click",function(Tr){var _r=Tr.item;Je&&Je(_r,Hn)}),Hn.on("node:mouseenter",function(Tr){var _r=Tr.item;Hn.setItemState(_r,"hover",!1),Qe&&Qe(_r,Hn)}),Hn.on("node:mouseleave",function(Tr){var _r=Tr.item;Hn.setItemState(_r,"hover",!1),Sr&&Sr(_r,Hn)}),Hn.on("canvas:click",function(Tr){xr&&xr(Hn)}),function(){return Hn.destroy()}},[]),X.createElement(cn,null,X.createElement("div",{className:e,style:n,ref:ar}))},J9=Q9,ez={Area:ID,Bar:BD,Bubble:RD,Bullet:YD,Calendar:HD,Column:g0,ColumnLine:KD,DensityHeatmap:JD,Donut:b0,DualLine:nF,FanGauge:oF,Funnel:fF,Gauge:vF,GroupedBar:gF,GroupedColumn:xF,GroupedColumnLine:SF,GroupedRose:EF,Heatmap:TF,Histogram:IF,Line:I0,Liquid:FF,MeterGauge:GF,PercentStackedArea:XF,PercentStackedBar:WF,PercentStackedColumn:ZF,Pie:QF,Progress:G0,Radar:r5,RangeBar:a5,RangeColumn:l5,RingProgress:H0,Rose:v5,Scatter:g5,StackedArea:x5,StackedBar:S5,StackedColumn:E5,StackedColumnLine:T5,StackedRose:I5,StepLine:B5,TinyArea:tm,TinyColumn:rm,TinyLine:z5,Treemap:H5,Waterfall:U5,WordCloud:Q5,OrganizationTreeGraph:L9,DagreGraph:R9,IndentedTree:J9,DagreFundFlowGraph:H9,G2:T}},64335:function(mt,S,d){"use strict";var m=d(67294),L=(0,m.createContext)({});S.Z=L},21349:function(mt,S,d){"use strict";var m=d(84305),L=d(75901),I=d(94184),P=d.n(I),T=d(67294),_=d(64335),M=d(53645),E=d.n(M),p=function(y){var w=(0,T.useContext)(_.Z),x=y.children,A=y.contentWidth,O=y.className,B=y.style,R=(0,T.useContext)(L.ZP.ConfigContext),Y=R.getPrefixCls,j=y.prefixCls||Y("pro"),V=A||w.contentWidth,nt="".concat(j,"-grid-content");return T.createElement("div",{className:P()(nt,O,{wide:V==="Fixed"}),style:B},T.createElement("div",{className:"".concat(j,"-grid-content-children")},x))};S.Z=p},89939:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(15623),I=function(){function P(T){var _=T.xField,M=T.yField,E=T.adjustNames,p=E===void 0?["x","y"]:E,b=T.dimValuesMap;this.adjustNames=p,this.xField=_,this.yField=M,this.dimValuesMap=b}return P.prototype.isAdjust=function(T){return this.adjustNames.indexOf(T)>=0},P.prototype.getAdjustRange=function(T,_,M){var E=this.yField,p=M.indexOf(_),b=M.length,y,w;return!E&&this.isAdjust("y")?(y=0,w=1):b>1?(y=M[p===0?0:p-1],w=M[p===b-1?b-1:p+1],p!==0?y+=(_-y)/2:y-=(w-_)/2,p!==b-1?w-=(w-_)/2:w+=(_-M[b-2])/2):(y=_===0?0:_-.5,w=_===0?1:_+.5),{pre:y,next:w}},P.prototype.adjustData=function(T,_){var M=this,E=this.getDimValues(_);m.each(T,function(p,b){m.each(E,function(y,w){M.adjustDim(w,y,p,b)})})},P.prototype.groupData=function(T,_){return m.each(T,function(M){M[_]===void 0&&(M[_]=L.DEFAULT_Y)}),m.groupBy(T,_)},P.prototype.adjustDim=function(T,_,M,E){},P.prototype.getDimValues=function(T){var _=this,M=_.xField,E=_.yField,p=m.assign({},this.dimValuesMap),b=[];if(M&&this.isAdjust("x")&&b.push(M),E&&this.isAdjust("y")&&b.push(E),b.forEach(function(w){p&&p[w]||(p[w]=m.valuesOfKey(T,w).sort(function(x,A){return x-A}))}),!E&&this.isAdjust("y")){var y="y";p[y]=[L.DEFAULT_Y,1]}return p},P}();S.default=I},15623:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},28014:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var m=d(60153),L=d(89939);S.Adjust=L.default;var I={},P=function(_){return I[_.toLowerCase()]};S.getAdjust=P;var T=function(_,M){if(P(_))throw new Error("Adjust type '"+_+"' existed.");I[_.toLowerCase()]=M};S.registerAdjust=T,m.__exportStar(d(48551),S)},48551:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},21392:function(mt,S,d){"use strict";d.r(S),d.d(S,{Attribute:function(){return P},Color:function(){return E},Opacity:function(){return b},Position:function(){return w},Scale:function(){return R.Scale},Shape:function(){return A},Size:function(){return B},getAttribute:function(){return j},registerAttribute:function(){return V}});var m=d(49242),L=function(nt,ct){return(0,m.isString)(ct)?ct:nt.invert(nt.scale(ct))},I=function(){function nt(ct){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(ct)}return nt.prototype.mapping=function(){for(var ct=this,ut=[],Pt=0;Pt<arguments.length;Pt++)ut[Pt]=arguments[Pt];var Gt=ut.map(function(qt,Rt){return ct._toOriginParam(qt,ct.scales[Rt])});return this.callback.apply(this,Gt)},nt.prototype.getLinearValue=function(ct){var ut=this.values.length-1,Pt=Math.floor(ut*ct),Gt=ut*ct-Pt,qt=this.values[Pt],Rt=Pt===ut?qt:this.values[Pt+1];return qt+(Rt-qt)*Gt},nt.prototype.getNames=function(){for(var ct=this.scales,ut=this.names,Pt=Math.min(ct.length,ut.length),Gt=[],qt=0;qt<Pt;qt+=1)Gt.push(ut[qt]);return Gt},nt.prototype.getFields=function(){return this.scales.map(function(ct){return ct.field})},nt.prototype.getScale=function(ct){return this.scales[this.names.indexOf(ct)]},nt.prototype.defaultCallback=function(){for(var ct=this,ut=[],Pt=0;Pt<arguments.length;Pt++)ut[Pt]=arguments[Pt];return ut.length===0?this.values:ut.map(function(Gt,qt){var Rt=ct.scales[qt];return Rt.type==="identity"?Rt.values[0]:ct._getAttributeValue(Rt,Gt)})},nt.prototype._parseCfg=function(ct){var ut=this,Pt=ct.type,Gt=Pt===void 0?"base":Pt,qt=ct.names,Rt=qt===void 0?[]:qt,at=ct.scales,vt=at===void 0?[]:at,ot=ct.values,Et=ot===void 0?[]:ot,dt=ct.callback;this.type=Gt,this.scales=vt,this.values=Et,this.names=Rt,this.callback=function(){for(var X=[],$=0;$<arguments.length;$++)X[$]=arguments[$];if(dt){var H=dt.apply(void 0,X);if(!(0,m.isNil)(H))return[H]}return ut.defaultCallback.apply(ut,X)}},nt.prototype._getAttributeValue=function(ct,ut){if(ct.isCategory&&!this.linear){var Pt=ct.translate(ut);return this.values[Pt%this.values.length]}var Gt=ct.scale(ut);return this.getLinearValue(Gt)},nt.prototype._toOriginParam=function(ct,ut){return ut.isLinear?ct:(0,m.isArray)(ct)?ct.map(function(Pt){return L(ut,Pt)}):L(ut,ct)},nt}(),P=I,T=d(60153),_=d(55223),M=function(nt){(0,T.__extends)(ct,nt);function ct(ut){var Pt=nt.call(this,ut)||this;return Pt.type="color",Pt.names=["color"],(0,m.isString)(Pt.values)&&(Pt.linear=!0),Pt.gradient=_.default.gradient(Pt.values),Pt}return ct.prototype.getLinearValue=function(ut){return this.gradient(ut)},ct}(P),E=M,p=function(nt){(0,T.__extends)(ct,nt);function ct(ut){var Pt=nt.call(this,ut)||this;return Pt.type="opacity",Pt.names=["opacity"],Pt}return ct}(P),b=p,y=function(nt){(0,T.__extends)(ct,nt);function ct(ut){var Pt=nt.call(this,ut)||this;return Pt.names=["x","y"],Pt.type="position",Pt}return ct.prototype.mapping=function(ut,Pt){var Gt=this.scales,qt=Gt[0],Rt=Gt[1];return(0,m.isNil)(ut)||(0,m.isNil)(Pt)?[]:[(0,m.isArray)(ut)?ut.map(function(at){return qt.scale(at)}):qt.scale(ut),(0,m.isArray)(Pt)?Pt.map(function(at){return Rt.scale(at)}):Rt.scale(Pt)]},ct}(P),w=y,x=function(nt){(0,T.__extends)(ct,nt);function ct(ut){var Pt=nt.call(this,ut)||this;return Pt.type="shape",Pt.names=["shape"],Pt}return ct.prototype.getLinearValue=function(ut){var Pt=Math.round((this.values.length-1)*ut);return this.values[Pt]},ct}(P),A=x,O=function(nt){(0,T.__extends)(ct,nt);function ct(ut){var Pt=nt.call(this,ut)||this;return Pt.type="size",Pt.names=["size"],Pt}return ct}(P),B=O,R=d(2443),Y={},j=function(nt){return Y[nt.toLowerCase()]},V=function(nt,ct){if(j(nt))throw new Error("Attribute type '"+nt+"' existed.");Y[nt.toLowerCase()]=ct};V("Color",E),V("Opacity",b),V("Position",w),V("Shape",A),V("Size",B)},74839:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=function(P,T){return m.isString(T)?T:P.invert(P.scale(T))},I=function(){function P(T){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(T)}return P.prototype.mapping=function(){for(var T=this,_=[],M=0;M<arguments.length;M++)_[M]=arguments[M];var E=_.map(function(p,b){return T._toOriginParam(p,T.scales[b])});return this.callback.apply(this,E)},P.prototype.getLinearValue=function(T){var _=this.values.length-1,M=Math.floor(_*T),E=_*T-M,p=this.values[M],b=M===_?p:this.values[M+1];return p+(b-p)*E},P.prototype.getNames=function(){for(var T=this.scales,_=this.names,M=Math.min(T.length,_.length),E=[],p=0;p<M;p+=1)E.push(_[p]);return E},P.prototype.getFields=function(){return this.scales.map(function(T){return T.field})},P.prototype.getScale=function(T){return this.scales[this.names.indexOf(T)]},P.prototype.defaultCallback=function(){for(var T=this,_=[],M=0;M<arguments.length;M++)_[M]=arguments[M];return _.length===0?this.values:_.map(function(E,p){var b=T.scales[p];return b.type==="identity"?b.values[0]:T._getAttributeValue(b,E)})},P.prototype._parseCfg=function(T){var _=this,M=T.type,E=M===void 0?"base":M,p=T.names,b=p===void 0?[]:p,y=T.scales,w=y===void 0?[]:y,x=T.values,A=x===void 0?[]:x,O=T.callback;this.type=E,this.scales=w,this.values=A,this.names=b,this.callback=function(){for(var B=[],R=0;R<arguments.length;R++)B[R]=arguments[R];if(O){var Y=O.apply(void 0,B);if(!m.isNil(Y))return[Y]}return _.defaultCallback.apply(_,B)}},P.prototype._getAttributeValue=function(T,_){if(T.isCategory&&!this.linear){var M=T.translate(_);return this.values[M%this.values.length]}var E=T.scale(_);return this.getLinearValue(E)},P.prototype._toOriginParam=function(T,_){return _.isLinear?T:m.isArray(T)?T.map(function(M){return L(_,M)}):L(_,T)},P}();S.default=I},24796:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Attribute=S.registerAttribute=S.getAttribute=void 0;var m=d(60153),L=d(74839);S.Attribute=L.default;var I={},P=function(_){return I[_.toLowerCase()]};S.getAttribute=P;var T=function(_,M){if(P(_))throw new Error("Attribute type '"+_+"' existed.");I[_.toLowerCase()]=M};S.registerAttribute=T,m.__exportStar(d(77290),S)},77290:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Scale=void 0;var m=d(2443);Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return m.Scale}})},55223:function(mt,S,d){"use strict";d.r(S);var m=d(49242),L=/rgba?\(([\s.,0-9]+)\)/,I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,_=function(R){return/^[r,R,L,l]{1}[\s]*\(/.test(R)},M=function(){var R=document.createElement("i");return R.title="Web Colour Picker",R.style.display="none",document.body.appendChild(R),R},E=function(R,Y,j,V){return R[V]+(Y[V]-R[V])*j};function p(R){return"#"+y(R[0])+y(R[1])+y(R[2])}var b=function(R){return[parseInt(R.substr(1,2),16),parseInt(R.substr(3,2),16),parseInt(R.substr(5,2),16)]},y=function(R){var Y=Math.round(R).toString(16);return Y.length===1?"0"+Y:Y},w=function(R,Y){var j=isNaN(Number(Y))||Y<0?0:Y>1?1:Number(Y),V=R.length-1,nt=Math.floor(V*j),ct=V*j-nt,ut=R[nt],Pt=nt===V?ut:R[nt+1];return p([E(ut,Pt,ct,0),E(ut,Pt,ct,1),E(ut,Pt,ct,2)])},x,A=function(R){if(R[0]==="#"&&R.length===7)return R;x||(x=M()),x.style.color=R;var Y=document.defaultView.getComputedStyle(x,"").getPropertyValue("color"),j=L.exec(Y),V=j[1].split(/\s*,\s*/).map(function(nt){return Number(nt)});return Y=p(V),Y},O=function(R){var Y=(0,m.isString)(R)?R.split("-"):R,j=(0,m.map)(Y,function(V){return b(V.indexOf("#")===-1?A(V):V)});return function(V){return w(j,V)}},B=function(R){if(_(R)){var Y,j=void 0;if(R[0]==="l"){var V=I.exec(R),nt=+V[1]+90;j=V[2],Y="linear-gradient("+nt+"deg, "}else if(R[0]==="r"){Y="radial-gradient(";var V=P.exec(R);j=V[4]}var ct=j.match(T);return(0,m.each)(ct,function(ut,Pt){var Gt=ut.split(":");Y+=Gt[1]+" "+Gt[0]*100+"%",Pt!==ct.length-1&&(Y+=", ")}),Y+=")",Y}return R};S.default={rgb2arr:b,gradient:O,toRGB:(0,m.memoize)(A),toCSSGradient:B}},51441:function(mt,S,d){"use strict";d.r(S),d.d(S,{Annotation:function(){return m},Axis:function(){return _},Component:function(){return pt},Crosshair:function(){return M},Grid:function(){return E},GroupComponent:function(){return W},HtmlComponent:function(){return fa},Legend:function(){return p},Scrollbar:function(){return Di},Slider:function(){return ao},Tooltip:function(){return y}});var m={};d.r(m),d.d(m,{Arc:function(){return fi},DataMarker:function(){return ye},DataRegion:function(){return Pe},Image:function(){return ie},Line:function(){return kr},Region:function(){return ki},RegionFilter:function(){return De},Text:function(){return ln}});var L={};d.r(L),d.d(L,{ellipsisHead:function(){return vr},ellipsisMiddle:function(){return mr},ellipsisTail:function(){return br},getDefault:function(){return Cr}});var I={};d.r(I),d.d(I,{equidistance:function(){return en},getDefault:function(){return Kr},reserveBoth:function(){return an},reserveFirst:function(){return Xr},reserveLast:function(){return Zr}});var P={};d.r(P),d.d(P,{fixedAngle:function(){return pi},getDefault:function(){return ei},unfixedAngle:function(){return hi}});var T={};d.r(T),d.d(T,{autoEllipsis:function(){return L},autoHide:function(){return I},autoRotate:function(){return P}});var _={};d.r(_),d.d(_,{Base:function(){return Ue},Circle:function(){return gi},Line:function(){return Zi}});var M={};d.r(M),d.d(M,{Base:function(){return yi},Circle:function(){return Bi},Html:function(){return ft},Line:function(){return vi}});var E={};d.r(E),d.d(E,{Base:function(){return _t},Circle:function(){return pe},Line:function(){return Be}});var p={};d.r(p),d.d(p,{Base:function(){return Xe},Category:function(){return wr},Continuous:function(){return Vr}});var b={};d.r(b),d.d(b,{CONTAINER_CLASS:function(){return mn},CROSSHAIR_X:function(){return Vt},CROSSHAIR_Y:function(){return he},LIST_CLASS:function(){return At},LIST_ITEM_CLASS:function(){return st},MARKER_CLASS:function(){return Z},NAME_CLASS:function(){return It},TITLE_CLASS:function(){return zn},VALUE_CLASS:function(){return rt}});var y={};d.r(y),d.d(y,{Html:function(){return We}});var w=d(60153),x=d(49242),A=d(66192);function O(Kt,ht,F){var z=new A.default(ht,F);z.target=Kt,z.propagationPath.push(Kt),Kt.emitDelegation(ht,z);for(var et=Kt.getParent();et;)et.emitDelegation(ht,z),z.propagationPath.push(et),et=et.getParent()}var B=d(31506),R=d(31437),Y=[1,0,0,0,1,0,0,0,1];function j(Kt,ht,F){if(F===void 0&&(F=Y),!ht)return null;var z=B.transform(F,[["t",-Kt.x,-Kt.y],["r",ht],["t",Kt.x,Kt.y]]);return z}function V(Kt,ht){return!Kt.x&&!Kt.y?null:B.transform(ht||Y,[["t",Kt.x,Kt.y]])}function nt(Kt){var ht=[1,0,0],F=[0,0,0];return vec3.transformMat3(F,ht,Kt),Math.atan2(F[1],F[0])}function ct(Kt,ht){var F=[0,0];return R.transformMat3(F,ht,Kt),F}function ut(Kt,ht){var F=ct(Kt,[ht.minX,ht.minY]),z=ct(Kt,[ht.maxX,ht.minY]),et=ct(Kt,[ht.minX,ht.maxY]),St=ct(Kt,[ht.maxX,ht.maxY]),Ft=Math.min(F[0],z[0],et[0],St[0]),$t=Math.max(F[0],z[0],et[0],St[0]),fe=Math.min(F[1],z[1],et[1],St[1]),de=Math.max(F[1],z[1],et[1],St[1]);return{x:Ft,y:fe,minX:Ft,minY:fe,maxX:$t,maxY:de,width:$t-Ft,height:de-fe}}function Pt(Kt,ht,F,z){if(ht){var et=j({x:F,y:z},ht,Kt.getMatrix());Kt.setMatrix(et)}}function Gt(Kt,ht,F){var z=V({x:ht,y:F});Kt.attr("matrix",z)}function qt(Kt){var ht=0,F=0,z=0,et=0;return(0,x.isNumber)(Kt)?ht=F=z=et=Kt:(0,x.isArray)(Kt)&&(ht=Kt[0],z=(0,x.isNil)(Kt[1])?Kt[0]:Kt[1],et=(0,x.isNil)(Kt[2])?Kt[0]:Kt[2],F=(0,x.isNil)(Kt[3])?z:Kt[3]),[ht,z,et,F]}function Rt(Kt){for(var ht=Kt.childNodes,F=ht.length,z=F-1;z>=0;z--)Kt.removeChild(ht[z])}function at(Kt,ht){return!!Kt.className.match(new RegExp("(\\s|^)"+ht+"(\\s|$)"))}function vt(Kt){var ht=Kt.start,F=Kt.end,z=Math.min(ht.x,F.x),et=Math.min(ht.y,F.y),St=Math.max(ht.x,F.x),Ft=Math.max(ht.y,F.y);return{x:z,y:et,minX:z,minY:et,maxX:St,maxY:Ft,width:St-z,height:Ft-et}}function ot(Kt){var ht=Kt.map(function($t){return $t.x}),F=Kt.map(function($t){return $t.y}),z=Math.min.apply(Math,ht),et=Math.min.apply(Math,F),St=Math.max.apply(Math,ht),Ft=Math.max.apply(Math,F);return{x:z,y:et,minX:z,minY:et,maxX:St,maxY:Ft,width:St-z,height:Ft-et}}function Et(Kt,ht,F,z){return{x:Kt,y:ht,width:F,height:z,minX:Kt,minY:ht,maxX:Kt+F,maxY:ht+z}}function dt(Kt,ht,F){return(1-F)*Kt+ht*F}function X(Kt,ht,F){return{x:Kt.x+Math.cos(F)*ht,y:Kt.y+Math.sin(F)*ht}}function $(Kt,ht){var F=ht.x-Kt.x,z=ht.y-Kt.y;return Math.sqrt(F*F+z*z)}var H=function(Kt){return new Promise(function(ht){setTimeout(ht,Kt)})},f=function(Kt,ht){return[Kt,ht].includes(Infinity)?Math.abs(Kt)===Math.abs(ht):Math.abs(Kt-ht)<Math.pow(Number.EPSILON,.5)};function xt(Kt,ht){var F=Math.max(Kt.minX,ht.minX),z=Math.max(Kt.minY,ht.minY),et=Math.min(Kt.maxX,ht.maxX),St=Math.min(Kt.maxY,ht.maxY);return Et(F,z,et-F,St-z)}function Mt(Kt,ht){var F=Math.min(Kt.minX,ht.minX),z=Math.min(Kt.minY,ht.minY),et=Math.max(Kt.maxX,ht.maxX),St=Math.max(Kt.maxY,ht.maxY);return Et(F,z,et-F,St-z)}function Ut(Kt){var ht=Kt.getClip(),F=ht&&ht.getBBox(),z;if(!Kt.isGroup())z=Kt.getBBox();else{var et=Infinity,St=-Infinity,Ft=Infinity,$t=-Infinity,fe=Kt.getChildren();fe.length>0?(0,x.each)(fe,function(de){if(de.get("visible")){if(de.isGroup()&&de.get("children").length===0)return!0;var Me=Ut(de),Le=de.applyToMatrix([Me.minX,Me.minY,1]),Ze=de.applyToMatrix([Me.minX,Me.maxY,1]),qe=de.applyToMatrix([Me.maxX,Me.minY,1]),Mr=de.applyToMatrix([Me.maxX,Me.maxY,1]),jr=Math.min(Le[0],Ze[0],qe[0],Mr[0]),Nr=Math.max(Le[0],Ze[0],qe[0],Mr[0]),pn=Math.min(Le[1],Ze[1],qe[1],Mr[1]),xn=Math.max(Le[1],Ze[1],qe[1],Mr[1]);jr<et&&(et=jr),Nr>St&&(St=Nr),pn<Ft&&(Ft=pn),xn>$t&&($t=xn)}}):(et=0,St=0,Ft=0,$t=0),z=Et(et,Ft,St-et,$t-Ft)}return F?xt(z,F):z}function re(Kt,ht){if(!(!Kt.getClip()&&!ht.getClip())){var F=ht.getClip();if(!F){Kt.setClip(null);return}var z={type:F.get("type"),attrs:F.attr()};Kt.setClip(z)}}function zt(Kt){return Kt+"px"}function ne(Kt,ht,F,z){var et=$(Kt,ht),St=z/et,Ft=0;return F==="start"?Ft=0-St:F==="end"&&(Ft=1+St),{x:dt(Kt.x,ht.x,Ft),y:dt(Kt.y,ht.y,Ft)}}var ae=d(39014),Dt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Tt=function(Kt){(0,w.__extends)(ht,Kt);function ht(F){var z=Kt.call(this,F)||this;return z.initCfg(),z}return ht.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},ht.prototype.clear=function(){},ht.prototype.update=function(F){var z=this,et=this.get("defaultCfg");(0,x.each)(F,function(St,Ft){var $t=z.get(Ft),fe=St;$t!==St&&((0,x.isObject)(St)&&et[Ft]&&(fe=(0,x.deepMix)({},et[Ft],St)),z.set(Ft,fe))}),this.updateInner(F),this.afterUpdate(F)},ht.prototype.updateInner=function(F){},ht.prototype.afterUpdate=function(F){(0,x.hasKey)(F,"visible")&&(F.visible?this.show():this.hide()),(0,x.hasKey)(F,"capture")&&this.setCapture(F.capture)},ht.prototype.getLayoutBBox=function(){return this.getBBox()},ht.prototype.getLocationType=function(){return this.get("locationType")},ht.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},ht.prototype.setOffset=function(F,z){this.update({offsetX:F,offsetY:z})},ht.prototype.setLocation=function(F){var z=(0,w.__assign)({},F);this.update(z)},ht.prototype.getLocation=function(){var F=this,z={},et=this.get("locationType"),St=Dt[et];return(0,x.each)(St,function(Ft){z[Ft]=F.get(Ft)}),z},ht.prototype.isList=function(){return!1},ht.prototype.isSlider=function(){return!1},ht.prototype.init=function(){},ht.prototype.initCfg=function(){var F=this,z=this.get("defaultCfg");(0,x.each)(z,function(et,St){var Ft=F.get(St);if((0,x.isObject)(Ft)){var $t=(0,x.deepMix)({},et,Ft);F.set(St,$t)}})},ht}(ae.Base),pt=Tt,Q="update_status",K=["visible","tip","delegateObject"],lt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],U=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},ht.prototype.remove=function(){this.clear();var F=this.get("group");F.remove()},ht.prototype.clear=function(){var F=this.get("group");F.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},ht.prototype.getChildComponentById=function(F){var z=this.getElementById(F),et=z&&z.get("component");return et},ht.prototype.getElementById=function(F){return this.get("shapesMap")[F]},ht.prototype.getElementByLocalId=function(F){var z=this.getElementId(F);return this.getElementById(z)},ht.prototype.getElementsByName=function(F){var z=[];return(0,x.each)(this.get("shapesMap"),function(et){et.get("name")===F&&z.push(et)}),z},ht.prototype.getContainer=function(){return this.get("container")},ht.prototype.updateInner=function(F){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},ht.prototype.render=function(){var F=this.get("offScreenGroup");F||(F=this.offScreenRender());var z=this.get("group");this.updateElements(F,z),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},ht.prototype.show=function(){var F=this.get("group");F.show(),this.set("visible",!0)},ht.prototype.hide=function(){var F=this.get("group");F.hide(),this.set("visible",!1)},ht.prototype.setCapture=function(F){var z=this.get("group");z.set("capture",F),this.set("capture",F)},ht.prototype.destroy=function(){this.removeEvent(),this.remove(),Kt.prototype.destroy.call(this)},ht.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},ht.prototype.getLayoutBBox=function(){var F=this.get("group"),z=this.getInnerLayoutBBox(),et=F.getTotalMatrix();return et&&(z=ut(et,z)),z},ht.prototype.on=function(F,z,et){var St=this.get("group");return St.on(F,z,et),this},ht.prototype.off=function(F,z){var et=this.get("group");return et&&et.off(F,z),this},ht.prototype.emit=function(F,z){var et=this.get("group");et.emit(F,z)},ht.prototype.init=function(){Kt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},ht.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},ht.prototype.delegateEmit=function(F,z){var et=this.get("group");z.target=et,et.emit(F,z),O(et,F,z)},ht.prototype.createOffScreenGroup=function(){var F=this.get("group"),z=F.getGroupBase(),et=new z({delegateObject:this.getDelegateObject()});return et},ht.prototype.applyOffset=function(){var F=this.get("offsetX"),z=this.get("offsetY");this.moveElementTo(this.get("group"),{x:F,y:z})},ht.prototype.initGroup=function(){var F=this.get("container");this.set("group",F.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},ht.prototype.offScreenRender=function(){this.clearOffScreenCache();var F=this.createOffScreenGroup();return this.renderInner(F),this.set("offScreenGroup",F),this.set("offScreenBBox",Ut(F)),F},ht.prototype.addGroup=function(F,z){this.appendDelegateObject(F,z);var et=F.addGroup(z);return this.get("isRegister")&&this.registerElement(et),et},ht.prototype.addShape=function(F,z){this.appendDelegateObject(F,z);var et=F.addShape(z);return this.get("isRegister")&&this.registerElement(et),et},ht.prototype.addComponent=function(F,z){var et=z.id,St=z.component,Ft=(0,w.__rest)(z,["id","component"]),$t=new St((0,w.__assign)((0,w.__assign)({},Ft),{id:et,container:F,updateAutoRender:this.get("updateAutoRender")}));return $t.init(),$t.render(),this.get("isRegister")&&this.registerElement($t.get("group")),$t},ht.prototype.initEvent=function(){},ht.prototype.removeEvent=function(){var F=this.get("group");F.off()},ht.prototype.getElementId=function(F){var z=this.get("id"),et=this.get("name");return z+"-"+et+"-"+F},ht.prototype.registerElement=function(F){var z=F.get("id");this.get("shapesMap")[z]=F},ht.prototype.unregisterElement=function(F){var z=F.get("id");delete this.get("shapesMap")[z]},ht.prototype.moveElementTo=function(F,z){var et=V(z);F.attr("matrix",et)},ht.prototype.addAnimation=function(F,z,et){var St=z.attr("opacity");(0,x.isNil)(St)&&(St=1),z.attr("opacity",0),z.animate({opacity:St},et)},ht.prototype.removeAnimation=function(F,z,et){z.animate({opacity:0},et)},ht.prototype.updateAnimation=function(F,z,et,St){z.animate(et,St)},ht.prototype.updateElements=function(F,z){var et=this,St=this.get("animate"),Ft=this.get("animateOption"),$t=F.getChildren().slice(0),fe;(0,x.each)($t,function(de){var Me=de.get("id"),Le=et.getElementById(Me),Ze=de.get("name");if(Le)if(de.get("isComponent")){var qe=de.get("component"),Mr=Le.get("component"),jr=(0,x.pick)(qe.cfg,(0,x.difference)((0,x.keys)(qe.cfg),lt));Mr.update(jr),Le.set(Q,"update")}else{var Nr=et.getReplaceAttrs(Le,de);St&&Ft.update?et.updateAnimation(Ze,Le,Nr,Ft.update):Le.attr(Nr),de.isGroup()&&et.updateElements(de,Le),(0,x.each)(K,function(kt){Le.set(kt,de.get(kt))}),re(Le,de),fe=Le,Le.set(Q,"update")}else{z.add(de);var pn=z.getChildren();if(pn.splice(pn.length-1,1),fe){var xn=pn.indexOf(fe);pn.splice(xn+1,0,de)}else pn.unshift(de);if(et.registerElement(de),de.set(Q,"add"),de.get("isComponent")){var qe=de.get("component");qe.set("container",z)}else de.isGroup()&&et.registerNewGroup(de);if(fe=de,St){var yn=et.get("isInit")?Ft.appear:Ft.enter;yn&&et.addAnimation(Ze,de,yn)}}})},ht.prototype.clearUpdateStatus=function(F){var z=F.getChildren();(0,x.each)(z,function(et){et.set(Q,null)})},ht.prototype.clearOffScreenCache=function(){var F=this.get("offScreenGroup");F&&F.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},ht.prototype.getDelegateObject=function(){var F,z=this.get("name"),et=(F={},F[z]=this,F.component=this,F);return et},ht.prototype.appendDelegateObject=function(F,z){var et=F.get("delegateObject");z.delegateObject||(z.delegateObject={}),(0,x.mix)(z.delegateObject,et)},ht.prototype.getReplaceAttrs=function(F,z){var et=F.attr(),St=z.attr();return(0,x.each)(et,function(Ft,$t){St[$t]===void 0&&(St[$t]=void 0)}),St},ht.prototype.registerNewGroup=function(F){var z=this,et=F.getChildren();(0,x.each)(et,function(St){z.registerElement(St),St.set(Q,"add"),St.isGroup()&&z.registerNewGroup(St)})},ht.prototype.deleteElements=function(){var F=this,z=this.get("shapesMap"),et=[];(0,x.each)(z,function($t,fe){!$t.get(Q)||$t.destroyed?et.push([fe,$t]):$t.set(Q,null)});var St=this.get("animate"),Ft=this.get("animateOption");(0,x.each)(et,function($t){var fe=$t[0],de=$t[1];if(!de.destroyed){var Me=de.get("name");if(St&&Ft.leave){var Le=(0,x.mix)({callback:function(){F.removeElement(de)}},Ft.leave);F.removeAnimation(Me,de,Le)}else F.removeElement(de)}delete z[fe]})},ht.prototype.removeElement=function(F){if(F.get("isGroup")){var z=F.get("component");z&&z.destroy()}F.remove()},ht}(pt),W=U,wt="\u2026";function Lt(Kt){for(var ht=0,F=0;F<Kt.length;F++)ht+=Wt(Kt,F);return ht}function Wt(Kt,ht){return Kt.charCodeAt(ht)>0&&Kt.charCodeAt(ht)<128?1:2}function oe(Kt,ht,F){F===void 0&&(F="tail");var z=Kt.length,et="";if(F==="tail"){for(var St=0,Ft=0;St<ht;){var $t=Wt(Kt,Ft);if(St+$t<=ht)et+=Kt[Ft],St+=Wt(Kt,Ft),Ft++;else break}et+=wt}else if(F==="head"){for(var St=0,Ft=z-1;St<ht;){var $t=Wt(Kt,Ft);if(St+$t<=ht)et+=Kt[Ft],St+=Wt(Kt,Ft),Ft--;else break}et=wt+et}else{for(var fe="",de="",St=0,Me=0,Le=z-1;St<ht;){var Ze=Wt(Kt,Me),qe=!1;Ze+St<=ht&&(fe+=Kt[Me],Me++,St+=Ze,qe=!0);var Mr=Wt(Kt,Le);if(Mr+St<=ht&&(de=Kt[Le]+de,St+=Mr,Le--,qe=!0),!qe)break}et=fe+wt+de}return et}var Se="\u2026",Ye=2;function te(Kt){var ht=0;return(0,x.each)(Kt,function(F){var z=F.getBBox(),et=z.width;ht<et&&(ht=et)}),ht}function ge(Kt,ht){var F=ht.getCanvasBBox();return Kt?F.width:F.height}function _e(Kt,ht){return Kt.getBBox().width<ht}function Ne(Kt,ht,F,z){z===void 0&&(z="tail");var et=ht.attr("text"),St=ge(Kt,ht),Ft=Lt(et),$t=!1;if(F<St){var fe=Math.floor(F/St*Ft)-Ye,de=void 0;fe>=0?de=oe(et,fe,z):de=Se,de&&(ht.attr("text",de),$t=!0)}return $t?ht.set("tip",et):ht.set("tip",null),$t}function or(Kt,ht){var F=ht.x,z=ht.y,et=ht.content,St=ht.style,Ft=ht.id,$t=ht.name,fe=ht.rotate,de=ht.maxLength,Me=ht.autoEllipsis,Le=ht.isVertical,Ze=ht.ellipsisPosition,qe=ht.background,Mr=Kt.addGroup({id:Ft+"-group",name:$t+"-group",attrs:{x:F,y:z}}),jr=Mr.addShape({type:"text",id:Ft,name:$t,attrs:(0,w.__assign)({x:0,y:0,text:et},St)}),Nr=qt((0,x.get)(qe,"padding",0));if(de&&Me){var pn=de-(Nr[1]+Nr[3]);Ne(!Le,jr,pn,Ze)}if(qe){var xn=(0,x.get)(qe,"style",{}),yn=jr.getCanvasBBox(),kt=yn.minX,se=yn.minY,we=yn.width,Te=yn.height,He=Mr.addShape("rect",{id:Ft+"-bg",name:Ft+"-bg",attrs:(0,w.__assign)({x:kt-Nr[3],y:se-Nr[0],width:we+Nr[1]+Nr[3],height:Te+Nr[0]+Nr[2]},xn)});He.toBack()}Gt(Mr,F,z),Pt(Mr,fe,F,z)}var je={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},dr=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:je.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:je.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:je.lineColor,lineWidth:1}}}})},ht.prototype.renderInner=function(F){this.renderLine(F),this.get("text")&&this.renderLabel(F)},ht.prototype.renderLine=function(F){var z=this.get("start"),et=this.get("end"),St=this.get("style");this.addShape(F,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,w.__assign)({x1:z.x,y1:z.y,x2:et.x,y2:et.y},St)})},ht.prototype.getLabelPoint=function(F,z,et){var St;return et==="start"?St=0:et==="center"?St=.5:(0,x.isString)(et)&&et.indexOf("%")!==-1?St=parseInt(et,10)/100:(0,x.isNumber)(et)?St=et:St=1,(St>1||St<0)&&(St=1),{x:dt(F.x,z.x,St),y:dt(F.y,z.y,St)}},ht.prototype.renderLabel=function(F){var z=this.get("text"),et=this.get("start"),St=this.get("end"),Ft=z.position,$t=z.content,fe=z.style,de=z.offsetX,Me=z.offsetY,Le=z.autoRotate,Ze=z.maxLength,qe=z.autoEllipsis,Mr=z.ellipsisPosition,jr=z.background,Nr=z.isVertical,pn=Nr===void 0?!1:Nr,xn=this.getLabelPoint(et,St,Ft),yn=xn.x+de,kt=xn.y+Me,se={id:this.getElementId("line-text"),name:"annotation-line-text",x:yn,y:kt,content:$t,style:fe,maxLength:Ze,autoEllipsis:qe,ellipsisPosition:Mr,background:jr,isVertical:pn};if(Le){var we=[St.x-et.x,St.y-et.y];se.rotate=Math.atan2(we[1],we[0])}or(F,se)},ht}(W),kr=dr,Br=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:je.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:je.fontFamily}}})},ht.prototype.setLocation=function(F){this.set("x",F.x),this.set("y",F.y),this.resetLocation()},ht.prototype.renderInner=function(F){var z=this.getLocation(),et=z.x,St=z.y,Ft=this.get("content"),$t=this.get("style"),fe=this.getElementId("text"),de=this.get("name")+"-text",Me=this.get("maxLength"),Le=this.get("autoEllipsis"),Ze=this.get("isVertical"),qe=this.get("ellipsisPosition"),Mr=this.get("background"),jr=this.get("rotate"),Nr={id:fe,name:de,x:et,y:St,content:Ft,style:$t,maxLength:Me,autoEllipsis:Le,isVertical:Ze,ellipsisPosition:qe,background:Mr,rotate:jr};or(F,Nr)},ht.prototype.resetLocation=function(){var F=this.getElementByLocalId("text-group");if(F){var z=this.getLocation(),et=z.x,St=z.y,Ft=this.get("rotate");Gt(F,et,St),Pt(F,Ft,et,St)}},ht}(W),ln=Br,Yn=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},ht.prototype.renderInner=function(F){this.renderArc(F)},ht.prototype.getArcPath=function(){var F=this.getLocation(),z=F.center,et=F.radius,St=F.startAngle,Ft=F.endAngle,$t=X(z,et,St),fe=X(z,et,Ft),de=Ft-St>Math.PI?1:0,Me=[["M",$t.x,$t.y]];if(Ft-St==Math.PI*2){var Le=X(z,et,St+Math.PI);Me.push(["A",et,et,0,de,1,Le.x,Le.y]),Me.push(["A",et,et,0,de,1,fe.x,fe.y])}else Me.push(["A",et,et,0,de,1,fe.x,fe.y]);return Me},ht.prototype.renderArc=function(F){var z=this.getArcPath(),et=this.get("style");this.addShape(F,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,w.__assign)({path:z},et)})},ht}(W),fi=Yn,Ci=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:je.regionColor,opacity:.4}}})},ht.prototype.renderInner=function(F){this.renderRegion(F)},ht.prototype.renderRegion=function(F){var z=this.get("start"),et=this.get("end"),St=this.get("style"),Ft=vt({start:z,end:et});this.addShape(F,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.__assign)({x:Ft.x,y:Ft.y,width:Ft.width,height:Ft.height},St)})},ht}(W),ki=Ci,jt=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},ht.prototype.renderInner=function(F){this.renderImage(F)},ht.prototype.getImageAttrs=function(){var F=this.get("start"),z=this.get("end"),et=this.get("style"),St=vt({start:F,end:z}),Ft=this.get("src");return(0,w.__assign)({x:St.x,y:St.y,img:Ft,width:St.width,height:St.height},et)},ht.prototype.renderImage=function(F){this.addShape(F,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},ht}(W),ie=jt,ve=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:je.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:je.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:je.fontFamily}}}})},ht.prototype.renderInner=function(F){(0,x.get)(this.get("line"),"display")&&this.renderLine(F),(0,x.get)(this.get("text"),"display")&&this.renderText(F),(0,x.get)(this.get("point"),"display")&&this.renderPoint(F),this.get("autoAdjust")&&this.autoAdjust(F)},ht.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},ht.prototype.renderPoint=function(F){var z=this.getShapeAttrs().point;this.addShape(F,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:z})},ht.prototype.renderLine=function(F){var z=this.getShapeAttrs().line;this.addShape(F,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:z})},ht.prototype.renderText=function(F){var z=this.getShapeAttrs().text,et=z.x,St=z.y,Ft=z.text,$t=(0,w.__rest)(z,["x","y","text"]),fe=this.get("text"),de=fe.background,Me=fe.maxLength,Le=fe.autoEllipsis,Ze=fe.isVertival,qe=fe.ellipsisPosition,Mr={x:et,y:St,id:this.getElementId("text"),name:"annotation-text",content:Ft,style:$t,background:de,maxLength:Me,autoEllipsis:Le,isVertival:Ze,ellipsisPosition:qe};or(F,Mr)},ht.prototype.autoAdjust=function(F){var z=this.get("direction"),et=this.get("x"),St=this.get("y"),Ft=(0,x.get)(this.get("line"),"length",0),$t=this.get("coordinateBBox"),fe=F.getBBox(),de=fe.minX,Me=fe.maxX,Le=fe.minY,Ze=fe.maxY,qe=F.findById(this.getElementId("text-group")),Mr=F.findById(this.getElementId("text")),jr=F.findById(this.getElementId("line"));if(!!$t){if(qe){if(et+de<=$t.minX){var Nr=$t.minX-(et+de);Gt(qe,qe.attr("x")+Nr,qe.attr("y"))}if(et+Me>=$t.maxX){var Nr=et+Me-$t.maxX;Gt(qe,qe.attr("x")-Nr,qe.attr("y"))}}if(z==="upward"&&St+Le<=$t.minY||z!=="upward"&&St+Ze>=$t.maxY){var pn=void 0,xn=void 0;z==="upward"&&St+Le<=$t.minY?(pn="top",xn=1):(pn="bottom",xn=-1),Mr.attr("textBaseline",pn),jr&&jr.attr("path",[["M",0,0],["L",0,Ft*xn]]),Gt(qe,qe.attr("x"),(Ft+2)*xn)}}},ht.prototype.getShapeAttrs=function(){var F=(0,x.get)(this.get("line"),"display"),z=(0,x.get)(this.get("point"),"style",{}),et=(0,x.get)(this.get("line"),"style",{}),St=(0,x.get)(this.get("text"),"style",{}),Ft=this.get("direction"),$t=F?(0,x.get)(this.get("line"),"length",0):0,fe=Ft==="upward"?-1:1;return{point:(0,w.__assign)({x:0,y:0},z),line:(0,w.__assign)({path:[["M",0,0],["L",0,$t*fe]]},et),text:(0,w.__assign)({x:0,y:($t+2)*fe,text:(0,x.get)(this.get("text"),"content",""),textBaseline:Ft==="upward"?"bottom":"top"},St)}},ht}(W),ye=ve,Ae=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:je.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:je.textColor,fontFamily:je.fontFamily}}}})},ht.prototype.renderInner=function(F){var z=(0,x.get)(this.get("region"),"style",{}),et=(0,x.get)(this.get("text"),"style",{}),St=this.get("lineLength")||0,Ft=this.get("points");if(!!Ft.length){var $t=ot(Ft),fe=[];fe.push(["M",Ft[0].x,$t.minY-St]),Ft.forEach(function(Me){fe.push(["L",Me.x,Me.y])}),fe.push(["L",Ft[Ft.length-1].x,Ft[Ft.length-1].y-St]),this.addShape(F,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.__assign)({path:fe},z)});var de=(0,w.__assign)({id:this.getElementId("text"),name:"annotation-text",x:($t.minX+$t.maxX)/2,y:$t.minY-St},this.get("text"));or(F,de)}},ht}(W),Pe=Ae,Oe=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},ht.prototype.renderInner=function(F){var z=this,et=this.get("start"),St=this.get("end"),Ft=this.addGroup(F,{id:this.getElementId("region-filter"),capture:!1});(0,x.each)(this.get("shapes"),function(fe,de){var Me=fe.get("type"),Le=(0,x.clone)(fe.attr());z.adjustShapeAttrs(Le),z.addShape(Ft,{id:z.getElementId("shape-"+Me+"-"+de),capture:!1,type:Me,attrs:Le})});var $t=vt({start:et,end:St});Ft.setClip({type:"rect",attrs:{x:$t.minX,y:$t.minY,width:$t.width,height:$t.height}})},ht.prototype.adjustShapeAttrs=function(F){var z=this.get("color");F.fill&&(F.fill=F.fillStyle=z),F.stroke=F.strokeStyle=z},ht}(W),De=Oe;function Ce(Kt,ht,F){var z=ht+"Style",et=null;return(0,x.each)(F,function(St,Ft){Kt[Ft]&&St[z]&&(et||(et={}),(0,x.mix)(et,St[z]))}),et}var rr=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:je.lineColor}},tickLine:{style:{lineWidth:1,stroke:je.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:je.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:je.textColor,textBaseline:"middle",fontFamily:je.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:je.textColor,textBaseline:"middle",fontFamily:je.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:je.uncheckedColor}}}}})},ht.prototype.renderInner=function(F){this.get("line")&&this.drawLine(F),this.drawTicks(F),this.get("title")&&this.drawTitle(F)},ht.prototype.isList=function(){return!0},ht.prototype.getItems=function(){return this.get("ticks")},ht.prototype.setItems=function(F){this.update({ticks:F})},ht.prototype.updateItem=function(F,z){(0,x.mix)(F,z),this.clear(),this.render()},ht.prototype.clearItems=function(){var F=this.getElementByLocalId("label-group");F&&F.clear()},ht.prototype.setItemState=function(F,z,et){F[z]=et,this.updateTickStates(F)},ht.prototype.hasState=function(F,z){return!!F[z]},ht.prototype.getItemStates=function(F){var z=this.get("tickStates"),et=[];return(0,x.each)(z,function(St,Ft){F[Ft]&&et.push(Ft)}),et},ht.prototype.clearItemsState=function(F){var z=this,et=this.getItemsByState(F);(0,x.each)(et,function(St){z.setItemState(St,F,!1)})},ht.prototype.getItemsByState=function(F){var z=this,et=this.getItems();return(0,x.filter)(et,function(St){return z.hasState(St,F)})},ht.prototype.getSidePoint=function(F,z){var et=this,St=et.getSideVector(z,F);return{x:F.x+St[0],y:F.y+St[1]}},ht.prototype.getTextAnchor=function(F){var z;return(0,x.isNumberEqual)(F[0],0)?z="center":F[0]>0?z="start":F[0]<0&&(z="end"),z},ht.prototype.processOverlap=function(F){},ht.prototype.drawLine=function(F){var z=this.getLinePath(),et=this.get("line");this.addShape(F,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,x.mix)({path:z},et.style)})},ht.prototype.getTickLineItems=function(F){var z=this,et=[],St=this.get("tickLine"),Ft=St.alignTick,$t=St.length,fe=1,de=F.length;return de>=2&&(fe=F[1].value-F[0].value),(0,x.each)(F,function(Me){var Le=Me.point;Ft||(Le=z.getTickPoint(Me.value-fe/2));var Ze=z.getSidePoint(Le,$t);et.push({startPoint:Le,tickValue:Me.value,endPoint:Ze,tickId:Me.id,id:"tickline-"+Me.id})}),et},ht.prototype.getSubTickLineItems=function(F){var z=[],et=this.get("subTickLine"),St=et.count,Ft=F.length;if(Ft>=2)for(var $t=0;$t<Ft-1;$t++)for(var fe=F[$t],de=F[$t+1],Me=0;Me<St;Me++){var Le=(Me+1)/(St+1),Ze=(1-Le)*fe.tickValue+Le*de.tickValue,qe=this.getTickPoint(Ze),Mr=this.getSidePoint(qe,et.length);z.push({startPoint:qe,endPoint:Mr,tickValue:Ze,id:"sub-"+fe.id+"-"+Me})}return z},ht.prototype.getTickLineAttrs=function(F,z){var et=this.get(z).style,St=F.startPoint,Ft=F.endPoint,$t=(0,x.mix)({x1:St.x,y1:St.y,x2:Ft.x,y2:Ft.y},et);return $t},ht.prototype.drawTick=function(F,z,et){this.addShape(z,{type:"line",id:this.getElementId(F.id),name:"axis-"+et,attrs:this.getTickLineAttrs(F,et)})},ht.prototype.drawTickLines=function(F){var z=this,et=this.get("ticks"),St=this.get("subTickLine"),Ft=this.getTickLineItems(et),$t=this.addGroup(F,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),fe=this.get("tickLine");if((0,x.each)(Ft,function(Me){if(fe.displayWithLabel){var Le=z.getElementId("label-"+Me.tickId);F.findById(Le)&&z.drawTick(Me,$t,"tickLine")}else z.drawTick(Me,$t,"tickLine")}),St){var de=this.getSubTickLineItems(Ft);(0,x.each)(de,function(Me){z.drawTick(Me,$t,"subTickLine")})}},ht.prototype.processTicks=function(){var F=this,z=this.get("ticks");(0,x.each)(z,function(et){et.point=F.getTickPoint(et.value),(0,x.isNil)(et.id)&&(et.id=et.name)})},ht.prototype.drawTicks=function(F){var z=this;this.processTicks(),this.get("label")&&this.drawLabels(F),this.get("tickLine")&&this.drawTickLines(F);var et=this.get("ticks");(0,x.each)(et,function(St){z.applyTickStates(St,F)})},ht.prototype.getLabelAttrs=function(F,z){var et=this.get("label"),St=et.offset,Ft=et.style,$t=et.rotate,fe=et.formatter,de=this.getSidePoint(F.point,St),Me=this.getSideVector(St,de),Le=fe?fe(F.name,F,z):F.name,Ze=(0,x.mix)({x:de.x,y:de.y,text:Le,textAlign:this.getTextAnchor(Me)},Ft);return $t&&(Ze.matrix=j(de,$t)),Ze},ht.prototype.drawLabels=function(F){var z=this,et=this.get("ticks"),St=this.addGroup(F,{name:"axis-label-group",id:this.getElementId("label-group")});(0,x.each)(et,function(Ft,$t){z.addShape(St,{type:"text",name:"axis-label",id:z.getElementId("label-"+Ft.id),attrs:z.getLabelAttrs(Ft,$t),delegateObject:{tick:Ft,item:Ft,index:$t}})}),this.processOverlap(St)},ht.prototype.getTitleAttrs=function(){var F=this.get("title"),z=F.style,et=F.position,St=F.offset,Ft=F.spacing,$t=Ft===void 0?0:Ft,fe=F.autoRotate,de=z.fontSize,Me=.5;et==="start"?Me=0:et==="end"&&(Me=1);var Le=this.getTickPoint(Me),Ze=this.getSidePoint(Le,St||$t+de/2),qe=(0,x.mix)({x:Ze.x,y:Ze.y,text:F.text},z),Mr=F.rotate,jr=Mr;if((0,x.isNil)(Mr)&&fe){var Nr=this.getAxisVector(Le),pn=[1,0];jr=B.angleTo(Nr,pn,!0)}if(jr){var xn=j(Ze,jr);qe.matrix=xn}return qe},ht.prototype.drawTitle=function(F){this.addShape(F,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},ht.prototype.applyTickStates=function(F,z){var et=this.getItemStates(F);if(et.length){var St=this.get("tickStates"),Ft=this.getElementId("label-"+F.id),$t=z.findById(Ft);if($t){var fe=Ce(F,"label",St);fe&&$t.attr(fe)}var de=this.getElementId("tickline-"+F.id),Me=z.findById(de);if(Me){var Le=Ce(F,"tickLine",St);Le&&Me.attr(Le)}}},ht.prototype.updateTickStates=function(F){var z=this.getItemStates(F),et=this.get("tickStates"),St=this.get("label"),Ft=this.getElementByLocalId("label-"+F.id),$t=this.get("tickLine"),fe=this.getElementByLocalId("tickline-"+F.id);if(z.length){if(Ft){var de=Ce(F,"label",et);de&&Ft.attr(de)}if(fe){var Me=Ce(F,"tickLine",et);Me&&fe.attr(Me)}}else Ft&&Ft.attr(St.style),fe&&fe.attr($t.style)},ht}(W),Ue=rr;function fr(Kt,ht,F,z){var et=ht.getChildren(),St=!1;return(0,x.each)(et,function(Ft){var $t=Ne(Kt,Ft,F,z);St=St||$t}),St}function Cr(){return br}function vr(Kt,ht,F){return fr(Kt,ht,F,"head")}function br(Kt,ht,F){return fr(Kt,ht,F,"tail")}function mr(Kt,ht,F){return fr(Kt,ht,F,"middle")}function Ar(Kt){var ht=Kt.attr("matrix");return ht&&ht[0]!==1}function hr(Kt,ht,F,z,et){et===void 0&&(et=!1);var St=!1;if(Kt)St=Math.abs(F.y-z.y)<F.height;else if(ht){var Ft=et?z.height:F.height;St=Math.abs(F.x-z.x)<Ft}else{var $t=et?z.width:F.width;St=Math.abs(F.x-z.x)<$t}return St}function Fr(Kt,ht,F){var z=ht.getChildren().slice();if(!z.length)return!1;var et=!1;F&&z.reverse();for(var St=z.length,Ft=z[0],$t=Ar(Ft),fe=Ft.getBBox(),de=1;de<St;de++){var Me=z[de],Le=Me.getBBox(),Ze=hr(Kt,$t,fe,Le,F);Ze?(Me.hide(),et=!0):fe=Le}return et}function Kr(){return en}function Xr(Kt,ht){return Fr(Kt,ht,!1)}function Zr(Kt,ht){return Fr(Kt,ht,!0)}function an(Kt,ht){var F=ht.getChildren().slice();if(F.length<=2)return!1;for(var z=!1,et=F.length,St=F[0],Ft=F[et-1],$t=Ar(St),fe=St.getBBox(),de=St,Me=1;Me<et-1;Me++){var Le=F[Me],Ze=Le.getBBox(),qe=hr(Kt,$t,fe,Ze);qe?(Le.hide(),z=!0):(fe=Ze,de=Le)}var Mr=Ft.getBBox(),jr=hr(Kt,$t,fe,Mr);return jr&&(de.hide(),z=!0),z}function en(Kt,ht){var F=ht.getChildren().slice();if(F.length<2)return!1;var z=!1,et=F[0],St=et.getBBox(),Ft=F[1],$t=Ar(et),fe=F.length,de=0;if(Kt){var Me=Math.abs(Ft.attr("y")-et.attr("y"));de=St.height/Me}else if($t){var Me=Math.abs(Ft.attr("x")-et.attr("x"));de=St.width/Me}else{var Le=te(F),Me=Math.abs(Ft.attr("x")-et.attr("x"));de=Le/Me}if(de>1){de=Math.ceil(de);for(var Ze=0;Ze<fe;Ze++)Ze%de!=0&&(F[Ze].hide(),z=!0)}return z}function Wn(Kt,ht){(0,x.each)(Kt,function(F){var z=F.attr("x"),et=F.attr("y"),St=j({x:z,y:et},ht);F.attr("matrix",St)})}function gn(Kt,ht,F,z){var et=ht.getChildren();if(!et.length||!Kt&&et.length<2)return!1;var St=te(et),Ft=!1;if(Kt)Ft=!!F&&St>F;else{var $t=Math.abs(et[1].attr("x")-et[0].attr("x"));Ft=St>$t}if(Ft){var fe=z(F,St);Wn(et,fe)}return Ft}function ei(){return pi}function pi(Kt,ht,F){return gn(Kt,ht,F,function(){return Kt?je.verticalAxisRotate:je.horizontalAxisRotate})}function hi(Kt,ht,F){return gn(Kt,ht,F,function(z,et){if(!z)return Kt?je.verticalAxisRotate:je.horizontalAxisRotate;if(Kt)return-Math.acos(z/et);var St=0;return z>et?St=Math.PI/4:(St=Math.asin(z/et),St>Math.PI/4&&(St=Math.PI/4)),St})}var Mi=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{type:"line",locationType:"region",start:null,end:null})},ht.prototype.getLinePath=function(){var F=this.get("start"),z=this.get("end"),et=[];return et.push(["M",F.x,F.y]),et.push(["L",z.x,z.y]),et},ht.prototype.getInnerLayoutBBox=function(){var F=this.get("start"),z=this.get("end"),et=Kt.prototype.getInnerLayoutBBox.call(this),St=Math.min(F.x,z.x,et.x),Ft=Math.min(F.y,z.y,et.y),$t=Math.max(F.x,z.x,et.maxX),fe=Math.max(F.y,z.y,et.maxY);return{x:St,y:Ft,minX:St,minY:Ft,maxX:$t,maxY:fe,width:$t-St,height:fe-Ft}},ht.prototype.isVertical=function(){var F=this.get("start"),z=this.get("end");return(0,x.isNumberEqual)(F.x,z.x)},ht.prototype.isHorizontal=function(){var F=this.get("start"),z=this.get("end");return(0,x.isNumberEqual)(F.y,z.y)},ht.prototype.getTickPoint=function(F){var z=this,et=z.get("start"),St=z.get("end"),Ft=St.x-et.x,$t=St.y-et.y;return{x:et.x+Ft*F,y:et.y+$t*F}},ht.prototype.getSideVector=function(F){var z=this.getAxisVector(),et=R.normalize([0,0],z),St=this.get("verticalFactor"),Ft=[et[1],et[0]*-1];return R.scale([0,0],Ft,F*St)},ht.prototype.getAxisVector=function(){var F=this.get("start"),z=this.get("end");return[z.x-F.x,z.y-F.y]},ht.prototype.processOverlap=function(F){var z=this,et=this.isVertical(),St=this.isHorizontal();if(!(!et&&!St)){var Ft=this.get("label"),$t=this.get("title"),fe=this.get("verticalLimitLength"),de=Ft.offset,Me=fe,Le=0,Ze=0;$t&&(Le=$t.style.fontSize,Ze=$t.spacing),Me&&(Me=Me-de-Ze-Le);var qe=this.get("overlapOrder");if((0,x.each)(qe,function(Nr){Ft[Nr]&&z.autoProcessOverlap(Nr,Ft[Nr],F,Me)}),$t){var Mr=F.getBBox(),jr=et?Mr.width:Mr.height;(0,x.isNil)($t.offset)&&($t.offset=de+jr+Ze+Le/2)}}},ht.prototype.autoProcessOverlap=function(F,z,et,St){var Ft=this,$t=this.isVertical(),fe=!1,de=T[F];if(z===!0?fe=de.getDefault()($t,et,St):(0,x.isFunction)(z)?fe=z($t,et,St):de[z]&&(fe=de[z]($t,et,St)),F==="autoRotate"){if(fe){var Me=et.getChildren(),Le=this.get("verticalFactor");(0,x.each)(Me,function(qe){var Mr=qe.attr("textAlign");if(Mr==="center"){var jr=Le>0?"end":"start";qe.attr("textAlign",jr)}})}}else if(F==="autoHide"){var Ze=et.getChildren().slice(0);(0,x.each)(Ze,function(qe){qe.get("visible")||(Ft.get("isRegister")&&Ft.unregisterElement(qe),qe.remove())})}},ht}(Ue),Zi=Mi,Yr=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ht.prototype.getLinePath=function(){var F=this.get("center"),z=F.x,et=F.y,St=this.get("radius"),Ft=St,$t=this.get("startAngle"),fe=this.get("endAngle"),de=[];if(Math.abs(fe-$t)===Math.PI*2)de=[["M",z,et-Ft],["A",St,Ft,0,1,1,z,et+Ft],["A",St,Ft,0,1,1,z,et-Ft],["Z"]];else{var Me=this.getCirclePoint($t),Le=this.getCirclePoint(fe),Ze=Math.abs(fe-$t)>Math.PI?1:0,qe=$t>fe?0:1;de=[["M",z,et],["L",Me.x,Me.y],["A",St,Ft,0,Ze,qe,Le.x,Le.y],["L",z,et]]}return de},ht.prototype.getTickPoint=function(F){var z=this.get("startAngle"),et=this.get("endAngle"),St=z+(et-z)*F;return this.getCirclePoint(St)},ht.prototype.getSideVector=function(F,z){var et=this.get("center"),St=[z.x-et.x,z.y-et.y],Ft=this.get("verticalFactor"),$t=R.length(St);return R.scale(St,St,Ft*F/$t),St},ht.prototype.getAxisVector=function(F){var z=this.get("center"),et=[F.x-z.x,F.y-z.y];return[et[1],-1*et[0]]},ht.prototype.getCirclePoint=function(F,z){var et=this.get("center");return z=z||this.get("radius"),{x:et.x+Math.cos(F)*z,y:et.y+Math.sin(F)*z}},ht}(Ue),gi=Yr,Ei=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:je.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:je.textColor,textAlign:"center",textBaseline:"middle",fontFamily:je.fontFamily}},textBackground:{padding:5,style:{stroke:je.lineColor}}}})},ht.prototype.renderInner=function(F){this.get("line")&&this.renderLine(F),this.get("text")&&(this.renderText(F),this.renderBackground(F))},ht.prototype.renderText=function(F){var z=this.get("text"),et=z.style,St=z.autoRotate,Ft=z.content;if(!(0,x.isNil)(Ft)){var $t=this.getTextPoint(),fe=null;if(St){var de=this.getRotateAngle();fe=j($t,de)}this.addShape(F,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,w.__assign)((0,w.__assign)((0,w.__assign)({},$t),{text:Ft,matrix:fe}),et)})}},ht.prototype.renderLine=function(F){var z=this.getLinePath(),et=this.get("line"),St=et.style;this.addShape(F,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,w.__assign)({path:z},St)})},ht.prototype.renderBackground=function(F){var z=this.getElementId("text"),et=F.findById(z),St=this.get("textBackground");if(St&&et){var Ft=et.getBBox(),$t=qt(St.padding),fe=St.style,de=this.addShape(F,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,w.__assign)({x:Ft.x-$t[3],y:Ft.y-$t[0],width:Ft.width+$t[1]+$t[3],height:Ft.height+$t[0]+$t[2],matrix:et.attr("matrix")},fe)});de.toBack()}},ht}(W),yi=Ei,Pn=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{type:"line",locationType:"region",start:null,end:null})},ht.prototype.getRotateAngle=function(){var F=this.getLocation(),z=F.start,et=F.end,St=this.get("text").position,Ft=Math.atan2(et.y-z.y,et.x-z.x),$t=St==="start"?Ft-Math.PI/2:Ft+Math.PI/2;return $t},ht.prototype.getTextPoint=function(){var F=this.getLocation(),z=F.start,et=F.end,St=this.get("text"),Ft=St.position,$t=St.offset;return ne(z,et,Ft,$t)},ht.prototype.getLinePath=function(){var F=this.getLocation(),z=F.start,et=F.end;return[["M",z.x,z.y],["L",et.x,et.y]]},ht}(yi),vi=Pn,Ki=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ht.prototype.getRotateAngle=function(){var F=this.getLocation(),z=F.startAngle,et=F.endAngle,St=this.get("text").position,Ft=St==="start"?z+Math.PI/2:et-Math.PI/2;return Ft},ht.prototype.getTextPoint=function(){var F=this.get("text"),z=F.position,et=F.offset,St=this.getLocation(),Ft=St.center,$t=St.radius,fe=St.startAngle,de=St.endAngle,Me=z==="start"?fe:de,Le=this.getRotateAngle()-Math.PI,Ze=X(Ft,$t,Me),qe=Math.cos(Le)*et,Mr=Math.sin(Le)*et;return{x:Ze.x+qe,y:Ze.y+Mr}},ht.prototype.getLinePath=function(){var F=this.getLocation(),z=F.center,et=F.radius,St=F.startAngle,Ft=F.endAngle,$t=null;if(Ft-St==Math.PI*2){var fe=z.x,de=z.y;$t=[["M",fe,de-et],["A",et,et,0,1,1,fe,de+et],["A",et,et,0,1,1,fe,de-et],["Z"]]}else{var Me=X(z,et,St),Le=X(z,et,Ft),Ze=Math.abs(Ft-St)>Math.PI?1:0,qe=St>Ft?0:1;$t=[["M",Me.x,Me.y],["A",et,et,0,Ze,qe,Le.x,Le.y]]}return $t},ht}(yi),Bi=Ki,mi=d(6056),ii=d(45442),Xi=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},ht.prototype.getContainer=function(){return this.get("container")},ht.prototype.show=function(){var F=this.get("container");F.style.display="",this.set("visible",!0)},ht.prototype.hide=function(){var F=this.get("container");F.style.display="none",this.set("visible",!1)},ht.prototype.setCapture=function(F){var z=this.getContainer(),et=F?"auto":"none";z.style.pointerEvents=et,this.set("capture",F)},ht.prototype.getBBox=function(){var F=this.getContainer(),z=parseFloat(F.style.left)||0,et=parseFloat(F.style.top)||0;return Et(z,et,F.clientWidth,F.clientHeight)},ht.prototype.clear=function(){var F=this.get("container");Rt(F)},ht.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Kt.prototype.destroy.call(this)},ht.prototype.init=function(){Kt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},ht.prototype.initCapture=function(){this.setCapture(this.get("capture"))},ht.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},ht.prototype.initDom=function(){},ht.prototype.initContainer=function(){var F=this.get("container");if((0,x.isNil)(F)){F=this.createDom();var z=this.get("parent");(0,x.isString)(z)&&(z=document.getElementById(z),this.set("parent",z)),z.appendChild(F),this.set("container",F)}else(0,x.isString)(F)&&(F=document.getElementById(F),this.set("container",F));this.get("parent")||this.set("parent",F.parentNode)},ht.prototype.resetStyles=function(){var F=this.get("domStyles"),z=this.get("defaultStyles");F?F=(0,x.deepMix)({},z,F):F=z,this.set("domStyles",F)},ht.prototype.applyStyles=function(){var F=this.get("domStyles");if(!!F){var z=this.getContainer();this.applyChildrenStyles(z,F);var et=this.get("containerClassName");if(et&&at(z,et)){var St=F[et];(0,ii.Z)(z,St)}}},ht.prototype.applyChildrenStyles=function(F,z){(0,x.each)(z,function(et,St){var Ft=F.getElementsByClassName(St);(0,x.each)(Ft,function($t){(0,ii.Z)($t,et)})})},ht.prototype.applyStyle=function(F,z){var et=this.get("domStyles");(0,ii.Z)(z,et[F])},ht.prototype.createDom=function(){var F=this.get("containerTpl");return(0,mi.Z)(F)},ht.prototype.initEvent=function(){},ht.prototype.removeDom=function(){var F=this.get("container");F&&F.parentNode.removeChild(F)},ht.prototype.removeEvent=function(){},ht.prototype.updateInner=function(F){(0,x.hasKey)(F,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},ht.prototype.resetPosition=function(){},ht}(pt),fa=Xi,Bt="g2-crosshair",Ct=Bt+"-line",it=Bt+"-text",gt,Yt=(gt={},gt[""+Bt]={position:"relative"},gt[""+Ct]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},gt[""+it]={position:"absolute",color:je.textColor,fontFamily:je.fontFamily},gt),J=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Bt+'"></div>',crosshairTpl:'<div class="'+Ct+'"></div>',textTpl:'<span class="'+it+'">{content}</span>',domStyles:null,containerClassName:Bt,defaultStyles:Yt,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},ht.prototype.render=function(){this.resetText(),this.resetPosition()},ht.prototype.initCrossHair=function(){var F=this.getContainer(),z=this.get("crosshairTpl"),et=(0,mi.Z)(z);F.appendChild(et),this.applyStyle(Ct,et),this.set("crosshairEl",et)},ht.prototype.getTextPoint=function(){var F=this.getLocation(),z=F.start,et=F.end,St=this.get("text"),Ft=St.position,$t=St.offset;return ne(z,et,Ft,$t)},ht.prototype.resetText=function(){var F=this.get("text"),z=this.get("textEl");if(F){var et=F.content;if(!z){var St=this.getContainer(),Ft=(0,x.substitute)(this.get("textTpl"),F);z=(0,mi.Z)(Ft),St.appendChild(z),this.applyStyle(it,z),this.set("textEl",z)}z.innerHTML=et}else z&&z.remove()},ht.prototype.isVertical=function(F,z){return F.x===z.x},ht.prototype.resetPosition=function(){var F=this.get("crosshairEl");F||(this.initCrossHair(),F=this.get("crosshairEl"));var z=this.get("start"),et=this.get("end"),St=Math.min(z.x,et.x),Ft=Math.min(z.y,et.y);this.isVertical(z,et)?(0,ii.Z)(F,{width:"1px",height:zt(Math.abs(et.y-z.y))}):(0,ii.Z)(F,{height:"1px",width:zt(Math.abs(et.x-z.x))}),(0,ii.Z)(F,{top:zt(Ft),left:zt(St)}),this.alignText()},ht.prototype.alignText=function(){var F=this.get("textEl");if(F){var z=this.get("text").align,et=F.clientWidth,St=this.getTextPoint();switch(z){case"center":St.x=St.x-et/2;break;case"right":St.x=St.x-et;case"left":break}(0,ii.Z)(F,{top:zt(St.y),left:zt(St.x)})}},ht.prototype.updateInner=function(F){(0,x.hasKey)(F,"text")&&this.resetText(),Kt.prototype.updateInner.call(this,F)},ht}(fa),ft=J,yt=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:je.lineColor}}}})},ht.prototype.getLineType=function(){var F=this.get("line")||this.get("defaultCfg").line;return F.type},ht.prototype.renderInner=function(F){this.drawGrid(F)},ht.prototype.getAlternatePath=function(F,z){var et=this.getGridPath(F),St=z.slice(0).reverse(),Ft=this.getGridPath(St,!0),$t=this.get("closed");return $t?et=et.concat(Ft):(Ft[0][0]="L",et=et.concat(Ft),et.push(["Z"])),et},ht.prototype.getPathStyle=function(){return this.get("line").style},ht.prototype.drawGrid=function(F){var z=this,et=this.get("line"),St=this.get("items"),Ft=this.get("alternateColor"),$t=null;(0,x.each)(St,function(fe,de){var Me=fe.id||de;if(et){var Le=z.getPathStyle(),Ze=z.getElementId("line-"+Me),qe=z.getGridPath(fe.points);z.addShape(F,{type:"path",name:"grid-line",id:Ze,attrs:(0,x.mix)({path:qe},Le)})}if(Ft&&de>0){var Mr=z.getElementId("region-"+Me),jr=de%2==0;if((0,x.isString)(Ft))jr&&z.drawAlternateRegion(Mr,F,$t.points,fe.points,Ft);else{var Nr=jr?Ft[1]:Ft[0];z.drawAlternateRegion(Mr,F,$t.points,fe.points,Nr)}}$t=fe})},ht.prototype.drawAlternateRegion=function(F,z,et,St,Ft){var $t=this.getAlternatePath(et,St);this.addShape(z,{type:"path",id:F,name:"grid-region",attrs:{path:$t,fill:Ft}})},ht}(W),_t=yt;function Xt(Kt,ht,F,z){var et=F-Kt,St=z-ht;return Math.sqrt(et*et+St*St)}var Jt=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{type:"circle",center:null,closed:!0})},ht.prototype.getGridPath=function(F,z){var et=this.getLineType(),St=this.get("closed"),Ft=[];if(F.length)if(et==="circle"){var $t=this.get("center"),fe=F[0],de=Xt($t.x,$t.y,fe.x,fe.y),Me=z?0:1;St?(Ft.push(["M",$t.x,$t.y-de]),Ft.push(["A",de,de,0,0,Me,$t.x,$t.y+de]),Ft.push(["A",de,de,0,0,Me,$t.x,$t.y-de]),Ft.push(["Z"])):(0,x.each)(F,function(Le,Ze){Ze===0?Ft.push(["M",Le.x,Le.y]):Ft.push(["A",de,de,0,0,Me,Le.x,Le.y])})}else(0,x.each)(F,function(Le,Ze){Ze===0?Ft.push(["M",Le.x,Le.y]):Ft.push(["L",Le.x,Le.y])}),St&&Ft.push(["Z"]);return Ft},ht}(_t),pe=Jt,Ee=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{type:"line"})},ht.prototype.getGridPath=function(F){var z=[];return(0,x.each)(F,function(et,St){St===0?z.push(["M",et.x,et.y]):z.push(["L",et.x,et.y])}),z},ht}(_t),Be=Ee,xe=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},ht.prototype.getLayoutBBox=function(){var F=Kt.prototype.getLayoutBBox.call(this),z=this.get("x"),et=this.get("y"),St=this.get("offsetX"),Ft=this.get("offsetY"),$t=this.get("maxWidth"),fe=this.get("maxHeight"),de=z+St,Me=et+Ft,Le=F.maxX-de,Ze=F.maxY-Me;return $t&&(Le=Math.min(Le,$t)),fe&&(Ze=Math.min(Ze,fe)),Et(de,Me,Le,Ze)},ht.prototype.setLocation=function(F){this.set("x",F.x),this.set("y",F.y),this.resetLocation()},ht.prototype.resetLocation=function(){var F=this.get("x"),z=this.get("y"),et=this.get("offsetX"),St=this.get("offsetY");this.moveElementTo(this.get("group"),{x:F+et,y:z+St})},ht.prototype.applyOffset=function(){this.resetLocation()},ht.prototype.getDrawPoint=function(){return this.get("currentPoint")},ht.prototype.setDrawPoint=function(F){return this.set("currentPoint",F)},ht.prototype.renderInner=function(F){this.resetDraw(),this.get("title")&&this.drawTitle(F),this.drawLegendContent(F),this.get("background")&&this.drawBackground(F)},ht.prototype.drawBackground=function(F){var z=this.get("background"),et=F.getBBox(),St=qt(z.padding),Ft=(0,w.__assign)({x:0,y:0,width:et.width+St[1]+St[3],height:et.height+St[0]+St[2]},z.style),$t=this.addShape(F,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Ft});$t.toBack()},ht.prototype.drawTitle=function(F){var z=this.get("currentPoint"),et=this.get("title"),St=et.spacing,Ft=et.style,$t=et.text,fe=this.addShape(F,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,w.__assign)({text:$t,x:z.x,y:z.y},Ft)}),de=fe.getBBox();this.set("currentPoint",{x:z.x,y:de.maxY+St})},ht.prototype.resetDraw=function(){var F=this.get("background"),z={x:0,y:0};if(F){var et=qt(F.padding);z.x=et[3],z.y=et[0]}this.set("currentPoint",z)},ht}(W),Xe=xe,pr=function(Kt){(0,w.__extends)(ht,Kt);function ht(){var F=Kt!==null&&Kt.apply(this,arguments)||this;return F.currentPageIndex=1,F.totalPagesCnt=1,F.pageWidth=0,F.pageHeight=0,F.startX=0,F.startY=0,F.onNavigationBack=function(){var z=F.getElementByLocalId("item-group");if(F.currentPageIndex>1){F.currentPageIndex-=1,F.updateNavigation();var et=F.getCurrentNavigationMatrix();F.get("animate")?z.animate({matrix:et},100):z.attr({matrix:et})}},F.onNavigationAfter=function(){var z=F.getElementByLocalId("item-group");if(F.currentPageIndex<F.totalPagesCnt){F.currentPageIndex+=1,F.updateNavigation();var et=F.getCurrentNavigationMatrix();F.get("animate")?z.animate({matrix:et},100):z.attr({matrix:et})}},F}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:je.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:je.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:je.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:je.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:je.uncheckedColor},markerStyle:{fill:je.uncheckedColor,stroke:je.uncheckedColor}},inactive:{nameStyle:{fill:je.uncheckedColor},markerStyle:{opacity:.2}}}}})},ht.prototype.isList=function(){return!0},ht.prototype.getItems=function(){return this.get("items")},ht.prototype.setItems=function(F){this.update({items:F})},ht.prototype.updateItem=function(F,z){(0,x.mix)(F,z),this.clear(),this.render()},ht.prototype.clearItems=function(){var F=this.getElementByLocalId("item-group");F&&F.clear()},ht.prototype.setItemState=function(F,z,et){F[z]=et;var St=this.getElementByLocalId("item-"+F.id);if(St){var Ft=this.getItems(),$t=Ft.indexOf(F),fe=this.createOffScreenGroup(),de=this.drawItem(F,$t,this.getItemHeight(),fe);this.updateElements(de,St),this.clearUpdateStatus(St)}},ht.prototype.hasState=function(F,z){return!!F[z]},ht.prototype.getItemStates=function(F){var z=this.get("itemStates"),et=[];return(0,x.each)(z,function(St,Ft){F[Ft]&&et.push(Ft)}),et},ht.prototype.clearItemsState=function(F){var z=this,et=this.getItemsByState(F);(0,x.each)(et,function(St){z.setItemState(St,F,!1)})},ht.prototype.getItemsByState=function(F){var z=this,et=this.getItems();return(0,x.filter)(et,function(St){return z.hasState(St,F)})},ht.prototype.drawLegendContent=function(F){this.processItems(),this.drawItems(F)},ht.prototype.processItems=function(){var F=this.get("items");(0,x.each)(F,function(z){z.id||(z.id=z.name)})},ht.prototype.drawItems=function(F){var z=this,et=this.addGroup(F,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),St=this.addGroup(et,{id:this.getElementId("item-group"),name:"legend-item-group"}),Ft=this.getItemHeight(),$t=this.get("itemWidth"),fe=this.get("itemSpacing"),de=this.get("currentPoint"),Me=de.x,Le=de.y,Ze=this.get("layout"),qe=this.get("items"),Mr=!1,jr=0,Nr=this.get("maxWidth"),pn=this.get("maxHeight");(0,x.each)(qe,function(xn,yn){var kt=z.drawItem(xn,yn,Ft,St),se=kt.getBBox(),we=$t||se.width;we>jr&&(jr=we),Ze==="horizontal"?(Nr&&Nr<de.x+we-Me&&(Mr=!0,de.x=Me,de.y+=Ft),z.moveElementTo(kt,de),de.x+=we+fe):(pn&&pn<de.y+Ft-Le&&(Mr=!0,de.x+=jr+fe,de.y=Le,jr=0),z.moveElementTo(kt,de),de.y+=Ft)}),Mr&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Me,this.startY=Le,this.adjustNavigation(F,St))},ht.prototype.getItemHeight=function(){var F=this.get("itemHeight");if(!F){var z=this.get("itemName");z&&(F=z.style.fontSize+8)}return F},ht.prototype.drawMarker=function(F,z,et,St){var Ft=(0,w.__assign)((0,w.__assign)((0,w.__assign)({x:0,y:St/2},z.style),{symbol:(0,x.get)(et.marker,"symbol","circle")}),(0,x.get)(et.marker,"style",{})),$t=this.addShape(F,{type:"marker",id:this.getElementId("item-"+et.id+"-marker"),name:"legend-item-marker",attrs:Ft}),fe=$t.getBBox();$t.attr("x",fe.width/2);var de=$t.attr(),Me=de.stroke,Le=de.fill;return Me&&$t.set("isStroke",!0),Le&&$t.set("isFill",!0),$t},ht.prototype.drawItemText=function(F,z,et,St,Ft,$t,fe){var de=et.formatter,Me=(0,w.__assign)({x:$t,y:Ft/2,text:de?de(St[z],St,fe):St[z]},et.style);return this.addShape(F,{type:"text",id:this.getElementId("item-"+St.id+"-"+z),name:"legend-item-"+z,attrs:Me})},ht.prototype.drawItem=function(F,z,et,St){var Ft="item-"+F.id,$t=this.addGroup(St,{name:"legend-item-container",id:this.getElementId("item-container-"+Ft),delegateObject:{item:F,index:z}}),fe=this.addGroup($t,{name:"legend-item",id:this.getElementId(Ft),delegateObject:{item:F,index:z}}),de=this.get("marker"),Me=this.get("itemName"),Le=this.get("itemValue"),Ze=this.get("itemBackground"),qe=this.getLimitItemWidth(),Mr=0;if(de){var jr=this.drawMarker(fe,de,F,et);Mr=jr.getBBox().maxX+de.spacing}if(Me){var Nr=this.drawItemText(fe,"name",Me,F,et,Mr,z);qe&&Ne(!0,Nr,(0,x.clamp)(qe-Mr,0,qe)),Mr=Nr.getBBox().maxX+Me.spacing}if(Le){var pn=this.drawItemText(fe,"value",Le,F,et,Mr,z);qe&&(Le.alignRight?(pn.attr({textAlign:"right",x:qe}),Ne(!0,pn,(0,x.clamp)(qe-Mr,0,qe),"head")):Ne(!0,pn,(0,x.clamp)(qe-Mr,0,qe)))}if(Ze){var xn=fe.getBBox(),yn=this.addShape(fe,{type:"rect",name:"legend-item-background",id:this.getElementId(Ft+"-background"),attrs:(0,w.__assign)({x:0,y:0,width:xn.width,height:et},Ze.style)});yn.toBack()}return this.applyItemStates(F,fe),fe},ht.prototype.adjustNavigation=function(F,z){var et=this,St=this.startX,Ft=this.startY,$t=this.get("layout"),fe=z.findAll(function(we){return we.get("name")==="legend-item"}),de=this.get("maxWidth"),Me=this.get("maxHeight"),Le=this.get("itemWidth"),Ze=this.get("itemSpacing"),qe=this.getItemHeight(),Mr=this.drawNavigation(F,$t,"00/00",12),jr=Mr.getBBox(),Nr={x:St,y:Ft},pn=1,xn=0,yn=0,kt=0;if($t==="horizontal")this.pageHeight=qe,(0,x.each)(fe,function(we){var Te=we.getBBox(),He=Le||Te.width;(xn&&xn<Nr.x+He+Ze||de<Nr.x+He+Ze+jr.width)&&(pn===1&&(xn=Nr.x+Ze,et.pageWidth=xn,et.moveElementTo(Mr,{x:de-Ze-jr.width-jr.minX,y:Nr.y+qe/2-jr.height/2-jr.minY})),pn+=1,Nr.x=St,Nr.y+=qe),et.moveElementTo(we,Nr),we.getParent().setClip({type:"rect",attrs:{x:Nr.x,y:Nr.y,width:He+Ze,height:qe}}),Nr.x+=He+Ze});else{(0,x.each)(fe,function(we){var Te=we.getBBox();Te.width>yn&&(yn=Te.width)}),kt=yn,yn+=Ze,de&&(yn=Math.min(de,yn),kt=Math.min(de,kt)),this.pageWidth=yn,this.pageHeight=Me-Math.max(jr.height,qe);var se=Math.floor(this.pageHeight/qe);(0,x.each)(fe,function(we,Te){Te!==0&&Te%se==0&&(pn+=1,Nr.x+=yn,Nr.y=Ft),et.moveElementTo(we,Nr),we.getParent().setClip({type:"rect",attrs:{x:Nr.x,y:Nr.y,width:yn,height:qe}}),Nr.y+=qe}),this.totalPagesCnt=pn,this.moveElementTo(Mr,{x:St+kt/2-jr.width/2-jr.minX,y:Me-jr.height-jr.minY})}this.pageHeight&&this.pageWidth&&z.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=pn,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(Mr),z.attr("matrix",this.getCurrentNavigationMatrix())},ht.prototype.drawNavigation=function(F,z,et,St){var Ft={x:0,y:0},$t=this.addGroup(F,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),fe=this.drawArrow($t,Ft,"navigation-arrow-left",z==="horizontal"?"up":"left",St);fe.on("click",this.onNavigationBack);var de=fe.getBBox();Ft.x+=de.width+2;var Me=this.addShape($t,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Ft.x,y:Ft.y+St/2,text:et,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Le=Me.getBBox();Ft.x+=Le.width+2;var Ze=this.drawArrow($t,Ft,"navigation-arrow-right",z==="horizontal"?"down":"right",St);return Ze.on("click",this.onNavigationAfter),$t},ht.prototype.updateNavigation=function(F){var z=this.currentPageIndex+"/"+this.totalPagesCnt,et=F?F.getChildren()[1]:this.getElementByLocalId("navigation-text"),St=F?F.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Ft=F?F.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),$t=et.getBBox();et.attr("text",z);var fe=et.getBBox();et.attr("x",et.attr("x")-(fe.width-$t.width)/2),St.attr("opacity",this.currentPageIndex===1?.45:1),St.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Ft.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Ft.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},ht.prototype.drawArrow=function(F,z,et,St,Ft){var $t=z.x,fe=z.y,de={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Me=this.addShape(F,{type:"path",id:this.getElementId(et),name:et,attrs:{path:[["M",$t+Ft/2,fe],["L",$t,fe+Ft],["L",$t+Ft,fe+Ft],["Z"]],fill:"#000",cursor:"pointer"}});return Me.attr("matrix",j({x:$t+Ft/2,y:fe+Ft/2},de[St])),Me},ht.prototype.getCurrentNavigationMatrix=function(){var F=this,z=F.currentPageIndex,et=F.pageWidth,St=F.pageHeight,Ft=this.get("layout"),$t=Ft==="horizontal"?{x:0,y:St*(1-z)}:{x:et*(1-z),y:0};return V($t)},ht.prototype.applyItemStates=function(F,z){var et=this.getItemStates(F),St=et.length>0;if(St){var Ft=z.getChildren(),$t=this.get("itemStates");(0,x.each)(Ft,function(fe){var de=fe.get("name"),Me=de.split("-")[2],Le=Ce(F,Me,$t);Le&&(fe.attr(Le),Me==="marker"&&!(fe.get("isStroke")&&fe.get("isFill"))&&(fe.get("isStroke")&&fe.attr("fill",null),fe.get("isFill")&&fe.attr("stroke",null)))})}},ht.prototype.getLimitItemWidth=function(){var F=this.get("itemWidth"),z=this.get("maxItemWidth");return z?F&&(z=F<=z?F:z):F&&(z=F),z},ht}(Xe),wr=pr,Ir=1.4,lr=.4,er=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:je.textColor,textBaseline:"middle",fontFamily:je.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:je.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},ht.prototype.isSlider=function(){return!0},ht.prototype.getValue=function(){return this.getCurrentValue()},ht.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},ht.prototype.setRange=function(F,z){this.update({min:F,max:z})},ht.prototype.setValue=function(F){var z=this.getValue();this.set("value",F);var et=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(et),this.delegateEmit("valuechanged",{originValue:z,value:F})},ht.prototype.initEvent=function(){var F=this.get("group");this.bindSliderEvent(F),this.bindRailEvent(F),this.bindTrackEvent(F)},ht.prototype.drawLegendContent=function(F){this.drawRail(F),this.drawLabels(F),this.fixedElements(F),this.resetTrack(F),this.resetTrackClip(F),this.get("slidable")&&this.resetHandlers(F)},ht.prototype.bindSliderEvent=function(F){this.bindHandlersEvent(F)},ht.prototype.bindHandlersEvent=function(F){var z=this;F.on("legend-handler-min:drag",function(et){var St=z.getValueByCanvasPoint(et.x,et.y),Ft=z.getCurrentValue(),$t=Ft[1];$t<St&&($t=St),z.setValue([St,$t])}),F.on("legend-handler-max:drag",function(et){var St=z.getValueByCanvasPoint(et.x,et.y),Ft=z.getCurrentValue(),$t=Ft[0];$t>St&&($t=St),z.setValue([$t,St])})},ht.prototype.bindRailEvent=function(F){},ht.prototype.bindTrackEvent=function(F){var z=this,et=null;F.on("legend-track:dragstart",function(St){et={x:St.x,y:St.y}}),F.on("legend-track:drag",function(St){if(!!et){var Ft=z.getValueByCanvasPoint(et.x,et.y),$t=z.getValueByCanvasPoint(St.x,St.y),fe=z.getCurrentValue(),de=fe[1]-fe[0],Me=z.getRange(),Le=$t-Ft;Le<0?fe[0]+Le>Me.min?z.setValue([fe[0]+Le,fe[1]+Le]):z.setValue([Me.min,Me.min+de]):Le>0&&(Le>0&&fe[1]+Le<Me.max?z.setValue([fe[0]+Le,fe[1]+Le]):z.setValue([Me.max-de,Me.max])),et={x:St.x,y:St.y}}}),F.on("legend-track:dragend",function(St){et=null})},ht.prototype.drawLabels=function(F){this.drawLabel("min",F),this.drawLabel("max",F)},ht.prototype.drawLabel=function(F,z){var et=this.get("label"),St=et.style,Ft=et.align,$t=this.get(F),fe=this.getLabelAlignAttrs(F,Ft),de="label-"+F;this.addShape(z,{type:"text",id:this.getElementId(de),name:"legend-label-"+F,attrs:(0,w.__assign)((0,w.__assign)({x:0,y:0,text:$t},St),fe)})},ht.prototype.getLabelAlignAttrs=function(F,z){var et=this.isVertical(),St="center",Ft="middle";return et?(St="start",z!=="rail"?F==="min"?Ft="top":Ft="bottom":Ft="top"):z!=="rail"?(Ft="top",F==="min"?St="start":St="end"):(St="start",Ft="middle"),{textAlign:St,textBaseline:Ft}},ht.prototype.getRailPath=function(F,z,et,St){var Ft=this.get("rail"),$t=Ft.size,fe=Ft.defaultLength,de=Ft.type,Me=this.isVertical(),Le=fe,Ze=et,qe=St;Ze||(Ze=Me?$t:Le),qe||(qe=Me?Le:$t);var Mr=[];return de==="color"?(Mr.push(["M",F,z]),Mr.push(["L",F+Ze,z]),Mr.push(["L",F+Ze,z+qe]),Mr.push(["L",F,z+qe]),Mr.push(["Z"])):(Mr.push(["M",F+Ze,z]),Mr.push(["L",F+Ze,z+qe]),Mr.push(["L",F,z+qe]),Mr.push(["Z"])),Mr},ht.prototype.drawRail=function(F){var z=this.get("rail"),et=z.style;this.addShape(F,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,w.__assign)({path:this.getRailPath(0,0)},et)})},ht.prototype.getTrackColor=function(F){var z=F.length;if(!z)return null;if(z===1)return F[0];var et;this.isVertical()?et="l(90)":et="l(0)";for(var St=0;St<z;St++){var Ft=St/(z-1);et+=" "+Ft+":"+F[St]}return et},ht.prototype.getTrackPath=function(F){var z=this.getRailShape(F),et=z.attr("path");return(0,x.clone)(et)},ht.prototype.getClipTrackAttrs=function(F){var z=this.getCurrentValue(),et=z[0],St=z[1],Ft=this.getRailBBox(F),$t=this.getPointByValue(et,F),fe=this.getPointByValue(St,F),de=this.isVertical(),Me,Le,Ze,qe;return de?(Me=Ft.minX,Le=$t.y,Ze=Ft.width,qe=fe.y-$t.y):(Me=$t.x,Le=Ft.minY,Ze=fe.x-$t.x,qe=Ft.height),{x:Me,y:Le,width:Ze,height:qe}},ht.prototype.getTrackAttrs=function(F){var z=this.get("track"),et=this.get("colors"),St=this.getTrackPath(F);return(0,x.mix)({path:St,fill:this.getTrackColor(et)},z.style)},ht.prototype.resetTrackClip=function(F){var z=F||this.get("group"),et=this.getElementId("track"),St=z.findById(et),Ft=St.getClip(),$t=this.getClipTrackAttrs(F);Ft?Ft.attr($t):St.setClip({type:"rect",attrs:$t})},ht.prototype.resetTrack=function(F){var z=this.getElementId("track"),et=F.findById(z),St=this.getTrackAttrs(F);et?et.attr(St):this.addShape(F,{type:"path",id:z,draggable:this.get("slidable"),name:"legend-track",attrs:St})},ht.prototype.getPointByValue=function(F,z){var et=this.getRange(),St=et.min,Ft=et.max,$t=(F-St)/(Ft-St),fe=this.getRailBBox(z),de=this.isVertical(),Me={x:0,y:0};return de?(Me.x=fe.minX+fe.width/2,Me.y=dt(fe.minY,fe.maxY,$t)):(Me.x=dt(fe.minX,fe.maxX,$t),Me.y=fe.minY+fe.height/2),Me},ht.prototype.getRailShape=function(F){var z=F||this.get("group");return z.findById(this.getElementId("rail"))},ht.prototype.getRailBBox=function(F){var z=this.getRailShape(F),et=z.getBBox();return et},ht.prototype.getRailCanvasBBox=function(){var F=this.get("group"),z=F.findById(this.getElementId("rail")),et=z.getCanvasBBox();return et},ht.prototype.isVertical=function(){return this.get("layout")==="vertical"},ht.prototype.getValueByCanvasPoint=function(F,z){var et=this.getRange(),St=et.min,Ft=et.max,$t=this.getRailCanvasBBox(),fe=this.isVertical(),de=this.get("step"),Me;fe?Me=(z-$t.minY)/$t.height:Me=(F-$t.minX)/$t.width;var Le=dt(St,Ft,Me);if(de){var Ze=Math.round((Le-St)/de);Le=St+Ze*de}return Le>Ft&&(Le=Ft),Le<St&&(Le=St),Le},ht.prototype.getCurrentValue=function(){var F=this.get("value");return F||(F=[this.get("min"),this.get("max")]),F},ht.prototype.resetHandlers=function(F){var z=this.getCurrentValue(),et=z[0],St=z[1];this.resetHandler(F,"min",et),this.resetHandler(F,"max",St)},ht.prototype.getHandlerPath=function(F,z){var et=this.isVertical(),St=[],Ft=F.size,$t=z.x,fe=z.y,de=Ft*Ir,Me=Ft/2,Le=Ft/6;if(et){var Ze=$t+de*lr;St.push(["M",$t,fe]),St.push(["L",Ze,fe+Me]),St.push(["L",$t+de,fe+Me]),St.push(["L",$t+de,fe-Me]),St.push(["L",Ze,fe-Me]),St.push(["Z"]),St.push(["M",Ze,fe+Le]),St.push(["L",$t+de-2,fe+Le]),St.push(["M",Ze,fe-Le]),St.push(["L",$t+de-2,fe-Le])}else{var qe=fe+de*lr;St.push(["M",$t,fe]),St.push(["L",$t-Me,qe]),St.push(["L",$t-Me,fe+de]),St.push(["L",$t+Me,fe+de]),St.push(["L",$t+Me,qe]),St.push(["Z"]),St.push(["M",$t-Le,qe]),St.push(["L",$t-Le,fe+de-2]),St.push(["M",$t+Le,qe]),St.push(["L",$t+Le,fe+de-2])}return St},ht.prototype.resetHandler=function(F,z,et){var St=this.getPointByValue(et,F),Ft=this.get("handler"),$t=this.getHandlerPath(Ft,St),fe=this.getElementId("handler-"+z),de=F.findById(fe),Me=this.isVertical();de?de.attr("path",$t):this.addShape(F,{type:"path",name:"legend-handler-"+z,draggable:!0,id:fe,attrs:(0,w.__assign)((0,w.__assign)({path:$t},Ft.style),{cursor:Me?"ns-resize":"ew-resize"})})},ht.prototype.fixedElements=function(F){var z=F.findById(this.getElementId("rail")),et=F.findById(this.getElementId("label-min")),St=F.findById(this.getElementId("label-max")),Ft=this.getDrawPoint();this.isVertical()?this.fixedVertail(et,St,z,Ft):this.fixedHorizontal(et,St,z,Ft)},ht.prototype.fitRailLength=function(F,z,et,St){var Ft=this.isVertical(),$t=Ft?"height":"width",fe=this.get("label"),de=fe.align,Me=fe.spacing,Le=this.get("max"+(0,x.upperFirst)($t));if(Le){var Ze=de==="rail"?et[$t]+F[$t]+z[$t]+Me*2:et[$t],qe=Ze-Le;qe>0&&this.changeRailLength(St,$t,et[$t]-qe)}},ht.prototype.changeRailLength=function(F,z,et){var St=F.getBBox(),Ft;z==="height"?Ft=this.getRailPath(St.x,St.y,St.width,et):Ft=this.getRailPath(St.x,St.y,et,St.height),F.attr("path",Ft)},ht.prototype.changeRailPosition=function(F,z,et){var St=F.getBBox(),Ft=this.getRailPath(z,et,St.width,St.height);F.attr("path",Ft)},ht.prototype.fixedHorizontal=function(F,z,et,St){var Ft=this.get("label"),$t=Ft.align,fe=Ft.spacing,de=et.getBBox(),Me=F.getBBox(),Le=z.getBBox(),Ze=de.height;this.fitRailLength(Me,Le,de,et),de=et.getBBox(),$t==="rail"?(F.attr({x:St.x,y:St.y+Ze/2}),this.changeRailPosition(et,St.x+Me.width+fe,St.y),z.attr({x:St.x+Me.width+de.width+fe*2,y:St.y+Ze/2})):$t==="top"?(F.attr({x:St.x,y:St.y}),z.attr({x:St.x+de.width,y:St.y}),this.changeRailPosition(et,St.x,St.y+Me.height+fe)):(this.changeRailPosition(et,St.x,St.y),F.attr({x:St.x,y:St.y+de.height+fe}),z.attr({x:St.x+de.width,y:St.y+de.height+fe}))},ht.prototype.fixedVertail=function(F,z,et,St){var Ft=this.get("label"),$t=Ft.align,fe=Ft.spacing,de=et.getBBox(),Me=F.getBBox(),Le=z.getBBox();if(this.fitRailLength(Me,Le,de,et),de=et.getBBox(),$t==="rail")F.attr({x:St.x,y:St.y}),this.changeRailPosition(et,St.x,St.y+Me.height+fe),z.attr({x:St.x,y:St.y+Me.height+de.height+fe*2});else if($t==="right")F.attr({x:St.x+de.width+fe,y:St.y}),this.changeRailPosition(et,St.x,St.y),z.attr({x:St.x+de.width+fe,y:St.y+de.height});else{var Ze=Math.max(Me.width,Le.width);F.attr({x:St.x,y:St.y}),this.changeRailPosition(et,St.x+Ze+fe,St.y),z.attr({x:St.x,y:St.y+de.height})}},ht}(Xe),Vr=er,Sn=d(55223),mn="g2-tooltip",zn="g2-tooltip-title",At="g2-tooltip-list",st="g2-tooltip-list-item",Z="g2-tooltip-marker",rt="g2-tooltip-value",It="g2-tooltip-name",Vt="g2-tooltip-crosshair-x",he="g2-tooltip-crosshair-y",ue,ce=(ue={},ue[""+mn]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:je.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},ue[""+zn]={marginBottom:"4px"},ue[""+At]={margin:"0px",listStyleType:"none",padding:"0px"},ue[""+st]={listStyleType:"none",marginBottom:"4px"},ue[""+Z]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},ue[""+rt]={display:"inline-block",float:"right",marginLeft:"30px"},ue[""+Vt]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},ue[""+he]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},ue);function Re(Kt,ht,F,z,et){var St={left:Kt<et.x,right:Kt+F>et.x+et.width,top:ht<et.y,bottom:ht+z>et.y+et.height};return St}function ke(Kt,ht,F,z,et,St){var Ft=Kt,$t=ht;switch(St){case"left":Ft=Kt-z-F,$t=ht-et/2;break;case"right":Ft=Kt+F,$t=ht-et/2;break;case"top":Ft=Kt-z/2,$t=ht-et-F;break;case"bottom":Ft=Kt-z/2,$t=ht+F;break;default:Ft=Kt+F,$t=ht-et-F;break}return{x:Ft,y:$t}}function ze(Kt,ht,F,z,et,St,Ft){var $t=ke(Kt,ht,F,z,et,St);if(Ft){var fe=Re($t.x,$t.y,z,et,Ft);St==="auto"?(fe.right&&($t.x=Math.max(0,Kt-z-F)),fe.top&&($t.y=Math.max(0,ht-et-F))):St==="top"||St==="bottom"?(fe.left&&($t.x=Ft.x),fe.right&&($t.x=Ft.x+Ft.width-z),St==="top"&&fe.top&&($t.y=ht+F),St==="bottom"&&fe.bottom&&($t.y=ht-et-F)):(fe.top&&($t.y=Ft.y),fe.bottom&&($t.y=Ft.y+Ft.height-et),St==="left"&&fe.left&&($t.x=Kt+F),St==="right"&&fe.right&&($t.x=Kt-z-F))}return $t}function ir(Kt,ht){var F=!1;return(0,x.each)(ht,function(z){if((0,x.hasKey)(Kt,z))return F=!0,!1}),F}var sr=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+mn+'"><div class="'+zn+'"></div><ul class="'+At+'"></ul></div>',itemTpl:'<li class="'+st+`" data-index={index}>
          <span class="`+Z+`" style="background:{color}"></span>
          <span class="`+It+`">{name}</span>:
          <span class="`+rt+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Vt+'"></div>',yCrosshairTpl:'<div class="'+he+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:mn,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:ce})},ht.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},ht.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},ht.prototype.show=function(){var F=this.getContainer();!F||this.destroyed||(this.set("visible",!0),(0,ii.Z)(F,{visibility:"visible"}),this.setCrossHairsVisible(!0))},ht.prototype.hide=function(){var F=this.getContainer();!F||this.destroyed||(this.set("visible",!1),(0,ii.Z)(F,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},ht.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},ht.prototype.setLocation=function(F){this.set("x",F.x),this.set("y",F.y),this.resetPosition()},ht.prototype.setCrossHairsVisible=function(F){var z=F?"":"none",et=this.get("xCrosshairDom"),St=this.get("yCrosshairDom");et&&(0,ii.Z)(et,{display:z}),St&&(0,ii.Z)(St,{display:z})},ht.prototype.initContainer=function(){if(Kt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var F=this.getHtmlContentNode();this.get("parent").appendChild(F),this.set("container",F),this.resetStyles(),this.applyStyles()}},ht.prototype.updateInner=function(F){this.get("customContent")?this.renderCustomContent():(ir(F,["title","showTitle"])&&this.resetTitle(),(0,x.hasKey)(F,"items")&&this.renderItems()),Kt.prototype.updateInner.call(this,F)},ht.prototype.initDom=function(){this.cacheDoms()},ht.prototype.removeDom=function(){Kt.prototype.removeDom.call(this),this.clearCrosshairs()},ht.prototype.resetPosition=function(){var F=this.get("x"),z=this.get("y"),et=this.get("offset"),St=this.getOffset(),Ft=St.offsetX,$t=St.offsetY,fe=this.get("position"),de=this.get("region"),Me=this.getContainer(),Le=this.getBBox(),Ze=Le.width,qe=Le.height,Mr;de&&(Mr=vt(de));var jr=ze(F,z,et,Ze,qe,fe,Mr);(0,ii.Z)(Me,{left:zt(jr.x+Ft),top:zt(jr.y+$t)}),this.resetCrosshairs()},ht.prototype.renderCustomContent=function(){var F=this.getHtmlContentNode(),z=this.get("parent"),et=this.get("container");et&&et.parentNode===z?z.replaceChild(F,et):z.appendChild(F),this.set("container",F),this.resetStyles(),this.applyStyles()},ht.prototype.getHtmlContentNode=function(){var F,z=this.get("customContent");if(z){var et=z(this.get("title"),this.get("items"));(0,x.isElement)(et)?F=et:F=(0,mi.Z)(et)}return F},ht.prototype.cacheDoms=function(){var F=this.getContainer(),z=F.getElementsByClassName(zn)[0],et=F.getElementsByClassName(At)[0];this.set("titleDom",z),this.set("listDom",et)},ht.prototype.resetTitle=function(){var F=this.get("title"),z=this.get("showTitle");z&&F?this.setTitle(F):this.setTitle("")},ht.prototype.setTitle=function(F){var z=this.get("titleDom");z&&(z.innerText=F)},ht.prototype.resetCrosshairs=function(){var F=this.get("crosshairsRegion"),z=this.get("crosshairs");if(!F||!z)this.clearCrosshairs();else{var et=vt(F),St=this.get("xCrosshairDom"),Ft=this.get("yCrosshairDom");z==="x"?(this.resetCrosshair("x",et),Ft&&(Ft.remove(),this.set("yCrosshairDom",null))):z==="y"?(this.resetCrosshair("y",et),St&&(St.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",et),this.resetCrosshair("y",et)),this.setCrossHairsVisible(this.get("visible"))}},ht.prototype.resetCrosshair=function(F,z){var et=this.checkCrosshair(F),St=this.get(F);F==="x"?(0,ii.Z)(et,{left:zt(St),top:zt(z.y),height:zt(z.height)}):(0,ii.Z)(et,{top:zt(St),left:zt(z.x),width:zt(z.width)})},ht.prototype.checkCrosshair=function(F){var z=F+"CrosshairDom",et=F+"CrosshairTpl",St="CROSSHAIR_"+F.toUpperCase(),Ft=b[St],$t=this.get(z),fe=this.get("parent");return $t||($t=(0,mi.Z)(this.get(et)),this.applyStyle(Ft,$t),fe.appendChild($t),this.set(z,$t)),$t},ht.prototype.renderItems=function(){this.clearItemDoms();var F=this.get("items"),z=this.get("itemTpl"),et=this.get("listDom");et&&((0,x.each)(F,function(St){var Ft=Sn.default.toCSSGradient(St.color),$t=(0,w.__assign)((0,w.__assign)({},St),{color:Ft}),fe=(0,x.substitute)(z,$t),de=(0,mi.Z)(fe);et.appendChild(de)}),this.applyChildrenStyles(et,this.get("domStyles")))},ht.prototype.clearItemDoms=function(){this.get("listDom")&&Rt(this.get("listDom"))},ht.prototype.clearCrosshairs=function(){var F=this.get("xCrosshairDom"),z=this.get("yCrosshairDom");F&&F.remove(),z&&z.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},ht}(fa),We=sr,Or={opacity:0},Pr={stroke:"#C5C5C5",strokeOpacity:.85},$r={fill:"#CACED4",opacity:.85},Jr=d(57350),gr=d(2443);function cr(Kt){return(0,x.map)(Kt,function(ht,F){var z=F===0?"M":"L",et=ht[0],St=ht[1];return[z,et,St]})}function qr(Kt){return cr(Kt)}function In(Kt){if(Kt.length<=2)return qr(Kt);var ht=[];(0,x.each)(Kt,function(Ft){(0,x.isEqual)(Ft,ht.slice(ht.length-2))||ht.push(Ft[0],Ft[1])});var F=(0,Jr.catmullRom2Bezier)(ht,!1),z=(0,x.head)(Kt),et=z[0],St=z[1];return F.unshift(["M",et,St]),F}function Xn(Kt,ht,F,z){z===void 0&&(z=!0);var et=new gr.Linear({values:Kt}),St=new gr.Category({values:(0,x.map)(Kt,function($t,fe){return fe})}),Ft=(0,x.map)(Kt,function($t,fe){return[St.scale(fe)*ht,F-et.scale($t)*F]});return z?In(Ft):qr(Ft)}function aa(Kt,ht,F){var z=(0,w.__spreadArrays)(Kt);return z.push(["L",ht,0]),z.push(["L",0,F]),z.push(["Z"]),z}var La=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Or,lineStyle:Pr,areaStyle:$r})},ht.prototype.renderInner=function(F){var z=this.cfg,et=z.width,St=z.height,Ft=z.data,$t=z.smooth,fe=z.isArea,de=z.backgroundStyle,Me=z.lineStyle,Le=z.areaStyle;this.addShape(F,{id:this.getElementId("background"),type:"rect",attrs:(0,w.__assign)({x:0,y:0,width:et,height:St},de)});var Ze=Xn(Ft,et,St,$t);if(this.addShape(F,{id:this.getElementId("line"),type:"path",attrs:(0,w.__assign)({path:Ze},Me)}),fe){var qe=aa(Ze,et,St);this.addShape(F,{id:this.getElementId("area"),type:"path",attrs:(0,w.__assign)({path:qe},Le)})}},ht.prototype.applyOffset=function(){var F=this.cfg,z=F.x,et=F.y;this.moveElementTo(this.get("group"),{x:z,y:et})},ht}(W),Yo=null,Ha={fill:"#416180",opacity:.05},io={fill:"#5B8FF9",opacity:.15,cursor:"move"},Ia=10,Ai={width:Ia,height:24},wo={textBaseline:"middle",fill:"#000",opacity:.45},So="sliderchange",Wa={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Oa=function(Kt){(0,w.__extends)(ht,Kt);function ht(){return Kt!==null&&Kt.apply(this,arguments)||this}return ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"handler",x:0,y:0,width:10,height:24,style:Wa})},ht.prototype.renderInner=function(F){var z=this.cfg,et=z.width,St=z.height,Ft=z.style,$t=Ft.fill,fe=Ft.stroke,de=Ft.radius,Me=Ft.opacity,Le=Ft.cursor;this.addShape(F,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:et,height:St,fill:$t,stroke:fe,radius:de,opacity:Me,cursor:Le}});var Ze=1/3*et,qe=2/3*et,Mr=1/4*St,jr=3/4*St;this.addShape(F,{id:this.getElementId("line-left"),type:"line",attrs:{x1:Ze,y1:Mr,x2:Ze,y2:jr,stroke:fe,cursor:Le}}),this.addShape(F,{id:this.getElementId("line-right"),type:"line",attrs:{x1:qe,y1:Mr,x2:qe,y2:jr,stroke:fe,cursor:Le}})},ht.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ht.prototype.initEvent=function(){this.bindEvents()},ht.prototype.bindEvents=function(){var F=this;this.get("group").on("mouseenter",function(){var z=F.get("style").highLightFill;F.getElementByLocalId("background").attr("fill",z),F.draw()}),this.get("group").on("mouseleave",function(){var z=F.get("style").fill;F.getElementByLocalId("background").attr("fill",z),F.draw()})},ht.prototype.draw=function(){var F=this.get("container").get("canvas");F&&F.draw()},ht}(W),Dn=null,ao=function(Kt){(0,w.__extends)(ht,Kt);function ht(){var F=Kt!==null&&Kt.apply(this,arguments)||this;return F.onMouseDown=function(z){return function(et){F.currentTarget=z;var St=et.originalEvent;St.stopPropagation(),St.preventDefault(),F.prevX=(0,x.get)(St,"touches.0.pageX",St.pageX),F.prevY=(0,x.get)(St,"touches.0.pageY",St.pageY);var Ft=F.getContainerDOM();Ft.addEventListener("mousemove",F.onMouseMove),Ft.addEventListener("mouseup",F.onMouseUp),Ft.addEventListener("mouseleave",F.onMouseUp),Ft.addEventListener("touchmove",F.onMouseMove),Ft.addEventListener("touchend",F.onMouseUp),Ft.addEventListener("touchcancel",F.onMouseUp)}},F.onMouseMove=function(z){var et=F.cfg.width,St=[F.get("start"),F.get("end")];z.stopPropagation(),z.preventDefault();var Ft=(0,x.get)(z,"touches.0.pageX",z.pageX),$t=(0,x.get)(z,"touches.0.pageY",z.pageY),fe=Ft-F.prevX,de=F.adjustOffsetRange(fe/et);F.updateStartEnd(de),F.updateUI(F.getElementByLocalId("foreground"),F.getElementByLocalId("minText"),F.getElementByLocalId("maxText")),F.prevX=Ft,F.prevY=$t,F.draw(),F.emit(So,[F.get("start"),F.get("end")].sort()),F.delegateEmit("valuechanged",{originValue:St,value:[F.get("start"),F.get("end")]})},F.onMouseUp=function(){F.currentTarget&&(F.currentTarget=void 0);var z=F.getContainerDOM();z&&(z.removeEventListener("mousemove",F.onMouseMove),z.removeEventListener("mouseup",F.onMouseUp),z.removeEventListener("mouseleave",F.onMouseUp),z.removeEventListener("touchmove",F.onMouseMove),z.removeEventListener("touchend",F.onMouseUp),z.removeEventListener("touchcancel",F.onMouseUp))},F}return ht.prototype.setRange=function(F,z){this.set("minLimit",F),this.set("maxLimit",z);var et=this.get("start"),St=this.get("end"),Ft=(0,x.clamp)(et,F,z),$t=(0,x.clamp)(St,F,z);!this.get("isInit")&&(et!==Ft||St!==$t)&&this.setValue([Ft,$t])},ht.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},ht.prototype.setValue=function(F){var z=this.getRange();if((0,x.isArray)(F)&&F.length===2){var et=[this.get("start"),this.get("end")];this.update({start:(0,x.clamp)(F[0],z.min,z.max),end:(0,x.clamp)(F[1],z.min,z.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:et,value:F})}},ht.prototype.getValue=function(){return[this.get("start"),this.get("end")]},ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Ha,foregroundStyle:io,handlerStyle:Ai,textStyle:wo}})},ht.prototype.update=function(F){var z=F.start,et=F.end,St=(0,w.__assign)({},F);(0,x.isNil)(z)||(St.start=(0,x.clamp)(z,0,1)),(0,x.isNil)(et)||(St.end=(0,x.clamp)(et,0,1)),Kt.prototype.update.call(this,St),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},ht.prototype.init=function(){this.set("start",(0,x.clamp)(this.get("start"),0,1)),this.set("end",(0,x.clamp)(this.get("end"),0,1)),Kt.prototype.init.call(this)},ht.prototype.renderInner=function(F){var z=this.cfg,et=z.start,St=z.end,Ft=z.width,$t=z.height,fe=z.trendCfg,de=fe===void 0?{}:fe,Me=z.minText,Le=z.maxText,Ze=z.backgroundStyle,qe=Ze===void 0?{}:Ze,Mr=z.foregroundStyle,jr=Mr===void 0?{}:Mr,Nr=z.textStyle,pn=Nr===void 0?{}:Nr,xn=z.handlerStyle,yn=xn===void 0?{}:xn,kt=et*Ft,se=St*Ft;(0,x.size)((0,x.get)(de,"data"))&&this.addComponent(F,(0,w.__assign)({component:La,id:this.getElementId("trend"),x:0,y:0,width:Ft,height:$t},de)),this.addShape(F,{id:this.getElementId("background"),type:"rect",attrs:(0,w.__assign)({x:0,y:0,width:Ft,height:$t},qe)});var we=this.addShape(F,{id:this.getElementId("minText"),type:"text",attrs:(0,w.__assign)({y:$t/2,textAlign:"right",text:Me,silent:!1},pn)}),Te=this.addShape(F,{id:this.getElementId("maxText"),type:"text",attrs:(0,w.__assign)({y:$t/2,textAlign:"left",text:Le,silent:!1},pn)}),He=this.addShape(F,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,w.__assign)({y:0,height:$t},jr)}),yr=(0,x.get)(yn,"height",24);this.minHandler=this.addComponent(F,(0,w.__assign)({component:Oa,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:($t-yr)/2,width:Ft,height:yr,cursor:"ew-resize"},yn)),this.maxHandler=this.addComponent(F,(0,w.__assign)({component:Oa,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:($t-yr)/2,width:Ft,height:yr,cursor:"ew-resize"},yn)),this.updateUI(He,we,Te)},ht.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ht.prototype.initEvent=function(){this.bindEvents()},ht.prototype.updateUI=function(F,z,et){var St=this.cfg,Ft=St.start,$t=St.end,fe=St.width,de=St.minText,Me=St.maxText,Le=St.handlerStyle,Ze=Ft*fe,qe=$t*fe;F.attr("x",Ze),F.attr("width",qe-Ze);var Mr=(0,x.get)(Le,"width",Ia);z.attr("text",de),et.attr("text",Me);var jr=this._dodgeText([Ze,qe],z,et),Nr=jr[0],pn=jr[1];this.minHandler&&(this.minHandler.update({x:Ze-Mr/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,x.each)(Nr,function(xn,yn){return z.attr(yn,xn)}),this.maxHandler&&(this.maxHandler.update({x:qe-Mr/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,x.each)(pn,function(xn,yn){return et.attr(yn,xn)})},ht.prototype.bindEvents=function(){var F=this.get("group");F.on("handler-min:mousedown",this.onMouseDown("minHandler")),F.on("handler-min:touchstart",this.onMouseDown("minHandler")),F.on("handler-max:mousedown",this.onMouseDown("maxHandler")),F.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var z=F.findById(this.getElementId("foreground"));z.on("mousedown",this.onMouseDown("foreground")),z.on("touchstart",this.onMouseDown("foreground"))},ht.prototype.adjustOffsetRange=function(F){var z=this.cfg,et=z.start,St=z.end;switch(this.currentTarget){case"minHandler":{var Ft=0-et,$t=1-et;return Math.min($t,Math.max(Ft,F))}case"maxHandler":{var Ft=0-St,$t=1-St;return Math.min($t,Math.max(Ft,F))}case"foreground":{var Ft=0-et,$t=1-St;return Math.min($t,Math.max(Ft,F))}}},ht.prototype.updateStartEnd=function(F){var z=this.cfg,et=z.start,St=z.end;switch(this.currentTarget){case"minHandler":et+=F;break;case"maxHandler":St+=F;break;case"foreground":et+=F,St+=F;break}this.set("start",et),this.set("end",St)},ht.prototype._dodgeText=function(F,z,et){var St,Ft,$t=this.cfg,fe=$t.handlerStyle,de=$t.width,Me=2,Le=(0,x.get)(fe,"width",Ia),Ze=F[0],qe=F[1],Mr=!1;Ze>qe&&(St=[qe,Ze],Ze=St[0],qe=St[1],Ft=[et,z],z=Ft[0],et=Ft[1],Mr=!0);var jr=z.getBBox(),Nr=et.getBBox(),pn=jr.width>Ze-Me?{x:Ze+Le/2+Me,textAlign:"left"}:{x:Ze-Le/2-Me,textAlign:"right"},xn=Nr.width>de-qe-Me?{x:qe-Le/2-Me,textAlign:"right"}:{x:qe+Le/2+Me,textAlign:"left"};return Mr?[xn,pn]:[pn,xn]},ht.prototype.draw=function(){var F=this.get("container"),z=F&&F.get("canvas");z&&z.draw()},ht.prototype.getContainerDOM=function(){var F=this.get("container"),z=F&&F.get("canvas");return z&&z.get("container")},ht}(W),ai=null,On=d(57817),ja={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},En={default:ja,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Di=function(Kt){(0,w.__extends)(ht,Kt);function ht(){var F=Kt!==null&&Kt.apply(this,arguments)||this;return F.clearEvents=x.noop,F.onStartEvent=function(z){return function(et){F.isMobile=z,et.originalEvent.preventDefault();var St=z?(0,x.get)(et.originalEvent,"touches.0.clientX"):et.clientX,Ft=z?(0,x.get)(et.originalEvent,"touches.0.clientY"):et.clientY;F.startPos=F.cfg.isHorizontal?St:Ft,F.bindLaterEvent()}},F.bindLaterEvent=function(){var z=F.getContainerDOM(),et=[];F.isMobile?et=[(0,On.Z)(z,"touchmove",F.onMouseMove),(0,On.Z)(z,"touchend",F.onMouseUp),(0,On.Z)(z,"touchcancel",F.onMouseUp)]:et=[(0,On.Z)(z,"mousemove",F.onMouseMove),(0,On.Z)(z,"mouseup",F.onMouseUp),(0,On.Z)(z,"mouseleave",F.onMouseUp)],F.clearEvents=function(){et.forEach(function(St){St.remove()})}},F.onMouseMove=function(z){var et=F.cfg,St=et.isHorizontal,Ft=et.thumbOffset;z.preventDefault();var $t=F.isMobile?(0,x.get)(z,"touches.0.clientX"):z.clientX,fe=F.isMobile?(0,x.get)(z,"touches.0.clientY"):z.clientY,de=St?$t:fe,Me=de-F.startPos;F.startPos=de,F.updateThumbOffset(Ft+Me)},F.onMouseUp=function(z){z.preventDefault(),F.clearEvents()},F.onTrackClick=function(z){var et=F.cfg,St=et.isHorizontal,Ft=et.x,$t=et.y,fe=et.thumbLen,de=F.getContainerDOM(),Me=de.getBoundingClientRect(),Le=z.clientX,Ze=z.clientY,qe=St?Le-Me.left-Ft-fe/2:Ze-Me.top-$t-fe/2,Mr=F.validateRange(qe);F.updateThumbOffset(Mr)},F.onThumbMouseOver=function(){var z=F.cfg.theme.hover.thumbColor;F.getElementByLocalId("thumb").attr("stroke",z),F.draw()},F.onThumbMouseOut=function(){var z=F.cfg.theme.default.thumbColor;F.getElementByLocalId("thumb").attr("stroke",z),F.draw()},F}return ht.prototype.setRange=function(F,z){this.set("minLimit",F),this.set("maxLimit",z);var et=this.getValue(),St=(0,x.clamp)(et,F,z);et!==St&&!this.get("isInit")&&this.setValue(St)},ht.prototype.getRange=function(){var F=this.get("minLimit")||0,z=this.get("maxLimit")||1;return{min:F,max:z}},ht.prototype.setValue=function(F){var z=this.getRange(),et=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,x.clamp)(F,z.min,z.max)}),this.delegateEmit("valuechange",{originalValue:et,value:this.getValue()})},ht.prototype.getValue=function(){return(0,x.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},ht.prototype.getDefaultCfg=function(){var F=Kt.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},F),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:En})},ht.prototype.renderInner=function(F){this.renderTrackShape(F),this.renderThumbShape(F)},ht.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},ht.prototype.initEvent=function(){this.bindEvents()},ht.prototype.renderTrackShape=function(F){var z=this.cfg,et=z.trackLen,St=z.theme,Ft=St===void 0?{default:{}}:St,$t=Ft.default,fe=$t.lineCap,de=$t.trackColor,Me=$t.size,Le=this.get("isHorizontal")?{x1:0+Me/2,y1:Me/2,x2:et-Me/2,y2:Me/2,lineWidth:Me,stroke:de,lineCap:fe}:{x1:Me/2,y1:0+Me/2,x2:Me/2,y2:et-Me/2,lineWidth:Me,stroke:de,lineCap:fe};return this.addShape(F,{id:this.getElementId("track"),name:"track",type:"line",attrs:Le})},ht.prototype.renderThumbShape=function(F){var z=this.cfg,et=z.thumbOffset,St=z.thumbLen,Ft=z.theme,$t=Ft===void 0?{default:{}}:Ft,fe=$t.default,de=fe.size,Me=fe.lineCap,Le=fe.thumbColor,Ze=this.get("isHorizontal")?{x1:et+de/2,y1:de/2,x2:et+St-de/2,y2:de/2,lineWidth:de,stroke:Le,lineCap:Me,cursor:"default"}:{x1:de/2,y1:et+de/2,x2:de/2,y2:et+St-de/2,lineWidth:de,stroke:Le,lineCap:Me,cursor:"default"};return this.addShape(F,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:Ze})},ht.prototype.bindEvents=function(){var F=this.get("group");F.on("mousedown",this.onStartEvent(!1)),F.on("mouseup",this.onMouseUp),F.on("touchstart",this.onStartEvent(!0)),F.on("touchend",this.onMouseUp);var z=F.findById(this.getElementId("track"));z.on("click",this.onTrackClick);var et=F.findById(this.getElementId("thumb"));et.on("mouseover",this.onThumbMouseOver),et.on("mouseout",this.onThumbMouseOut)},ht.prototype.getContainerDOM=function(){var F=this.get("container"),z=F&&F.get("canvas");return z&&z.get("container")},ht.prototype.validateRange=function(F){var z=this.cfg,et=z.thumbLen,St=z.trackLen,Ft=F;return F+et>St?Ft=St-et:F+et<et&&(Ft=0),Ft},ht.prototype.draw=function(){var F=this.get("container"),z=F&&F.get("canvas");z&&z.draw()},ht.prototype.updateThumbOffset=function(F){var z=this.cfg,et=z.thumbOffset,St=z.isHorizontal,Ft=z.thumbLen,$t=z.size,fe=this.validateRange(F);if(fe!==et){var de=this.getElementByLocalId("thumb");St?de.attr({x1:fe+$t/2,x2:fe+Ft-$t/2}):de.attr({y1:fe+$t/2,y2:fe+Ft-$t/2}),this.emitOffsetChange(fe)}},ht.prototype.emitOffsetChange=function(F){var z=this.cfg,et=z.thumbOffset,St=z.trackLen,Ft=z.thumbLen;this.cfg.thumbOffset=F,this.emit("scrollchange",{thumbOffset:F,ratio:(0,x.clamp)(F/(St-Ft),0,1)}),this.delegateEmit("valuechange",{originalValue:et,value:F})},ht}(W)},15110:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60153),L=d(39014),I=d(49242),P={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},T=function(_){m.__extends(M,_);function M(E){var p=_.call(this,E)||this;return p.initCfg(),p}return M.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},M.prototype.clear=function(){},M.prototype.update=function(E){var p=this,b=this.get("defaultCfg");I.each(E,function(y,w){var x=p.get(w),A=y;x!==y&&(I.isObject(y)&&b[w]&&(A=I.deepMix({},b[w],y)),p.set(w,A))}),this.updateInner(E),this.afterUpdate(E)},M.prototype.updateInner=function(E){},M.prototype.afterUpdate=function(E){I.hasKey(E,"visible")&&(E.visible?this.show():this.hide()),I.hasKey(E,"capture")&&this.setCapture(E.capture)},M.prototype.getLayoutBBox=function(){return this.getBBox()},M.prototype.getLocationType=function(){return this.get("locationType")},M.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},M.prototype.setOffset=function(E,p){this.update({offsetX:E,offsetY:p})},M.prototype.setLocation=function(E){var p=m.__assign({},E);this.update(p)},M.prototype.getLocation=function(){var E=this,p={},b=this.get("locationType"),y=P[b];return I.each(y,function(w){p[w]=E.get(w)}),p},M.prototype.isList=function(){return!1},M.prototype.isSlider=function(){return!1},M.prototype.init=function(){},M.prototype.initCfg=function(){var E=this,p=this.get("defaultCfg");I.each(p,function(b,y){var w=E.get(y);if(I.isObject(w)){var x=I.deepMix({},b,w);E.set(y,x)}})},M}(L.Base);S.default=T},51964:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60153),L=d(80478),I=d(49242),P=d(11594),T=d(15110),_=function(M){m.__extends(E,M);function E(){return M!==null&&M.apply(this,arguments)||this}return E.prototype.getDefaultCfg=function(){var p=M.prototype.getDefaultCfg.call(this);return m.__assign(m.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},E.prototype.getContainer=function(){return this.get("container")},E.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},E.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},E.prototype.setCapture=function(p){var b=this.getContainer(),y=p?"auto":"none";b.style.pointerEvents=y,this.set("capture",p)},E.prototype.getBBox=function(){var p=this.getContainer(),b=parseFloat(p.style.left)||0,y=parseFloat(p.style.top)||0;return P.createBBox(b,y,p.clientWidth,p.clientHeight)},E.prototype.clear=function(){var p=this.get("container");P.clearDom(p)},E.prototype.destroy=function(){this.removeEvent(),this.removeDom(),M.prototype.destroy.call(this)},E.prototype.init=function(){M.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},E.prototype.initCapture=function(){this.setCapture(this.get("capture"))},E.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},E.prototype.initDom=function(){},E.prototype.initContainer=function(){var p=this.get("container");if(I.isNil(p)){p=this.createDom();var b=this.get("parent");I.isString(b)&&(b=document.getElementById(b),this.set("parent",b)),b.appendChild(p),this.set("container",p)}else I.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},E.prototype.resetStyles=function(){var p=this.get("domStyles"),b=this.get("defaultStyles");p?p=I.deepMix({},b,p):p=b,this.set("domStyles",p)},E.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var b=this.getContainer();this.applyChildrenStyles(b,p);var y=this.get("containerClassName");if(y&&P.hasClass(b,y)){var w=p[y];L.modifyCSS(b,w)}}},E.prototype.applyChildrenStyles=function(p,b){I.each(b,function(y,w){var x=p.getElementsByClassName(w);I.each(x,function(A){L.modifyCSS(A,y)})})},E.prototype.applyStyle=function(p,b){var y=this.get("domStyles");L.modifyCSS(b,y[p])},E.prototype.createDom=function(){var p=this.get("containerTpl");return L.createDom(p)},E.prototype.initEvent=function(){},E.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},E.prototype.removeEvent=function(){},E.prototype.updateInner=function(p){I.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},E.prototype.resetPosition=function(){},E}(T.default);S.default=_},7755:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(mt,S,d){"use strict";var m;Object.defineProperty(S,"__esModule",{value:!0});var L=d(52782),I=d(7755);S.default=(m={},m[""+I.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:L.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},m[""+I.TITLE_CLASS]={marginBottom:"4px"},m[""+I.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},m[""+I.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},m[""+I.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},m[""+I.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},m[""+I.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},m[""+I.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},m)},88373:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(60153),I=d(55223),P=d(80478),T=d(49242),_=d(51964),M=d(11594),E=d(7755),p=d(55225),b=d(51227);function y(x,A){var O=!1;return T.each(A,function(B){if(T.hasKey(x,B))return O=!0,!1}),O}var w=function(x){L.__extends(A,x);function A(){return x!==null&&x.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var O=x.prototype.getDefaultCfg.call(this);return L.__assign(L.__assign({},O),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+E.CONTAINER_CLASS+'"><div class="'+E.TITLE_CLASS+'"></div><ul class="'+E.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+E.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+E.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+E.NAME_CLASS+`">{name}</span>:
          <span class="`+E.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+E.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+E.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:E.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},A.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},A.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},A.prototype.show=function(){var O=this.getContainer();!O||this.destroyed||(this.set("visible",!0),P.modifyCSS(O,{visibility:"visible"}),this.setCrossHairsVisible(!0))},A.prototype.hide=function(){var O=this.getContainer();!O||this.destroyed||(this.set("visible",!1),P.modifyCSS(O,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},A.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},A.prototype.setLocation=function(O){this.set("x",O.x),this.set("y",O.y),this.resetPosition()},A.prototype.setCrossHairsVisible=function(O){var B=O?"":"none",R=this.get("xCrosshairDom"),Y=this.get("yCrosshairDom");R&&P.modifyCSS(R,{display:B}),Y&&P.modifyCSS(Y,{display:B})},A.prototype.initContainer=function(){if(x.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var O=this.getHtmlContentNode();this.get("parent").appendChild(O),this.set("container",O),this.resetStyles(),this.applyStyles()}},A.prototype.updateInner=function(O){this.get("customContent")?this.renderCustomContent():(y(O,["title","showTitle"])&&this.resetTitle(),T.hasKey(O,"items")&&this.renderItems()),x.prototype.updateInner.call(this,O)},A.prototype.initDom=function(){this.cacheDoms()},A.prototype.removeDom=function(){x.prototype.removeDom.call(this),this.clearCrosshairs()},A.prototype.resetPosition=function(){var O=this.get("x"),B=this.get("y"),R=this.get("offset"),Y=this.getOffset(),j=Y.offsetX,V=Y.offsetY,nt=this.get("position"),ct=this.get("region"),ut=this.getContainer(),Pt=this.getBBox(),Gt=Pt.width,qt=Pt.height,Rt;ct&&(Rt=M.regionToBBox(ct));var at=b.getAlignPoint(O,B,R,Gt,qt,nt,Rt);P.modifyCSS(ut,{left:M.toPx(at.x+j),top:M.toPx(at.y+V)}),this.resetCrosshairs()},A.prototype.renderCustomContent=function(){var O=this.getHtmlContentNode(),B=this.get("parent"),R=this.get("container");R&&R.parentNode===B?B.replaceChild(O,R):B.appendChild(O),this.set("container",O),this.resetStyles(),this.applyStyles()},A.prototype.getHtmlContentNode=function(){var O,B=this.get("customContent");if(B){var R=B(this.get("title"),this.get("items"));T.isElement(R)?O=R:O=P.createDom(R)}return O},A.prototype.cacheDoms=function(){var O=this.getContainer(),B=O.getElementsByClassName(E.TITLE_CLASS)[0],R=O.getElementsByClassName(E.LIST_CLASS)[0];this.set("titleDom",B),this.set("listDom",R)},A.prototype.resetTitle=function(){var O=this.get("title"),B=this.get("showTitle");B&&O?this.setTitle(O):this.setTitle("")},A.prototype.setTitle=function(O){var B=this.get("titleDom");B&&(B.innerText=O)},A.prototype.resetCrosshairs=function(){var O=this.get("crosshairsRegion"),B=this.get("crosshairs");if(!O||!B)this.clearCrosshairs();else{var R=M.regionToBBox(O),Y=this.get("xCrosshairDom"),j=this.get("yCrosshairDom");B==="x"?(this.resetCrosshair("x",R),j&&(j.remove(),this.set("yCrosshairDom",null))):B==="y"?(this.resetCrosshair("y",R),Y&&(Y.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",R),this.resetCrosshair("y",R)),this.setCrossHairsVisible(this.get("visible"))}},A.prototype.resetCrosshair=function(O,B){var R=this.checkCrosshair(O),Y=this.get(O);O==="x"?P.modifyCSS(R,{left:M.toPx(Y),top:M.toPx(B.y),height:M.toPx(B.height)}):P.modifyCSS(R,{top:M.toPx(Y),left:M.toPx(B.x),width:M.toPx(B.width)})},A.prototype.checkCrosshair=function(O){var B=O+"CrosshairDom",R=O+"CrosshairTpl",Y="CROSSHAIR_"+O.toUpperCase(),j=E[Y],V=this.get(B),nt=this.get("parent");return V||(V=P.createDom(this.get(R)),this.applyStyle(j,V),nt.appendChild(V),this.set(B,V)),V},A.prototype.renderItems=function(){this.clearItemDoms();var O=this.get("items"),B=this.get("itemTpl"),R=this.get("listDom");R&&(T.each(O,function(Y){var j=I.default.toCSSGradient(Y.color),V=L.__assign(L.__assign({},Y),{color:j}),nt=T.substitute(B,V),ct=P.createDom(nt);R.appendChild(ct)}),this.applyChildrenStyles(R,this.get("domStyles")))},A.prototype.clearItemDoms=function(){this.get("listDom")&&M.clearDom(this.get("listDom"))},A.prototype.clearCrosshairs=function(){var O=this.get("xCrosshairDom"),B=this.get("yCrosshairDom");O&&O.remove(),B&&B.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},A}(_.default);S.Z=w},51227:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function d(I,P,T,_,M){var E={left:I<M.x,right:I+T>M.x+M.width,top:P<M.y,bottom:P+_>M.y+M.height};return E}S.getOutSides=d;function m(I,P,T,_,M,E){var p=I,b=P;switch(E){case"left":p=I-_-T,b=P-M/2;break;case"right":p=I+T,b=P-M/2;break;case"top":p=I-_/2,b=P-M-T;break;case"bottom":p=I-_/2,b=P+T;break;default:p=I+T,b=P-M-T;break}return{x:p,y:b}}S.getPointByPosition=m;function L(I,P,T,_,M,E,p){var b=m(I,P,T,_,M,E);if(p){var y=d(b.x,b.y,_,M,p);E==="auto"?(y.right&&(b.x=Math.max(0,I-_-T)),y.top&&(b.y=Math.max(0,P-M-T))):E==="top"||E==="bottom"?(y.left&&(b.x=p.x),y.right&&(b.x=p.x+p.width-_),E==="top"&&y.top&&(b.y=P+T),E==="bottom"&&y.bottom&&(b.y=P-M-T)):(y.top&&(b.y=p.y),y.bottom&&(b.y=p.y+p.height-M),E==="left"&&y.left&&(b.x=I+T),E==="right"&&y.right&&(b.x=I-_-T))}return b}S.getAlignPoint=L},31207:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var m=d(66192);function L(I,P,T){var _=new m.default(P,T);_.target=I,_.propagationPath.push(I),I.emitDelegation(P,_);for(var M=I.getParent();M;)M.emitDelegation(P,_),_.propagationPath.push(M),M=M.getParent()}S.propagationDelegate=L},52782:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var m=d(49242);function L(R){var Y=0,j=0,V=0,nt=0;return m.isNumber(R)?Y=j=V=nt=R:m.isArray(R)&&(Y=R[0],V=m.isNil(R[1])?R[0]:R[1],nt=m.isNil(R[2])?R[0]:R[2],j=m.isNil(R[3])?V:R[3]),[Y,V,nt,j]}S.formatPadding=L;function I(R){for(var Y=R.childNodes,j=Y.length,V=j-1;V>=0;V--)R.removeChild(Y[V])}S.clearDom=I;function P(R,Y){return!!R.className.match(new RegExp("(\\s|^)"+Y+"(\\s|$)"))}S.hasClass=P;function T(R){var Y=R.start,j=R.end,V=Math.min(Y.x,j.x),nt=Math.min(Y.y,j.y),ct=Math.max(Y.x,j.x),ut=Math.max(Y.y,j.y);return{x:V,y:nt,minX:V,minY:nt,maxX:ct,maxY:ut,width:ct-V,height:ut-nt}}S.regionToBBox=T;function _(R){var Y=R.map(function(Pt){return Pt.x}),j=R.map(function(Pt){return Pt.y}),V=Math.min.apply(Math,Y),nt=Math.min.apply(Math,j),ct=Math.max.apply(Math,Y),ut=Math.max.apply(Math,j);return{x:V,y:nt,minX:V,minY:nt,maxX:ct,maxY:ut,width:ct-V,height:ut-nt}}S.pointsToBBox=_;function M(R,Y,j,V){return{x:R,y:Y,width:j,height:V,minX:R,minY:Y,maxX:R+j,maxY:Y+V}}S.createBBox=M;function E(R,Y,j){return(1-j)*R+Y*j}S.getValueByPercent=E;function p(R,Y,j){return{x:R.x+Math.cos(j)*Y,y:R.y+Math.sin(j)*Y}}S.getCirclePoint=p;function b(R,Y){var j=Y.x-R.x,V=Y.y-R.y;return Math.sqrt(j*j+V*V)}S.distance=b,S.wait=function(R){return new Promise(function(Y){setTimeout(Y,R)})},S.near=function(R,Y){return[R,Y].includes(Infinity)?Math.abs(R)===Math.abs(Y):Math.abs(R-Y)<Math.pow(Number.EPSILON,.5)};function y(R,Y){var j=Math.max(R.minX,Y.minX),V=Math.max(R.minY,Y.minY),nt=Math.min(R.maxX,Y.maxX),ct=Math.min(R.maxY,Y.maxY);return M(j,V,nt-j,ct-V)}S.intersectBBox=y;function w(R,Y){var j=Math.min(R.minX,Y.minX),V=Math.min(R.minY,Y.minY),nt=Math.max(R.maxX,Y.maxX),ct=Math.max(R.maxY,Y.maxY);return M(j,V,nt-j,ct-V)}S.mergeBBox=w;function x(R){var Y=R.getClip(),j=Y&&Y.getBBox(),V;if(!R.isGroup())V=R.getBBox();else{var nt=Infinity,ct=-Infinity,ut=Infinity,Pt=-Infinity,Gt=R.getChildren();Gt.length>0?m.each(Gt,function(qt){if(qt.get("visible")){if(qt.isGroup()&&qt.get("children").length===0)return!0;var Rt=x(qt),at=qt.applyToMatrix([Rt.minX,Rt.minY,1]),vt=qt.applyToMatrix([Rt.minX,Rt.maxY,1]),ot=qt.applyToMatrix([Rt.maxX,Rt.minY,1]),Et=qt.applyToMatrix([Rt.maxX,Rt.maxY,1]),dt=Math.min(at[0],vt[0],ot[0],Et[0]),X=Math.max(at[0],vt[0],ot[0],Et[0]),$=Math.min(at[1],vt[1],ot[1],Et[1]),H=Math.max(at[1],vt[1],ot[1],Et[1]);dt<nt&&(nt=dt),X>ct&&(ct=X),$<ut&&(ut=$),H>Pt&&(Pt=H)}}):(nt=0,ct=0,ut=0,Pt=0),V=M(nt,ut,ct-nt,Pt-ut)}return j?y(V,j):V}S.getBBoxWithClip=x;function A(R,Y){if(!(!R.getClip()&&!Y.getClip())){var j=Y.getClip();if(!j){R.setClip(null);return}var V={type:j.get("type"),attrs:j.attr()};R.setClip(V)}}S.updateClip=A;function O(R){return R+"px"}S.toPx=O;function B(R,Y,j,V){var nt=b(R,Y),ct=V/nt,ut=0;return j==="start"?ut=0-ct:j==="end"&&(ut=1+ct),{x:E(R.x,Y.x,ut),y:E(R.y,Y.y,ut)}}S.getTextPoint=B},50782:function(mt,S,d){"use strict";d.r(S),d.d(S,{Coordinate:function(){return X},getCoordinate:function(){return ne},registerCoordinate:function(){return ae}});var m=function(Dt,Tt){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pt,Q){pt.__proto__=Q}||function(pt,Q){for(var K in Q)Object.prototype.hasOwnProperty.call(Q,K)&&(pt[K]=Q[K])},m(Dt,Tt)};function L(Dt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Class extends value "+String(Tt)+" is not a constructor or null");m(Dt,Tt);function pt(){this.constructor=Dt}Dt.prototype=Tt===null?Object.create(Tt):(pt.prototype=Tt.prototype,new pt)}var I=function(){return I=Object.assign||function(Tt){for(var pt,Q=1,K=arguments.length;Q<K;Q++){pt=arguments[Q];for(var lt in pt)Object.prototype.hasOwnProperty.call(pt,lt)&&(Tt[lt]=pt[lt])}return Tt},I.apply(this,arguments)};function P(Dt,Tt){var pt={};for(var Q in Dt)Object.prototype.hasOwnProperty.call(Dt,Q)&&Tt.indexOf(Q)<0&&(pt[Q]=Dt[Q]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,Q=Object.getOwnPropertySymbols(Dt);K<Q.length;K++)Tt.indexOf(Q[K])<0&&Object.prototype.propertyIsEnumerable.call(Dt,Q[K])&&(pt[Q[K]]=Dt[Q[K]]);return pt}function T(Dt,Tt,pt,Q){var K=arguments.length,lt=K<3?Tt:Q===null?Q=Object.getOwnPropertyDescriptor(Tt,pt):Q,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")lt=Reflect.decorate(Dt,Tt,pt,Q);else for(var W=Dt.length-1;W>=0;W--)(U=Dt[W])&&(lt=(K<3?U(lt):K>3?U(Tt,pt,lt):U(Tt,pt))||lt);return K>3&&lt&&Object.defineProperty(Tt,pt,lt),lt}function _(Dt,Tt){return function(pt,Q){Tt(pt,Q,Dt)}}function M(Dt,Tt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Dt,Tt)}function E(Dt,Tt,pt,Q){function K(lt){return lt instanceof pt?lt:new pt(function(U){U(lt)})}return new(pt||(pt=Promise))(function(lt,U){function W(Wt){try{Lt(Q.next(Wt))}catch(oe){U(oe)}}function wt(Wt){try{Lt(Q.throw(Wt))}catch(oe){U(oe)}}function Lt(Wt){Wt.done?lt(Wt.value):K(Wt.value).then(W,wt)}Lt((Q=Q.apply(Dt,Tt||[])).next())})}function p(Dt,Tt){var pt={label:0,sent:function(){if(lt[0]&1)throw lt[1];return lt[1]},trys:[],ops:[]},Q,K,lt,U;return U={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function W(Lt){return function(Wt){return wt([Lt,Wt])}}function wt(Lt){if(Q)throw new TypeError("Generator is already executing.");for(;pt;)try{if(Q=1,K&&(lt=Lt[0]&2?K.return:Lt[0]?K.throw||((lt=K.return)&&lt.call(K),0):K.next)&&!(lt=lt.call(K,Lt[1])).done)return lt;switch(K=0,lt&&(Lt=[Lt[0]&2,lt.value]),Lt[0]){case 0:case 1:lt=Lt;break;case 4:return pt.label++,{value:Lt[1],done:!1};case 5:pt.label++,K=Lt[1],Lt=[0];continue;case 7:Lt=pt.ops.pop(),pt.trys.pop();continue;default:if(lt=pt.trys,!(lt=lt.length>0&&lt[lt.length-1])&&(Lt[0]===6||Lt[0]===2)){pt=0;continue}if(Lt[0]===3&&(!lt||Lt[1]>lt[0]&&Lt[1]<lt[3])){pt.label=Lt[1];break}if(Lt[0]===6&&pt.label<lt[1]){pt.label=lt[1],lt=Lt;break}if(lt&&pt.label<lt[2]){pt.label=lt[2],pt.ops.push(Lt);break}lt[2]&&pt.ops.pop(),pt.trys.pop();continue}Lt=Tt.call(Dt,pt)}catch(Wt){Lt=[6,Wt],K=0}finally{Q=lt=0}if(Lt[0]&5)throw Lt[1];return{value:Lt[0]?Lt[1]:void 0,done:!0}}}var b=Object.create?function(Dt,Tt,pt,Q){Q===void 0&&(Q=pt);var K=Object.getOwnPropertyDescriptor(Tt,pt);(!K||("get"in K?!Tt.__esModule:K.writable||K.configurable))&&(K={enumerable:!0,get:function(){return Tt[pt]}}),Object.defineProperty(Dt,Q,K)}:function(Dt,Tt,pt,Q){Q===void 0&&(Q=pt),Dt[Q]=Tt[pt]};function y(Dt,Tt){for(var pt in Dt)pt!=="default"&&!Object.prototype.hasOwnProperty.call(Tt,pt)&&b(Tt,Dt,pt)}function w(Dt){var Tt=typeof Symbol=="function"&&Symbol.iterator,pt=Tt&&Dt[Tt],Q=0;if(pt)return pt.call(Dt);if(Dt&&typeof Dt.length=="number")return{next:function(){return Dt&&Q>=Dt.length&&(Dt=void 0),{value:Dt&&Dt[Q++],done:!Dt}}};throw new TypeError(Tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(Dt,Tt){var pt=typeof Symbol=="function"&&Dt[Symbol.iterator];if(!pt)return Dt;var Q=pt.call(Dt),K,lt=[],U;try{for(;(Tt===void 0||Tt-- >0)&&!(K=Q.next()).done;)lt.push(K.value)}catch(W){U={error:W}}finally{try{K&&!K.done&&(pt=Q.return)&&pt.call(Q)}finally{if(U)throw U.error}}return lt}function A(){for(var Dt=[],Tt=0;Tt<arguments.length;Tt++)Dt=Dt.concat(x(arguments[Tt]));return Dt}function O(){for(var Dt=0,Tt=0,pt=arguments.length;Tt<pt;Tt++)Dt+=arguments[Tt].length;for(var Q=Array(Dt),K=0,Tt=0;Tt<pt;Tt++)for(var lt=arguments[Tt],U=0,W=lt.length;U<W;U++,K++)Q[K]=lt[U];return Q}function B(Dt,Tt,pt){if(pt||arguments.length===2)for(var Q=0,K=Tt.length,lt;Q<K;Q++)(lt||!(Q in Tt))&&(lt||(lt=Array.prototype.slice.call(Tt,0,Q)),lt[Q]=Tt[Q]);return Dt.concat(lt||Array.prototype.slice.call(Tt))}function R(Dt){return this instanceof R?(this.v=Dt,this):new R(Dt)}function Y(Dt,Tt,pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=pt.apply(Dt,Tt||[]),K,lt=[];return K={},U("next"),U("throw"),U("return"),K[Symbol.asyncIterator]=function(){return this},K;function U(Se){Q[Se]&&(K[Se]=function(Ye){return new Promise(function(te,ge){lt.push([Se,Ye,te,ge])>1||W(Se,Ye)})})}function W(Se,Ye){try{wt(Q[Se](Ye))}catch(te){oe(lt[0][3],te)}}function wt(Se){Se.value instanceof R?Promise.resolve(Se.value.v).then(Lt,Wt):oe(lt[0][2],Se)}function Lt(Se){W("next",Se)}function Wt(Se){W("throw",Se)}function oe(Se,Ye){Se(Ye),lt.shift(),lt.length&&W(lt[0][0],lt[0][1])}}function j(Dt){var Tt,pt;return Tt={},Q("next"),Q("throw",function(K){throw K}),Q("return"),Tt[Symbol.iterator]=function(){return this},Tt;function Q(K,lt){Tt[K]=Dt[K]?function(U){return(pt=!pt)?{value:R(Dt[K](U)),done:K==="return"}:lt?lt(U):U}:lt}}function V(Dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt=Dt[Symbol.asyncIterator],pt;return Tt?Tt.call(Dt):(Dt=typeof w=="function"?w(Dt):Dt[Symbol.iterator](),pt={},Q("next"),Q("throw"),Q("return"),pt[Symbol.asyncIterator]=function(){return this},pt);function Q(lt){pt[lt]=Dt[lt]&&function(U){return new Promise(function(W,wt){U=Dt[lt](U),K(W,wt,U.done,U.value)})}}function K(lt,U,W,wt){Promise.resolve(wt).then(function(Lt){lt({value:Lt,done:W})},U)}}function nt(Dt,Tt){return Object.defineProperty?Object.defineProperty(Dt,"raw",{value:Tt}):Dt.raw=Tt,Dt}var ct=Object.create?function(Dt,Tt){Object.defineProperty(Dt,"default",{enumerable:!0,value:Tt})}:function(Dt,Tt){Dt.default=Tt};function ut(Dt){if(Dt&&Dt.__esModule)return Dt;var Tt={};if(Dt!=null)for(var pt in Dt)pt!=="default"&&Object.prototype.hasOwnProperty.call(Dt,pt)&&b(Tt,Dt,pt);return ct(Tt,Dt),Tt}function Pt(Dt){return Dt&&Dt.__esModule?Dt:{default:Dt}}function Gt(Dt,Tt,pt,Q){if(pt==="a"&&!Q)throw new TypeError("Private accessor was defined without a getter");if(typeof Tt=="function"?Dt!==Tt||!Q:!Tt.has(Dt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return pt==="m"?Q:pt==="a"?Q.call(Dt):Q?Q.value:Tt.get(Dt)}function qt(Dt,Tt,pt,Q,K){if(Q==="m")throw new TypeError("Private method is not writable");if(Q==="a"&&!K)throw new TypeError("Private accessor was defined without a setter");if(typeof Tt=="function"?Dt!==Tt||!K:!Tt.has(Dt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Q==="a"?K.call(Dt,pt):K?K.value=pt:Tt.set(Dt,pt),pt}function Rt(Dt,Tt){if(Tt===null||typeof Tt!="object"&&typeof Tt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Dt=="function"?Tt===Dt:Dt.has(Tt)}var at=d(77160),vt=d(35600),ot=d(31506),Et=d(49242),dt=function(){function Dt(Tt){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var pt=Tt.start,Q=Tt.end,K=Tt.matrix,lt=K===void 0?[1,0,0,0,1,0,0,0,1]:K,U=Tt.isTransposed,W=U===void 0?!1:U;this.start=pt,this.end=Q,this.matrix=lt,this.originalMatrix=B([],lt),this.isTransposed=W}return Dt.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},Dt.prototype.update=function(Tt){(0,Et.assign)(this,Tt),this.initial()},Dt.prototype.convertDim=function(Tt,pt){var Q,K=this[pt],lt=K.start,U=K.end;return this.isReflect(pt)&&(Q=[U,lt],lt=Q[0],U=Q[1]),lt+Tt*(U-lt)},Dt.prototype.invertDim=function(Tt,pt){var Q,K=this[pt],lt=K.start,U=K.end;return this.isReflect(pt)&&(Q=[U,lt],lt=Q[0],U=Q[1]),(Tt-lt)/(U-lt)},Dt.prototype.applyMatrix=function(Tt,pt,Q){Q===void 0&&(Q=0);var K=this.matrix,lt=[Tt,pt,Q];return at.transformMat3(lt,lt,K),lt},Dt.prototype.invertMatrix=function(Tt,pt,Q){Q===void 0&&(Q=0);var K=this.matrix,lt=vt.invert([0,0,0,0,0,0,0,0,0],K),U=[Tt,pt,Q];return lt&&at.transformMat3(U,U,lt),U},Dt.prototype.convert=function(Tt){var pt=this.convertPoint(Tt),Q=pt.x,K=pt.y,lt=this.applyMatrix(Q,K,1);return{x:lt[0],y:lt[1]}},Dt.prototype.invert=function(Tt){var pt=this.invertMatrix(Tt.x,Tt.y,1);return this.invertPoint({x:pt[0],y:pt[1]})},Dt.prototype.rotate=function(Tt){var pt=this.matrix,Q=this.center;return ot.leftTranslate(pt,pt,[-Q.x,-Q.y]),ot.leftRotate(pt,pt,Tt),ot.leftTranslate(pt,pt,[Q.x,Q.y]),this},Dt.prototype.reflect=function(Tt){return Tt==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},Dt.prototype.scale=function(Tt,pt){var Q=this.matrix,K=this.center;return ot.leftTranslate(Q,Q,[-K.x,-K.y]),ot.leftScale(Q,Q,[Tt,pt]),ot.leftTranslate(Q,Q,[K.x,K.y]),this},Dt.prototype.translate=function(Tt,pt){var Q=this.matrix;return ot.leftTranslate(Q,Q,[Tt,pt]),this},Dt.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},Dt.prototype.getCenter=function(){return this.center},Dt.prototype.getWidth=function(){return this.width},Dt.prototype.getHeight=function(){return this.height},Dt.prototype.getRadius=function(){return this.radius},Dt.prototype.isReflect=function(Tt){return Tt==="x"?this.isReflectX:this.isReflectY},Dt.prototype.resetMatrix=function(Tt){this.matrix=Tt||B([],this.originalMatrix)},Dt}(),X=dt,$=function(Dt){L(Tt,Dt);function Tt(pt){var Q=Dt.call(this,pt)||this;return Q.isRect=!0,Q.type="cartesian",Q.initial(),Q}return Tt.prototype.initial=function(){Dt.prototype.initial.call(this);var pt=this.start,Q=this.end;this.x={start:pt.x,end:Q.x},this.y={start:pt.y,end:Q.y}},Tt.prototype.convertPoint=function(pt){var Q,K=pt.x,lt=pt.y;return this.isTransposed&&(Q=[lt,K],K=Q[0],lt=Q[1]),{x:this.convertDim(K,"x"),y:this.convertDim(lt,"y")}},Tt.prototype.invertPoint=function(pt){var Q,K=this.invertDim(pt.x,"x"),lt=this.invertDim(pt.y,"y");return this.isTransposed&&(Q=[lt,K],K=Q[0],lt=Q[1]),{x:K,y:lt}},Tt}(X),H=$,f=d(31437),xt=function(Dt){L(Tt,Dt);function Tt(pt){var Q=Dt.call(this,pt)||this;Q.isHelix=!0,Q.type="helix";var K=pt.startAngle,lt=K===void 0?1.25*Math.PI:K,U=pt.endAngle,W=U===void 0?7.25*Math.PI:U,wt=pt.innerRadius,Lt=wt===void 0?0:wt,Wt=pt.radius;return Q.startAngle=lt,Q.endAngle=W,Q.innerRadius=Lt,Q.radius=Wt,Q.initial(),Q}return Tt.prototype.initial=function(){Dt.prototype.initial.call(this);var pt=(this.endAngle-this.startAngle)/(2*Math.PI)+1,Q=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(Q=Q*this.radius),this.d=Math.floor(Q*(1-this.innerRadius)/pt),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*Q,end:this.innerRadius*Q+this.d*.99}},Tt.prototype.convertPoint=function(pt){var Q,K=pt.x,lt=pt.y;this.isTransposed&&(Q=[lt,K],K=Q[0],lt=Q[1]);var U=this.convertDim(K,"x"),W=this.a*U,wt=this.convertDim(lt,"y");return{x:this.center.x+Math.cos(U)*(W+wt),y:this.center.y+Math.sin(U)*(W+wt)}},Tt.prototype.invertPoint=function(pt){var Q,K=this.d+this.y.start,lt=f.subtract([0,0],[pt.x,pt.y],[this.center.x,this.center.y]),U=ot.angleTo(lt,[1,0],!0),W=U*this.a;f.length(lt)<W&&(W=f.length(lt));var wt=Math.floor((f.length(lt)-W)/K);U=2*wt*Math.PI+U;var Lt=this.a*U,Wt=f.length(lt)-Lt;Wt=(0,Et.isNumberEqual)(Wt,0)?0:Wt;var oe=this.invertDim(U,"x"),Se=this.invertDim(Wt,"y");return oe=(0,Et.isNumberEqual)(oe,0)?0:oe,Se=(0,Et.isNumberEqual)(Se,0)?0:Se,this.isTransposed&&(Q=[Se,oe],oe=Q[0],Se=Q[1]),{x:oe,y:Se}},Tt}(X),Mt=xt,Ut=function(Dt){L(Tt,Dt);function Tt(pt){var Q=Dt.call(this,pt)||this;Q.isPolar=!0,Q.type="polar";var K=pt.startAngle,lt=K===void 0?-Math.PI/2:K,U=pt.endAngle,W=U===void 0?Math.PI*3/2:U,wt=pt.innerRadius,Lt=wt===void 0?0:wt,Wt=pt.radius;return Q.startAngle=lt,Q.endAngle=W,Q.innerRadius=Lt,Q.radius=Wt,Q.initial(),Q}return Tt.prototype.initial=function(){for(Dt.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var pt=this.getOneBox(),Q=pt.maxX-pt.minX,K=pt.maxY-pt.minY,lt=Math.abs(pt.minX)/Q,U=Math.abs(pt.minY)/K,W;this.height/K>this.width/Q?(W=this.width/Q,this.circleCenter={x:this.center.x-(.5-lt)*this.width,y:this.center.y-(.5-U)*W*K}):(W=this.height/K,this.circleCenter={x:this.center.x-(.5-lt)*W*Q,y:this.center.y-(.5-U)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=W*this.radius:(this.radius<=0||this.radius>W)&&(this.polarRadius=W):this.polarRadius=W,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},Tt.prototype.getRadius=function(){return this.polarRadius},Tt.prototype.convertPoint=function(pt){var Q,K=this.getCenter(),lt=pt.x,U=pt.y;return this.isTransposed&&(Q=[U,lt],lt=Q[0],U=Q[1]),lt=this.convertDim(lt,"x"),U=this.convertDim(U,"y"),{x:K.x+Math.cos(lt)*U,y:K.y+Math.sin(lt)*U}},Tt.prototype.invertPoint=function(pt){var Q,K=this.getCenter(),lt=[pt.x-K.x,pt.y-K.y],U=this,W=U.startAngle,wt=U.endAngle;this.isReflect("x")&&(Q=[wt,W],W=Q[0],wt=Q[1]);var Lt=[1,0,0,0,1,0,0,0,1];ot.leftRotate(Lt,Lt,W);var Wt=[1,0,0];at.transformMat3(Wt,Wt,Lt);var oe=[Wt[0],Wt[1]],Se=ot.angleTo(oe,lt,wt<W);(0,Et.isNumberEqual)(Se,Math.PI*2)&&(Se=0);var Ye=f.length(lt),te=Se/(wt-W);te=wt-W>0?te:-te;var ge=this.invertDim(Ye,"y"),_e={x:0,y:0};return _e.x=this.isTransposed?ge:te,_e.y=this.isTransposed?te:ge,_e},Tt.prototype.getCenter=function(){return this.circleCenter},Tt.prototype.getOneBox=function(){var pt=this.startAngle,Q=this.endAngle;if(Math.abs(Q-pt)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var K=[0,Math.cos(pt),Math.cos(Q)],lt=[0,Math.sin(pt),Math.sin(Q)],U=Math.min(pt,Q);U<Math.max(pt,Q);U+=Math.PI/18)K.push(Math.cos(U)),lt.push(Math.sin(U));return{minX:Math.min.apply(Math,K),maxX:Math.max.apply(Math,K),minY:Math.min.apply(Math,lt),maxY:Math.max.apply(Math,lt)}},Tt}(X),re=Ut,zt={},ne=function(Dt){return zt[Dt.toLowerCase()]},ae=function(Dt,Tt){zt[Dt.toLowerCase()]=Tt};ae("rect",H),ae("cartesian",H),ae("polar",re),ae("helix",Mt)},57817:function(mt,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(L,I,P){if(L){if(typeof L.addEventListener=="function")return L.addEventListener(I,P,!1),{remove:function(){L.removeEventListener(I,P,!1)}};if(typeof L.attachEvent=="function")return L.attachEvent("on"+I,P),{remove:function(){L.detachEvent("on"+I,P)}}}}},6056:function(mt,S,d){"use strict";d.d(S,{Z:function(){return _}});var m,L,I,P;function T(){m=document.createElement("table"),L=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,P={tr:document.createElement("tbody"),tbody:m,thead:m,tfoot:m,td:L,th:L,"*":document.createElement("div")}}function _(M){m||T();var E=I.test(M)&&RegExp.$1;(!E||!(E in P))&&(E="*");var p=P[E];M=typeof M=="string"?M.replace(/(^\s*)|(\s*$)/g,""):M,p.innerHTML=""+M;var b=p.childNodes[0];return b&&p.contains(b)&&p.removeChild(b),b}},10430:function(mt,S,d){"use strict";d.d(S,{Z:function(){return L}});var m=d(99911);function L(I,P){var T=(0,m.Z)(I,"height",P);return T==="auto"&&(T=I.offsetHeight),parseFloat(T)}},79189:function(mt,S,d){"use strict";d.d(S,{Z:function(){return I}});var m=d(99911),L=d(10430);function I(P,T){var _=(0,L.Z)(P,T),M=parseFloat((0,m.Z)(P,"borderTopWidth"))||0,E=parseFloat((0,m.Z)(P,"paddingTop"))||0,p=parseFloat((0,m.Z)(P,"paddingBottom"))||0,b=parseFloat((0,m.Z)(P,"borderBottomWidth"))||0,y=parseFloat((0,m.Z)(P,"marginTop"))||0,w=parseFloat((0,m.Z)(P,"marginBottom"))||0;return _+M+b+E+p+y+w}},89810:function(mt,S,d){"use strict";d.d(S,{Z:function(){return I}});var m=d(99911),L=d(23408);function I(P,T){var _=(0,L.Z)(P,T),M=parseFloat((0,m.Z)(P,"borderLeftWidth"))||0,E=parseFloat((0,m.Z)(P,"paddingLeft"))||0,p=parseFloat((0,m.Z)(P,"paddingRight"))||0,b=parseFloat((0,m.Z)(P,"borderRightWidth"))||0,y=parseFloat((0,m.Z)(P,"marginRight"))||0,w=parseFloat((0,m.Z)(P,"marginLeft"))||0;return _+M+b+E+p+w+y}},99911:function(mt,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(L,I,P){var T;try{T=window.getComputedStyle?window.getComputedStyle(L,null)[I]:L.style[I]}catch(_){}finally{T=T===void 0?P:T}return T}},23408:function(mt,S,d){"use strict";d.d(S,{Z:function(){return L}});var m=d(99911);function L(I,P){var T=(0,m.Z)(I,"width",P);return T==="auto"&&(T=I.offsetWidth),parseFloat(T)}},80478:function(mt,S,d){"use strict";d.r(S),d.d(S,{addEventListener:function(){return m.Z},createDom:function(){return L.Z},getHeight:function(){return I.Z},getOuterHeight:function(){return P.Z},getOuterWidth:function(){return T.Z},getRatio:function(){return _},getStyle:function(){return M.Z},getWidth:function(){return E.Z},modifyCSS:function(){return p.Z}});var m=d(57817),L=d(6056),I=d(10430),P=d(79189),T=d(89810);function _(){return window.devicePixelRatio?window.devicePixelRatio:2}var M=d(99911),E=d(23408),p=d(45442)},45442:function(mt,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(L,I){if(L)for(var P in I)I.hasOwnProperty(P)&&(L.style[P]=I[P]);return L}},73136:function(mt,S){"use strict";var d;d={value:!0};function m(L,I,P){if(L){if(typeof L.addEventListener=="function")return L.addEventListener(I,P,!1),{remove:function(){L.removeEventListener(I,P,!1)}};if(typeof L.attachEvent=="function")return L.attachEvent("on"+I,P),{remove:function(){L.detachEvent("on"+I,P)}}}}S.Z=m},57821:function(mt,S){"use strict";var d;d={value:!0};var m,L,I,P;function T(){m=document.createElement("table"),L=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,P={tr:document.createElement("tbody"),tbody:m,thead:m,tfoot:m,td:L,th:L,"*":document.createElement("div")}}function _(M){m||T();var E=I.test(M)&&RegExp.$1;(!E||!(E in P))&&(E="*");var p=P[E];M=typeof M=="string"?M.replace(/(^\s*)|(\s*$)/g,""):M,p.innerHTML=""+M;var b=p.childNodes[0];return b&&p.contains(b)&&p.removeChild(b),b}S.Z=_},1513:function(mt,S){"use strict";var d;d={value:!0};function m(L,I){if(L)for(var P in I)I.hasOwnProperty(P)&&(L.style[P]=I[P]);return L}S.Z=m},90494:function(mt,S,d){"use strict";d.r(S);var m="*",L=function(){function I(){this._events={}}return I.prototype.on=function(P,T,_){return this._events[P]||(this._events[P]=[]),this._events[P].push({callback:T,once:!!_}),this},I.prototype.once=function(P,T){return this.on(P,T,!0)},I.prototype.emit=function(P){for(var T=this,_=[],M=1;M<arguments.length;M++)_[M-1]=arguments[M];var E=this._events[P]||[],p=this._events[m]||[],b=function(y){for(var w=y.length,x=0;x<w;x++)if(!!y[x]){var A=y[x],O=A.callback,B=A.once;B&&(y.splice(x,1),y.length===0&&delete T._events[P],w--,x--),O.apply(T,_)}};b(E),b(p)},I.prototype.off=function(P,T){if(!P)this._events={};else if(!T)delete this._events[P];else{for(var _=this._events[P]||[],M=_.length,E=0;E<M;E++)_[E].callback===T&&(_.splice(E,1),M--,E--);_.length===0&&delete this._events[P]}return this},I.prototype.getEvents=function(){return this._events},I}();S.default=L},39014:function(mt,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return vi},AbstractGroup:function(){return Bi},AbstractShape:function(){return ii},Base:function(){return Ye},Event:function(){return zt},PathUtil:function(){return m},version:function(){return fa}});var m={};d.r(m),d.d(m,{catmullRomToBezier:function(){return M},fillPath:function(){return dt},fillPathByDiff:function(){return f},formatPath:function(){return Ut},intersection:function(){return at},parsePathArray:function(){return O},parsePathString:function(){return _},pathToAbsolute:function(){return p},pathToCurve:function(){return x},rectPath:function(){return nt}});var L=d(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,P=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),_=function(Bt){if(!Bt)return null;if((0,L.isArray)(Bt))return Bt;var Ct={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},it=[];return String(Bt).replace(P,function(gt,Yt,J){var ft=[],yt=Yt.toLowerCase();if(J.replace(T,function(_t,Xt){Xt&&ft.push(+Xt)}),yt==="m"&&ft.length>2&&(it.push([Yt].concat(ft.splice(0,2))),yt="l",Yt=Yt==="m"?"l":"L"),yt==="o"&&ft.length===1&&it.push([Yt,ft[0]]),yt==="r")it.push([Yt].concat(ft));else for(;ft.length>=Ct[yt]&&(it.push([Yt].concat(ft.splice(0,Ct[yt]))),!!Ct[yt]););return Bt}),it},M=function(Bt,Ct){for(var it=[],gt=0,Yt=Bt.length;Yt-2*!Ct>gt;gt+=2){var J=[{x:+Bt[gt-2],y:+Bt[gt-1]},{x:+Bt[gt],y:+Bt[gt+1]},{x:+Bt[gt+2],y:+Bt[gt+3]},{x:+Bt[gt+4],y:+Bt[gt+5]}];Ct?gt?Yt-4===gt?J[3]={x:+Bt[0],y:+Bt[1]}:Yt-2===gt&&(J[2]={x:+Bt[0],y:+Bt[1]},J[3]={x:+Bt[2],y:+Bt[3]}):J[0]={x:+Bt[Yt-2],y:+Bt[Yt-1]}:Yt-4===gt?J[3]=J[2]:gt||(J[0]={x:+Bt[gt],y:+Bt[gt+1]}),it.push(["C",(-J[0].x+6*J[1].x+J[2].x)/6,(-J[0].y+6*J[1].y+J[2].y)/6,(J[1].x+6*J[2].x-J[3].x)/6,(J[1].y+6*J[2].y-J[3].y)/6,J[2].x,J[2].y])}return it},E=function(Bt,Ct,it,gt,Yt){var J=[];if(Yt===null&&gt===null&&(gt=it),Bt=+Bt,Ct=+Ct,it=+it,gt=+gt,Yt!==null){var ft=Math.PI/180,yt=Bt+it*Math.cos(-gt*ft),_t=Bt+it*Math.cos(-Yt*ft),Xt=Ct+it*Math.sin(-gt*ft),Jt=Ct+it*Math.sin(-Yt*ft);J=[["M",yt,Xt],["A",it,it,0,+(Yt-gt>180),0,_t,Jt]]}else J=[["M",Bt,Ct],["m",0,-gt],["a",it,gt,0,1,1,0,2*gt],["a",it,gt,0,1,1,0,-2*gt],["z"]];return J},p=function(Bt){if(Bt=_(Bt),!Bt||!Bt.length)return[["M",0,0]];var Ct=[],it=0,gt=0,Yt=0,J=0,ft=0,yt,_t;Bt[0][0]==="M"&&(it=+Bt[0][1],gt=+Bt[0][2],Yt=it,J=gt,ft++,Ct[0]=["M",it,gt]);for(var Xt=Bt.length===3&&Bt[0][0]==="M"&&Bt[1][0].toUpperCase()==="R"&&Bt[2][0].toUpperCase()==="Z",Jt=void 0,pe=void 0,Ee=ft,Be=Bt.length;Ee<Be;Ee++){if(Ct.push(Jt=[]),pe=Bt[Ee],yt=pe[0],yt!==yt.toUpperCase())switch(Jt[0]=yt.toUpperCase(),Jt[0]){case"A":Jt[1]=pe[1],Jt[2]=pe[2],Jt[3]=pe[3],Jt[4]=pe[4],Jt[5]=pe[5],Jt[6]=+pe[6]+it,Jt[7]=+pe[7]+gt;break;case"V":Jt[1]=+pe[1]+gt;break;case"H":Jt[1]=+pe[1]+it;break;case"R":_t=[it,gt].concat(pe.slice(1));for(var xe=2,Xe=_t.length;xe<Xe;xe++)_t[xe]=+_t[xe]+it,_t[++xe]=+_t[xe]+gt;Ct.pop(),Ct=Ct.concat(M(_t,Xt));break;case"O":Ct.pop(),_t=E(it,gt,pe[1],pe[2]),_t.push(_t[0]),Ct=Ct.concat(_t);break;case"U":Ct.pop(),Ct=Ct.concat(E(it,gt,pe[1],pe[2],pe[3])),Jt=["U"].concat(Ct[Ct.length-1].slice(-2));break;case"M":Yt=+pe[1]+it,J=+pe[2]+gt;break;default:for(var xe=1,Xe=pe.length;xe<Xe;xe++)Jt[xe]=+pe[xe]+(xe%2?it:gt)}else if(yt==="R")_t=[it,gt].concat(pe.slice(1)),Ct.pop(),Ct=Ct.concat(M(_t,Xt)),Jt=["R"].concat(pe.slice(-2));else if(yt==="O")Ct.pop(),_t=E(it,gt,pe[1],pe[2]),_t.push(_t[0]),Ct=Ct.concat(_t);else if(yt==="U")Ct.pop(),Ct=Ct.concat(E(it,gt,pe[1],pe[2],pe[3])),Jt=["U"].concat(Ct[Ct.length-1].slice(-2));else for(var pr=0,wr=pe.length;pr<wr;pr++)Jt[pr]=pe[pr];if(yt=yt.toUpperCase(),yt!=="O")switch(Jt[0]){case"Z":it=+Yt,gt=+J;break;case"H":it=Jt[1];break;case"V":gt=Jt[1];break;case"M":Yt=Jt[Jt.length-2],J=Jt[Jt.length-1];break;default:it=Jt[Jt.length-2],gt=Jt[Jt.length-1]}}return Ct},b=function(Bt,Ct,it,gt){return[Bt,Ct,it,gt,it,gt]},y=function(Bt,Ct,it,gt,Yt,J){var ft=1/3,yt=2/3;return[ft*Bt+yt*it,ft*Ct+yt*gt,ft*Yt+yt*it,ft*J+yt*gt,Yt,J]},w=function(Bt,Ct,it,gt,Yt,J,ft,yt,_t,Xt){it===gt&&(it+=1);var Jt=Math.PI*120/180,pe=Math.PI/180*(+Yt||0),Ee=[],Be,xe,Xe,pr,wr,Ir=function(Jr,gr,cr){var qr=Jr*Math.cos(cr)-gr*Math.sin(cr),In=Jr*Math.sin(cr)+gr*Math.cos(cr);return{x:qr,y:In}};if(Xt)xe=Xt[0],Xe=Xt[1],pr=Xt[2],wr=Xt[3];else{Be=Ir(Bt,Ct,-pe),Bt=Be.x,Ct=Be.y,Be=Ir(yt,_t,-pe),yt=Be.x,_t=Be.y,Bt===yt&&Ct===_t&&(yt+=1,_t+=1);var lr=(Bt-yt)/2,er=(Ct-_t)/2,Vr=lr*lr/(it*it)+er*er/(gt*gt);Vr>1&&(Vr=Math.sqrt(Vr),it=Vr*it,gt=Vr*gt);var Sn=it*it,mn=gt*gt,zn=(J===ft?-1:1)*Math.sqrt(Math.abs((Sn*mn-Sn*er*er-mn*lr*lr)/(Sn*er*er+mn*lr*lr)));pr=zn*it*er/gt+(Bt+yt)/2,wr=zn*-gt*lr/it+(Ct+_t)/2,xe=Math.asin(((Ct-wr)/gt).toFixed(9)),Xe=Math.asin(((_t-wr)/gt).toFixed(9)),xe=Bt<pr?Math.PI-xe:xe,Xe=yt<pr?Math.PI-Xe:Xe,xe<0&&(xe=Math.PI*2+xe),Xe<0&&(Xe=Math.PI*2+Xe),ft&&xe>Xe&&(xe=xe-Math.PI*2),!ft&&Xe>xe&&(Xe=Xe-Math.PI*2)}var At=Xe-xe;if(Math.abs(At)>Jt){var st=Xe,Z=yt,rt=_t;Xe=xe+Jt*(ft&&Xe>xe?1:-1),yt=pr+it*Math.cos(Xe),_t=wr+gt*Math.sin(Xe),Ee=w(yt,_t,it,gt,Yt,0,ft,Z,rt,[Xe,st,pr,wr])}At=Xe-xe;var It=Math.cos(xe),Vt=Math.sin(xe),he=Math.cos(Xe),ue=Math.sin(Xe),ce=Math.tan(At/4),Re=4/3*it*ce,ke=4/3*gt*ce,ze=[Bt,Ct],ir=[Bt+Re*Vt,Ct-ke*It],sr=[yt+Re*ue,_t-ke*he],We=[yt,_t];if(ir[0]=2*ze[0]-ir[0],ir[1]=2*ze[1]-ir[1],Xt)return[ir,sr,We].concat(Ee);Ee=[ir,sr,We].concat(Ee).join().split(",");for(var Or=[],Pr=0,$r=Ee.length;Pr<$r;Pr++)Or[Pr]=Pr%2?Ir(Ee[Pr-1],Ee[Pr],pe).y:Ir(Ee[Pr],Ee[Pr+1],pe).x;return Or},x=function(Bt,Ct){var it=p(Bt),gt=Ct&&p(Ct),Yt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ft=[],yt=[],_t="",Xt="",Jt,pe=function(lr,er,Vr){var Sn,mn;if(!lr)return["C",er.x,er.y,er.x,er.y,er.x,er.y];switch(!(lr[0]in{T:1,Q:1})&&(er.qx=er.qy=null),lr[0]){case"M":er.X=lr[1],er.Y=lr[2];break;case"A":lr=["C"].concat(w.apply(0,[er.x,er.y].concat(lr.slice(1))));break;case"S":Vr==="C"||Vr==="S"?(Sn=er.x*2-er.bx,mn=er.y*2-er.by):(Sn=er.x,mn=er.y),lr=["C",Sn,mn].concat(lr.slice(1));break;case"T":Vr==="Q"||Vr==="T"?(er.qx=er.x*2-er.qx,er.qy=er.y*2-er.qy):(er.qx=er.x,er.qy=er.y),lr=["C"].concat(y(er.x,er.y,er.qx,er.qy,lr[1],lr[2]));break;case"Q":er.qx=lr[1],er.qy=lr[2],lr=["C"].concat(y(er.x,er.y,lr[1],lr[2],lr[3],lr[4]));break;case"L":lr=["C"].concat(b(er.x,er.y,lr[1],lr[2]));break;case"H":lr=["C"].concat(b(er.x,er.y,lr[1],er.y));break;case"V":lr=["C"].concat(b(er.x,er.y,er.x,lr[1]));break;case"Z":lr=["C"].concat(b(er.x,er.y,er.X,er.Y));break;default:break}return lr},Ee=function(lr,er){if(lr[er].length>7){lr[er].shift();for(var Vr=lr[er];Vr.length;)ft[er]="A",gt&&(yt[er]="A"),lr.splice(er++,0,["C"].concat(Vr.splice(0,6)));lr.splice(er,1),Jt=Math.max(it.length,gt&&gt.length||0)}},Be=function(lr,er,Vr,Sn,mn){lr&&er&&lr[mn][0]==="M"&&er[mn][0]!=="M"&&(er.splice(mn,0,["M",Sn.x,Sn.y]),Vr.bx=0,Vr.by=0,Vr.x=lr[mn][1],Vr.y=lr[mn][2],Jt=Math.max(it.length,gt&&gt.length||0))};Jt=Math.max(it.length,gt&&gt.length||0);for(var xe=0;xe<Jt;xe++){it[xe]&&(_t=it[xe][0]),_t!=="C"&&(ft[xe]=_t,xe&&(Xt=ft[xe-1])),it[xe]=pe(it[xe],Yt,Xt),ft[xe]!=="A"&&_t==="C"&&(ft[xe]="C"),Ee(it,xe),gt&&(gt[xe]&&(_t=gt[xe][0]),_t!=="C"&&(yt[xe]=_t,xe&&(Xt=yt[xe-1])),gt[xe]=pe(gt[xe],J,Xt),yt[xe]!=="A"&&_t==="C"&&(yt[xe]="C"),Ee(gt,xe)),Be(it,gt,Yt,J,xe),Be(gt,it,J,Yt,xe);var Xe=it[xe],pr=gt&&gt[xe],wr=Xe.length,Ir=gt&&pr.length;Yt.x=Xe[wr-2],Yt.y=Xe[wr-1],Yt.bx=parseFloat(Xe[wr-4])||Yt.x,Yt.by=parseFloat(Xe[wr-3])||Yt.y,J.bx=gt&&(parseFloat(pr[Ir-4])||J.x),J.by=gt&&(parseFloat(pr[Ir-3])||J.y),J.x=gt&&pr[Ir-2],J.y=gt&&pr[Ir-1]}return gt?[it,gt]:it},A=/,?([a-z]),?/gi,O=function(Bt){return Bt.join(",").replace(A,"$1")},B=function(Bt,Ct,it,gt,Yt){var J=-3*Ct+9*it-9*gt+3*Yt,ft=Bt*J+6*Ct-12*it+6*gt;return Bt*ft-3*Ct+3*it},R=function(Bt,Ct,it,gt,Yt,J,ft,yt,_t){_t===null&&(_t=1),_t=_t>1?1:_t<0?0:_t;for(var Xt=_t/2,Jt=12,pe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ee=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Be=0,xe=0;xe<Jt;xe++){var Xe=Xt*pe[xe]+Xt,pr=B(Xe,Bt,it,Yt,ft),wr=B(Xe,Ct,gt,J,yt),Ir=pr*pr+wr*wr;Be+=Ee[xe]*Math.sqrt(Ir)}return Xt*Be},Y=function(Bt,Ct,it,gt,Yt,J,ft,yt){for(var _t=[],Xt=[[],[]],Jt,pe,Ee,Be,xe=0;xe<2;++xe){if(xe===0?(pe=6*Bt-12*it+6*Yt,Jt=-3*Bt+9*it-9*Yt+3*ft,Ee=3*it-3*Bt):(pe=6*Ct-12*gt+6*J,Jt=-3*Ct+9*gt-9*J+3*yt,Ee=3*gt-3*Ct),Math.abs(Jt)<1e-12){if(Math.abs(pe)<1e-12)continue;Be=-Ee/pe,Be>0&&Be<1&&_t.push(Be);continue}var Xe=pe*pe-4*Ee*Jt,pr=Math.sqrt(Xe);if(!(Xe<0)){var wr=(-pe+pr)/(2*Jt);wr>0&&wr<1&&_t.push(wr);var Ir=(-pe-pr)/(2*Jt);Ir>0&&Ir<1&&_t.push(Ir)}}for(var lr=_t.length,er=lr,Vr;lr--;)Be=_t[lr],Vr=1-Be,Xt[0][lr]=Vr*Vr*Vr*Bt+3*Vr*Vr*Be*it+3*Vr*Be*Be*Yt+Be*Be*Be*ft,Xt[1][lr]=Vr*Vr*Vr*Ct+3*Vr*Vr*Be*gt+3*Vr*Be*Be*J+Be*Be*Be*yt;return Xt[0][er]=Bt,Xt[1][er]=Ct,Xt[0][er+1]=ft,Xt[1][er+1]=yt,Xt[0].length=Xt[1].length=er+2,{min:{x:Math.min.apply(0,Xt[0]),y:Math.min.apply(0,Xt[1])},max:{x:Math.max.apply(0,Xt[0]),y:Math.max.apply(0,Xt[1])}}},j=function(Bt,Ct,it,gt,Yt,J,ft,yt){if(!(Math.max(Bt,it)<Math.min(Yt,ft)||Math.min(Bt,it)>Math.max(Yt,ft)||Math.max(Ct,gt)<Math.min(J,yt)||Math.min(Ct,gt)>Math.max(J,yt))){var _t=(Bt*gt-Ct*it)*(Yt-ft)-(Bt-it)*(Yt*yt-J*ft),Xt=(Bt*gt-Ct*it)*(J-yt)-(Ct-gt)*(Yt*yt-J*ft),Jt=(Bt-it)*(J-yt)-(Ct-gt)*(Yt-ft);if(!!Jt){var pe=_t/Jt,Ee=Xt/Jt,Be=+pe.toFixed(2),xe=+Ee.toFixed(2);if(!(Be<+Math.min(Bt,it).toFixed(2)||Be>+Math.max(Bt,it).toFixed(2)||Be<+Math.min(Yt,ft).toFixed(2)||Be>+Math.max(Yt,ft).toFixed(2)||xe<+Math.min(Ct,gt).toFixed(2)||xe>+Math.max(Ct,gt).toFixed(2)||xe<+Math.min(J,yt).toFixed(2)||xe>+Math.max(J,yt).toFixed(2)))return{x:pe,y:Ee}}}},V=function(Bt,Ct,it){return Ct>=Bt.x&&Ct<=Bt.x+Bt.width&&it>=Bt.y&&it<=Bt.y+Bt.height},nt=function(Bt,Ct,it,gt,Yt){if(Yt)return[["M",+Bt+ +Yt,Ct],["l",it-Yt*2,0],["a",Yt,Yt,0,0,1,Yt,Yt],["l",0,gt-Yt*2],["a",Yt,Yt,0,0,1,-Yt,Yt],["l",Yt*2-it,0],["a",Yt,Yt,0,0,1,-Yt,-Yt],["l",0,Yt*2-gt],["a",Yt,Yt,0,0,1,Yt,-Yt],["z"]];var J=[["M",Bt,Ct],["l",it,0],["l",0,gt],["l",-it,0],["z"]];return J.parsePathArray=O,J},ct=function(Bt,Ct,it,gt){return Bt===null&&(Bt=Ct=it=gt=0),Ct===null&&(Ct=Bt.y,it=Bt.width,gt=Bt.height,Bt=Bt.x),{x:Bt,y:Ct,width:it,w:it,height:gt,h:gt,x2:Bt+it,y2:Ct+gt,cx:Bt+it/2,cy:Ct+gt/2,r1:Math.min(it,gt)/2,r2:Math.max(it,gt)/2,r0:Math.sqrt(it*it+gt*gt)/2,path:nt(Bt,Ct,it,gt),vb:[Bt,Ct,it,gt].join(" ")}},ut=function(Bt,Ct){return Bt=ct(Bt),Ct=ct(Ct),V(Ct,Bt.x,Bt.y)||V(Ct,Bt.x2,Bt.y)||V(Ct,Bt.x,Bt.y2)||V(Ct,Bt.x2,Bt.y2)||V(Bt,Ct.x,Ct.y)||V(Bt,Ct.x2,Ct.y)||V(Bt,Ct.x,Ct.y2)||V(Bt,Ct.x2,Ct.y2)||(Bt.x<Ct.x2&&Bt.x>Ct.x||Ct.x<Bt.x2&&Ct.x>Bt.x)&&(Bt.y<Ct.y2&&Bt.y>Ct.y||Ct.y<Bt.y2&&Ct.y>Bt.y)},Pt=function(Bt,Ct,it,gt,Yt,J,ft,yt){(0,L.isArray)(Bt)||(Bt=[Bt,Ct,it,gt,Yt,J,ft,yt]);var _t=Y.apply(null,Bt);return ct(_t.min.x,_t.min.y,_t.max.x-_t.min.x,_t.max.y-_t.min.y)},Gt=function(Bt,Ct,it,gt,Yt,J,ft,yt,_t){var Xt=1-_t,Jt=Math.pow(Xt,3),pe=Math.pow(Xt,2),Ee=_t*_t,Be=Ee*_t,xe=Jt*Bt+pe*3*_t*it+Xt*3*_t*_t*Yt+Be*ft,Xe=Jt*Ct+pe*3*_t*gt+Xt*3*_t*_t*J+Be*yt,pr=Bt+2*_t*(it-Bt)+Ee*(Yt-2*it+Bt),wr=Ct+2*_t*(gt-Ct)+Ee*(J-2*gt+Ct),Ir=it+2*_t*(Yt-it)+Ee*(ft-2*Yt+it),lr=gt+2*_t*(J-gt)+Ee*(yt-2*J+gt),er=Xt*Bt+_t*it,Vr=Xt*Ct+_t*gt,Sn=Xt*Yt+_t*ft,mn=Xt*J+_t*yt,zn=90-Math.atan2(pr-Ir,wr-lr)*180/Math.PI;return{x:xe,y:Xe,m:{x:pr,y:wr},n:{x:Ir,y:lr},start:{x:er,y:Vr},end:{x:Sn,y:mn},alpha:zn}},qt=function(Bt,Ct,it){var gt=Pt(Bt),Yt=Pt(Ct);if(!ut(gt,Yt))return it?0:[];for(var J=R.apply(0,Bt),ft=R.apply(0,Ct),yt=~~(J/8),_t=~~(ft/8),Xt=[],Jt=[],pe={},Ee=it?0:[],Be=0;Be<yt+1;Be++){var xe=Gt.apply(0,Bt.concat(Be/yt));Xt.push({x:xe.x,y:xe.y,t:Be/yt})}for(var Be=0;Be<_t+1;Be++){var xe=Gt.apply(0,Ct.concat(Be/_t));Jt.push({x:xe.x,y:xe.y,t:Be/_t})}for(var Be=0;Be<yt;Be++)for(var Xe=0;Xe<_t;Xe++){var pr=Xt[Be],wr=Xt[Be+1],Ir=Jt[Xe],lr=Jt[Xe+1],er=Math.abs(wr.x-pr.x)<.001?"y":"x",Vr=Math.abs(lr.x-Ir.x)<.001?"y":"x",Sn=j(pr.x,pr.y,wr.x,wr.y,Ir.x,Ir.y,lr.x,lr.y);if(Sn){if(pe[Sn.x.toFixed(4)]===Sn.y.toFixed(4))continue;pe[Sn.x.toFixed(4)]=Sn.y.toFixed(4);var mn=pr.t+Math.abs((Sn[er]-pr[er])/(wr[er]-pr[er]))*(wr.t-pr.t),zn=Ir.t+Math.abs((Sn[Vr]-Ir[Vr])/(lr[Vr]-Ir[Vr]))*(lr.t-Ir.t);mn>=0&&mn<=1&&zn>=0&&zn<=1&&(it?Ee+=1:Ee.push({x:Sn.x,y:Sn.y,t1:mn,t2:zn}))}}return Ee},Rt=function(Bt,Ct,it){Bt=x(Bt),Ct=x(Ct);for(var gt,Yt,J,ft,yt,_t,Xt,Jt,pe,Ee,Be=it?0:[],xe=0,Xe=Bt.length;xe<Xe;xe++){var pr=Bt[xe];if(pr[0]==="M")gt=yt=pr[1],Yt=_t=pr[2];else{pr[0]==="C"?(pe=[gt,Yt].concat(pr.slice(1)),gt=pe[6],Yt=pe[7]):(pe=[gt,Yt,gt,Yt,yt,_t,yt,_t],gt=yt,Yt=_t);for(var wr=0,Ir=Ct.length;wr<Ir;wr++){var lr=Ct[wr];if(lr[0]==="M")J=Xt=lr[1],ft=Jt=lr[2];else{lr[0]==="C"?(Ee=[J,ft].concat(lr.slice(1)),J=Ee[6],ft=Ee[7]):(Ee=[J,ft,J,ft,Xt,Jt,Xt,Jt],J=Xt,ft=Jt);var er=qt(pe,Ee,it);if(it)Be+=er;else{for(var Vr=0,Sn=er.length;Vr<Sn;Vr++)er[Vr].segment1=xe,er[Vr].segment2=wr,er[Vr].bez1=pe,er[Vr].bez2=Ee;Be=Be.concat(er)}}}}}return Be},at=function(Bt,Ct){return Rt(Bt,Ct)};function vt(Bt,Ct){var it=[],gt=[];function Yt(J,ft){if(J.length===1)it.push(J[0]),gt.push(J[0]);else{for(var yt=[],_t=0;_t<J.length-1;_t++)_t===0&&it.push(J[0]),_t===J.length-2&&gt.push(J[_t+1]),yt[_t]=[(1-ft)*J[_t][0]+ft*J[_t+1][0],(1-ft)*J[_t][1]+ft*J[_t+1][1]];Yt(yt,ft)}}return Bt.length&&Yt(Bt,Ct),{left:it,right:gt.reverse()}}function ot(Bt,Ct,it){var gt=[[Bt[1],Bt[2]]];it=it||2;var Yt=[];Ct[0]==="A"?(gt.push(Ct[6]),gt.push(Ct[7])):Ct[0]==="C"?(gt.push([Ct[1],Ct[2]]),gt.push([Ct[3],Ct[4]]),gt.push([Ct[5],Ct[6]])):Ct[0]==="S"||Ct[0]==="Q"?(gt.push([Ct[1],Ct[2]]),gt.push([Ct[3],Ct[4]])):gt.push([Ct[1],Ct[2]]);for(var J=gt,ft=1/it,yt=0;yt<it-1;yt++){var _t=ft/(1-ft*yt),Xt=vt(J,_t);Yt.push(Xt.left),J=Xt.right}Yt.push(J);var Jt=Yt.map(function(pe){var Ee=[];return pe.length===4&&(Ee.push("C"),Ee=Ee.concat(pe[2])),pe.length>=3&&(pe.length===3&&Ee.push("Q"),Ee=Ee.concat(pe[1])),pe.length===2&&Ee.push("L"),Ee=Ee.concat(pe[pe.length-1]),Ee});return Jt}var Et=function(Bt,Ct,it){if(it===1)return[[].concat(Bt)];var gt=[];if(Ct[0]==="L"||Ct[0]==="C"||Ct[0]==="Q")gt=gt.concat(ot(Bt,Ct,it));else{var Yt=[].concat(Bt);Yt[0]==="M"&&(Yt[0]="L");for(var J=0;J<=it-1;J++)gt.push(Yt)}return gt},dt=function(Bt,Ct){if(Bt.length===1)return Bt;var it=Bt.length-1,gt=Ct.length-1,Yt=it/gt,J=[];if(Bt.length===1&&Bt[0][0]==="M"){for(var ft=0;ft<gt-it;ft++)Bt.push(Bt[0]);return Bt}for(var ft=0;ft<gt;ft++){var yt=Math.floor(Yt*ft);J[yt]=(J[yt]||0)+1}var _t=J.reduce(function(Xt,Jt,pe){return pe===it?Xt.concat(Bt[it]):Xt.concat(Et(Bt[pe],Bt[pe+1],Jt))},[]);return _t.unshift(Bt[0]),(Ct[gt]==="Z"||Ct[gt]==="z")&&_t.push("Z"),_t},X=function(Bt,Ct){if(Bt.length!==Ct.length)return!1;var it=!0;return(0,L.each)(Bt,function(gt,Yt){if(gt!==Ct[Yt])return it=!1,!1}),it};function $(Bt,Ct,it){var gt=null,Yt=it;return Ct<Yt&&(Yt=Ct,gt="add"),Bt<Yt&&(Yt=Bt,gt="del"),{type:gt,min:Yt}}var H=function(Bt,Ct){var it=Bt.length,gt=Ct.length,Yt,J,ft=0;if(it===0||gt===0)return null;for(var yt=[],_t=0;_t<=it;_t++)yt[_t]=[],yt[_t][0]={min:_t};for(var Xt=0;Xt<=gt;Xt++)yt[0][Xt]={min:Xt};for(var _t=1;_t<=it;_t++){Yt=Bt[_t-1];for(var Xt=1;Xt<=gt;Xt++){J=Ct[Xt-1],X(Yt,J)?ft=0:ft=1;var Jt=yt[_t-1][Xt].min+1,pe=yt[_t][Xt-1].min+1,Ee=yt[_t-1][Xt-1].min+ft;yt[_t][Xt]=$(Jt,pe,Ee)}}return yt},f=function(Bt,Ct){var it=H(Bt,Ct),gt=Bt.length,Yt=Ct.length,J=[],ft=1,yt=1;if(it[gt][Yt].min!==gt){for(var _t=1;_t<=gt;_t++){var Xt=it[_t][_t].min;yt=_t;for(var Jt=ft;Jt<=Yt;Jt++)it[_t][Jt].min<Xt&&(Xt=it[_t][Jt].min,yt=Jt);ft=yt,it[_t][ft].type&&J.push({index:_t-1,type:it[_t][ft].type})}for(var _t=J.length-1;_t>=0;_t--)ft=J[_t].index,J[_t].type==="add"?Bt.splice(ft,0,[].concat(Bt[ft])):Bt.splice(ft,1)}gt=Bt.length;var pe=Yt-gt;if(gt<Yt)for(var _t=0;_t<pe;_t++)Bt[gt-1][0]==="z"||Bt[gt-1][0]==="Z"?Bt.splice(gt-2,0,Bt[gt-2]):Bt.push(Bt[gt-1]),gt+=1;return Bt};function xt(Bt,Ct,it){for(var gt=[].concat(Bt),Yt,J=1/(it+1),ft=Mt(Ct)[0],yt=1;yt<=it;yt++)J*=yt,Yt=Math.floor(Bt.length*J),Yt===0?gt.unshift([ft[0]*J+Bt[Yt][0]*(1-J),ft[1]*J+Bt[Yt][1]*(1-J)]):gt.splice(Yt,0,[ft[0]*J+Bt[Yt][0]*(1-J),ft[1]*J+Bt[Yt][1]*(1-J)]);return gt}function Mt(Bt){var Ct=[];switch(Bt[0]){case"M":Ct.push([Bt[1],Bt[2]]);break;case"L":Ct.push([Bt[1],Bt[2]]);break;case"A":Ct.push([Bt[6],Bt[7]]);break;case"Q":Ct.push([Bt[3],Bt[4]]),Ct.push([Bt[1],Bt[2]]);break;case"T":Ct.push([Bt[1],Bt[2]]);break;case"C":Ct.push([Bt[5],Bt[6]]),Ct.push([Bt[1],Bt[2]]),Ct.push([Bt[3],Bt[4]]);break;case"S":Ct.push([Bt[3],Bt[4]]),Ct.push([Bt[1],Bt[2]]);break;case"H":Ct.push([Bt[1],Bt[1]]);break;case"V":Ct.push([Bt[1],Bt[1]]);break;default:}return Ct}var Ut=function(Bt,Ct){if(Bt.length<=1)return Bt;for(var it,gt=0;gt<Ct.length;gt++)if(Bt[gt][0]!==Ct[gt][0])switch(it=Mt(Bt[gt]),Ct[gt][0]){case"M":Bt[gt]=["M"].concat(it[0]);break;case"L":Bt[gt]=["L"].concat(it[0]);break;case"A":Bt[gt]=[].concat(Ct[gt]),Bt[gt][6]=it[0][0],Bt[gt][7]=it[0][1];break;case"Q":if(it.length<2)if(gt>0)it=xt(it,Bt[gt-1],1);else{Bt[gt]=Ct[gt];break}Bt[gt]=["Q"].concat(it.reduce(function(Yt,J){return Yt.concat(J)},[]));break;case"T":Bt[gt]=["T"].concat(it[0]);break;case"C":if(it.length<3)if(gt>0)it=xt(it,Bt[gt-1],2);else{Bt[gt]=Ct[gt];break}Bt[gt]=["C"].concat(it.reduce(function(Yt,J){return Yt.concat(J)},[]));break;case"S":if(it.length<2)if(gt>0)it=xt(it,Bt[gt-1],1);else{Bt[gt]=Ct[gt];break}Bt[gt]=["S"].concat(it.reduce(function(Yt,J){return Yt.concat(J)},[]));break;default:Bt[gt]=Ct[gt]}return Bt},re=function(){function Bt(Ct,it){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=Ct,this.name=Ct,this.originalEvent=it,this.timeStamp=it.timeStamp}return Bt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Bt.prototype.stopPropagation=function(){this.propagationStopped=!0},Bt.prototype.toString=function(){var Ct=this.type;return"[Event (type="+Ct+")]"},Bt.prototype.save=function(){},Bt.prototype.restore=function(){},Bt}(),zt=re,ne=d(60153),ae=d(90494),Dt=d(73890),Tt=d(46812),pt=d(21830),Q=d(33643),K=d(66631),lt=d(66974),U=d(27154),W=d(85260);function wt(Bt,Ct){var it=Bt.indexOf(Ct);it!==-1&&Bt.splice(it,1)}var Lt=typeof window!="undefined"&&typeof window.document!="undefined";function Wt(Bt,Ct){if(Bt.isCanvas())return!0;for(var it=Ct.getParent(),gt=!1;it;){if(it===Bt){gt=!0;break}it=it.getParent()}return gt}function oe(Bt){return Bt.cfg.visible&&Bt.cfg.capture}var Se=function(Bt){(0,ne.__extends)(Ct,Bt);function Ct(it){var gt=Bt.call(this)||this;gt.destroyed=!1;var Yt=gt.getDefaultCfg();return gt.cfg=(0,lt.default)(Yt,it),gt}return Ct.prototype.getDefaultCfg=function(){return{}},Ct.prototype.get=function(it){return this.cfg[it]},Ct.prototype.set=function(it,gt){this.cfg[it]=gt},Ct.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},Ct}(ae.default),Ye=Se,te=d(43631),ge=d(31506);function _e(Bt,Ct){var it=[],gt=Bt[0],Yt=Bt[1],J=Bt[2],ft=Bt[3],yt=Bt[4],_t=Bt[5],Xt=Bt[6],Jt=Bt[7],pe=Bt[8],Ee=Ct[0],Be=Ct[1],xe=Ct[2],Xe=Ct[3],pr=Ct[4],wr=Ct[5],Ir=Ct[6],lr=Ct[7],er=Ct[8];return it[0]=Ee*gt+Be*ft+xe*Xt,it[1]=Ee*Yt+Be*yt+xe*Jt,it[2]=Ee*J+Be*_t+xe*pe,it[3]=Xe*gt+pr*ft+wr*Xt,it[4]=Xe*Yt+pr*yt+wr*Jt,it[5]=Xe*J+pr*_t+wr*pe,it[6]=Ir*gt+lr*ft+er*Xt,it[7]=Ir*Yt+lr*yt+er*Jt,it[8]=Ir*J+lr*_t+er*pe,it}function Ne(Bt,Ct){var it=[],gt=Ct[0],Yt=Ct[1];return it[0]=Bt[0]*gt+Bt[3]*Yt+Bt[6],it[1]=Bt[1]*gt+Bt[4]*Yt+Bt[7],it}function or(Bt){var Ct=[],it=Bt[0],gt=Bt[1],Yt=Bt[2],J=Bt[3],ft=Bt[4],yt=Bt[5],_t=Bt[6],Xt=Bt[7],Jt=Bt[8],pe=Jt*ft-yt*Xt,Ee=-Jt*J+yt*_t,Be=Xt*J-ft*_t,xe=it*pe+gt*Ee+Yt*Be;return xe?(xe=1/xe,Ct[0]=pe*xe,Ct[1]=(-Jt*gt+Yt*Xt)*xe,Ct[2]=(yt*gt-Yt*ft)*xe,Ct[3]=Ee*xe,Ct[4]=(Jt*it-Yt*_t)*xe,Ct[5]=(-yt*it+Yt*J)*xe,Ct[6]=Be*xe,Ct[7]=(-Xt*it+gt*_t)*xe,Ct[8]=(ft*it-gt*J)*xe,Ct):null}var je="matrix",dr=["zIndex","capture","visible","type"],kr=["repeat"],Br=":",ln="*";function Yn(Bt){for(var Ct=[],it=0;it<Bt.length;it++)(0,L.isArray)(Bt[it])?Ct.push([].concat(Bt[it])):Ct.push(Bt[it]);return Ct}function fi(Bt,Ct){var it={},gt=Ct.attrs;for(var Yt in Bt)it[Yt]=gt[Yt];return it}function Ci(Bt,Ct){var it={},gt=Ct.attr();return(0,L.each)(Bt,function(Yt,J){kr.indexOf(J)===-1&&!(0,L.isEqual)(gt[J],Yt)&&(it[J]=Yt)}),it}function ki(Bt,Ct){if(Ct.onFrame)return Bt;var it=Ct.startTime,gt=Ct.delay,Yt=Ct.duration,J=Object.prototype.hasOwnProperty;return(0,L.each)(Bt,function(ft){it+gt<ft.startTime+ft.delay+ft.duration&&Yt>ft.delay&&(0,L.each)(Ct.toAttrs,function(yt,_t){J.call(ft.toAttrs,_t)&&(delete ft.toAttrs[_t],delete ft.fromAttrs[_t])})}),Bt}var jt=function(Bt){(0,ne.__extends)(Ct,Bt);function Ct(it){var gt=Bt.call(this,it)||this;gt.attrs={};var Yt=gt.getDefaultAttrs();return(0,L.mix)(Yt,it.attrs),gt.attrs=Yt,gt.initAttrs(Yt),gt.initAnimate(),gt}return Ct.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Ct.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Ct.prototype.onCanvasChange=function(it){},Ct.prototype.initAttrs=function(it){},Ct.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Ct.prototype.isGroup=function(){return!1},Ct.prototype.getParent=function(){return this.get("parent")},Ct.prototype.getCanvas=function(){return this.get("canvas")},Ct.prototype.attr=function(){for(var it,gt=[],Yt=0;Yt<arguments.length;Yt++)gt[Yt]=arguments[Yt];var J=gt[0],ft=gt[1];if(!J)return this.attrs;if((0,L.isObject)(J)){for(var yt in J)this.setAttr(yt,J[yt]);return this.afterAttrsChange(J),this}return gt.length===2?(this.setAttr(J,ft),this.afterAttrsChange((it={},it[J]=ft,it)),this):this.attrs[J]},Ct.prototype.isClipped=function(it,gt){var Yt=this.getClip();return Yt&&!Yt.isHit(it,gt)},Ct.prototype.setAttr=function(it,gt){var Yt=this.attrs[it];Yt!==gt&&(this.attrs[it]=gt,this.onAttrChange(it,gt,Yt))},Ct.prototype.onAttrChange=function(it,gt,Yt){it==="matrix"&&this.set("totalMatrix",null)},Ct.prototype.afterAttrsChange=function(it){this.onCanvasChange("attr")},Ct.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Ct.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Ct.prototype.setZIndex=function(it){this.set("zIndex",it);var gt=this.getParent();return gt&&gt.sort(),this},Ct.prototype.toFront=function(){var it=this.getParent();if(!!it){var gt=it.getChildren(),Yt=this.get("el"),J=gt.indexOf(this);gt.splice(J,1),gt.push(this),this.onCanvasChange("zIndex")}},Ct.prototype.toBack=function(){var it=this.getParent();if(!!it){var gt=it.getChildren(),Yt=this.get("el"),J=gt.indexOf(this);gt.splice(J,1),gt.unshift(this),this.onCanvasChange("zIndex")}},Ct.prototype.remove=function(it){it===void 0&&(it=!0);var gt=this.getParent();gt?(wt(gt.getChildren(),this),gt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),it&&this.destroy()},Ct.prototype.resetMatrix=function(){this.attr(je,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Ct.prototype.getMatrix=function(){return this.attr(je)},Ct.prototype.setMatrix=function(it){this.attr(je,it),this.onCanvasChange("matrix")},Ct.prototype.getTotalMatrix=function(){var it=this.get("totalMatrix");if(!it){var gt=this.attr("matrix"),Yt=this.get("parentMatrix");Yt&&gt?it=_e(Yt,gt):it=gt||Yt,this.set("totalMatrix",it)}return it},Ct.prototype.applyMatrix=function(it){var gt=this.attr("matrix"),Yt=null;it&&gt?Yt=_e(it,gt):Yt=gt||it,this.set("totalMatrix",Yt),this.set("parentMatrix",it)},Ct.prototype.getDefaultMatrix=function(){return null},Ct.prototype.applyToMatrix=function(it){var gt=this.attr("matrix");return gt?Ne(gt,it):it},Ct.prototype.invertFromMatrix=function(it){var gt=this.attr("matrix");if(gt){var Yt=or(gt);if(Yt)return Ne(Yt,it)}return it},Ct.prototype.setClip=function(it){var gt=this.getCanvas(),Yt=null;if(it){var J=this.getShapeBase(),ft=(0,L.upperFirst)(it.type),yt=J[ft];yt&&(Yt=new yt({type:it.type,isClipShape:!0,attrs:it.attrs,canvas:gt}))}return this.set("clipShape",Yt),this.onCanvasChange("clip"),Yt},Ct.prototype.getClip=function(){var it=this.cfg.clipShape;return it||null},Ct.prototype.clone=function(){var it=this,gt=this.attrs,Yt={};(0,L.each)(gt,function(yt,_t){(0,L.isArray)(gt[_t])?Yt[_t]=Yn(gt[_t]):Yt[_t]=gt[_t]});var J=this.constructor,ft=new J({attrs:Yt});return(0,L.each)(dr,function(yt){ft.set(yt,it.get(yt))}),ft},Ct.prototype.destroy=function(){var it=this.destroyed;it||(this.attrs={},Bt.prototype.destroy.call(this))},Ct.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Ct.prototype.animate=function(){for(var it=[],gt=0;gt<arguments.length;gt++)it[gt]=arguments[gt];this.set("animating",!0);var Yt=this.get("timeline");Yt||(Yt=this.get("canvas").get("timeline"),this.set("timeline",Yt));var J=this.get("animations")||[];Yt.timer||Yt.initTimer();var ft=it[0],yt=it[1],_t=it[2],Xt=_t===void 0?"easeLinear":_t,Jt=it[3],pe=Jt===void 0?L.noop:Jt,Ee=it[4],Be=Ee===void 0?0:Ee,xe,Xe,pr,wr,Ir;(0,L.isFunction)(ft)?(xe=ft,ft={}):(0,L.isObject)(ft)&&ft.onFrame&&(xe=ft.onFrame,Xe=ft.repeat),(0,L.isObject)(yt)?(Ir=yt,yt=Ir.duration,Xt=Ir.easing||"easeLinear",Be=Ir.delay||0,Xe=Ir.repeat||Xe||!1,pe=Ir.callback||L.noop,pr=Ir.pauseCallback||L.noop,wr=Ir.resumeCallback||L.noop):((0,L.isNumber)(pe)&&(Be=pe,pe=null),(0,L.isFunction)(Xt)?(pe=Xt,Xt="easeLinear"):Xt=Xt||"easeLinear");var lr=Ci(ft,this),er={fromAttrs:fi(lr,this),toAttrs:lr,duration:yt,easing:Xt,repeat:Xe,callback:pe,pauseCallback:pr,resumeCallback:wr,delay:Be,startTime:Yt.getTime(),id:(0,L.uniqueId)(),onFrame:xe,pathFormatted:!1};J.length>0?J=ki(J,er):Yt.addAnimator(this),J.push(er),this.set("animations",J),this.set("_pause",{isPaused:!1})},Ct.prototype.stopAnimate=function(it){var gt=this;it===void 0&&(it=!0);var Yt=this.get("animations");(0,L.each)(Yt,function(J){it&&(J.onFrame?gt.attr(J.onFrame(1)):gt.attr(J.toAttrs)),J.callback&&J.callback()}),this.set("animating",!1),this.set("animations",[])},Ct.prototype.pauseAnimate=function(){var it=this.get("timeline"),gt=this.get("animations"),Yt=it.getTime();return(0,L.each)(gt,function(J){J._paused=!0,J._pauseTime=Yt,J.pauseCallback&&J.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Yt}),this},Ct.prototype.resumeAnimate=function(){var it=this.get("timeline"),gt=it.getTime(),Yt=this.get("animations"),J=this.get("_pause").pauseTime;return(0,L.each)(Yt,function(ft){ft.startTime=ft.startTime+(gt-J),ft._paused=!1,ft._pauseTime=null,ft.resumeCallback&&ft.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Yt),this},Ct.prototype.emitDelegation=function(it,gt){var Yt=this,J=gt.propagationPath,ft=this.getEvents(),yt;it==="mouseenter"?yt=gt.fromShape:it==="mouseleave"&&(yt=gt.toShape);for(var _t=function(Ee){var Be=J[Ee],xe=Be.get("name");if(xe){if((Be.isGroup()||Be.isCanvas&&Be.isCanvas())&&yt&&Wt(Be,yt))return"break";(0,L.isArray)(xe)?(0,L.each)(xe,function(Xe){Yt.emitDelegateEvent(Be,Xe,gt)}):Xt.emitDelegateEvent(Be,xe,gt)}},Xt=this,Jt=0;Jt<J.length;Jt++){var pe=_t(Jt);if(pe==="break")break}},Ct.prototype.emitDelegateEvent=function(it,gt,Yt){var J=this.getEvents(),ft=gt+Br+Yt.type;(J[ft]||J[ln])&&(Yt.name=ft,Yt.currentTarget=it,Yt.delegateTarget=this,Yt.delegateObject=it.get("delegateObject"),this.emit(ft,Yt))},Ct.prototype.translate=function(it,gt){it===void 0&&(it=0),gt===void 0&&(gt=0);var Yt=this.getMatrix(),J=ge.transform(Yt,[["t",it,gt]]);return this.setMatrix(J),this},Ct.prototype.move=function(it,gt){var Yt=this.attr("x")||0,J=this.attr("y")||0;return this.translate(it-Yt,gt-J),this},Ct.prototype.moveTo=function(it,gt){return this.move(it,gt)},Ct.prototype.scale=function(it,gt){var Yt=this.getMatrix(),J=ge.transform(Yt,[["s",it,gt||it]]);return this.setMatrix(J),this},Ct.prototype.rotate=function(it){var gt=this.getMatrix(),Yt=ge.transform(gt,[["r",it]]);return this.setMatrix(Yt),this},Ct.prototype.rotateAtStart=function(it){var gt=this.attr(),Yt=gt.x,J=gt.y,ft=this.getMatrix(),yt=ge.transform(ft,[["t",-Yt,-J],["r",it],["t",Yt,J]]);return this.setMatrix(yt),this},Ct.prototype.rotateAtPoint=function(it,gt,Yt){var J=this.getMatrix(),ft=ge.transform(J,[["t",-it,-gt],["r",Yt],["t",it,gt]]);return this.setMatrix(ft),this},Ct}(Ye),ie=jt,ve={},ye="_INDEX";function Ae(Bt){Bt.isGroup()?(Bt.isEntityGroup()||Bt.get("children").length)&&Bt.onCanvasChange("add"):Bt.onCanvasChange("add")}function Pe(Bt,Ct){if(Bt.set("canvas",Ct),Bt.isGroup()){var it=Bt.get("children");it.length&&it.forEach(function(gt){Pe(gt,Ct)})}}function Oe(Bt,Ct){if(Bt.set("timeline",Ct),Bt.isGroup()){var it=Bt.get("children");it.length&&it.forEach(function(gt){Oe(gt,Ct)})}}function De(Bt,Ct){var it=Bt.getChildren();return it.indexOf(Ct)>=0}function Ce(Bt,Ct,it){it===void 0&&(it=!0),it?Ct.destroy():(Ct.set("parent",null),Ct.set("canvas",null)),wt(Bt.getChildren(),Ct)}function rr(Bt){return function(Ct,it){var gt=Bt(Ct,it);return gt===0?Ct[ye]-it[ye]:gt}}var Ue=function(Bt){(0,ne.__extends)(Ct,Bt);function Ct(){return Bt!==null&&Bt.apply(this,arguments)||this}return Ct.prototype.isCanvas=function(){return!1},Ct.prototype.getBBox=function(){var it=Infinity,gt=-Infinity,Yt=Infinity,J=-Infinity,ft=[],yt=[],_t=this.getChildren().filter(function(Jt){return Jt.get("visible")&&(!Jt.isGroup()||Jt.isGroup()&&Jt.getChildren().length>0)});_t.length>0?((0,U.default)(_t,function(Jt){var pe=Jt.getBBox();ft.push(pe.minX,pe.maxX),yt.push(pe.minY,pe.maxY)}),it=Math.min.apply(null,ft),gt=Math.max.apply(null,ft),Yt=Math.min.apply(null,yt),J=Math.max.apply(null,yt)):(it=0,gt=0,Yt=0,J=0);var Xt={x:it,y:Yt,minX:it,minY:Yt,maxX:gt,maxY:J,width:gt-it,height:J-Yt};return Xt},Ct.prototype.getCanvasBBox=function(){var it=Infinity,gt=-Infinity,Yt=Infinity,J=-Infinity,ft=[],yt=[],_t=this.getChildren().filter(function(Jt){return Jt.get("visible")&&(!Jt.isGroup()||Jt.isGroup()&&Jt.getChildren().length>0)});_t.length>0?((0,U.default)(_t,function(Jt){var pe=Jt.getCanvasBBox();ft.push(pe.minX,pe.maxX),yt.push(pe.minY,pe.maxY)}),it=Math.min.apply(null,ft),gt=Math.max.apply(null,ft),Yt=Math.min.apply(null,yt),J=Math.max.apply(null,yt)):(it=0,gt=0,Yt=0,J=0);var Xt={x:it,y:Yt,minX:it,minY:Yt,maxX:gt,maxY:J,width:gt-it,height:J-Yt};return Xt},Ct.prototype.getDefaultCfg=function(){var it=Bt.prototype.getDefaultCfg.call(this);return it.children=[],it},Ct.prototype.onAttrChange=function(it,gt,Yt){if(Bt.prototype.onAttrChange.call(this,it,gt,Yt),it==="matrix"){var J=this.getTotalMatrix();this._applyChildrenMarix(J)}},Ct.prototype.applyMatrix=function(it){var gt=this.getTotalMatrix();Bt.prototype.applyMatrix.call(this,it);var Yt=this.getTotalMatrix();Yt!==gt&&this._applyChildrenMarix(Yt)},Ct.prototype._applyChildrenMarix=function(it){var gt=this.getChildren();(0,U.default)(gt,function(Yt){Yt.applyMatrix(it)})},Ct.prototype.addShape=function(){for(var it=[],gt=0;gt<arguments.length;gt++)it[gt]=arguments[gt];var Yt=it[0],J=it[1];(0,Q.default)(Yt)?J=Yt:J.type=Yt;var ft=ve[J.type];ft||(ft=(0,W.default)(J.type),ve[J.type]=ft);var yt=this.getShapeBase(),_t=new yt[ft](J);return this.add(_t),_t},Ct.prototype.addGroup=function(){for(var it=[],gt=0;gt<arguments.length;gt++)it[gt]=arguments[gt];var Yt=it[0],J=it[1],ft;if((0,Tt.default)(Yt))J?ft=new Yt(J):ft=new Yt({parent:this});else{var yt=Yt||{},_t=this.getGroupBase();ft=new _t(yt)}return this.add(ft),ft},Ct.prototype.getCanvas=function(){var it;return this.isCanvas()?it=this:it=this.get("canvas"),it},Ct.prototype.getShape=function(it,gt,Yt){if(!oe(this))return null;var J=this.getChildren(),ft;if(this.isCanvas())ft=this._findShape(J,it,gt,Yt);else{var yt=[it,gt,1];yt=this.invertFromMatrix(yt),this.isClipped(yt[0],yt[1])||(ft=this._findShape(J,yt[0],yt[1],Yt))}return ft},Ct.prototype._findShape=function(it,gt,Yt,J){for(var ft=null,yt=it.length-1;yt>=0;yt--){var _t=it[yt];if(oe(_t)&&(_t.isGroup()?ft=_t.getShape(gt,Yt,J):_t.isHit(gt,Yt)&&(ft=_t)),ft)break}return ft},Ct.prototype.add=function(it){var gt=this.getCanvas(),Yt=this.getChildren(),J=this.get("timeline"),ft=it.getParent();ft&&Ce(ft,it,!1),it.set("parent",this),gt&&Pe(it,gt),J&&Oe(it,J),Yt.push(it),Ae(it),this._applyElementMatrix(it)},Ct.prototype._applyElementMatrix=function(it){var gt=this.getTotalMatrix();gt&&it.applyMatrix(gt)},Ct.prototype.getChildren=function(){return this.get("children")},Ct.prototype.sort=function(){var it=this.getChildren();(0,U.default)(it,function(gt,Yt){return gt[ye]=Yt,gt}),it.sort(rr(function(gt,Yt){return gt.get("zIndex")-Yt.get("zIndex")})),this.onCanvasChange("sort")},Ct.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var it=this.getChildren(),gt=it.length-1;gt>=0;gt--)it[gt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},Ct.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Bt.prototype.destroy.call(this))},Ct.prototype.getFirst=function(){return this.getChildByIndex(0)},Ct.prototype.getLast=function(){var it=this.getChildren();return this.getChildByIndex(it.length-1)},Ct.prototype.getChildByIndex=function(it){var gt=this.getChildren();return gt[it]},Ct.prototype.getCount=function(){var it=this.getChildren();return it.length},Ct.prototype.contain=function(it){var gt=this.getChildren();return gt.indexOf(it)>-1},Ct.prototype.removeChild=function(it,gt){gt===void 0&&(gt=!0),this.contain(it)&&it.remove(gt)},Ct.prototype.findAll=function(it){var gt=[],Yt=this.getChildren();return(0,U.default)(Yt,function(J){it(J)&&gt.push(J),J.isGroup()&&(gt=gt.concat(J.findAll(it)))}),gt},Ct.prototype.find=function(it){var gt=null,Yt=this.getChildren();return(0,U.default)(Yt,function(J){if(it(J)?gt=J:J.isGroup()&&(gt=J.find(it)),gt)return!1}),gt},Ct.prototype.findById=function(it){return this.find(function(gt){return gt.get("id")===it})},Ct.prototype.findByClassName=function(it){return this.find(function(gt){return gt.get("className")===it})},Ct.prototype.findAllByName=function(it){return this.findAll(function(gt){return gt.get("name")===it})},Ct}(ie),fr=Ue,Cr=d(35374),vr=d(13681),br=d(42800),mr=d(88122),Ar=function(Bt){return["fill","stroke","fillStyle","strokeStyle"].includes(Bt)},hr=function(Bt){return/^[r,R,L,l]{1}[\s]*\(/.test(Bt)},Fr=[1,0,0,0,1,0,0,0,1];function Kr(Bt,Ct,it){var gt={},Yt=Ct.fromAttrs,J=Ct.toAttrs;if(!Bt.destroyed){var ft;for(var yt in J)if(!(0,L.isEqual)(Yt[yt],J[yt]))if(yt==="path"){var _t=J[yt],Xt=Yt[yt];_t.length>Xt.length?(_t=_(J[yt]),Xt=_(Yt[yt]),Xt=f(Xt,_t),Xt=Ut(Xt,_t),Ct.fromAttrs.path=Xt,Ct.toAttrs.path=_t):Ct.pathFormatted||(_t=_(J[yt]),Xt=_(Yt[yt]),Xt=Ut(Xt,_t),Ct.fromAttrs.path=Xt,Ct.toAttrs.path=_t,Ct.pathFormatted=!0),gt[yt]=[];for(var Jt=0;Jt<_t.length;Jt++){for(var pe=_t[Jt],Ee=Xt[Jt],Be=[],xe=0;xe<pe.length;xe++)(0,L.isNumber)(pe[xe])&&Ee&&(0,L.isNumber)(Ee[xe])?(ft=(0,br.Z)(Ee[xe],pe[xe]),Be.push(ft(it))):Be.push(pe[xe]);gt[yt].push(Be)}}else if(yt==="matrix"){var Xe=(0,mr.Z)(Yt[yt]||Fr,J[yt]||Fr),pr=Xe(it);gt[yt]=pr}else Ar(yt)&&hr(J[yt])?gt[yt]=J[yt]:(0,L.isFunction)(J[yt])||(ft=(0,br.Z)(Yt[yt],J[yt]),gt[yt]=ft(it));Bt.attr(gt)}}function Xr(Bt,Ct,it){var gt=Ct.startTime,Yt=Ct.delay;if(it<gt+Yt||Ct._paused)return!1;var J,ft=Ct.duration,yt=Ct.easing;if(it=it-gt-Ct.delay,Ct.repeat)J=it%ft/ft,J=vr[yt](J);else if(J=it/ft,J<1)J=vr[yt](J);else return Ct.onFrame?Bt.attr(Ct.onFrame(1)):Bt.attr(Ct.toAttrs),!0;if(Ct.onFrame){var _t=Ct.onFrame(J);Bt.attr(_t)}else Kr(Bt,Ct,J);return!1}var Zr=function(){function Bt(Ct){this.animators=[],this.current=0,this.timer=null,this.canvas=Ct}return Bt.prototype.initTimer=function(){var Ct=this,it=!1,gt,Yt,J;this.timer=Cr.HT(function(ft){if(Ct.current=ft,Ct.animators.length>0){for(var yt=Ct.animators.length-1;yt>=0;yt--){if(gt=Ct.animators[yt],gt.destroyed){Ct.removeAnimator(yt);continue}if(!gt.isAnimatePaused()){Yt=gt.get("animations");for(var _t=Yt.length-1;_t>=0;_t--)J=Yt[_t],it=Xr(gt,J,ft),it&&(Yt.splice(_t,1),it=!1,J.callback&&J.callback())}Yt.length===0&&Ct.removeAnimator(yt)}var Xt=Ct.canvas.get("autoDraw");Xt||Ct.canvas.draw()}})},Bt.prototype.addAnimator=function(Ct){this.animators.push(Ct)},Bt.prototype.removeAnimator=function(Ct){this.animators.splice(Ct,1)},Bt.prototype.isAnimating=function(){return!!this.animators.length},Bt.prototype.stop=function(){this.timer&&this.timer.stop()},Bt.prototype.stopAllAnimations=function(Ct){Ct===void 0&&(Ct=!0),this.animators.forEach(function(it){it.stopAnimate(Ct)}),this.animators=[],this.canvas.draw()},Bt.prototype.getTime=function(){return this.current},Bt}(),an=Zr,en=40,Wn=0,gn=":",ei=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function pi(Bt,Ct){for(var it in Bt)if(Bt.hasOwnProperty(it)&&it.indexOf(gn+Ct)>=0)return!0;return!1}function hi(Bt,Ct,it){it.name=Ct,it.target=Bt,it.currentTarget=Bt,it.delegateTarget=Bt,Bt.emit(Ct,it)}function Mi(Bt,Ct,it){if(it.bubbles){var gt=void 0,Yt=!1;if(Ct==="mouseenter"?(gt=it.fromShape,Yt=!0):Ct==="mouseleave"&&(Yt=!0,gt=it.toShape),Bt.isCanvas()&&Yt)return;if(gt&&Wt(Bt,gt)){it.bubbles=!1;return}it.name=Ct,it.currentTarget=Bt,it.delegateTarget=Bt,Bt.emit(Ct,it)}}var Zi=function(){function Bt(Ct){var it=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(gt){var Yt=gt.type;it._triggerEvent(Yt,gt)},this._onDocumentMove=function(gt){var Yt=it.canvas,J=Yt.get("el");if(J!==gt.target&&(it.dragging||it.currentShape)){var ft=it._getPointInfo(gt);it.dragging&&it._emitEvent("drag",gt,ft,it.draggingShape)}},this._onDocumentMouseUp=function(gt){var Yt=it.canvas,J=Yt.get("el");if(J!==gt.target&&it.dragging){var ft=it._getPointInfo(gt);it.draggingShape&&it._emitEvent("drop",gt,ft,null),it._emitEvent("dragend",gt,ft,it.draggingShape),it._afterDrag(it.draggingShape,ft,gt)}},this.canvas=Ct.canvas}return Bt.prototype.init=function(){this._bindEvents()},Bt.prototype._bindEvents=function(){var Ct=this,it=this.canvas.get("el");(0,U.default)(ei,function(gt){it.addEventListener(gt,Ct._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Bt.prototype._clearEvents=function(){var Ct=this,it=this.canvas.get("el");(0,U.default)(ei,function(gt){it.removeEventListener(gt,Ct._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Bt.prototype._getEventObj=function(Ct,it,gt,Yt,J,ft){var yt=new zt(Ct,it);return yt.fromShape=J,yt.toShape=ft,yt.x=gt.x,yt.y=gt.y,yt.clientX=gt.clientX,yt.clientY=gt.clientY,yt.propagationPath.push(Yt),yt},Bt.prototype._getShape=function(Ct,it){return this.canvas.getShape(Ct.x,Ct.y,it)},Bt.prototype._getPointInfo=function(Ct){var it=this.canvas,gt=it.getClientByEvent(Ct),Yt=it.getPointByEvent(Ct);return{x:Yt.x,y:Yt.y,clientX:gt.x,clientY:gt.y}},Bt.prototype._triggerEvent=function(Ct,it){var gt=this._getPointInfo(it),Yt=this._getShape(gt,it),J=this["_on"+Ct],ft=!1;if(J)J.call(this,gt,Yt,it);else{var yt=this.currentShape;Ct==="mouseenter"||Ct==="dragenter"||Ct==="mouseover"?(this._emitEvent(Ct,it,gt,null,null,Yt),Yt&&this._emitEvent(Ct,it,gt,Yt,null,Yt),Ct==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",it,gt,null)):Ct==="mouseleave"||Ct==="dragleave"||Ct==="mouseout"?(ft=!0,yt&&this._emitEvent(Ct,it,gt,yt,yt,null),this._emitEvent(Ct,it,gt,null,yt,null),Ct==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",it,gt,null)):this._emitEvent(Ct,it,gt,Yt,null,null)}if(ft||(this.currentShape=Yt),Yt&&!Yt.get("destroyed")){var _t=this.canvas,Xt=_t.get("el");Xt.style.cursor=Yt.attr("cursor")||_t.get("cursor")}},Bt.prototype._onmousedown=function(Ct,it,gt){gt.button===Wn&&(this.mousedownShape=it,this.mousedownPoint=Ct,this.mousedownTimeStamp=gt.timeStamp),this._emitEvent("mousedown",gt,Ct,it,null,null)},Bt.prototype._emitMouseoverEvents=function(Ct,it,gt,Yt){var J=this.canvas.get("el");gt!==Yt&&(gt&&(this._emitEvent("mouseout",Ct,it,gt,gt,Yt),this._emitEvent("mouseleave",Ct,it,gt,gt,Yt),(!Yt||Yt.get("destroyed"))&&(J.style.cursor=this.canvas.get("cursor"))),Yt&&(this._emitEvent("mouseover",Ct,it,Yt,gt,Yt),this._emitEvent("mouseenter",Ct,it,Yt,gt,Yt)))},Bt.prototype._emitDragoverEvents=function(Ct,it,gt,Yt,J){Yt?(Yt!==gt&&(gt&&this._emitEvent("dragleave",Ct,it,gt,gt,Yt),this._emitEvent("dragenter",Ct,it,Yt,gt,Yt)),J||this._emitEvent("dragover",Ct,it,Yt)):gt&&this._emitEvent("dragleave",Ct,it,gt,gt,Yt),J&&this._emitEvent("dragover",Ct,it,Yt)},Bt.prototype._afterDrag=function(Ct,it,gt){Ct&&(Ct.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Yt=this._getShape(it,gt);Yt!==Ct&&this._emitMouseoverEvents(gt,it,Ct,Yt),this.currentShape=Yt},Bt.prototype._onmouseup=function(Ct,it,gt){if(gt.button===Wn){var Yt=this.draggingShape;this.dragging?(Yt&&this._emitEvent("drop",gt,Ct,it),this._emitEvent("dragend",gt,Ct,Yt),this._afterDrag(Yt,Ct,gt)):(this._emitEvent("mouseup",gt,Ct,it),it===this.mousedownShape&&this._emitEvent("click",gt,Ct,it),this.mousedownShape=null,this.mousedownPoint=null)}},Bt.prototype._ondragover=function(Ct,it,gt){gt.preventDefault();var Yt=this.currentShape;this._emitDragoverEvents(gt,Ct,Yt,it,!0)},Bt.prototype._onmousemove=function(Ct,it,gt){var Yt=this.canvas,J=this.currentShape,ft=this.draggingShape;if(this.dragging)ft&&this._emitDragoverEvents(gt,Ct,J,it,!1),this._emitEvent("drag",gt,Ct,ft);else{var yt=this.mousedownPoint;if(yt){var _t=this.mousedownShape,Xt=gt.timeStamp,Jt=Xt-this.mousedownTimeStamp,pe=yt.clientX-Ct.clientX,Ee=yt.clientY-Ct.clientY,Be=pe*pe+Ee*Ee;Jt>120||Be>en?_t&&_t.get("draggable")?(ft=this.mousedownShape,ft.set("capture",!1),this.draggingShape=ft,this.dragging=!0,this._emitEvent("dragstart",gt,Ct,ft),this.mousedownShape=null,this.mousedownPoint=null):!_t&&Yt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",gt,Ct,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(gt,Ct,J,it),this._emitEvent("mousemove",gt,Ct,it)):(this._emitMouseoverEvents(gt,Ct,J,it),this._emitEvent("mousemove",gt,Ct,it))}else this._emitMouseoverEvents(gt,Ct,J,it),this._emitEvent("mousemove",gt,Ct,it)}},Bt.prototype._emitEvent=function(Ct,it,gt,Yt,J,ft){var yt=this._getEventObj(Ct,it,gt,Yt,J,ft);if(Yt){yt.shape=Yt,hi(Yt,Ct,yt);for(var _t=Yt.getParent();_t;)_t.emitDelegation(Ct,yt),yt.propagationStopped||Mi(_t,Ct,yt),yt.propagationPath.push(_t),_t=_t.getParent()}else{var Xt=this.canvas;hi(Xt,Ct,yt)}},Bt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Bt}(),Yr=Zi,gi="px",Ei=(0,te.detect)(),yi=Ei&&Ei.name==="firefox",Pn=function(Bt){(0,ne.__extends)(Ct,Bt);function Ct(it){var gt=Bt.call(this,it)||this;return gt.initContainer(),gt.initDom(),gt.initEvents(),gt.initTimeline(),gt}return Ct.prototype.getDefaultCfg=function(){var it=Bt.prototype.getDefaultCfg.call(this);return it.cursor="default",it.supportCSSTransform=!1,it},Ct.prototype.initContainer=function(){var it=this.get("container");(0,pt.default)(it)&&(it=document.getElementById(it),this.set("container",it))},Ct.prototype.initDom=function(){var it=this.createDom();this.set("el",it);var gt=this.get("container");gt.appendChild(it),this.setDOMSize(this.get("width"),this.get("height"))},Ct.prototype.initEvents=function(){var it=new Yr({canvas:this});it.init(),this.set("eventController",it)},Ct.prototype.initTimeline=function(){var it=new an(this);this.set("timeline",it)},Ct.prototype.setDOMSize=function(it,gt){var Yt=this.get("el");Lt&&(Yt.style.width=it+gi,Yt.style.height=gt+gi)},Ct.prototype.changeSize=function(it,gt){this.setDOMSize(it,gt),this.set("width",it),this.set("height",gt),this.onCanvasChange("changeSize")},Ct.prototype.getRenderer=function(){return this.get("renderer")},Ct.prototype.getCursor=function(){return this.get("cursor")},Ct.prototype.setCursor=function(it){this.set("cursor",it);var gt=this.get("el");Lt&&gt&&(gt.style.cursor=it)},Ct.prototype.getPointByEvent=function(it){var gt=this.get("supportCSSTransform");if(gt){if(yi&&!(0,Dt.default)(it.layerX)&&it.layerX!==it.offsetX)return{x:it.layerX,y:it.layerY};if(!(0,Dt.default)(it.offsetX))return{x:it.offsetX,y:it.offsetY}}var Yt=this.getClientByEvent(it),J=Yt.x,ft=Yt.y;return this.getPointByClient(J,ft)},Ct.prototype.getClientByEvent=function(it){var gt=it;return it.touches&&(it.type==="touchend"?gt=it.changedTouches[0]:gt=it.touches[0]),{x:gt.clientX,y:gt.clientY}},Ct.prototype.getPointByClient=function(it,gt){var Yt=this.get("el"),J=Yt.getBoundingClientRect();return{x:it-J.left,y:gt-J.top}},Ct.prototype.getClientByPoint=function(it,gt){var Yt=this.get("el"),J=Yt.getBoundingClientRect();return{x:it+J.left,y:gt+J.top}},Ct.prototype.draw=function(){},Ct.prototype.removeDom=function(){var it=this.get("el");it.parentNode.removeChild(it)},Ct.prototype.clearEvents=function(){var it=this.get("eventController");it.destroy()},Ct.prototype.isCanvas=function(){return!0},Ct.prototype.getParent=function(){return null},Ct.prototype.destroy=function(){var it=this.get("timeline");this.get("destroyed")||(this.clear(),it&&it.stop(),this.clearEvents(),this.removeDom(),Bt.prototype.destroy.call(this))},Ct}(fr),vi=Pn,Ki=function(Bt){(0,ne.__extends)(Ct,Bt);function Ct(){return Bt!==null&&Bt.apply(this,arguments)||this}return Ct.prototype.isGroup=function(){return!0},Ct.prototype.isEntityGroup=function(){return!1},Ct.prototype.clone=function(){for(var it=Bt.prototype.clone.call(this),gt=this.getChildren(),Yt=0;Yt<gt.length;Yt++){var J=gt[Yt];it.add(J.clone())}return it},Ct}(fr),Bi=Ki,mi=function(Bt){(0,ne.__extends)(Ct,Bt);function Ct(it){return Bt.call(this,it)||this}return Ct.prototype._isInBBox=function(it,gt){var Yt=this.getBBox();return Yt.minX<=it&&Yt.maxX>=it&&Yt.minY<=gt&&Yt.maxY>=gt},Ct.prototype.afterAttrsChange=function(it){Bt.prototype.afterAttrsChange.call(this,it),this.clearCacheBBox()},Ct.prototype.getBBox=function(){var it=this.get("bbox");return it||(it=this.calculateBBox(),this.set("bbox",it)),it},Ct.prototype.getCanvasBBox=function(){var it=this.get("canvasBox");return it||(it=this.calculateCanvasBBox(),this.set("canvasBox",it)),it},Ct.prototype.applyMatrix=function(it){Bt.prototype.applyMatrix.call(this,it),this.set("canvasBox",null)},Ct.prototype.calculateCanvasBBox=function(){var it=this.getBBox(),gt=this.getTotalMatrix(),Yt=it.minX,J=it.minY,ft=it.maxX,yt=it.maxY;if(gt){var _t=Ne(gt,[it.minX,it.minY]),Xt=Ne(gt,[it.maxX,it.minY]),Jt=Ne(gt,[it.minX,it.maxY]),pe=Ne(gt,[it.maxX,it.maxY]);Yt=Math.min(_t[0],Xt[0],Jt[0],pe[0]),ft=Math.max(_t[0],Xt[0],Jt[0],pe[0]),J=Math.min(_t[1],Xt[1],Jt[1],pe[1]),yt=Math.max(_t[1],Xt[1],Jt[1],pe[1])}var Ee=this.attrs;if(Ee.shadowColor){var Be=Ee.shadowBlur,xe=Be===void 0?0:Be,Xe=Ee.shadowOffsetX,pr=Xe===void 0?0:Xe,wr=Ee.shadowOffsetY,Ir=wr===void 0?0:wr,lr=Yt-xe+pr,er=ft+xe+pr,Vr=J-xe+Ir,Sn=yt+xe+Ir;Yt=Math.min(Yt,lr),ft=Math.max(ft,er),J=Math.min(J,Vr),yt=Math.max(yt,Sn)}return{x:Yt,y:J,minX:Yt,minY:J,maxX:ft,maxY:yt,width:ft-Yt,height:yt-J}},Ct.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},Ct.prototype.isClipShape=function(){return this.get("isClipShape")},Ct.prototype.isInShape=function(it,gt){return!1},Ct.prototype.isOnlyHitBox=function(){return!1},Ct.prototype.isHit=function(it,gt){var Yt=this.get("startArrowShape"),J=this.get("endArrowShape"),ft=[it,gt,1];ft=this.invertFromMatrix(ft);var yt=ft[0],_t=ft[1],Xt=this._isInBBox(yt,_t);return this.isOnlyHitBox()?Xt:!!(Xt&&!this.isClipped(yt,_t)&&(this.isInShape(yt,_t)||Yt&&Yt.isHit(yt,_t)||J&&J.isHit(yt,_t)))},Ct}(ie),ii=mi,Xi=d(76062),fa=Xi.version},40455:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var L=m.attr(),I=L.x,P=L.y,T=L.r;return{x:I-T,y:P-T,width:T*2,height:T*2}}S.default=d},27633:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var L=m.attr(),I=L.x,P=L.y,T=L.rx,_=L.ry;return{x:I-T,y:P-_,width:T*2,height:_*2}}S.default=d},41056:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(28648);S.b=L.getMethod;var I=d(3541),P=d(40455),T=d(10687),_=d(19914),M=d(92933),E=d(89372),p=d(74461),b=d(27633);L.register("rect",I.default),L.register("image",I.default),L.register("circle",P.default),L.register("marker",P.default),L.register("polyline",T.default),L.register("polygon",_.default),L.register("text",M.default),L.register("path",E.default),L.register("line",p.default),L.register("ellipse",b.default)},74461:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(3406);function L(I){var P=I.attr(),T=P.x1,_=P.y1,M=P.x2,E=P.y2,p=Math.min(T,M),b=Math.max(T,M),y=Math.min(_,E),w=Math.max(_,E),x={minX:p,maxX:b,minY:y,maxY:w};return x=m.mergeArrowBBox(I,x),{x:x.minX,y:x.minY,width:x.maxX-x.minX,height:x.maxY-x.minY}}S.default=L},89372:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(2879),L=d(15730),I=d(33418),P=d(49274),T=d(39984),_=d(3406);function M(b,y){for(var w=[],x=[],A=[],O=0;O<b.length;O++){var B=b[O],R=B.currentPoint,Y=B.params,j=B.prePoint,V=void 0;switch(B.command){case"Q":V=m.default.box(j[0],j[1],Y[1],Y[2],Y[3],Y[4]);break;case"C":V=L.default.box(j[0],j[1],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6]);break;case"A":var nt=B.arcParams;V=I.default.box(nt.cx,nt.cy,nt.rx,nt.ry,nt.xRotation,nt.startAngle,nt.endAngle);break;default:w.push(R[0]),x.push(R[1]);break}V&&(B.box=V,w.push(V.x,V.x+V.width),x.push(V.y,V.y+V.height)),y&&(B.command==="L"||B.command==="M")&&B.prePoint&&B.nextPoint&&A.push(B)}w=w.filter(function(Rt){return!Number.isNaN(Rt)}),x=x.filter(function(Rt){return!Number.isNaN(Rt)});var ct=Math.min.apply(null,w),ut=Math.min.apply(null,x),Pt=Math.max.apply(null,w),Gt=Math.max.apply(null,x);if(A.length===0)return{x:ct,y:ut,width:Pt-ct,height:Gt-ut};for(var O=0;O<A.length;O++){var B=A[O],R=B.currentPoint,qt=void 0;R[0]===ct?(qt=E(B,y),ct=ct-qt.xExtra):R[0]===Pt&&(qt=E(B,y),Pt=Pt+qt.xExtra),R[1]===ut?(qt=E(B,y),ut=ut-qt.yExtra):R[1]===Gt&&(qt=E(B,y),Gt=Gt+qt.yExtra)}return{x:ct,y:ut,width:Pt-ct,height:Gt-ut}}function E(b,y){var w=b.prePoint,x=b.currentPoint,A=b.nextPoint,O=Math.pow(x[0]-w[0],2)+Math.pow(x[1]-w[1],2),B=Math.pow(x[0]-A[0],2)+Math.pow(x[1]-A[1],2),R=Math.pow(w[0]-A[0],2)+Math.pow(w[1]-A[1],2),Y=Math.acos((O+B-R)/(2*Math.sqrt(O)*Math.sqrt(B)));if(!Y||Math.sin(Y)===0||T.default(Y,0))return{xExtra:0,yExtra:0};var j=Math.abs(Math.atan2(A[1]-x[1],A[0]-x[0])),V=Math.abs(Math.atan2(A[0]-x[0],A[1]-x[1]));j=j>Math.PI/2?Math.PI-j:j,V=V>Math.PI/2?Math.PI-V:V;var nt={xExtra:Math.cos(Y/2-j)*(y/2*(1/Math.sin(Y/2)))-y/2||0,yExtra:Math.cos(V-Y/2)*(y/2*(1/Math.sin(Y/2)))-y/2||0};return nt}function p(b){var y=b.attr(),w=y.path,x=y.stroke,A=x?y.lineWidth:0,O=b.get("segments")||P.default(w),B=M(O,A),R=B.x,Y=B.y,j=B.width,V=B.height,nt={minX:R,minY:Y,maxX:R+j,maxY:Y+V};return nt=_.mergeArrowBBox(b,nt),{x:nt.minX,y:nt.minY,width:nt.maxX-nt.minX,height:nt.maxY-nt.minY}}S.default=p},19914:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256);function L(I){for(var P=I.attr(),T=P.points,_=[],M=[],E=0;E<T.length;E++){var p=T[E];_.push(p[0]),M.push(p[1])}return m.getBBoxByArray(_,M)}S.default=L},10687:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),L=d(3406);function I(P){for(var T=P.attr(),_=T.points,M=[],E=[],p=0;p<_.length;p++){var b=_[p];M.push(b[0]),E.push(b[1])}var y=m.getBBoxByArray(M,E),w=y.x,x=y.y,A=y.width,O=y.height,B={minX:w,minY:x,maxX:w+A,maxY:x+O};return B=L.mergeArrowBBox(P,B),{x:B.minX,y:B.minY,width:B.maxX-B.minX,height:B.maxY-B.minY}}S.default=I},3541:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var L=m.attr(),I=L.x,P=L.y,T=L.width,_=L.height;return{x:I,y:P,width:T,height:_}}S.default=d},28648:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=new Map;function m(I,P){d.set(I,P)}S.register=m;function L(I){return d.get(I)}S.getMethod=L},92933:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(8914);function L(I){var P=I.attr(),T=P.x,_=P.y,M=P.text,E=P.fontSize,p=P.lineHeight,b=P.font;b||(b=m.assembleFont(P));var y=m.getTextWidth(M,b),w;if(!y)w={x:T,y:_,width:0,height:0};else{var x=P.textAlign,A=P.textBaseline,O=m.getTextHeight(M,E,p),B={x:T,y:_-O};x&&(x==="end"||x==="right"?B.x-=y:x==="center"&&(B.x-=y/2)),A&&(A==="top"?B.y+=O:A==="middle"&&(B.y+=O/2)),w={x:B.x,y:B.y,width:y,height:O}}return w}S.default=L},3406:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(L,I){return!L||!I?L||I:{minX:Math.min(L.minX,I.minX),minY:Math.min(L.minY,I.minY),maxX:Math.max(L.maxX,I.maxX),maxY:Math.max(L.maxY,I.maxY)}}S.mergeBBox=d;function m(L,I){var P=L.get("startArrowShape"),T=L.get("endArrowShape"),_=null,M=null;return P&&(_=P.getCanvasBBox(),I=d(I,_)),T&&(M=T.getCanvasBBox(),I=d(I,M)),I}S.mergeArrowBBox=m},66192:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(L,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=L,this.name=L,this.originalEvent=I,this.timeStamp=I.timeStamp}return m.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},m.prototype.stopPropagation=function(){this.propagationStopped=!0},m.prototype.toString=function(){var L=this.type;return"[Event (type="+L+")]"},m.prototype.save=function(){},m.prototype.restore=function(){},m}();S.default=d},85424:function(mt,S){"use strict";var d;d={value:!0}},4555:function(mt,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(mt,S){"use strict";var d;d={value:!0};function m(P,T){var _=[],M=P[0],E=P[1],p=P[2],b=P[3],y=P[4],w=P[5],x=P[6],A=P[7],O=P[8],B=T[0],R=T[1],Y=T[2],j=T[3],V=T[4],nt=T[5],ct=T[6],ut=T[7],Pt=T[8];return _[0]=B*M+R*b+Y*x,_[1]=B*E+R*y+Y*A,_[2]=B*p+R*w+Y*O,_[3]=j*M+V*b+nt*x,_[4]=j*E+V*y+nt*A,_[5]=j*p+V*w+nt*O,_[6]=ct*M+ut*b+Pt*x,_[7]=ct*E+ut*y+Pt*A,_[8]=ct*p+ut*w+Pt*O,_}d=m;function L(P,T){var _=[],M=T[0],E=T[1];return _[0]=P[0]*M+P[3]*E+P[6],_[1]=P[1]*M+P[4]*E+P[7],_}S.rG=L;function I(P){var T=[],_=P[0],M=P[1],E=P[2],p=P[3],b=P[4],y=P[5],w=P[6],x=P[7],A=P[8],O=A*b-y*x,B=-A*p+y*w,R=x*p-b*w,Y=_*O+M*B+E*R;return Y?(Y=1/Y,T[0]=O*Y,T[1]=(-A*M+E*x)*Y,T[2]=(y*M-E*b)*Y,T[3]=B*Y,T[4]=(A*_-E*w)*Y,T[5]=(-y*_+E*p)*Y,T[6]=R*Y,T[7]=(-x*_+M*w)*Y,T[8]=(b*_-M*p)*Y,T):null}S.U_=I},26632:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=null;function m(){if(!d){var L=document.createElement("canvas");L.width=1,L.height=1,d=L.getContext("2d")}return d}S.getOffScreenContext=m},8914:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(22487),L=d(26632);function I(M,E,p){var b=1;if(m.isString(M)&&(b=M.split(`
`).length),b>1){var y=P(E,p);return E*b+y*(b-1)}return E}S.getTextHeight=I;function P(M,E){return E?E-M:M*.14}S.getLineSpaceing=P;function T(M,E){var p=L.getOffScreenContext(),b=0;if(m.isNil(M)||M==="")return b;if(p.save(),p.font=E,m.isString(M)&&M.includes(`
`)){var y=M.split(`
`);m.each(y,function(w){var x=p.measureText(w).width;b<x&&(b=x)})}else b=p.measureText(M).width;return p.restore(),b}S.getTextWidth=T;function _(M){var E=M.fontSize,p=M.fontFamily,b=M.fontWeight,y=M.fontStyle,w=M.fontVariant;return[y,w,b,E+"px",p].join(" ").trim()}S.assembleFont=_},22487:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function m(w,x){var A=w.indexOf(x);A!==-1&&w.splice(A,1)}S.removeFromArray=m,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var L=d(73890);S.isNil=L.default;var I=d(46812);S.isFunction=I.default;var P=d(21830);S.isString=P.default;var T=d(33643);S.isObject=T.default;var _=d(66631);S.isArray=_.default;var M=d(66974);S.mix=M.default;var E=d(27154);S.each=E.default;var p=d(85260);S.upperFirst=p.default;function b(w,x){if(w.isCanvas())return!0;for(var A=x.getParent(),O=!1;A;){if(A===w){O=!0;break}A=A.getParent()}return O}S.isParent=b;function y(w){return w.cfg.visible&&w.cfg.capture}S.isAllowCapture=y},76062:function(mt){"use strict";mt.exports=JSON.parse('{"__npminstall_done":false,"_from":"@antv/g-base@~0.4.0","_id":"@antv/g-base@0.4.7","_inBundle":false,"_integrity":"sha512-wKSpS3/M1slU92iOgi2QV4MCd82J1d2PyPcQArqSFRUZU0KnVMIl95v79dG0Be4YvFaZ3bVrT6Ns1Czr8oplhA==","_location":"/@antv/g-base","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@antv/g-base@~0.4.0","name":"@antv/g-base","escapedName":"@antv%2fg-base","scope":"@antv","rawSpec":"~0.4.0","saveSpec":null,"fetchSpec":"~0.4.0"},"_requiredBy":["/@antv/component","/@antv/g-canvas","/@antv/g-svg","/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-base/-/g-base-0.4.7.tgz","_shasum":"7698fc4c8cb381f2b789a30fbeb26b1e88c48196","_spec":"@antv/g-base@~0.4.0","_where":"/Users/nguyenthanhtuan/Documents/Nexter/nexter-admin-version2/node_modules/@antv/g2plot","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/util/issues"},"bundleDependencies":false,"dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"deprecated":false,"description":"A common util collection for antv projects","devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"files":["package.json","esm","lib","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/util#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-base","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","clean":"rm -rf esm lib","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc"},"types":"lib/index.d.ts","version":"0.4.7"}')},84909:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(48465);function I(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function P(M,E){return I(M)*I(E)?(M[0]*E[0]+M[1]*E[1])/(I(M)*I(E)):1}function T(M,E){return(M[0]*E[1]<M[1]*E[0]?-1:1)*Math.acos(P(M,E))}function _(M,E){var p=E[1],b=E[2],y=L.mod(L.toRadian(E[3]),Math.PI*2),w=E[4],x=E[5],A=M[0],O=M[1],B=E[6],R=E[7],Y=Math.cos(y)*(A-B)/2+Math.sin(y)*(O-R)/2,j=-1*Math.sin(y)*(A-B)/2+Math.cos(y)*(O-R)/2,V=Y*Y/(p*p)+j*j/(b*b);V>1&&(p*=Math.sqrt(V),b*=Math.sqrt(V));var nt=p*p*(j*j)+b*b*(Y*Y),ct=nt?Math.sqrt((p*p*(b*b)-nt)/nt):1;w===x&&(ct*=-1),isNaN(ct)&&(ct=0);var ut=b?ct*p*j/b:0,Pt=p?ct*-b*Y/p:0,Gt=(A+B)/2+Math.cos(y)*ut-Math.sin(y)*Pt,qt=(O+R)/2+Math.sin(y)*ut+Math.cos(y)*Pt,Rt=[(Y-ut)/p,(j-Pt)/b],at=[(-1*Y-ut)/p,(-1*j-Pt)/b],vt=T([1,0],Rt),ot=T(Rt,at);return P(Rt,at)<=-1&&(ot=Math.PI),P(Rt,at)>=1&&(ot=0),x===0&&ot>0&&(ot=ot-2*Math.PI),x===1&&ot<0&&(ot=ot+2*Math.PI),{cx:Gt,cy:qt,rx:L.isSamePoint(M,[B,R])?0:p,ry:L.isSamePoint(M,[B,R])?0:b,startAngle:vt,endAngle:vt+ot,xRotation:y,arcFlag:w,sweepFlag:x}}S.Z=_},48465:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function m(){return window?window.devicePixelRatio:1}S.getPixelRatio=m;function L(R,Y,j,V){var nt=R-j,ct=Y-V;return Math.sqrt(nt*nt+ct*ct)}S.distance=L;function I(R,Y,j,V,nt,ct){return nt>=R&&nt<=R+j&&ct>=Y&&ct<=Y+V}S.inBox=I;function P(R,Y){return!(Y.minX>R.maxX||Y.maxX<R.minX||Y.minY>R.maxY||Y.maxY<R.minY)}S.intersectRect=P;function T(R,Y){return!R||!Y?R||Y:{minX:Math.min(R.minX,Y.minX),minY:Math.min(R.minY,Y.minY),maxX:Math.max(R.maxX,Y.maxX),maxY:Math.max(R.maxY,Y.maxY)}}S.mergeRegion=T;function _(R,Y){return R[0]===Y[0]&&R[1]===Y[1]}S.isSamePoint=_;var M=d(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return M.default}});var E=d(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.default}});var p=d(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var b=d(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return b.default}});var y=d(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return y.default}});var w=d(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return w.default}});var x=d(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return x.default}});var A=d(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return A.default}});var O=d(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return O.default}});var B=d(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return B.default}})},71270:function(mt){"use strict";mt.exports=JSON.parse('{"__npminstall_done":false,"_from":"@antv/g-canvas@~0.4.0","_id":"@antv/g-canvas@0.4.15","_inBundle":false,"_integrity":"sha512-+Du37T7dhU1F8GiaWu+EMtBDHoYOg8UzCoVBFD+cUEs/joLaOVkup3drvGC/6MSyLiI32y/ZHuuc08pZIP7PzA==","_location":"/@antv/g-canvas","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@antv/g-canvas@~0.4.0","name":"@antv/g-canvas","escapedName":"@antv%2fg-canvas","scope":"@antv","rawSpec":"~0.4.0","saveSpec":null,"fetchSpec":"~0.4.0"},"_requiredBy":["/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-canvas/-/g-canvas-0.4.15.tgz","_shasum":"81ac1be269d96280202ffefa02a39f060b1a8c07","_spec":"@antv/g-canvas@~0.4.0","_where":"/Users/nguyenthanhtuan/Documents/Nexter/nexter-admin-version2/node_modules/@antv/g2plot","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"bundleDependencies":false,"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"deprecated":false,"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-canvas","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","dist":"webpack --config webpack.config.js --mode production","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.15"}')},89838:function(mt,S,d){"use strict";d.r(S),d.d(S,{Arc:function(){return xt},Cubic:function(){return Gt},Line:function(){return b},Polygon:function(){return Tt},Polyline:function(){return ae},Quad:function(){return j},Util:function(){return m}});var m={};d.r(m),d.d(m,{distance:function(){return P},getBBoxByArray:function(){return _},getBBoxRange:function(){return M},isNumberEqual:function(){return T},piMod:function(){return E}});function L(pt){return Math.min.apply(null,pt)}function I(pt){return Math.max.apply(null,pt)}function P(pt,Q,K,lt){var U=pt-K,W=Q-lt;return Math.sqrt(U*U+W*W)}function T(pt,Q){return Math.abs(pt-Q)<.001}function _(pt,Q){var K=L(pt),lt=L(Q),U=I(pt),W=I(Q);return{x:K,y:lt,width:U-K,height:W-lt}}function M(pt,Q,K,lt){return{minX:L([pt,K]),maxX:I([pt,K]),minY:L([Q,lt]),maxY:I([Q,lt])}}function E(pt){return(pt+Math.PI*2)%(Math.PI*2)}var p=d(31437),b={box:function(pt,Q,K,lt){return _([pt,K],[Q,lt])},length:function(pt,Q,K,lt){return P(pt,Q,K,lt)},pointAt:function(pt,Q,K,lt,U){return{x:(1-U)*pt+U*K,y:(1-U)*Q+U*lt}},pointDistance:function(pt,Q,K,lt,U,W){var wt=(K-pt)*(U-pt)+(lt-Q)*(W-Q);if(wt<0)return P(pt,Q,U,W);var Lt=(K-pt)*(K-pt)+(lt-Q)*(lt-Q);return wt>Lt?P(K,lt,U,W):this.pointToLine(pt,Q,K,lt,U,W)},pointToLine:function(pt,Q,K,lt,U,W){var wt=[K-pt,lt-Q];if(p.exactEquals(wt,[0,0]))return Math.sqrt((U-pt)*(U-pt)+(W-Q)*(W-Q));var Lt=[-wt[1],wt[0]];p.normalize(Lt,Lt);var Wt=[U-pt,W-Q];return Math.abs(p.dot(Wt,Lt))},tangentAngle:function(pt,Q,K,lt){return Math.atan2(lt-Q,K-pt)}},y=1e-4;function w(pt,Q,K,lt,U,W){var wt,Lt=Infinity,Wt=[K,lt],oe=20;W&&W>200&&(oe=W/10);for(var Se=1/oe,Ye=Se/10,te=0;te<=oe;te++){var ge=te*Se,_e=[U.apply(null,pt.concat([ge])),U.apply(null,Q.concat([ge]))],Ne=P(Wt[0],Wt[1],_e[0],_e[1]);Ne<Lt&&(wt=ge,Lt=Ne)}if(wt===0)return{x:pt[0],y:Q[0]};if(wt===1){var or=pt.length;return{x:pt[or-1],y:Q[or-1]}}Lt=Infinity;for(var te=0;te<32&&!(Ye<y);te++){var je=wt-Ye,dr=wt+Ye,_e=[U.apply(null,pt.concat([je])),U.apply(null,Q.concat([je]))],Ne=P(Wt[0],Wt[1],_e[0],_e[1]);if(je>=0&&Ne<Lt)wt=je,Lt=Ne;else{var kr=[U.apply(null,pt.concat([dr])),U.apply(null,Q.concat([dr]))],Br=P(Wt[0],Wt[1],kr[0],kr[1]);dr<=1&&Br<Lt?(wt=dr,Lt=Br):Ye*=.5}}return{x:U.apply(null,pt.concat([wt])),y:U.apply(null,Q.concat([wt]))}}function x(pt,Q){for(var K=0,lt=pt.length,U=0;U<lt;U++){var W=pt[U],wt=Q[U],Lt=pt[(U+1)%lt],Wt=Q[(U+1)%lt];K+=P(W,wt,Lt,Wt)}return K/2}function A(pt,Q,K,lt){var U=1-lt;return U*U*pt+2*lt*U*Q+lt*lt*K}function O(pt,Q,K){var lt=pt+K-2*Q;if(T(lt,0))return[.5];var U=(pt-Q)/lt;return U<=1&&U>=0?[U]:[]}function B(pt,Q,K,lt){return 2*(1-lt)*(Q-pt)+2*lt*(K-Q)}function R(pt,Q,K,lt,U,W,wt){var Lt=A(pt,K,U,wt),Wt=A(Q,lt,W,wt),oe=b.pointAt(pt,Q,K,lt,wt),Se=b.pointAt(K,lt,U,W,wt);return[[pt,Q,oe.x,oe.y,Lt,Wt],[Lt,Wt,Se.x,Se.y,U,W]]}function Y(pt,Q,K,lt,U,W,wt){if(wt===0)return(P(pt,Q,K,lt)+P(K,lt,U,W)+P(pt,Q,U,W))/2;var Lt=R(pt,Q,K,lt,U,W,.5),Wt=Lt[0],oe=Lt[1];return Wt.push(wt-1),oe.push(wt-1),Y.apply(null,Wt)+Y.apply(null,oe)}var j={box:function(pt,Q,K,lt,U,W){var wt=O(pt,K,U)[0],Lt=O(Q,lt,W)[0],Wt=[pt,U],oe=[Q,W];return wt!==void 0&&Wt.push(A(pt,K,U,wt)),Lt!==void 0&&oe.push(A(Q,lt,W,Lt)),_(Wt,oe)},length:function(pt,Q,K,lt,U,W){return Y(pt,Q,K,lt,U,W,3)},nearestPoint:function(pt,Q,K,lt,U,W,wt,Lt){return w([pt,K,U],[Q,lt,W],wt,Lt,A)},pointDistance:function(pt,Q,K,lt,U,W,wt,Lt){var Wt=this.nearestPoint(pt,Q,K,lt,U,W,wt,Lt);return P(Wt.x,Wt.y,wt,Lt)},interpolationAt:A,pointAt:function(pt,Q,K,lt,U,W,wt){return{x:A(pt,K,U,wt),y:A(Q,lt,W,wt)}},divide:function(pt,Q,K,lt,U,W,wt){return R(pt,Q,K,lt,U,W,wt)},tangentAngle:function(pt,Q,K,lt,U,W,wt){var Lt=B(pt,K,U,wt),Wt=B(Q,lt,W,wt),oe=Math.atan2(Wt,Lt);return E(oe)}};function V(pt,Q,K,lt,U){var W=1-U;return W*W*W*pt+3*Q*U*W*W+3*K*U*U*W+lt*U*U*U}function nt(pt,Q,K,lt,U){var W=1-U;return 3*(W*W*(Q-pt)+2*W*U*(K-Q)+U*U*(lt-K))}function ct(pt,Q,K,lt){var U=-3*pt+9*Q-9*K+3*lt,W=6*pt-12*Q+6*K,wt=3*Q-3*pt,Lt=[],Wt,oe,Se;if(T(U,0))T(W,0)||(Wt=-wt/W,Wt>=0&&Wt<=1&&Lt.push(Wt));else{var Ye=W*W-4*U*wt;T(Ye,0)?Lt.push(-W/(2*U)):Ye>0&&(Se=Math.sqrt(Ye),Wt=(-W+Se)/(2*U),oe=(-W-Se)/(2*U),Wt>=0&&Wt<=1&&Lt.push(Wt),oe>=0&&oe<=1&&Lt.push(oe))}return Lt}function ut(pt,Q,K,lt,U,W,wt,Lt,Wt){var oe=V(pt,K,U,wt,Wt),Se=V(Q,lt,W,Lt,Wt),Ye=b.pointAt(pt,Q,K,lt,Wt),te=b.pointAt(K,lt,U,W,Wt),ge=b.pointAt(U,W,wt,Lt,Wt),_e=b.pointAt(Ye.x,Ye.y,te.x,te.y,Wt),Ne=b.pointAt(te.x,te.y,ge.x,ge.y,Wt);return[[pt,Q,Ye.x,Ye.y,_e.x,_e.y,oe,Se],[oe,Se,Ne.x,Ne.y,ge.x,ge.y,wt,Lt]]}function Pt(pt,Q,K,lt,U,W,wt,Lt,Wt){if(Wt===0)return x([pt,K,U,wt],[Q,lt,W,Lt]);var oe=ut(pt,Q,K,lt,U,W,wt,Lt,.5),Se=oe[0],Ye=oe[1];return Se.push(Wt-1),Ye.push(Wt-1),Pt.apply(null,Se)+Pt.apply(null,Ye)}var Gt={extrema:ct,box:function(pt,Q,K,lt,U,W,wt,Lt){for(var Wt=[pt,wt],oe=[Q,Lt],Se=ct(pt,K,U,wt),Ye=ct(Q,lt,W,Lt),te=0;te<Se.length;te++)Wt.push(V(pt,K,U,wt,Se[te]));for(var te=0;te<Ye.length;te++)oe.push(V(Q,lt,W,Lt,Ye[te]));return _(Wt,oe)},length:function(pt,Q,K,lt,U,W,wt,Lt){return Pt(pt,Q,K,lt,U,W,wt,Lt,3)},nearestPoint:function(pt,Q,K,lt,U,W,wt,Lt,Wt,oe,Se){return w([pt,K,U,wt],[Q,lt,W,Lt],Wt,oe,V,Se)},pointDistance:function(pt,Q,K,lt,U,W,wt,Lt,Wt,oe,Se){var Ye=this.nearestPoint(pt,Q,K,lt,U,W,wt,Lt,Wt,oe,Se);return P(Ye.x,Ye.y,Wt,oe)},interpolationAt:V,pointAt:function(pt,Q,K,lt,U,W,wt,Lt,Wt){return{x:V(pt,K,U,wt,Wt),y:V(Q,lt,W,Lt,Wt)}},divide:function(pt,Q,K,lt,U,W,wt,Lt,Wt){return ut(pt,Q,K,lt,U,W,wt,Lt,Wt)},tangentAngle:function(pt,Q,K,lt,U,W,wt,Lt,Wt){var oe=nt(pt,K,U,wt,Wt),Se=nt(Q,lt,W,Lt,Wt);return E(Math.atan2(Se,oe))}};function qt(pt,Q){var K=Math.abs(pt);return Q>0?K:K*-1}var Rt={box:function(pt,Q,K,lt){return{x:pt-K,y:Q-lt,width:K*2,height:lt*2}},length:function(pt,Q,K,lt){return Math.PI*(3*(K+lt)-Math.sqrt((3*K+lt)*(K+3*lt)))},nearestPoint:function(pt,Q,K,lt,U,W){var wt=K,Lt=lt;if(wt===0||Lt===0)return{x:pt,y:Q};for(var Wt=U-pt,oe=W-Q,Se=Math.abs(Wt),Ye=Math.abs(oe),te=wt*wt,ge=Lt*Lt,_e=Math.PI/4,Ne,or,je=0;je<4;je++){Ne=wt*Math.cos(_e),or=Lt*Math.sin(_e);var dr=(te-ge)*Math.pow(Math.cos(_e),3)/wt,kr=(ge-te)*Math.pow(Math.sin(_e),3)/Lt,Br=Ne-dr,ln=or-kr,Yn=Se-dr,fi=Ye-kr,Ci=Math.hypot(ln,Br),ki=Math.hypot(fi,Yn),jt=Ci*Math.asin((Br*fi-ln*Yn)/(Ci*ki)),ie=jt/Math.sqrt(te+ge-Ne*Ne-or*or);_e+=ie,_e=Math.min(Math.PI/2,Math.max(0,_e))}return{x:pt+qt(Ne,Wt),y:Q+qt(or,oe)}},pointDistance:function(pt,Q,K,lt,U,W){var wt=this.nearestPoint(pt,Q,K,lt,U,W);return P(wt.x,wt.y,U,W)},pointAt:function(pt,Q,K,lt,U){var W=2*Math.PI*U;return{x:pt+K*Math.cos(W),y:Q+lt*Math.sin(W)}},tangentAngle:function(pt,Q,K,lt,U){var W=2*Math.PI*U,wt=Math.atan2(lt*Math.cos(W),-K*Math.sin(W));return E(wt)}};function at(pt,Q,K,lt,U,W,wt,Lt){return-1*K*Math.cos(U)*Math.sin(Lt)-lt*Math.sin(U)*Math.cos(Lt)}function vt(pt,Q,K,lt,U,W,wt,Lt){return-1*K*Math.sin(U)*Math.sin(Lt)+lt*Math.cos(U)*Math.cos(Lt)}function ot(pt,Q,K){return Math.atan(-Q/pt*Math.tan(K))}function Et(pt,Q,K){return Math.atan(Q/(pt*Math.tan(K)))}function dt(pt,Q,K,lt,U,W){return K*Math.cos(U)*Math.cos(W)-lt*Math.sin(U)*Math.sin(W)+pt}function X(pt,Q,K,lt,U,W){return K*Math.sin(U)*Math.cos(W)+lt*Math.cos(U)*Math.sin(W)+Q}function $(pt,Q,K,lt){var U=Math.atan2(lt*pt,K*Q);return(U+Math.PI*2)%(Math.PI*2)}function H(pt,Q,K){return{x:pt*Math.cos(K),y:Q*Math.sin(K)}}function f(pt,Q,K){var lt=Math.cos(K),U=Math.sin(K);return[pt*lt-Q*U,pt*U+Q*lt]}var xt={box:function(pt,Q,K,lt,U,W,wt){for(var Lt=ot(K,lt,U),Wt=Infinity,oe=-Infinity,Se=[W,wt],Ye=-Math.PI*2;Ye<=Math.PI*2;Ye+=Math.PI){var te=Lt+Ye;W<wt?W<te&&te<wt&&Se.push(te):wt<te&&te<W&&Se.push(te)}for(var Ye=0;Ye<Se.length;Ye++){var ge=dt(pt,Q,K,lt,U,Se[Ye]);ge<Wt&&(Wt=ge),ge>oe&&(oe=ge)}for(var _e=Et(K,lt,U),Ne=Infinity,or=-Infinity,je=[W,wt],Ye=-Math.PI*2;Ye<=Math.PI*2;Ye+=Math.PI){var dr=_e+Ye;W<wt?W<dr&&dr<wt&&je.push(dr):wt<dr&&dr<W&&je.push(dr)}for(var Ye=0;Ye<je.length;Ye++){var kr=X(pt,Q,K,lt,U,je[Ye]);kr<Ne&&(Ne=kr),kr>or&&(or=kr)}return{x:Wt,y:Ne,width:oe-Wt,height:or-Ne}},length:function(pt,Q,K,lt,U,W,wt){},nearestPoint:function(pt,Q,K,lt,U,W,wt,Lt,Wt){var oe=f(Lt-pt,Wt-Q,-U),Se=oe[0],Ye=oe[1],te=Rt.nearestPoint(0,0,K,lt,Se,Ye),ge=$(K,lt,te.x,te.y);ge<W?te=H(K,lt,W):ge>wt&&(te=H(K,lt,wt));var _e=f(te.x,te.y,U);return{x:_e[0]+pt,y:_e[1]+Q}},pointDistance:function(pt,Q,K,lt,U,W,wt,Lt,Wt){var oe=this.nearestPoint(pt,Q,K,lt,Lt,Wt);return P(oe.x,oe.y,Lt,Wt)},pointAt:function(pt,Q,K,lt,U,W,wt,Lt){var Wt=(wt-W)*Lt+W;return{x:dt(pt,Q,K,lt,U,Wt),y:X(pt,Q,K,lt,U,Wt)}},tangentAngle:function(pt,Q,K,lt,U,W,wt,Lt){var Wt=(wt-W)*Lt+W,oe=at(pt,Q,K,lt,U,W,wt,Wt),Se=vt(pt,Q,K,lt,U,W,wt,Wt);return E(Math.atan2(Se,oe))}};function Mt(pt){for(var Q=0,K=[],lt=0;lt<pt.length-1;lt++){var U=pt[lt],W=pt[lt+1],wt=P(U[0],U[1],W[0],W[1]),Lt={from:U,to:W,length:wt};K.push(Lt),Q+=wt}return{segments:K,totalLength:Q}}function Ut(pt){if(pt.length<2)return 0;for(var Q=0,K=0;K<pt.length-1;K++){var lt=pt[K],U=pt[K+1];Q+=P(lt[0],lt[1],U[0],U[1])}return Q}function re(pt,Q){if(Q>1||Q<0||pt.length<2)return null;var K=Mt(pt),lt=K.segments,U=K.totalLength;if(U===0)return{x:pt[0][0],y:pt[0][1]};for(var W=0,wt=null,Lt=0;Lt<lt.length;Lt++){var Wt=lt[Lt],oe=Wt.from,Se=Wt.to,Ye=Wt.length/U;if(Q>=W&&Q<=W+Ye){var te=(Q-W)/Ye;wt=b.pointAt(oe[0],oe[1],Se[0],Se[1],te);break}W+=Ye}return wt}function zt(pt,Q){if(Q>1||Q<0||pt.length<2)return 0;for(var K=Mt(pt),lt=K.segments,U=K.totalLength,W=0,wt=0,Lt=0;Lt<lt.length;Lt++){var Wt=lt[Lt],oe=Wt.from,Se=Wt.to,Ye=Wt.length/U;if(Q>=W&&Q<=W+Ye){wt=Math.atan2(Se[1]-oe[1],Se[0]-oe[0]);break}W+=Ye}return wt}function ne(pt,Q,K){for(var lt=Infinity,U=0;U<pt.length-1;U++){var W=pt[U],wt=pt[U+1],Lt=b.pointDistance(W[0],W[1],wt[0],wt[1],Q,K);Lt<lt&&(lt=Lt)}return lt}var ae={box:function(pt){for(var Q=[],K=[],lt=0;lt<pt.length;lt++){var U=pt[lt];Q.push(U[0]),K.push(U[1])}return _(Q,K)},length:function(pt){return Ut(pt)},pointAt:function(pt,Q){return re(pt,Q)},pointDistance:function(pt,Q,K){return ne(pt,Q,K)},tangentAngle:function(pt,Q){return zt(pt,Q)}};function Dt(pt){var Q=pt.slice(0);return pt.length&&Q.push(pt[0]),Q}var Tt={box:function(pt){return ae.box(pt)},length:function(pt){return Ut(Dt(pt))},pointAt:function(pt,Q){return re(Dt(pt),Q)},pointDistance:function(pt,Q,K){return ne(Dt(pt),Q,K)},tangentAngle:function(pt,Q){return zt(Dt(pt),Q)}}},33418:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),L=d(55397);function I(w,x,A,O,B,R,Y,j){return-1*A*Math.cos(B)*Math.sin(j)-O*Math.sin(B)*Math.cos(j)}function P(w,x,A,O,B,R,Y,j){return-1*A*Math.sin(B)*Math.sin(j)+O*Math.cos(B)*Math.cos(j)}function T(w,x,A){return Math.atan(-x/w*Math.tan(A))}function _(w,x,A){return Math.atan(x/(w*Math.tan(A)))}function M(w,x,A,O,B,R){return A*Math.cos(B)*Math.cos(R)-O*Math.sin(B)*Math.sin(R)+w}function E(w,x,A,O,B,R){return A*Math.sin(B)*Math.cos(R)+O*Math.cos(B)*Math.sin(R)+x}function p(w,x,A,O){var B=Math.atan2(O*w,A*x);return(B+Math.PI*2)%(Math.PI*2)}function b(w,x,A){return{x:w*Math.cos(A),y:x*Math.sin(A)}}function y(w,x,A){var O=Math.cos(A),B=Math.sin(A);return[w*O-x*B,w*B+x*O]}S.default={box:function(w,x,A,O,B,R,Y){for(var j=T(A,O,B),V=Infinity,nt=-Infinity,ct=[R,Y],ut=-Math.PI*2;ut<=Math.PI*2;ut+=Math.PI){var Pt=j+ut;R<Y?R<Pt&&Pt<Y&&ct.push(Pt):Y<Pt&&Pt<R&&ct.push(Pt)}for(var ut=0;ut<ct.length;ut++){var Gt=M(w,x,A,O,B,ct[ut]);Gt<V&&(V=Gt),Gt>nt&&(nt=Gt)}for(var qt=_(A,O,B),Rt=Infinity,at=-Infinity,vt=[R,Y],ut=-Math.PI*2;ut<=Math.PI*2;ut+=Math.PI){var ot=qt+ut;R<Y?R<ot&&ot<Y&&vt.push(ot):Y<ot&&ot<R&&vt.push(ot)}for(var ut=0;ut<vt.length;ut++){var Et=E(w,x,A,O,B,vt[ut]);Et<Rt&&(Rt=Et),Et>at&&(at=Et)}return{x:V,y:Rt,width:nt-V,height:at-Rt}},length:function(w,x,A,O,B,R,Y){},nearestPoint:function(w,x,A,O,B,R,Y,j,V){var nt=y(j-w,V-x,-B),ct=nt[0],ut=nt[1],Pt=L.default.nearestPoint(0,0,A,O,ct,ut),Gt=p(A,O,Pt.x,Pt.y);Gt<R?Pt=b(A,O,R):Gt>Y&&(Pt=b(A,O,Y));var qt=y(Pt.x,Pt.y,B);return{x:qt[0]+w,y:qt[1]+x}},pointDistance:function(w,x,A,O,B,R,Y,j,V){var nt=this.nearestPoint(w,x,A,O,j,V);return m.distance(nt.x,nt.y,j,V)},pointAt:function(w,x,A,O,B,R,Y,j){var V=(Y-R)*j+R;return{x:M(w,x,A,O,B,V),y:E(w,x,A,O,B,V)}},tangentAngle:function(w,x,A,O,B,R,Y,j){var V=(Y-R)*j+R,nt=I(w,x,A,O,B,R,Y,V),ct=P(w,x,A,O,B,R,Y,V);return m.piMod(Math.atan2(ct,nt))}}},87335:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var m=d(76256),L=1e-4;function I(T,_,M,E,p,b){var y,w=Infinity,x=[M,E],A=20;b&&b>200&&(A=b/10);for(var O=1/A,B=O/10,R=0;R<=A;R++){var Y=R*O,j=[p.apply(null,T.concat([Y])),p.apply(null,_.concat([Y]))],V=m.distance(x[0],x[1],j[0],j[1]);V<w&&(y=Y,w=V)}if(y===0)return{x:T[0],y:_[0]};if(y===1){var nt=T.length;return{x:T[nt-1],y:_[nt-1]}}w=Infinity;for(var R=0;R<32&&!(B<L);R++){var ct=y-B,ut=y+B,j=[p.apply(null,T.concat([ct])),p.apply(null,_.concat([ct]))],V=m.distance(x[0],x[1],j[0],j[1]);if(ct>=0&&V<w)y=ct,w=V;else{var Pt=[p.apply(null,T.concat([ut])),p.apply(null,_.concat([ut]))],Gt=m.distance(x[0],x[1],Pt[0],Pt[1]);ut<=1&&Gt<w?(y=ut,w=Gt):B*=.5}}return{x:p.apply(null,T.concat([y])),y:p.apply(null,_.concat([y]))}}S.nearestPoint=I;function P(T,_){for(var M=0,E=T.length,p=0;p<E;p++){var b=T[p],y=_[p],w=T[(p+1)%E],x=_[(p+1)%E];M+=m.distance(b,y,w,x)}return M/2}S.snapLength=P},15730:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),L=d(23646),I=d(87335);function P(p,b,y,w,x){var A=1-x;return A*A*A*p+3*b*x*A*A+3*y*x*x*A+w*x*x*x}function T(p,b,y,w,x){var A=1-x;return 3*(A*A*(b-p)+2*A*x*(y-b)+x*x*(w-y))}function _(p,b,y,w){var x=-3*p+9*b-9*y+3*w,A=6*p-12*b+6*y,O=3*b-3*p,B=[],R,Y,j;if(m.isNumberEqual(x,0))m.isNumberEqual(A,0)||(R=-O/A,R>=0&&R<=1&&B.push(R));else{var V=A*A-4*x*O;m.isNumberEqual(V,0)?B.push(-A/(2*x)):V>0&&(j=Math.sqrt(V),R=(-A+j)/(2*x),Y=(-A-j)/(2*x),R>=0&&R<=1&&B.push(R),Y>=0&&Y<=1&&B.push(Y))}return B}function M(p,b,y,w,x,A,O,B,R){var Y=P(p,y,x,O,R),j=P(b,w,A,B,R),V=L.default.pointAt(p,b,y,w,R),nt=L.default.pointAt(y,w,x,A,R),ct=L.default.pointAt(x,A,O,B,R),ut=L.default.pointAt(V.x,V.y,nt.x,nt.y,R),Pt=L.default.pointAt(nt.x,nt.y,ct.x,ct.y,R);return[[p,b,V.x,V.y,ut.x,ut.y,Y,j],[Y,j,Pt.x,Pt.y,ct.x,ct.y,O,B]]}function E(p,b,y,w,x,A,O,B,R){if(R===0)return I.snapLength([p,y,x,O],[b,w,A,B]);var Y=M(p,b,y,w,x,A,O,B,.5),j=Y[0],V=Y[1];return j.push(R-1),V.push(R-1),E.apply(null,j)+E.apply(null,V)}S.default={extrema:_,box:function(p,b,y,w,x,A,O,B){for(var R=[p,O],Y=[b,B],j=_(p,y,x,O),V=_(b,w,A,B),nt=0;nt<j.length;nt++)R.push(P(p,y,x,O,j[nt]));for(var nt=0;nt<V.length;nt++)Y.push(P(b,w,A,B,V[nt]));return m.getBBoxByArray(R,Y)},length:function(p,b,y,w,x,A,O,B){return E(p,b,y,w,x,A,O,B,3)},nearestPoint:function(p,b,y,w,x,A,O,B,R,Y,j){return I.nearestPoint([p,y,x,O],[b,w,A,B],R,Y,P,j)},pointDistance:function(p,b,y,w,x,A,O,B,R,Y,j){var V=this.nearestPoint(p,b,y,w,x,A,O,B,R,Y,j);return m.distance(V.x,V.y,R,Y)},interpolationAt:P,pointAt:function(p,b,y,w,x,A,O,B,R){return{x:P(p,y,x,O,R),y:P(b,w,A,B,R)}},divide:function(p,b,y,w,x,A,O,B,R){return M(p,b,y,w,x,A,O,B,R)},tangentAngle:function(p,b,y,w,x,A,O,B,R){var Y=T(p,y,x,O,R),j=T(b,w,A,B,R);return m.piMod(Math.atan2(j,Y))}}},55397:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256);function L(I,P){var T=Math.abs(I);return P>0?T:T*-1}S.default={box:function(I,P,T,_){return{x:I-T,y:P-_,width:T*2,height:_*2}},length:function(I,P,T,_){return Math.PI*(3*(T+_)-Math.sqrt((3*T+_)*(T+3*_)))},nearestPoint:function(I,P,T,_,M,E){var p=T,b=_;if(p===0||b===0)return{x:I,y:P};for(var y=M-I,w=E-P,x=Math.abs(y),A=Math.abs(w),O=p*p,B=b*b,R=Math.PI/4,Y,j,V=0;V<4;V++){Y=p*Math.cos(R),j=b*Math.sin(R);var nt=(O-B)*Math.pow(Math.cos(R),3)/p,ct=(B-O)*Math.pow(Math.sin(R),3)/b,ut=Y-nt,Pt=j-ct,Gt=x-nt,qt=A-ct,Rt=Math.hypot(Pt,ut),at=Math.hypot(qt,Gt),vt=Rt*Math.asin((ut*qt-Pt*Gt)/(Rt*at)),ot=vt/Math.sqrt(O+B-Y*Y-j*j);R+=ot,R=Math.min(Math.PI/2,Math.max(0,R))}return{x:I+L(Y,y),y:P+L(j,w)}},pointDistance:function(I,P,T,_,M,E){var p=this.nearestPoint(I,P,T,_,M,E);return m.distance(p.x,p.y,M,E)},pointAt:function(I,P,T,_,M){var E=2*Math.PI*M;return{x:I+T*Math.cos(E),y:P+_*Math.sin(E)}},tangentAngle:function(I,P,T,_,M){var E=2*Math.PI*M,p=Math.atan2(_*Math.cos(E),-T*Math.sin(E));return m.piMod(p)}}},23646:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),L=d(31437);S.default={box:function(I,P,T,_){return m.getBBoxByArray([I,T],[P,_])},length:function(I,P,T,_){return m.distance(I,P,T,_)},pointAt:function(I,P,T,_,M){return{x:(1-M)*I+M*T,y:(1-M)*P+M*_}},pointDistance:function(I,P,T,_,M,E){var p=(T-I)*(M-I)+(_-P)*(E-P);if(p<0)return m.distance(I,P,M,E);var b=(T-I)*(T-I)+(_-P)*(_-P);return p>b?m.distance(T,_,M,E):this.pointToLine(I,P,T,_,M,E)},pointToLine:function(I,P,T,_,M,E){var p=[T-I,_-P];if(L.exactEquals(p,[0,0]))return Math.sqrt((M-I)*(M-I)+(E-P)*(E-P));var b=[-p[1],p[0]];L.normalize(b,b);var y=[M-I,E-P];return Math.abs(L.dot(y,b))},tangentAngle:function(I,P,T,_){return Math.atan2(_-P,T-I)}}},65386:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(28171),I=d(76256);S.Z={box:function(P){for(var T=[],_=[],M=0;M<P.length;M++){var E=P[M];T.push(E[0]),_.push(E[1])}return I.getBBoxByArray(T,_)},length:function(P){return L.lengthOfSegment(P)},pointAt:function(P,T){return L.pointAtSegments(P,T)},pointDistance:function(P,T,_){return L.distanceAtSegment(P,T,_)},tangentAngle:function(P,T){return L.angleAtSegments(P,T)}}},2879:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(23646),L=d(76256),I=d(87335);function P(p,b,y,w){var x=1-w;return x*x*p+2*w*x*b+w*w*y}function T(p,b,y){var w=p+y-2*b;if(L.isNumberEqual(w,0))return[.5];var x=(p-b)/w;return x<=1&&x>=0?[x]:[]}function _(p,b,y,w){return 2*(1-w)*(b-p)+2*w*(y-b)}function M(p,b,y,w,x,A,O){var B=P(p,y,x,O),R=P(b,w,A,O),Y=m.default.pointAt(p,b,y,w,O),j=m.default.pointAt(y,w,x,A,O);return[[p,b,Y.x,Y.y,B,R],[B,R,j.x,j.y,x,A]]}function E(p,b,y,w,x,A,O){if(O===0)return(L.distance(p,b,y,w)+L.distance(y,w,x,A)+L.distance(p,b,x,A))/2;var B=M(p,b,y,w,x,A,.5),R=B[0],Y=B[1];return R.push(O-1),Y.push(O-1),E.apply(null,R)+E.apply(null,Y)}S.default={box:function(p,b,y,w,x,A){var O=T(p,y,x)[0],B=T(b,w,A)[0],R=[p,x],Y=[b,A];return O!==void 0&&R.push(P(p,y,x,O)),B!==void 0&&Y.push(P(b,w,A,B)),L.getBBoxByArray(R,Y)},length:function(p,b,y,w,x,A){return E(p,b,y,w,x,A,3)},nearestPoint:function(p,b,y,w,x,A,O,B){return I.nearestPoint([p,y,x],[b,w,A],O,B,P)},pointDistance:function(p,b,y,w,x,A,O,B){var R=this.nearestPoint(p,b,y,w,x,A,O,B);return L.distance(R.x,R.y,O,B)},interpolationAt:P,pointAt:function(p,b,y,w,x,A,O){return{x:P(p,y,x,O),y:P(b,w,A,O)}},divide:function(p,b,y,w,x,A,O){return M(p,b,y,w,x,A,O)},tangentAngle:function(p,b,y,w,x,A,O){var B=_(p,y,x,O),R=_(b,w,A,O),Y=Math.atan2(R,B);return L.piMod(Y)}}},28171:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var m=d(23646),L=d(76256);function I(E){for(var p=0,b=[],y=0;y<E.length-1;y++){var w=E[y],x=E[y+1],A=L.distance(w[0],w[1],x[0],x[1]),O={from:w,to:x,length:A};b.push(O),p+=A}return{segments:b,totalLength:p}}function P(E){if(E.length<2)return 0;for(var p=0,b=0;b<E.length-1;b++){var y=E[b],w=E[b+1];p+=L.distance(y[0],y[1],w[0],w[1])}return p}S.lengthOfSegment=P;function T(E,p){if(p>1||p<0||E.length<2)return null;var b=I(E),y=b.segments,w=b.totalLength;if(w===0)return{x:E[0][0],y:E[0][1]};for(var x=0,A=null,O=0;O<y.length;O++){var B=y[O],R=B.from,Y=B.to,j=B.length/w;if(p>=x&&p<=x+j){var V=(p-x)/j;A=m.default.pointAt(R[0],R[1],Y[0],Y[1],V);break}x+=j}return A}S.pointAtSegments=T;function _(E,p){if(p>1||p<0||E.length<2)return 0;for(var b=I(E),y=b.segments,w=b.totalLength,x=0,A=0,O=0;O<y.length;O++){var B=y[O],R=B.from,Y=B.to,j=B.length/w;if(p>=x&&p<=x+j){A=Math.atan2(Y[1]-R[1],Y[0]-R[0]);break}x+=j}return A}S.angleAtSegments=_;function M(E,p,b){for(var y=Infinity,w=0;w<E.length-1;w++){var x=E[w],A=E[w+1],O=m.default.pointDistance(x[0],x[1],A[0],A[1],p,b);O<y&&(y=O)}return y}S.distanceAtSegment=M},76256:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;function d(M){return Math.min.apply(null,M)}function m(M){return Math.max.apply(null,M)}function L(M,E,p,b){var y=M-p,w=E-b;return Math.sqrt(y*y+w*w)}S.distance=L;function I(M,E){return Math.abs(M-E)<.001}S.isNumberEqual=I;function P(M,E){var p=d(M),b=d(E),y=m(M),w=m(E);return{x:p,y:b,width:y-p,height:w-b}}S.getBBoxByArray=P;function T(M,E,p,b){return{minX:d([M,p]),maxX:m([M,p]),minY:d([E,b]),maxY:m([E,b])}}S.getBBoxRange=T;function _(M){return(M+Math.PI*2)%(Math.PI*2)}S.piMod=_},56463:function(mt,S,d){"use strict";var m=d(34155),L=this&&this.__spreadArrays||function(){for(var B=0,R=0,Y=arguments.length;R<Y;R++)B+=arguments[R].length;for(var j=Array(B),V=0,R=0;R<Y;R++)for(var nt=arguments[R],ct=0,ut=nt.length;ct<ut;ct++,V++)j[V]=nt[ct];return j};Object.defineProperty(S,"__esModule",{value:!0});var I=function(){function B(R,Y,j){this.name=R,this.version=Y,this.os=j}return B}();S.BrowserInfo=I;var P=function(){function B(R){this.version=R,this.name="node",this.os=m.platform}return B}();S.NodeInfo=P;var T=function(){function B(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return B}();S.BotInfo=T;var _=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,M=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,E=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",_]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",M]];function y(B){return B?w(B):typeof navigator!="undefined"?w(navigator.userAgent):A()}S.detect=y;function w(B){var R=B!==""&&p.reduce(function(nt,ct){var ut=ct[0],Pt=ct[1];if(nt)return nt;var Gt=Pt.exec(B);return!!Gt&&[ut,Gt]},!1);if(!R)return null;var Y=R[0],j=R[1];if(Y==="searchbot")return new T;var V=j[1]&&j[1].split(/[._]/).slice(0,3);return V?V.length<E&&(V=L(V,O(E-V.length))):V=[],new I(Y,V.join("."),x(B))}S.parseUserAgent=w;function x(B){for(var R=0,Y=b.length;R<Y;R++){var j=b[R],V=j[0],nt=j[1],ct=nt.test(B);if(ct)return V}return null}S.detectOS=x;function A(){var B=typeof m!="undefined"&&m.version;return B?new P(m.version.slice(1)):null}S.getNodeVersion=A;function O(B){for(var R=[],Y=0;Y<B;Y++)R.push("0");return R}},23231:function(mt){"use strict";mt.exports=JSON.parse('{"__npminstall_done":false,"_from":"@antv/g-svg@~0.4.0","_id":"@antv/g-svg@0.4.7","_inBundle":false,"_integrity":"sha512-+lqlBK+qylP4t/vyUgEaPthp1XmTiImfkPl/ZmRp3L1knH64OI9XTfOGGuBUFAt3JBt7VHKf6t0L/MCf0BR88Q==","_location":"/@antv/g-svg","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@antv/g-svg@~0.4.0","name":"@antv/g-svg","escapedName":"@antv%2fg-svg","scope":"@antv","rawSpec":"~0.4.0","saveSpec":null,"fetchSpec":"~0.4.0"},"_requiredBy":["/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-svg/-/g-svg-0.4.7.tgz","_shasum":"0d65e1db34e6dfe609aadb3eddf4748db02f0b01","_spec":"@antv/g-svg@~0.4.0","_where":"/Users/nguyenthanhtuan/Documents/Nexter/nexter-admin-version2/node_modules/@antv/g2plot","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"bundleDependencies":false,"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"deprecated":false,"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-svg","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.7"}')},66002:function(){},92762:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var d={};function m(I){return d[I.toLowerCase()]}S.getAnimation=m;function L(I,P){d[I.toLowerCase()]=P}S.registerAnimation=L},27978:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var m=d(60517),L=d(49242),I=d(29583),P=d(92762);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var T={interval:function(y){return{enter:{animation:y.isRect?y.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:y.isPolar&&y.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},_={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(y){var w;return y.isRect?w=y.isTransposed?"grow-in-x":"grow-in-y":(w="grow-in-xy",y.isPolar&&y.isTransposed&&(w="wave-in")),{animation:w}},schema:function(y){var w;return y.isRect?w=y.isTransposed?"grow-in-x":"grow-in-y":w="grow-in-xy",{animation:w}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function M(y,w){return{delay:L.isFunction(y.delay)?y.delay(w):y.delay,easing:L.isFunction(y.easing)?y.easing(w):y.easing,duration:L.isFunction(y.duration)?y.duration(w):y.duration,callback:y.callback}}function E(y,w,x){var A=T[y];return A&&(L.isFunction(A)&&(A=A(w)),A=L.deepMix({},S.DEFAULT_ANIMATE_CFG,A),x)?A[x]:A}S.getDefaultAnimateCfg=E;function p(y,w,x){var A=L.get(y.get("origin"),"data",I.FIELD_ORIGIN),O=w.animation,B=M(w,A);if(O){var R=P.getAnimation(O);R&&R(y,B,x)}else y.animate(x.toAttrs,B)}S.doAnimate=p;function b(y,w,x,A,O){if(_[x]){var B=_[x](A),R=P.getAnimation(L.get(B,"animation",""));if(R){var Y=m.__assign(m.__assign(m.__assign({},S.DEFAULT_ANIMATE_CFG.appear),B),w);y.stopAnimate(),R(y,Y,{coordinate:A,minYPoint:O,toAttrs:null})}}}S.doGroupAppearAnimate=b},29515:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60517),L=m.__importDefault(d(90494)),I=function(P){m.__extends(T,P);function T(_){var M=P.call(this)||this;M.destroyed=!1;var E=_.visible,p=E===void 0?!0:E;return M.visible=p,M}return T.prototype.show=function(){var _=this.visible;_||this.changeVisible(!0)},T.prototype.hide=function(){var _=this.visible;_&&this.changeVisible(!1)},T.prototype.destroy=function(){this.off(),this.destroyed=!0},T.prototype.changeVisible=function(_){this.visible!==_&&(this.visible=_)},T}(L.default);S.default=I},17916:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var m=d(49242),L=function(){function I(P){this.visible=!0,this.components=[],this.view=P}return I.prototype.clear=function(){m.each(this.components,function(P){P.component.destroy()}),this.components=[]},I.prototype.destroy=function(){this.clear()},I.prototype.getComponents=function(){return this.components},I.prototype.changeVisible=function(P){this.visible!==P&&(this.components.forEach(function(T){P?T.component.show():T.component.hide()}),this.visible=P)},I}();S.Controller=L},45687:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(60517),I=d(17916),P=250,T=function(b,y){var w=y.x-b.x,x=y.y-b.y;return Math.abs(w)>Math.abs(x)?w>0?"right":"left":x>0?"down":"up"},_=function(b,y){var w=Math.abs(y.x-b.x),x=Math.abs(y.y-b.y);return Math.sqrt(w*w+x*x)},M=function(b,y){var w=(b.x+y.x)/2,x=(b.y+y.y)/2;return{x:w,y:x}},E=function(b,y){if(!!b){for(var w=[],x=b.length,A=0;A<x;A++){var O=b[A],B=O.clientX,R=O.clientY,Y=y.getPointByClient(B,R);w.push(Y)}return w}},p=function(b){L.__extends(y,b);function y(w){var x=b.call(this,w)||this;return x.processEvent={},x.touchStart=function(A){var O=E(A.originalEvent.touches,x.canvas);!O||(A.points=O,x.reset(),x.startTime=Date.now(),x.startPoints=O,O.length>1?(x.startDistance=_(O[0],O[1]),x.center=M(O[0],O[1])):x.pressTimeout=setTimeout(function(){var B="press";A.direction="none",x.emitStart(B,A),x.emitEvent(B,A),x.eventType=B},P))},x.touchMove=function(A){var O=E(A.originalEvent.touches,x.canvas);if(!!O){x.clearPressTimeout(),A.points=O;var B=x.startPoints;if(!!B)if(O.length>1){var R=x.startDistance,Y=_(O[0],O[1]);A.zoom=Y/R,A.center=x.center,x.emitStart("pinch",A),x.emitEvent("pinch",A)}else{var j=O[0].x-B[0].x,V=O[0].y-B[0].y,nt=x.direction||T(B[0],O[0]);x.direction=nt;var ct=x.getEventType(O);A.direction=nt,A.deltaX=j,A.deltaY=V,x.emitStart(ct,A),x.emitEvent(ct,A);var ut=x.lastMoveTime,Pt=Date.now();Pt-ut>0&&(x.prevMoveTime=ut,x.prevMovePoints=x.lastMovePoints,x.lastMoveTime=Pt,x.lastMovePoints=O)}}},x.touchEnd=function(A){x.emitEnd(A);var O=x.lastMoveTime,B=Date.now();if(B-O<100){var R=x.prevMoveTime||x.startTime,Y=O-R;if(Y>0){var j=x.prevMovePoints||x.startPoints,V=x.lastMovePoints,nt=_(j[0],V[0])/Y;nt>.3&&(A.velocity=nt,A.direction=T(j[0],V[0]),x.emitEvent("swipe",A))}}x.reset();var ct=A.touches;ct&&ct.length>0&&x.touchStart(A)},x.canvas=w.getCanvas(),x.delegateEvent(),x.processEvent={},x}return Object.defineProperty(y.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),y.prototype.init=function(){},y.prototype.render=function(){},y.prototype.layout=function(){},y.prototype.update=function(){},y.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},y.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},y.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},y.prototype.emitEvent=function(w,x){var A=this.view;A.emit(w,x)},y.prototype.emitStart=function(w,x){this.isProcess(w)||(this.enable(w),this.emitEvent(w+"start",x))},y.prototype.emitEnd=function(w){var x=this,A=this.processEvent;Object.keys(A).forEach(function(O){x.emitEvent(O+"end",w),delete A[O]})},y.prototype.enable=function(w){this.processEvent[w]=!0},y.prototype.isProcess=function(w){return this.processEvent[w]},y.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},y.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},y.prototype.getEventType=function(w){var x=this,A=x.eventType,O=x.view,B=x.startTime,R=x.startPoints;if(A)return A;var Y,j=O.getEvents().pan;if(!j||!j.length)Y="press";else{var V=Date.now();V-B>P&&_(R[0],w[0])<10?Y="press":Y="pan"}return this.eventType=Y,Y},y}(I.Controller);S.Z=p},64815:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(60517),I=d(49242),P=d(57029),T=d(22514),_=d(42770),M=d(99677),E=d(17916);function p(y){for(var w=[],x=function(O){var B=y[O],R=I.find(w,function(Y){return Y.color===B.color&&Y.name===B.name&&Y.value===B.value&&Y.title===B.title});R||w.push(B)},A=0;A<y.length;A++)x(A);return w}var b=function(y){L.__extends(w,y);function w(){var x=y!==null&&y.apply(this,arguments)||this;return x.isLocked=!1,x}return Object.defineProperty(w.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),w.prototype.init=function(){},w.prototype.isVisible=function(){var x=this.view.getOptions().tooltip;return x!==!1},w.prototype.render=function(){},w.prototype.showTooltip=function(x){if(this.point=x,!!this.isVisible()){var A=this.view,O=this.getTooltipItems(x);if(!O.length){this.hideTooltip();return}var B=this.getTitle(O),R={x:O[0].x,y:O[0].y};A.emit("tooltip:show",L.__assign({items:O,title:B},x));var Y=this.getTooltipCfg(),j=Y.follow,V=Y.showMarkers,nt=Y.showCrosshairs,ct=Y.showContent,ut=Y.marker,Pt=this.items,Gt=this.title;if(!I.isEqual(Gt,B)||!I.isEqual(Pt,O)?(A.emit("tooltip:change",L.__assign({items:O,title:B},x)),ct&&(this.tooltip||this.renderTooltip(),this.tooltip.update(I.mix({},Y,{items:O,title:B},j?x:{})),this.tooltip.show()),V&&this.renderTooltipMarkers(O,ut)):(this.tooltip&&j&&(this.tooltip.update(x),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=O,this.title=B,nt){var qt=I.get(Y,["crosshairs","follow"],!1);this.renderCrosshairs(qt?x:R,Y)}}},w.prototype.hideTooltip=function(){var x=this.getTooltipCfg().follow;if(!x){this.point=null;return}var A=this.tooltipMarkersGroup;A&&A.hide();var O=this.xCrosshair,B=this.yCrosshair;O&&O.hide(),B&&B.hide();var R=this.tooltip;R&&R.hide(),this.view.emit("tooltip:hide",{}),this.point=null},w.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},w.prototype.unlockTooltip=function(){this.isLocked=!1;var x=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(x.capture)},w.prototype.isTooltipLocked=function(){return this.isLocked},w.prototype.clear=function(){var x=this,A=x.tooltip,O=x.xCrosshair,B=x.yCrosshair,R=x.tooltipMarkersGroup;A&&(A.hide(),A.clear()),O&&O.clear(),B&&B.clear(),R&&R.clear()},w.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},w.prototype.changeVisible=function(x){if(this.visible!==x){var A=this,O=A.tooltip,B=A.tooltipMarkersGroup,R=A.xCrosshair,Y=A.yCrosshair;x?(O&&O.show(),B&&B.show(),R&&R.show(),Y&&Y.show()):(O&&O.hide(),B&&B.hide(),R&&R.hide(),Y&&Y.hide()),this.visible=x}},w.prototype.getTooltipItems=function(x){var A=this.findItemsFromView(this.view,x);if(A.length){A=I.flatten(A);for(var O=0,B=A;O<B.length;O++)for(var R=B[O],Y=0,j=R;Y<j.length;Y++){var V=j[Y],nt=V.mappingData,ct=nt.x,ut=nt.y;V.x=I.isArray(ct)?ct[ct.length-1]:ct,V.y=I.isArray(ut)?ut[ut.length-1]:ut}var Pt=this.getTooltipCfg().shared;if(Pt===!1&&A.length>1){for(var Gt=A[0],qt=Math.abs(x.y-Gt[0].y),Rt=0,at=A;Rt<at.length;Rt++){var vt=at[Rt],ot=Math.abs(x.y-vt[0].y);ot<=qt&&(Gt=vt,qt=ot)}A=[Gt]}return p(I.flatten(A))}return[]},w.prototype.layout=function(){},w.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var x=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:x.get("width"),y:x.get("height")}})}},w.prototype.getTooltipCfg=function(){var x=this.view,A=x.getOptions().tooltip,O=x.getTheme(),B=I.get(O,["components","tooltip"],{}),R=I.isUndefined(I.get(A,"enterable"))?B.enterable:I.get(A,"enterable");return I.deepMix({},B,A,{capture:!!(R||this.isLocked)})},w.prototype.getTitle=function(x){var A=x[0].title||x[0].name;return this.title=A,A},w.prototype.renderTooltip=function(){var x=this.view.getCanvas(),A={start:{x:0,y:0},end:{x:x.get("width"),y:x.get("height")}},O=this.getTooltipCfg(),B=new P.HtmlTooltip(L.__assign(L.__assign({parent:x.get("el").parentNode,region:A},O),{visible:!1,crosshairs:null}));B.init(),this.tooltip=B},w.prototype.renderTooltipMarkers=function(x,A){for(var O=this.getTooltipMarkersGroup(),B=0,R=x;B<R.length;B++){var Y=R[B],j=Y.x,V=Y.y,nt=L.__assign(L.__assign({fill:Y.color,symbol:"circle",shadowColor:Y.color},A),{x:j,y:V});O.addShape("marker",{attrs:nt})}},w.prototype.renderCrosshairs=function(x,A){var O=I.get(A,["crosshairs","type"],"x");O==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(x,A)):O==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(x,A)):O==="xy"&&(this.renderXCrosshairs(x,A),this.renderYCrosshairs(x,A))},w.prototype.renderXCrosshairs=function(x,A){var O=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(O,x)){var B,R;if(O.isRect)O.isTransposed?(B={x:O.start.x,y:x.y},R={x:O.end.x,y:x.y}):(B={x:x.x,y:O.end.y},R={x:x.x,y:O.start.y});else{var Y=T.getAngleByPoint(O,x),j=O.getCenter(),V=O.getRadius();R=_.polarToCartesian(j.x,j.y,V,Y),B=j}var nt=I.deepMix({start:B,end:R,container:this.getTooltipCrosshairsGroup()},I.get(A,"crosshairs",{}),this.getCrosshairsText("x",x,A));delete nt.type;var ct=this.xCrosshair;ct?ct.update(nt):(ct=new P.Crosshair.Line(nt),ct.init()),ct.render(),ct.show(),this.xCrosshair=ct}},w.prototype.renderYCrosshairs=function(x,A){var O=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(O,x)){var B,R;if(O.isRect){var Y=void 0,j=void 0;O.isTransposed?(Y={x:x.x,y:O.end.y},j={x:x.x,y:O.start.y}):(Y={x:O.start.x,y:x.y},j={x:O.end.x,y:x.y}),B={start:Y,end:j},R="Line"}else B={center:O.getCenter(),radius:T.getDistanceToCenter(O,x),startAngle:O.startAngle,endAngle:O.endAngle},R="Circle";B=I.deepMix({container:this.getTooltipCrosshairsGroup()},B,I.get(A,"crosshairs",{}),this.getCrosshairsText("y",x,A)),delete B.type;var V=this.yCrosshair;V?O.isRect&&V.get("type")==="circle"||!O.isRect&&V.get("type")==="line"?(V=new P.Crosshair[R](B),V.init()):V.update(B):(V=new P.Crosshair[R](B),V.init()),V.render(),V.show(),this.yCrosshair=V}},w.prototype.getCrosshairsText=function(x,A,O){var B=I.get(O,["crosshairs","text"]),R=I.get(O,["crosshairs","follow"]),Y=this.items;if(B){var j=this.getViewWithGeometry(this.view),V=Y[0],nt=j.getXScale(),ct=j.getYScales()[0],ut=void 0,Pt=void 0;if(R){var Gt=this.view.getCoordinate().invert(A);ut=nt.invert(Gt.x),Pt=ct.invert(Gt.y)}else ut=V.data[nt.field],Pt=V.data[ct.field];var qt=x==="x"?ut:Pt;return I.isFunction(B)?B=B(x,qt,Y,A):B.content=qt,{text:B}}},w.prototype.getGuideGroup=function(){if(!this.guideGroup){var x=this.view.foregroundGroup;this.guideGroup=x.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},w.prototype.getTooltipMarkersGroup=function(){var x=this.tooltipMarkersGroup;return x&&!x.destroyed?(x.clear(),x.show()):(x=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),x.toFront(),this.tooltipMarkersGroup=x),x},w.prototype.getTooltipCrosshairsGroup=function(){var x=this.tooltipCrosshairsGroup;return x||(x=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),x.toBack(),this.tooltipCrosshairsGroup=x),x},w.prototype.getTooltipItemsByHitShape=function(x,A,O){var B=[],R=x.container,Y=R.getShape(A.x,A.y);if(Y&&Y.get("visible")&&Y.get("origin")){var j=Y.get("origin").mappingData,V=M.getTooltipItems(j,x,O);V.length&&B.push(V)}return B},w.prototype.getTooltipItemsByFindData=function(x,A,O){var B=[],R=x.dataArray;x.sort(R);for(var Y=0,j=R;Y<j.length;Y++){var V=j[Y],nt=M.findDataByPoint(A,V,x);if(nt){var ct=x.getElementId(nt),ut=x.elementsMap[ct];if(x.type==="heatmap"||ut.visible){var Pt=M.getTooltipItems(nt,x,O);Pt.length&&B.push(Pt)}}}return B},w.prototype.findItemsFromView=function(x,A){if(x.getOptions().tooltip===!1)return[];for(var O=[],B=x.geometries,R=this.getTooltipCfg(),Y=R.shared,j=R.title,V=0,nt=B;V<nt.length;V++){var ct=nt[V];if(ct.visible&&ct.tooltipOption!==!1){var ut=ct.type,Pt=void 0;["point","edge","polygon"].includes(ut)?Pt=this.getTooltipItemsByHitShape(ct,A,j):["area","line","path","heatmap"].includes(ut)?Pt=this.getTooltipItemsByFindData(ct,A,j):Y!==!1?Pt=this.getTooltipItemsByFindData(ct,A,j):Pt=this.getTooltipItemsByHitShape(ct,A,j),Pt.length&&O.push(Pt)}}for(var Gt=0,qt=x.views;Gt<qt.length;Gt++){var Rt=qt[Gt];O=O.concat(this.findItemsFromView(Rt,A))}return O},w.prototype.getViewWithGeometry=function(x){var A=this;return x.geometries.length?x:I.find(x.views,function(O){return A.getViewWithGeometry(O)})},w}(E.Controller);S.Z=b},29583:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var d;(function(_){_.FORE="fore",_.MID="mid",_.BG="bg"})(d=S.LAYER||(S.LAYER={}));var m;(function(_){_.TOP="top",_.TOP_LEFT="top-left",_.TOP_RIGHT="top-right",_.RIGHT="right",_.RIGHT_TOP="right-top",_.RIGHT_BOTTOM="right-bottom",_.LEFT="left",_.LEFT_TOP="left-top",_.LEFT_BOTTOM="left-bottom",_.BOTTOM="bottom",_.BOTTOM_LEFT="bottom-left",_.BOTTOM_RIGHT="bottom-right",_.RADIUS="radius",_.CIRCLE="circle",_.NONE="none"})(m=S.DIRECTION||(S.DIRECTION={}));var L;(function(_){_.AXIS="axis",_.GRID="grid",_.LEGEND="legend",_.TOOLTIP="tooltip",_.ANNOTATION="annotation",_.OTHER="other"})(L=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var I;(function(_){_.BEFORE_RENDER="beforerender",_.AFTER_RENDER="afterrender",_.BEFORE_PAINT="beforepaint",_.AFTER_PAINT="afterpaint",_.BEFORE_CHANGE_DATA="beforechangedata",_.AFTER_CHANGE_DATA="afterchangedata",_.BEFORE_CLEAR="beforeclear",_.AFTER_CLEAR="afterclear",_.BEFORE_DESTROY="beforedestroy"})(I=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var P;(function(_){_.MOUSE_ENTER="plot:mouseenter",_.MOUSE_DOWN="plot:mousedown",_.MOUSE_MOVE="plot:mousemove",_.MOUSE_UP="plot:mouseup",_.MOUSE_LEAVE="plot:mouseleave",_.TOUCH_START="plot:touchstart",_.TOUCH_MOVE="plot:touchmove",_.TOUCH_END="plot:touchend",_.TOUCH_CANCEL="plot:touchcancel",_.CLICK="plot:click",_.DBLCLICK="plot:dblclick",_.CONTEXTMENU="plot:contextmenu",_.LEAVE="plot:leave",_.ENTER="plot:enter"})(P=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var T;(function(_){_.ACTIVE="active",_.INACTIVE="inactive",_.SELECTED="selected",_.DEFAULT="default"})(T=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},57029:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var m=d(39014);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return m.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return m.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return m.AbstractShape}});var L=d(28014);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return L.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return L.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return L.Adjust}});var I=d(24796);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return I.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return I.Attribute}});var P=d(21392);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return P.Color}});var T=d(50782);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return T.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return T.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return T.Coordinate}});var _=d(2443);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return _.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return _.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return _.Scale}});var M=d(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return M.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return M.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return M.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return M.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return M.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return M.Slider}});var E=M.Axis.Line,p=M.Axis.Circle;S.LineAxis=E,S.CircleAxis=p;var b=M.Grid.Line,y=M.Grid.Circle;S.LineGrid=b,S.CircleGrid=y;var w=M.Legend.Category,x=M.Legend.Continuous;S.CategoryLegend=w,S.ContinuousLegend=x;var A=M.Tooltip.Html;S.HtmlTooltip=A},38700:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(60517),I=d(49242),P=d(27978),T=L.__importDefault(d(29515)),_=d(42770),M=d(31207),E=function(p){L.__extends(b,p);function b(y){var w=p.call(this,y)||this;w.states=[];var x=y.shapeFactory,A=y.container,O=y.offscreenGroup,B=y.visible,R=B===void 0?!0:B;return w.shapeFactory=x,w.container=A,w.offscreenGroup=O,w.visible=R,w}return b.prototype.draw=function(y,w){w===void 0&&(w=!1),this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.drawShape(y,w),this.visible===!1&&this.changeVisible(!1)},b.prototype.update=function(y){var w=this,x=w.shapeFactory,A=w.shape;if(!!A){this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.setShapeInfo(A,y);var O=this.getOffscreenGroup(),B=x.drawShape(this.shapeType,y,O);B.cfg.data=this.data,B.cfg.origin=y,this.syncShapeStyle(A,B,"",this.getAnimateCfg("update"))}},b.prototype.destroy=function(){var y=this,w=y.shapeFactory,x=y.shape;if(x){var A=this.getAnimateCfg("leave");A?P.doAnimate(x,A,{coordinate:w.coordinate,toAttrs:L.__assign({},x.attr())}):x.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},b.prototype.changeVisible=function(y){p.prototype.changeVisible.call(this,y),y?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(w){w.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(w){w.hide()}))},b.prototype.setState=function(y,w){var x=this,A=this,O=A.states,B=A.shapeFactory,R=A.model,Y=A.shape,j=A.shapeType,V=O.indexOf(y);if(w){if(V>-1)return;O.push(y),(y==="active"||y==="selected")&&Y.toFront()}else{if(V===-1)return;O.splice(V,1),(y==="active"||y==="selected")&&Y.toBack()}var nt=B.drawShape(j,R,this.getOffscreenGroup());O.length?O.forEach(function(ut){x.syncShapeStyle(Y,nt,ut,null)}):this.syncShapeStyle(Y,nt,"reset",null),nt.remove(!0);var ct={state:y,stateStatus:w,element:this,target:this.container};this.container.emit("statechange",ct),M.propagationDelegate(this.shape,"statechange",ct)},b.prototype.clearStates=function(){var y=this,w=this.states;I.each(w,function(x){y.setState(x,!1)}),this.states=[]},b.prototype.hasState=function(y){return this.states.includes(y)},b.prototype.getStates=function(){return this.states},b.prototype.getData=function(){return this.data},b.prototype.getModel=function(){return this.model},b.prototype.getBBox=function(){var y=this,w=y.shape,x=y.labelShape,A={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return w&&(A=w.getCanvasBBox()),x&&x.forEach(function(O){var B=O.getCanvasBBox();A.x=Math.min(B.x,A.x),A.y=Math.min(B.y,A.y),A.minX=Math.min(B.minX,A.minX),A.minY=Math.min(B.minY,A.minY),A.maxX=Math.max(B.maxX,A.maxX),A.maxY=Math.max(B.maxY,A.maxY)}),A.width=A.maxX-A.minX,A.height=A.maxY-A.minY,A},b.prototype.getStatesStyle=function(){if(!this.statesStyle){var y=this,w=y.shapeType,x=y.geometry,A=y.shapeFactory,O=x.stateOption,B=A.defaultShapeType,R=A.theme[w]||A.theme[B];this.statesStyle=I.deepMix({},R,O)}return this.statesStyle},b.prototype.getStateStyle=function(y,w){var x=this.getStatesStyle(),A=I.get(x,[y,"style"],{}),O=A[w]||A;return I.isFunction(O)?O(this):O},b.prototype.getAnimateCfg=function(y){var w=this.animate;return w?w[y]:null},b.prototype.drawShape=function(y,w){w===void 0&&(w=!1);var x=this,A=x.shapeFactory,O=x.container,B=x.shapeType;if(this.shape=A.drawShape(B,y,O),this.shape){this.setShapeInfo(this.shape,y);var R=this.shape.cfg.name;R?I.isString(R)&&(this.shape.cfg.name=["element",R]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var Y=w?"enter":"appear",j=this.getAnimateCfg(Y);j&&P.doAnimate(this.shape,j,{coordinate:A.coordinate,toAttrs:L.__assign({},this.shape.attr())})}},b.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var y=this.container.getGroupBase();this.offscreenGroup=new y({})}return this.offscreenGroup},b.prototype.setShapeInfo=function(y,w){var x=this;if(y.cfg.origin=w,y.cfg.element=this,y.isGroup()){var A=y.get("children");A.forEach(function(O){x.setShapeInfo(O,w)})}},b.prototype.syncShapeStyle=function(y,w,x,A,O){if(x===void 0&&(x=""),O===void 0&&(O=0),y.isGroup())for(var B=y.get("children"),R=w.get("children"),Y=0;Y<B.length;Y++)this.syncShapeStyle(B[Y],R[Y],x,A,O+Y);else{if(x&&x!=="reset"){var j=y.get("name");I.isArray(j)&&(j=j[1]);var V=this.getStateStyle(x,j||O);w.attr(V)}var nt=_.getReplaceAttrs(y,w);this.animate?A?P.doAnimate(y,A,{coordinate:this.shapeFactory.coordinate,toAttrs:nt,shapeModel:this.model}):x?(y.stopAnimate(),y.animate(nt,{duration:300})):y.attr(nt):y.attr(nt)}},b.prototype.getShapeType=function(y){var w=I.get(y,"shape");return I.isArray(w)?w[0]:w},b}(T.default);m=E},75564:function(mt,S,d){"use strict";var m;m={value:!0},S.iV=m=m=void 0;var L=d(60517),I=d(6750),P=d(26485);m=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],m=["cross","tick","plus","hyphen","line"];function T(_,M,E,p,b){var y=P.getStyle(M,b,!b,"r"),w=_.parsePoints(M.points),x=w[0];if(M.isStack)x=w[1];else if(w.length>1){for(var A=E.addGroup(),O=0,B=w;O<B.length;O++){var R=B[O];A.addShape({type:"marker",attrs:L.__assign(L.__assign(L.__assign({},y),{symbol:I.MarkerSymbols[p]||p}),R)})}return A}return E.addShape({type:"marker",attrs:L.__assign(L.__assign(L.__assign({},y),{symbol:I.MarkerSymbols[p]||p}),x)})}S.iV=T},26485:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var m=d(60517),L=d(49242);function I(P,T,_,M){M===void 0&&(M="");var E=P.style,p=E===void 0?{}:E,b=P.defaultStyle,y=P.color,w=P.size,x=m.__assign(m.__assign({},b),p);return y&&(T&&(p.stroke||(x.stroke=y)),_&&(p.fill||(x.fill=y))),M&&L.isNil(p[M])&&!L.isNil(w)&&(x[M]=w),x}S.getStyle=I},36758:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var m=d(43567),L=d(49242),I=d(22514);function P(x,A){var O=[];if(x.length){O.push(["M",x[0].x,x[0].y]);for(var B=1,R=x.length;B<R;B+=1){var Y=x[B];O.push(["L",Y.x,Y.y])}A&&O.push(["Z"])}return O}function T(x,A){for(var O=[x[0]],B=1,R=x.length;B<R;B=B+2){var Y=A.convert({x:x[B],y:x[B+1]});O.push(Y.x,Y.y)}return O}function _(x,A,O){var B=O.isTransposed,R=O.startAngle,Y=O.endAngle,j={x:x[1],y:x[2]},V={x:A[1],y:A[2]},nt=[],ct=B?"y":"x",ut=Math.abs(V[ct]-j[ct])*(Y-R),Pt=V[ct]>=j[ct]?1:0,Gt=ut>Math.PI?1:0,qt=O.convert(V),Rt=I.getDistanceToCenter(O,qt);if(Rt>=.5)if(ut===Math.PI*2){var at={x:(V.x+j.x)/2,y:(V.y+j.y)/2},vt=O.convert(at);nt.push(["A",Rt,Rt,0,Gt,Pt,vt.x,vt.y]),nt.push(["A",Rt,Rt,0,Gt,Pt,qt.x,qt.y])}else nt.push(["A",Rt,Rt,0,Gt,Pt,qt.x,qt.y]);return nt}function M(x){L.each(x,function(A,O){var B=A;if(B[0].toLowerCase()==="a"){var R=x[O-1],Y=x[O+1];Y&&Y[0].toLowerCase()==="a"?R&&R[0].toLowerCase()==="l"&&(R[0]="M"):R&&R[0].toLowerCase()==="a"&&Y&&Y[0].toLowerCase()==="l"&&(Y[0]="M")}})}S.smoothBezier=function(x,A,O,B){var R=[],Y,j,V=!!B,nt,ct;if(V){nt=[Infinity,Infinity],ct=[-Infinity,-Infinity];for(var ut=0,Pt=x.length;ut<Pt;ut++){var Gt=x[ut];nt=m.vec2.min([0,0],nt,Gt),ct=m.vec2.max([0,0],ct,Gt)}nt=m.vec2.min([0,0],nt,B[0]),ct=m.vec2.max([0,0],ct,B[1])}for(var ut=0,qt=x.length;ut<qt;ut++){var Gt=x[ut];if(O)Y=x[ut?ut-1:qt-1],j=x[(ut+1)%qt];else if(ut===0||ut===qt-1){R.push(Gt);continue}else Y=x[ut-1],j=x[ut+1];var Rt=[0,0];Rt=m.vec2.sub(Rt,j,Y),Rt=m.vec2.scale(Rt,Rt,A);var at=m.vec2.distance(Gt,Y),vt=m.vec2.distance(Gt,j),ot=at+vt;ot!==0&&(at/=ot,vt/=ot);var Et=m.vec2.scale([0,0],Rt,-at),dt=m.vec2.scale([0,0],Rt,vt),X=m.vec2.add([0,0],Gt,Et),$=m.vec2.add([0,0],Gt,dt);V&&(X=m.vec2.max([0,0],X,nt),X=m.vec2.min([0,0],X,ct),$=m.vec2.max([0,0],$,nt),$=m.vec2.min([0,0],$,ct)),R.push(X),R.push($)}return O&&R.push(R.shift()),R};function E(x,A,O){for(var B=!!A,R=[],Y=0,j=x.length;Y<j;Y+=2)R.push([x[Y],x[Y+1]]);for(var V=S.smoothBezier(R,.4,B,O),nt=R.length,ct=[],ut,Pt,Gt,Y=0;Y<nt-1;Y++)ut=V[Y*2],Pt=V[Y*2+1],Gt=R[Y+1],ct.push(["C",ut[0],ut[1],Pt[0],Pt[1],Gt[0],Gt[1]]);return B&&(ut=V[nt],Pt=V[nt+1],Gt=R[0],ct.push(["C",ut[0],ut[1],Pt[0],Pt[1],Gt[0],Gt[1]])),ct}S.catmullRom2bezier=E;function p(x,A){return P(x,A)}S.getLinePath=p;function b(x,A,O){var B=[],R=x[0],Y=null;if(x.length<=2)return p(x,A);for(var j=0,V=x.length;j<V;j++){var nt=x[j];(!Y||!(Y.x===nt.x&&Y.y===nt.y))&&(B.push(nt.x),B.push(nt.y),Y=nt)}var ct=O||[[0,0],[1,1]],ut=E(B,A,ct);return ut.unshift(["M",R.x,R.y]),ut}S.getSplinePath=b;function y(x,A){var O=[];return L.each(A,function(B){var R=B[0];switch(R.toLowerCase()){case"m":case"l":case"c":O.push(T(B,x));break;case"z":default:O.push(B);break}}),O}S.convertNormalPath=y;function w(x,A){var O=[],B,R,Y,j;return L.each(A,function(V,nt){var ct=V[0];switch(ct.toLowerCase()){case"m":case"c":case"q":O.push(T(V,x));break;case"l":B=A[nt-1],R=V,Y=x.isTransposed,j=Y?B[B.length-2]===R[1]:B[B.length-1]===R[2],j?O=O.concat(_(B,R,x)):O.push(T(V,x));break;case"z":default:O.push(V);break}}),M(O),O}S.convertPolarPath=w},33242:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=function(){function I(P,T){this.context=P,this.cfg=T,P.addAction(this)}return I.prototype.applyCfg=function(P){m.assign(this,P)},I.prototype.init=function(){this.applyCfg(this.cfg)},I.prototype.destroy=function(){this.context.removeAction(this),this.context=null},I}();S.default=L},68842:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60517),L=m.__importDefault(d(33242)),I=function(P){m.__extends(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.execute=function(){this.callback&&this.callback(this.context)},T.prototype.destroy=function(){P.prototype.destroy.call(this),this.callback=null},T}(L.default);S.default=I},93359:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var m=d(60517),L=m.__importDefault(d(68842)),I=d(49242),P={};function T(b,y){var w=P[b],x=null;if(w){var A=w.ActionClass,O=w.cfg;x=new A(y,O),x.name=b,x.init()}return x}S.createAction=T;function _(b){var y=P[b];return I.get(y,"ActionClass")}S.getActionClass=_;function M(b,y,w){P[b]={ActionClass:y,cfg:w}}S.registerAction=M;function E(b){delete P[b]}S.unregisterAction=E;function p(b,y){var w=new L.default(y);return w.callback=b,w.name="callback",w}S.createCallbackAction=p},31882:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var m=d(60517),L=d(49242),I=d(36758),P=d(85800),T=m.__importDefault(d(70146));function _(X,$){var H=X.event,f=H.target,xt=f.getCanvasBBox();return xt.width>=$||xt.height>=$?xt:null}function M(X,$){var H=X.event,f=H.target,xt=f.getCanvasBBox();return xt.width>=$||xt.height>=$?f.attr("path"):null}function E(X){var $=X.event,H,f=$.target;return f&&(H=f.get("element")),H}S.getCurrentElement=E;function p(X){var $=X.event,H=$.target,f;return H&&(f=H.get("delegateObject")),f}S.getDelegationObject=p;function b(X){var $=X.event.gEvent;return!($&&$.fromShape&&$.toShape&&$.fromShape.get("element")===$.toShape.get("element"))}S.isElementChange=b;function y(X){return X&&X.component&&X.component.isList()}S.isList=y;function w(X){return X&&X.component&&X.component.isSlider()}S.isSlider=w;function x(X){var $=X.event,H=$.target;return H&&H.get("name")==="mask"}S.isMask=x;function A(X,$){var H=X.event.target;if(H.get("type")==="path"){var f=M(X,$);return f?ut(X.view,f):void 0}var xt=_(X,$);return xt?nt(X.view,xt):null}S.getMaskedElements=A;function O(X,$,H){var f=_(X,H);if(!f)return null;var xt=X.view,Mt=ot(xt,$,{x:f.x,y:f.y}),Ut=ot(xt,$,{x:f.maxX,y:f.maxY}),re={minX:Mt.x,minY:Mt.y,maxX:Ut.x,maxY:Ut.y};return nt($,re)}S.getSiblingMaskElements=O;function B(X){var $=X.geometries,H=[];return L.each($,function(f){var xt=f.elements;H=H.concat(xt)}),X.views&&X.views.length&&L.each(X.views,function(f){H=H.concat(B(f))}),H}S.getElements=B;function R(X,$,H){var f=B(X);return f.filter(function(xt){return j(xt,$)===H})}S.getElementsByField=R;function Y(X,$){var H=X.geometries,f=[];return L.each(H,function(xt){var Mt=xt.getElementsBy(function(Ut){return Ut.hasState($)});f=f.concat(Mt)}),f}S.getElementsByState=Y;function j(X,$){var H=X.getModel(),f=H.data,xt;return L.isArray(f)?xt=f[0][$]:xt=f[$],xt}S.getElementValue=j;function V(X,$){return!($.minX>X.maxX||$.maxX<X.minX||$.minY>X.maxY||$.maxY<X.minY)}S.intersectRect=V;function nt(X,$){var H=B(X),f=[];return L.each(H,function(xt){var Mt=xt.shape,Ut=Mt.getCanvasBBox();V($,Ut)&&f.push(xt)}),f}S.getIntersectElements=nt;function ct(X){var $=[];return L.each(X,function(H){var f=H[0];if(f!=="A")for(var xt=1;xt<H.length;xt=xt+2)$.push([H[xt],H[xt+1]]);else{var Mt=H.length;$.push([H[Mt-2],H[Mt-1]])}}),$}function ut(X,$){var H=B(X),f=ct($),xt=H.filter(function(Mt){var Ut=Mt.shape,re;if(Ut.get("type")==="path")re=ct(Ut.attr("path"));else{var zt=Ut.getCanvasBBox();re=P.toPoints(zt)}return T.default(f,re)});return xt}S.getElementsByPath=ut;function Pt(X){return X.getComponents().map(function($){return $.component})}S.getComponents=Pt;function Gt(X,$){var H=$.x-X.x,f=$.y-X.y;return Math.sqrt(H*H+f*f)}S.distance=Gt;function qt(X,$){if(X.length<=2)return I.getLinePath(X,!1);var H=X[0],f=[];L.each(X,function(Mt){f.push(Mt.x),f.push(Mt.y)});var xt=I.catmullRom2bezier(f,$,null);return xt.unshift(["M",H.x,H.y]),xt}S.getSpline=qt;function Rt(X,$){return X.x<=$.x&&X.maxX>=$.x&&X.y<=$.y&&X.maxY>$.y}S.isInBox=Rt;function at(X){var $=X.parent,H=null;return $&&(H=$.views.filter(function(f){return f!==X})),H}S.getSilbings=at;function vt(X,$){var H=X.getCoordinate();return H.invert($)}function ot(X,$,H){var f=vt(X,H);return $.getCoordinate().convert(f)}S.getSiblingPoint=ot;function Et(X,$,H,f){var xt=!1;return L.each(X,function(Mt){if(Mt[H]===$[H]&&Mt[f]===$[f])return xt=!0,!1}),xt}S.isInRecords=Et;function dt(X,$){var H=X.getScaleByField($);return!H&&X.views&&L.each(X.views,function(f){if(H=dt(f,$),H)return!1}),H}S.getScaleByField=dt},43273:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(31882),I=function(){function P(T){this.actions=[],this.event=null,this.cacheMap={},this.view=T}return P.prototype.cache=function(){for(var T=[],_=0;_<arguments.length;_++)T[_]=arguments[_];if(T.length===1)return this.cacheMap[T[0]];T.length===2&&(this.cacheMap[T[0]]=T[1])},P.prototype.getAction=function(T){return this.actions.find(function(_){return _.name===T})},P.prototype.addAction=function(T){this.actions.push(T)},P.prototype.removeAction=function(T){var _=this.actions,M=this.actions.indexOf(T);M>=0&&_.splice(M,1)},P.prototype.getCurrentPoint=function(){var T=this.event;if(T)if(T.target instanceof HTMLElement){var _=this.view.getCanvas(),M=_.getPointByClient(T.clientX,T.clientY);return M}else return{x:T.x,y:T.y};return null},P.prototype.getCurrentShape=function(){return m.get(this.event,["gEvent","shape"])},P.prototype.isInPlot=function(){var T=this.getCurrentPoint();return T?this.view.isPointInPlot(T):!1},P.prototype.isInShape=function(T){var _=this.getCurrentShape();return _?_.get("name")===T:!1},P.prototype.isInComponent=function(T){var _=L.getComponents(this.view),M=this.getCurrentPoint();return M?!!_.find(function(E){var p=E.getBBox();return T?E.get("name")===T&&L.isInBox(p,M):L.isInBox(p,M)}):!1},P.prototype.destroy=function(){this.view=null,this.event=null,m.each(this.actions.slice(),function(T){T.destroy()}),this.actions=null,this.cacheMap=null},P}();S.default=I},61058:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(60517),I=d(49242),P=d(93359),T=L.__importDefault(d(43273)),_=L.__importDefault(d(91513));function M(y,w){var x=y.split(":"),A=x[0],O=w.getAction(A)||P.createAction(A,w);if(!O)throw new Error("There is no action named "+A);var B=x[1];return{action:O,methodName:B}}function E(y){var w=y.action,x=y.methodName;if(w[x])w[x]();else throw new Error("Action("+w.name+") doesn't have a method called "+x)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},b=function(y){L.__extends(w,y);function w(x,A){var O=y.call(this,x,A)||this;return O.callbackCaches={},O.emitCaches={},O.steps=A,O}return w.prototype.init=function(){this.initContext(),y.prototype.init.call(this)},w.prototype.destroy=function(){y.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},w.prototype.initEvents=function(){var x=this;I.each(this.steps,function(A,O){I.each(A,function(B){var R=x.getActionCallback(O,B);R&&x.bindEvent(B.trigger,R)})})},w.prototype.clearEvents=function(){var x=this;I.each(this.steps,function(A,O){I.each(A,function(B){var R=x.getActionCallback(O,B);R&&x.offEvent(B.trigger,R)})})},w.prototype.initContext=function(){var x=this.view,A=new T.default(x);this.context=A;var O=this.steps;I.each(O,function(B){I.each(B,function(R){if(I.isFunction(R.action))R.actionObject={action:P.createCallbackAction(R.action,A),methodName:"execute"};else if(I.isString(R.action))R.actionObject=M(R.action,A);else if(I.isArray(R.action)){var Y=R.action;R.actionObject=[],I.each(Y,function(j){R.actionObject.push(M(j,A))})}})})},w.prototype.isAllowStep=function(x){var A=this.currentStepName,O=this.steps;if(A===x||x===p.SHOW_ENABLE)return!0;if(x===p.PROCESSING)return A===p.START;if(x===p.START)return A!==p.PROCESSING;if(x===p.END)return A===p.PROCESSING||A===p.START;if(x===p.ROLLBACK){if(O[p.END])return A===p.END;if(A===p.START)return!0}return!1},w.prototype.isAllowExcute=function(x,A){if(this.isAllowStep(x)){var O=this.getKey(x,A);return A.once&&this.emitCaches[O]?!1:A.isEnable?A.isEnable(this.context):!0}return!1},w.prototype.enterStep=function(x){this.currentStepName=x,this.emitCaches={}},w.prototype.afterExecute=function(x,A){x!==p.SHOW_ENABLE&&this.currentStepName!==x&&this.enterStep(x);var O=this.getKey(x,A);this.emitCaches[O]=!0},w.prototype.getKey=function(x,A){return x+A.trigger+A.action},w.prototype.getActionCallback=function(x,A){var O=this,B=this.context,R=this.callbackCaches,Y=A.actionObject;if(A.action&&Y){var j=this.getKey(x,A);if(!R[j]){var V=function(nt){B.event=nt,O.isAllowExcute(x,A)?(I.isArray(Y)?I.each(Y,function(ct){B.event=nt,E(ct)}):(B.event=nt,E(Y)),O.afterExecute(x,A),A.callback&&(B.event=nt,A.callback(B))):B.event=null};A.debounce?R[j]=I.debounce(V,A.debounce.wait,A.debounce.immediate):A.throttle?R[j]=I.throttle(V,A.throttle.wait,{leading:A.throttle.leading,trailing:A.throttle.trailing}):R[j]=V}return R[j]}return null},w.prototype.bindEvent=function(x,A){var O=x.split(":");O[0]==="window"?window.addEventListener(O[1],A):O[0]==="document"?document.addEventListener(O[1],A):this.view.on(x,A)},w.prototype.offEvent=function(x,A){var O=x.split(":");O[0]==="window"?window.removeEventListener(O[1],A):O[0]==="document"?document.removeEventListener(O[1],A):this.view.off(x,A)},w}(_.default);m=b},91513:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(L,I){this.view=L,this.cfg=I}return m.prototype.init=function(){this.initEvents()},m.prototype.initEvents=function(){},m.prototype.clearEvents=function(){},m.prototype.destroy=function(){this.clearEvents()},m}();S.default=d},85800:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var m=d(49242),L=d(29583),I=function(){function T(_,M,E,p){_===void 0&&(_=0),M===void 0&&(M=0),E===void 0&&(E=0),p===void 0&&(p=0),this.x=_,this.y=M,this.height=p,this.width=E}return T.fromRange=function(_,M,E,p){return new T(_,M,E-_,p-M)},Object.defineProperty(T.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),T.prototype.isEqual=function(_){return this.x===_.x&&this.y===_.y&&this.width===_.width&&this.height===_.height},T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height)},T.prototype.add=function(){for(var _=[],M=0;M<arguments.length;M++)_[M]=arguments[M];var E=this.clone();return m.each(_,function(p){E.x=Math.min(p.x,E.x),E.y=Math.min(p.y,E.y),E.width=Math.max(p.maxX,E.maxX)-E.x,E.height=Math.max(p.maxY,E.maxY)-E.y}),E},T.prototype.merge=function(){for(var _=[],M=0;M<arguments.length;M++)_[M]=arguments[M];var E=this.clone();return m.each(_,function(p){E.x=Math.max(p.x,E.x),E.y=Math.max(p.y,E.y),E.width=Math.min(p.maxX,E.maxX)-E.x,E.height=Math.min(p.maxY,E.maxY)-E.y}),E},T.prototype.cut=function(_,M){var E=_.width,p=_.height;switch(M){case L.DIRECTION.TOP:case L.DIRECTION.TOP_LEFT:case L.DIRECTION.TOP_RIGHT:return T.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case L.DIRECTION.RIGHT:case L.DIRECTION.RIGHT_TOP:case L.DIRECTION.RIGHT_BOTTOM:return T.fromRange(this.minX,this.minY,this.maxX-E,this.maxY);case L.DIRECTION.BOTTOM:case L.DIRECTION.BOTTOM_LEFT:case L.DIRECTION.BOTTOM_RIGHT:return T.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case L.DIRECTION.LEFT:case L.DIRECTION.LEFT_TOP:case L.DIRECTION.LEFT_BOTTOM:return T.fromRange(this.minX+E,this.minY,this.maxX,this.maxY);default:return this}},T.prototype.shrink=function(_){var M=_[0],E=_[1],p=_[2],b=_[3];return new T(this.x+b,this.y+M,this.width-b-E,this.height-M-p)},T.prototype.exceed=function(_){return[Math.max(-this.minY+_.minY,0),Math.max(this.maxX-_.maxX,0),Math.max(this.maxY-_.maxY,0),Math.max(-this.minX+_.minX,0)]},T.prototype.size=function(){return this.width*this.height},T}();S.BBox=I,S.getRegionBBox=function(T,_){var M=_.start,E=_.end;return new I(T.x+T.width*M.x,T.y+T.height*M.y,T.width*Math.abs(E.x-M.x),T.height*Math.abs(E.y-M.y))};function P(T){return[[T.minX,T.minY],[T.maxX,T.minY],[T.maxX,T.maxY],[T.minX,T.maxY]]}S.toPoints=P},22514:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var m=d(42770),L=d(86630);function I(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var b=p.convert({x:0,y:0}),y=p.convert({x:1,y:0});return Math.sqrt(Math.pow(y.x-b.x,2)+Math.pow(y.y-b.y,2))}S.getXDimensionLength=I;function P(p){if(p.isPolar){var b=p.startAngle,y=p.endAngle;return y-b==Math.PI*2}return!1}S.isFullCircle=P;function T(p,b){var y=p.getCenter();return Math.sqrt(Math.pow(b.x-y.x,2)+Math.pow(b.y-y.y,2))}S.getDistanceToCenter=T;function _(p,b){var y=!1;if(p)if(p.type==="theta"){var w=p.start,x=p.end;y=L.isBetween(b.x,w.x,x.x)&&L.isBetween(b.y,w.y,x.y)}else{var A=p.invert(b);y=L.isBetween(A.x,0,1)&&L.isBetween(A.y,0,1)}return y}S.isPointInCoordinate=_;function M(p,b){var y=p.getCenter();return Math.atan2(b.y-y.y,b.x-y.x)}S.getAngleByPoint=M;function E(p,b){b===void 0&&(b=0);var y=p.start,w=p.end,x=p.getWidth(),A=p.getHeight();if(p.isPolar){var O=p.startAngle,B=p.endAngle,R=p.getCenter(),Y=p.getRadius();return{type:"path",startState:{path:m.getSectorPath(R.x,R.y,Y+b,O,O)},endState:function(V){var nt=(B-O)*V+O,ct=m.getSectorPath(R.x,R.y,Y+b,O,nt);return{path:ct}},attrs:{path:m.getSectorPath(R.x,R.y,Y+b,O,B)}}}var j;return p.isTransposed?j={height:A+b*2}:j={width:x+b*2},{type:"rect",startState:{x:y.x-b,y:w.y-b,width:p.isTransposed?x+b*2:0,height:p.isTransposed?0:A+b*2},endState:j,attrs:{x:y.x-b,y:w.y-b,width:x+b*2,height:A+b*2}}}S.getCoordinateClipCfg=E},42770:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var m=d(49242);function L(p){if(m.isEmpty(p))return null;var b=p[0].x,y=p[0].x,w=p[0].y,x=p[0].y;return m.each(p,function(A){b=b>A.x?A.x:b,y=y<A.x?A.x:y,w=w>A.y?A.y:w,x=x<A.y?A.y:x}),{minX:b,maxX:y,minY:w,maxY:x,centerX:(b+y)/2,centerY:(w+x)/2}}function I(p,b,y,w){return{x:p+y*Math.cos(w),y:b+y*Math.sin(w)}}S.polarToCartesian=I;function P(p,b,y,w,x,A){A===void 0&&(A=0);var O=I(p,b,y,w),B=I(p,b,y,x),R=I(p,b,A,w),Y=I(p,b,A,x);if(x-w==Math.PI*2){var j=I(p,b,y,w+Math.PI),V=I(p,b,A,w+Math.PI),nt=[["M",O.x,O.y],["A",y,y,0,1,1,j.x,j.y],["A",y,y,0,1,1,B.x,B.y],["M",R.x,R.y]];return A&&(nt.push(["A",A,A,0,1,0,V.x,V.y]),nt.push(["A",A,A,0,1,0,Y.x,Y.y])),nt.push(["M",O.x,O.y]),nt.push(["Z"]),nt}var ct=x-w<=Math.PI?0:1,ut=[["M",O.x,O.y],["A",y,y,0,ct,1,B.x,B.y],["L",Y.x,Y.y]];return A&&ut.push(["A",A,A,0,ct,0,R.x,R.y]),ut.push(["L",O.x,O.y]),ut.push(["Z"]),ut}S.getSectorPath=P;function T(p,b,y,w,x){var A=I(p,b,y,w),O=I(p,b,y,x);if(m.isNumberEqual(x-w,Math.PI*2)){var B=I(p,b,y,w+Math.PI);return[["M",A.x,A.y],["A",y,y,0,1,1,B.x,B.y],["A",y,y,0,1,1,A.x,A.y],["A",y,y,0,1,0,B.x,B.y],["A",y,y,0,1,0,A.x,A.y],["Z"]]}var R=x-w<=Math.PI?0:1;return[["M",A.x,A.y],["A",y,y,0,R,1,O.x,O.y]]}S.getArcPath=T;function _(p,b){var y=p.points,w=L(y),x,A,O=b.startAngle,B=b.endAngle,R=B-O;return b.isTransposed?(x=w.maxY*R,A=w.minY*R):(x=w.maxX*R,A=w.minX*R),x+=O,A+=O,{startAngle:A,endAngle:x}}S.getAngle=_;function M(p,b){if(m.isNumber(p)&&m.isNumber(b))return[p,b];for(var y=-1,w=0,x=0,A,O=p.length-1,B,R=0;++y<p.length;)A=O,O=y,R+=B=p[A]*b[O]-p[O]*b[A],w+=(p[A]+p[O])*B,x+=(b[A]+b[O])*B;return R*=3,[w/R,x/R]}S.getPolygonCentroid=M;function E(p,b){var y=p.attr(),w=b.attr();return m.each(y,function(x,A){w[A]===void 0&&(w[A]=void 0)}),w}S.getReplaceAttrs=E},86630:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var m=d(49242);function L(_,M,E){var p=Math.min(M,E),b=Math.max(M,E);return _>=p&&_<=b}S.isBetween=L;function I(_,M,E){if(m.isString(_))return _.padEnd(M,E);if(m.isArray(_)){var p=_.length;if(p<M)for(var b=M-p,y=0;y<b;y++)_.push(E)}return _}S.padEnd=I;function P(_,M){return M.forEach(function(E){delete _[E]}),_}S.omit=P;function T(_,M,E){M===void 0&&(M=[]),E===void 0&&(E={});for(var p=0,b=_;p<b.length;p++){var y=b[p];E[y]||(M.push(y),E[y]=!0)}return M}S.uniq=T},6750:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(d,m,L){var I=L/2*Math.sqrt(3);return[["M",d,m-L],["L",d+I,m-L/2],["L",d+I,m+L/2],["L",d,m+L],["L",d-I,m+L/2],["L",d-I,m-L/2],["Z"]]},bowtie:function(d,m,L){var I=L-1.5;return[["M",d-L,m-I],["L",d+L,m+I],["L",d+L,m-I],["L",d-L,m+I],["Z"]]},cross:function(d,m,L){return[["M",d-L,m-L],["L",d+L,m+L],["M",d+L,m-L],["L",d-L,m+L]]},tick:function(d,m,L){return[["M",d-L/2,m-L],["L",d+L/2,m-L],["M",d,m-L],["L",d,m+L],["M",d-L/2,m+L],["L",d+L/2,m+L]]},plus:function(d,m,L){return[["M",d-L,m],["L",d+L,m],["M",d,m-L],["L",d,m+L]]},hyphen:function(d,m,L){return[["M",d-L,m],["L",d+L,m]]},line:function(d,m,L){return[["M",d,m-L],["L",d,m+L]]}}},16854:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var m=d(60517),L=d(49242),I=d(57029),P=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function T(p){var b="linear";return P.test(p)?b="time":L.isString(p)&&(b="cat"),b}function _(p,b,y){var w=b||[];if(L.isNumber(p)||L.isNil(L.firstValue(w,p))&&L.isEmpty(y)){var x=I.getScale("identity");return new x({field:p.toString(),values:[p]})}var A=L.valuesOfKey(w,p),O=L.get(y,"type",T(A[0])),B=I.getScale(O);return new B(m.__assign({field:p,values:A},y))}S.createScaleByField=_;function M(p,b){if(p.type!=="identity"&&b.type!=="identity"){var y={};for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(y[w]=b[w]);p.change(y)}}S.syncScale=M;function E(p){return p.alias||p.field}S.getName=E},99677:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var m=d(60517),L=d(49242),I=d(29583),P=d(16854);function T(B,R,Y){var j=Y.translate(B),V=Y.translate(R);return L.isNumberEqual(j,V)}function _(B,R){var Y=R.coordinate,j=R.getXScale(),V=j.range,nt=V[V.length-1],ct=V[0],ut=Y.invert(B),Pt=ut.x;return Y.isPolar&&Pt>(1+nt)/2&&(Pt=ct),j.translate(j.invert(Pt))}function M(B,R,Y){var j=Y.coordinate,V=Y.getYScale(),nt=V.field,ct=j.invert(R),ut=V.invert(ct.y),Pt=L.find(B,function(Gt){var qt=Gt[I.FIELD_ORIGIN];return qt[nt][0]<=ut&&qt[nt][1]>=ut});return Pt||B[B.length-1]}var E=L.memoize(function(B){if(B.isCategory)return 1;for(var R=B.values,Y=R.length,j=B.translate(R[0]),V=j,nt=0;nt<Y;nt++){var ct=R[nt],ut=B.translate(ct);ut<j&&(j=ut),ut>V&&(V=ut)}return(V-j)/(Y-1)});function p(B,R,Y){var j=Y;if(!Y){var V=R.getAttribute("position"),nt=V.getFields();j=nt[0]}var ct=R.scales;return ct[j]?ct[j].getText(B[j]):L.hasKey(B,j)?B[j]:j}function b(B){var R=L.values(B.attributes);return L.filter(R,function(Y){return L.contains(I.GROUP_ATTRS,Y.type)})}function y(B){for(var R=b(B),Y,j=0,V=R;j<V.length;j++){var nt=V[j],ct=nt.getScale(nt.type);if(ct&&ct.isLinear){Y=ct;break}}var ut=B.getXScale(),Pt=B.getYScale();return Y||Pt||ut}function w(B,R){var Y=R.field,j=B[Y];if(L.isArray(j)){var V=j.map(function(nt){return R.getText(nt)});return V.join("-")}return R.getText(j)}function x(B,R){var Y,j=R.getGroupScales();if(j.length&&(Y=j[0]),Y){var V=Y.field;return Y.getText(B[V])}var nt=y(R);return P.getName(nt)}function A(B,R,Y){if(R.length===0)return null;var j=Y.type,V=Y.getXScale(),nt=Y.getYScale(),ct=V.field,ut=nt.field,Pt=null;if(j==="heatmap"||j==="point"){for(var Gt=Y.coordinate,qt=Gt.invert(B),Rt=V.invert(qt.x),at=nt.invert(qt.y),vt=Infinity,ot=0;ot<R.length;ot++){var Et=R[ot],dt=Et[I.FIELD_ORIGIN],X=Math.pow(dt[ct]-Rt,2)+Math.pow(dt[ut]-at,2);X<vt&&(vt=X,Pt=Et)}return Pt}var $=R[0],H=R[R.length-1],f=_(B,Y),xt=$[I.FIELD_ORIGIN][ct],Mt=$[I.FIELD_ORIGIN][ut],Ut=H[I.FIELD_ORIGIN][ct],re=nt.isLinear&&L.isArray(Mt);if(L.isArray(xt)){for(var ot=0;ot<R.length;ot++){var zt=R[ot],dt=zt[I.FIELD_ORIGIN];if(V.translate(dt[ct][0])<=f&&V.translate(dt[ct][1])>=f)if(re)L.isArray(Pt)||(Pt=[]),Pt.push(zt);else{Pt=zt;break}}L.isArray(Pt)&&(Pt=M(Pt,B,Y))}else{var ne=void 0;if(!V.isLinear&&V.type!=="timeCat"){for(var ot=0;ot<R.length;ot++){var zt=R[ot],dt=zt[I.FIELD_ORIGIN];if(T(dt[ct],f,V))if(re)L.isArray(Pt)||(Pt=[]),Pt.push(zt);else{Pt=zt;break}else V.translate(dt[ct])<=f&&(H=zt,ne=R[ot+1])}L.isArray(Pt)&&(Pt=M(Pt,B,Y))}else{if((f>V.translate(Ut)||f<V.translate(xt))&&(f>V.max||f<V.min))return null;for(var ae=0,Dt=R.length-1,Tt=void 0;ae<=Dt;){Tt=Math.floor((ae+Dt)/2);var pt=R[Tt][I.FIELD_ORIGIN][ct];if(T(pt,f,V))return R[Tt];V.translate(pt)<=V.translate(f)?(ae=Tt+1,H=R[Tt],ne=R[Tt+1]):(Dt===0&&(H=R[0]),Dt=Tt-1)}}H&&ne&&Math.abs(V.translate(H[I.FIELD_ORIGIN][ct])-f)>Math.abs(V.translate(ne[I.FIELD_ORIGIN][ct])-f)&&(H=ne)}var Q=E(Y.getXScale());return!Pt&&Math.abs(V.translate(H[I.FIELD_ORIGIN][ct])-f)<=Q/2&&(Pt=H),Pt}S.findDataByPoint=A;function O(B,R,Y){Y===void 0&&(Y="");var j=B[I.FIELD_ORIGIN],V=p(j,R,Y),nt=R.tooltipOption,ct=R.theme.defaultColor,ut=[],Pt,Gt;function qt(Mt,Ut){if(!L.isNil(Ut)&&Ut!==""){var re={title:V,data:j,mappingData:B,name:Mt,value:Ut,color:B.color||ct,marker:!0};ut.push(re)}}if(L.isObject(nt)){var Rt=nt.fields,at=nt.callback;if(at){var vt=Rt.map(function(Mt){return B[I.FIELD_ORIGIN][Mt]}),ot=at.apply(void 0,vt),Et=m.__assign({data:B[I.FIELD_ORIGIN],mappingData:B,title:V,color:B.color||ct,marker:!0},ot);ut.push(Et)}else for(var dt=R.scales,X=0,$=Rt;X<$.length;X++){var H=$[X];if(!L.isNil(j[H])){var f=dt[H];Pt=P.getName(f),Gt=f.getText(j[H]),qt(Pt,Gt)}}}else{var xt=y(R);L.isNil(j[xt.field])||(Gt=w(j,xt),Pt=x(j,R),qt(Pt,Gt))}return ut}S.getTooltipItems=O},60517:function(mt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return _},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return w},__read:function(){return x},__spread:function(){return A},__spreadArrays:function(){return O},__spreadArray:function(){return B},__await:function(){return R},__asyncGenerator:function(){return Y},__asyncDelegator:function(){return j},__asyncValues:function(){return V},__makeTemplateObject:function(){return nt},__importStar:function(){return ut},__importDefault:function(){return Pt},__classPrivateFieldGet:function(){return Gt},__classPrivateFieldSet:function(){return qt},__classPrivateFieldIn:function(){return Rt}});var m=function(at,vt){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ot,Et){ot.__proto__=Et}||function(ot,Et){for(var dt in Et)Object.prototype.hasOwnProperty.call(Et,dt)&&(ot[dt]=Et[dt])},m(at,vt)};function L(at,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Class extends value "+String(vt)+" is not a constructor or null");m(at,vt);function ot(){this.constructor=at}at.prototype=vt===null?Object.create(vt):(ot.prototype=vt.prototype,new ot)}var I=function(){return I=Object.assign||function(vt){for(var ot,Et=1,dt=arguments.length;Et<dt;Et++){ot=arguments[Et];for(var X in ot)Object.prototype.hasOwnProperty.call(ot,X)&&(vt[X]=ot[X])}return vt},I.apply(this,arguments)};function P(at,vt){var ot={};for(var Et in at)Object.prototype.hasOwnProperty.call(at,Et)&&vt.indexOf(Et)<0&&(ot[Et]=at[Et]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,Et=Object.getOwnPropertySymbols(at);dt<Et.length;dt++)vt.indexOf(Et[dt])<0&&Object.prototype.propertyIsEnumerable.call(at,Et[dt])&&(ot[Et[dt]]=at[Et[dt]]);return ot}function T(at,vt,ot,Et){var dt=arguments.length,X=dt<3?vt:Et===null?Et=Object.getOwnPropertyDescriptor(vt,ot):Et,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(at,vt,ot,Et);else for(var H=at.length-1;H>=0;H--)($=at[H])&&(X=(dt<3?$(X):dt>3?$(vt,ot,X):$(vt,ot))||X);return dt>3&&X&&Object.defineProperty(vt,ot,X),X}function _(at,vt){return function(ot,Et){vt(ot,Et,at)}}function M(at,vt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(at,vt)}function E(at,vt,ot,Et){function dt(X){return X instanceof ot?X:new ot(function($){$(X)})}return new(ot||(ot=Promise))(function(X,$){function H(Mt){try{xt(Et.next(Mt))}catch(Ut){$(Ut)}}function f(Mt){try{xt(Et.throw(Mt))}catch(Ut){$(Ut)}}function xt(Mt){Mt.done?X(Mt.value):dt(Mt.value).then(H,f)}xt((Et=Et.apply(at,vt||[])).next())})}function p(at,vt){var ot={label:0,sent:function(){if(X[0]&1)throw X[1];return X[1]},trys:[],ops:[]},Et,dt,X,$;return $={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function H(xt){return function(Mt){return f([xt,Mt])}}function f(xt){if(Et)throw new TypeError("Generator is already executing.");for(;ot;)try{if(Et=1,dt&&(X=xt[0]&2?dt.return:xt[0]?dt.throw||((X=dt.return)&&X.call(dt),0):dt.next)&&!(X=X.call(dt,xt[1])).done)return X;switch(dt=0,X&&(xt=[xt[0]&2,X.value]),xt[0]){case 0:case 1:X=xt;break;case 4:return ot.label++,{value:xt[1],done:!1};case 5:ot.label++,dt=xt[1],xt=[0];continue;case 7:xt=ot.ops.pop(),ot.trys.pop();continue;default:if(X=ot.trys,!(X=X.length>0&&X[X.length-1])&&(xt[0]===6||xt[0]===2)){ot=0;continue}if(xt[0]===3&&(!X||xt[1]>X[0]&&xt[1]<X[3])){ot.label=xt[1];break}if(xt[0]===6&&ot.label<X[1]){ot.label=X[1],X=xt;break}if(X&&ot.label<X[2]){ot.label=X[2],ot.ops.push(xt);break}X[2]&&ot.ops.pop(),ot.trys.pop();continue}xt=vt.call(at,ot)}catch(Mt){xt=[6,Mt],dt=0}finally{Et=X=0}if(xt[0]&5)throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}}var b=Object.create?function(at,vt,ot,Et){Et===void 0&&(Et=ot);var dt=Object.getOwnPropertyDescriptor(vt,ot);(!dt||("get"in dt?!vt.__esModule:dt.writable||dt.configurable))&&(dt={enumerable:!0,get:function(){return vt[ot]}}),Object.defineProperty(at,Et,dt)}:function(at,vt,ot,Et){Et===void 0&&(Et=ot),at[Et]=vt[ot]};function y(at,vt){for(var ot in at)ot!=="default"&&!Object.prototype.hasOwnProperty.call(vt,ot)&&b(vt,at,ot)}function w(at){var vt=typeof Symbol=="function"&&Symbol.iterator,ot=vt&&at[vt],Et=0;if(ot)return ot.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&Et>=at.length&&(at=void 0),{value:at&&at[Et++],done:!at}}};throw new TypeError(vt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(at,vt){var ot=typeof Symbol=="function"&&at[Symbol.iterator];if(!ot)return at;var Et=ot.call(at),dt,X=[],$;try{for(;(vt===void 0||vt-- >0)&&!(dt=Et.next()).done;)X.push(dt.value)}catch(H){$={error:H}}finally{try{dt&&!dt.done&&(ot=Et.return)&&ot.call(Et)}finally{if($)throw $.error}}return X}function A(){for(var at=[],vt=0;vt<arguments.length;vt++)at=at.concat(x(arguments[vt]));return at}function O(){for(var at=0,vt=0,ot=arguments.length;vt<ot;vt++)at+=arguments[vt].length;for(var Et=Array(at),dt=0,vt=0;vt<ot;vt++)for(var X=arguments[vt],$=0,H=X.length;$<H;$++,dt++)Et[dt]=X[$];return Et}function B(at,vt,ot){if(ot||arguments.length===2)for(var Et=0,dt=vt.length,X;Et<dt;Et++)(X||!(Et in vt))&&(X||(X=Array.prototype.slice.call(vt,0,Et)),X[Et]=vt[Et]);return at.concat(X||Array.prototype.slice.call(vt))}function R(at){return this instanceof R?(this.v=at,this):new R(at)}function Y(at,vt,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et=ot.apply(at,vt||[]),dt,X=[];return dt={},$("next"),$("throw"),$("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function $(re){Et[re]&&(dt[re]=function(zt){return new Promise(function(ne,ae){X.push([re,zt,ne,ae])>1||H(re,zt)})})}function H(re,zt){try{f(Et[re](zt))}catch(ne){Ut(X[0][3],ne)}}function f(re){re.value instanceof R?Promise.resolve(re.value.v).then(xt,Mt):Ut(X[0][2],re)}function xt(re){H("next",re)}function Mt(re){H("throw",re)}function Ut(re,zt){re(zt),X.shift(),X.length&&H(X[0][0],X[0][1])}}function j(at){var vt,ot;return vt={},Et("next"),Et("throw",function(dt){throw dt}),Et("return"),vt[Symbol.iterator]=function(){return this},vt;function Et(dt,X){vt[dt]=at[dt]?function($){return(ot=!ot)?{value:R(at[dt]($)),done:dt==="return"}:X?X($):$}:X}}function V(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt=at[Symbol.asyncIterator],ot;return vt?vt.call(at):(at=typeof w=="function"?w(at):at[Symbol.iterator](),ot={},Et("next"),Et("throw"),Et("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function Et(X){ot[X]=at[X]&&function($){return new Promise(function(H,f){$=at[X]($),dt(H,f,$.done,$.value)})}}function dt(X,$,H,f){Promise.resolve(f).then(function(xt){X({value:xt,done:H})},$)}}function nt(at,vt){return Object.defineProperty?Object.defineProperty(at,"raw",{value:vt}):at.raw=vt,at}var ct=Object.create?function(at,vt){Object.defineProperty(at,"default",{enumerable:!0,value:vt})}:function(at,vt){at.default=vt};function ut(at){if(at&&at.__esModule)return at;var vt={};if(at!=null)for(var ot in at)ot!=="default"&&Object.prototype.hasOwnProperty.call(at,ot)&&b(vt,at,ot);return ct(vt,at),vt}function Pt(at){return at&&at.__esModule?at:{default:at}}function Gt(at,vt,ot,Et){if(ot==="a"&&!Et)throw new TypeError("Private accessor was defined without a getter");if(typeof vt=="function"?at!==vt||!Et:!vt.has(at))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ot==="m"?Et:ot==="a"?Et.call(at):Et?Et.value:vt.get(at)}function qt(at,vt,ot,Et,dt){if(Et==="m")throw new TypeError("Private method is not writable");if(Et==="a"&&!dt)throw new TypeError("Private accessor was defined without a setter");if(typeof vt=="function"?at!==vt||!dt:!vt.has(at))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Et==="a"?dt.call(at,ot):dt?dt.value=ot:vt.set(at,ot),ot}function Rt(at,vt){if(vt===null||typeof vt!="object"&&typeof vt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof at=="function"?vt===at:at.has(vt)}},62113:function(mt,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return mi},AbstractGroup:function(){return Xi},AbstractShape:function(){return Bt},Base:function(){return lt},Event:function(){return zt},PathUtil:function(){return m},assembleFont:function(){return pr},getBBoxMethod:function(){return gt},getOffScreenContext:function(){return Ee},getTextHeight:function(){return Be},invert:function(){return or},isAllowCapture:function(){return Q},multiplyVec2:function(){return Ne},registerBBox:function(){return it},registerEasing:function(){return Fr},version:function(){return zn}});var m={};d.r(m),d.d(m,{catmullRomToBezier:function(){return M},fillPath:function(){return dt},fillPathByDiff:function(){return f},formatPath:function(){return Ut},intersection:function(){return at},parsePathArray:function(){return O},parsePathString:function(){return _},pathToAbsolute:function(){return p},pathToCurve:function(){return x},rectPath:function(){return nt}});var L=d(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,P=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),_=function(At){if(!At)return null;if((0,L.isArray)(At))return At;var st={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Z=[];return String(At).replace(P,function(rt,It,Vt){var he=[],ue=It.toLowerCase();if(Vt.replace(T,function(ce,Re){Re&&he.push(+Re)}),ue==="m"&&he.length>2&&(Z.push([It].concat(he.splice(0,2))),ue="l",It=It==="m"?"l":"L"),ue==="o"&&he.length===1&&Z.push([It,he[0]]),ue==="r")Z.push([It].concat(he));else for(;he.length>=st[ue]&&(Z.push([It].concat(he.splice(0,st[ue]))),!!st[ue]););return At}),Z},M=function(At,st){for(var Z=[],rt=0,It=At.length;It-2*!st>rt;rt+=2){var Vt=[{x:+At[rt-2],y:+At[rt-1]},{x:+At[rt],y:+At[rt+1]},{x:+At[rt+2],y:+At[rt+3]},{x:+At[rt+4],y:+At[rt+5]}];st?rt?It-4===rt?Vt[3]={x:+At[0],y:+At[1]}:It-2===rt&&(Vt[2]={x:+At[0],y:+At[1]},Vt[3]={x:+At[2],y:+At[3]}):Vt[0]={x:+At[It-2],y:+At[It-1]}:It-4===rt?Vt[3]=Vt[2]:rt||(Vt[0]={x:+At[rt],y:+At[rt+1]}),Z.push(["C",(-Vt[0].x+6*Vt[1].x+Vt[2].x)/6,(-Vt[0].y+6*Vt[1].y+Vt[2].y)/6,(Vt[1].x+6*Vt[2].x-Vt[3].x)/6,(Vt[1].y+6*Vt[2].y-Vt[3].y)/6,Vt[2].x,Vt[2].y])}return Z},E=function(At,st,Z,rt,It){var Vt=[];if(It===null&&rt===null&&(rt=Z),At=+At,st=+st,Z=+Z,rt=+rt,It!==null){var he=Math.PI/180,ue=At+Z*Math.cos(-rt*he),ce=At+Z*Math.cos(-It*he),Re=st+Z*Math.sin(-rt*he),ke=st+Z*Math.sin(-It*he);Vt=[["M",ue,Re],["A",Z,Z,0,+(It-rt>180),0,ce,ke]]}else Vt=[["M",At,st],["m",0,-rt],["a",Z,rt,0,1,1,0,2*rt],["a",Z,rt,0,1,1,0,-2*rt],["z"]];return Vt},p=function(At){if(At=_(At),!At||!At.length)return[["M",0,0]];var st=[],Z=0,rt=0,It=0,Vt=0,he=0,ue,ce;At[0][0]==="M"&&(Z=+At[0][1],rt=+At[0][2],It=Z,Vt=rt,he++,st[0]=["M",Z,rt]);for(var Re=At.length===3&&At[0][0]==="M"&&At[1][0].toUpperCase()==="R"&&At[2][0].toUpperCase()==="Z",ke=void 0,ze=void 0,ir=he,sr=At.length;ir<sr;ir++){if(st.push(ke=[]),ze=At[ir],ue=ze[0],ue!==ue.toUpperCase())switch(ke[0]=ue.toUpperCase(),ke[0]){case"A":ke[1]=ze[1],ke[2]=ze[2],ke[3]=ze[3],ke[4]=ze[4],ke[5]=ze[5],ke[6]=+ze[6]+Z,ke[7]=+ze[7]+rt;break;case"V":ke[1]=+ze[1]+rt;break;case"H":ke[1]=+ze[1]+Z;break;case"R":ce=[Z,rt].concat(ze.slice(1));for(var We=2,Or=ce.length;We<Or;We++)ce[We]=+ce[We]+Z,ce[++We]=+ce[We]+rt;st.pop(),st=st.concat(M(ce,Re));break;case"O":st.pop(),ce=E(Z,rt,ze[1],ze[2]),ce.push(ce[0]),st=st.concat(ce);break;case"U":st.pop(),st=st.concat(E(Z,rt,ze[1],ze[2],ze[3])),ke=["U"].concat(st[st.length-1].slice(-2));break;case"M":It=+ze[1]+Z,Vt=+ze[2]+rt;break;default:for(var We=1,Or=ze.length;We<Or;We++)ke[We]=+ze[We]+(We%2?Z:rt)}else if(ue==="R")ce=[Z,rt].concat(ze.slice(1)),st.pop(),st=st.concat(M(ce,Re)),ke=["R"].concat(ze.slice(-2));else if(ue==="O")st.pop(),ce=E(Z,rt,ze[1],ze[2]),ce.push(ce[0]),st=st.concat(ce);else if(ue==="U")st.pop(),st=st.concat(E(Z,rt,ze[1],ze[2],ze[3])),ke=["U"].concat(st[st.length-1].slice(-2));else for(var Pr=0,$r=ze.length;Pr<$r;Pr++)ke[Pr]=ze[Pr];if(ue=ue.toUpperCase(),ue!=="O")switch(ke[0]){case"Z":Z=+It,rt=+Vt;break;case"H":Z=ke[1];break;case"V":rt=ke[1];break;case"M":It=ke[ke.length-2],Vt=ke[ke.length-1];break;default:Z=ke[ke.length-2],rt=ke[ke.length-1]}}return st},b=function(At,st,Z,rt){return[At,st,Z,rt,Z,rt]},y=function(At,st,Z,rt,It,Vt){var he=1/3,ue=2/3;return[he*At+ue*Z,he*st+ue*rt,he*It+ue*Z,he*Vt+ue*rt,It,Vt]},w=function(At,st,Z,rt,It,Vt,he,ue,ce,Re){Z===rt&&(Z+=1);var ke=Math.PI*120/180,ze=Math.PI/180*(+It||0),ir=[],sr,We,Or,Pr,$r,Jr=function(ht,F,z){var et=ht*Math.cos(z)-F*Math.sin(z),St=ht*Math.sin(z)+F*Math.cos(z);return{x:et,y:St}};if(Re)We=Re[0],Or=Re[1],Pr=Re[2],$r=Re[3];else{sr=Jr(At,st,-ze),At=sr.x,st=sr.y,sr=Jr(ue,ce,-ze),ue=sr.x,ce=sr.y,At===ue&&st===ce&&(ue+=1,ce+=1);var gr=(At-ue)/2,cr=(st-ce)/2,qr=gr*gr/(Z*Z)+cr*cr/(rt*rt);qr>1&&(qr=Math.sqrt(qr),Z=qr*Z,rt=qr*rt);var In=Z*Z,Xn=rt*rt,aa=(Vt===he?-1:1)*Math.sqrt(Math.abs((In*Xn-In*cr*cr-Xn*gr*gr)/(In*cr*cr+Xn*gr*gr)));Pr=aa*Z*cr/rt+(At+ue)/2,$r=aa*-rt*gr/Z+(st+ce)/2,We=Math.asin(((st-$r)/rt).toFixed(9)),Or=Math.asin(((ce-$r)/rt).toFixed(9)),We=At<Pr?Math.PI-We:We,Or=ue<Pr?Math.PI-Or:Or,We<0&&(We=Math.PI*2+We),Or<0&&(Or=Math.PI*2+Or),he&&We>Or&&(We=We-Math.PI*2),!he&&Or>We&&(Or=Or-Math.PI*2)}var La=Or-We;if(Math.abs(La)>ke){var Yo=Or,Ha=ue,io=ce;Or=We+ke*(he&&Or>We?1:-1),ue=Pr+Z*Math.cos(Or),ce=$r+rt*Math.sin(Or),ir=w(ue,ce,Z,rt,It,0,he,Ha,io,[Or,Yo,Pr,$r])}La=Or-We;var Ia=Math.cos(We),Ai=Math.sin(We),wo=Math.cos(Or),So=Math.sin(Or),Wa=Math.tan(La/4),Oa=4/3*Z*Wa,Dn=4/3*rt*Wa,ao=[At,st],ai=[At+Oa*Ai,st-Dn*Ia],On=[ue+Oa*So,ce-Dn*wo],ja=[ue,ce];if(ai[0]=2*ao[0]-ai[0],ai[1]=2*ao[1]-ai[1],Re)return[ai,On,ja].concat(ir);ir=[ai,On,ja].concat(ir).join().split(",");for(var En=[],Di=0,Kt=ir.length;Di<Kt;Di++)En[Di]=Di%2?Jr(ir[Di-1],ir[Di],ze).y:Jr(ir[Di],ir[Di+1],ze).x;return En},x=function(At,st){var Z=p(At),rt=st&&p(st),It={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},he=[],ue=[],ce="",Re="",ke,ze=function(gr,cr,qr){var In,Xn;if(!gr)return["C",cr.x,cr.y,cr.x,cr.y,cr.x,cr.y];switch(!(gr[0]in{T:1,Q:1})&&(cr.qx=cr.qy=null),gr[0]){case"M":cr.X=gr[1],cr.Y=gr[2];break;case"A":gr=["C"].concat(w.apply(0,[cr.x,cr.y].concat(gr.slice(1))));break;case"S":qr==="C"||qr==="S"?(In=cr.x*2-cr.bx,Xn=cr.y*2-cr.by):(In=cr.x,Xn=cr.y),gr=["C",In,Xn].concat(gr.slice(1));break;case"T":qr==="Q"||qr==="T"?(cr.qx=cr.x*2-cr.qx,cr.qy=cr.y*2-cr.qy):(cr.qx=cr.x,cr.qy=cr.y),gr=["C"].concat(y(cr.x,cr.y,cr.qx,cr.qy,gr[1],gr[2]));break;case"Q":cr.qx=gr[1],cr.qy=gr[2],gr=["C"].concat(y(cr.x,cr.y,gr[1],gr[2],gr[3],gr[4]));break;case"L":gr=["C"].concat(b(cr.x,cr.y,gr[1],gr[2]));break;case"H":gr=["C"].concat(b(cr.x,cr.y,gr[1],cr.y));break;case"V":gr=["C"].concat(b(cr.x,cr.y,cr.x,gr[1]));break;case"Z":gr=["C"].concat(b(cr.x,cr.y,cr.X,cr.Y));break;default:break}return gr},ir=function(gr,cr){if(gr[cr].length>7){gr[cr].shift();for(var qr=gr[cr];qr.length;)he[cr]="A",rt&&(ue[cr]="A"),gr.splice(cr++,0,["C"].concat(qr.splice(0,6)));gr.splice(cr,1),ke=Math.max(Z.length,rt&&rt.length||0)}},sr=function(gr,cr,qr,In,Xn){gr&&cr&&gr[Xn][0]==="M"&&cr[Xn][0]!=="M"&&(cr.splice(Xn,0,["M",In.x,In.y]),qr.bx=0,qr.by=0,qr.x=gr[Xn][1],qr.y=gr[Xn][2],ke=Math.max(Z.length,rt&&rt.length||0))};ke=Math.max(Z.length,rt&&rt.length||0);for(var We=0;We<ke;We++){Z[We]&&(ce=Z[We][0]),ce!=="C"&&(he[We]=ce,We&&(Re=he[We-1])),Z[We]=ze(Z[We],It,Re),he[We]!=="A"&&ce==="C"&&(he[We]="C"),ir(Z,We),rt&&(rt[We]&&(ce=rt[We][0]),ce!=="C"&&(ue[We]=ce,We&&(Re=ue[We-1])),rt[We]=ze(rt[We],Vt,Re),ue[We]!=="A"&&ce==="C"&&(ue[We]="C"),ir(rt,We)),sr(Z,rt,It,Vt,We),sr(rt,Z,Vt,It,We);var Or=Z[We],Pr=rt&&rt[We],$r=Or.length,Jr=rt&&Pr.length;It.x=Or[$r-2],It.y=Or[$r-1],It.bx=parseFloat(Or[$r-4])||It.x,It.by=parseFloat(Or[$r-3])||It.y,Vt.bx=rt&&(parseFloat(Pr[Jr-4])||Vt.x),Vt.by=rt&&(parseFloat(Pr[Jr-3])||Vt.y),Vt.x=rt&&Pr[Jr-2],Vt.y=rt&&Pr[Jr-1]}return rt?[Z,rt]:Z},A=/,?([a-z]),?/gi,O=function(At){return At.join(",").replace(A,"$1")},B=function(At,st,Z,rt,It){var Vt=-3*st+9*Z-9*rt+3*It,he=At*Vt+6*st-12*Z+6*rt;return At*he-3*st+3*Z},R=function(At,st,Z,rt,It,Vt,he,ue,ce){ce===null&&(ce=1),ce=ce>1?1:ce<0?0:ce;for(var Re=ce/2,ke=12,ze=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ir=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sr=0,We=0;We<ke;We++){var Or=Re*ze[We]+Re,Pr=B(Or,At,Z,It,he),$r=B(Or,st,rt,Vt,ue),Jr=Pr*Pr+$r*$r;sr+=ir[We]*Math.sqrt(Jr)}return Re*sr},Y=function(At,st,Z,rt,It,Vt,he,ue){for(var ce=[],Re=[[],[]],ke,ze,ir,sr,We=0;We<2;++We){if(We===0?(ze=6*At-12*Z+6*It,ke=-3*At+9*Z-9*It+3*he,ir=3*Z-3*At):(ze=6*st-12*rt+6*Vt,ke=-3*st+9*rt-9*Vt+3*ue,ir=3*rt-3*st),Math.abs(ke)<1e-12){if(Math.abs(ze)<1e-12)continue;sr=-ir/ze,sr>0&&sr<1&&ce.push(sr);continue}var Or=ze*ze-4*ir*ke,Pr=Math.sqrt(Or);if(!(Or<0)){var $r=(-ze+Pr)/(2*ke);$r>0&&$r<1&&ce.push($r);var Jr=(-ze-Pr)/(2*ke);Jr>0&&Jr<1&&ce.push(Jr)}}for(var gr=ce.length,cr=gr,qr;gr--;)sr=ce[gr],qr=1-sr,Re[0][gr]=qr*qr*qr*At+3*qr*qr*sr*Z+3*qr*sr*sr*It+sr*sr*sr*he,Re[1][gr]=qr*qr*qr*st+3*qr*qr*sr*rt+3*qr*sr*sr*Vt+sr*sr*sr*ue;return Re[0][cr]=At,Re[1][cr]=st,Re[0][cr+1]=he,Re[1][cr+1]=ue,Re[0].length=Re[1].length=cr+2,{min:{x:Math.min.apply(0,Re[0]),y:Math.min.apply(0,Re[1])},max:{x:Math.max.apply(0,Re[0]),y:Math.max.apply(0,Re[1])}}},j=function(At,st,Z,rt,It,Vt,he,ue){if(!(Math.max(At,Z)<Math.min(It,he)||Math.min(At,Z)>Math.max(It,he)||Math.max(st,rt)<Math.min(Vt,ue)||Math.min(st,rt)>Math.max(Vt,ue))){var ce=(At*rt-st*Z)*(It-he)-(At-Z)*(It*ue-Vt*he),Re=(At*rt-st*Z)*(Vt-ue)-(st-rt)*(It*ue-Vt*he),ke=(At-Z)*(Vt-ue)-(st-rt)*(It-he);if(!!ke){var ze=ce/ke,ir=Re/ke,sr=+ze.toFixed(2),We=+ir.toFixed(2);if(!(sr<+Math.min(At,Z).toFixed(2)||sr>+Math.max(At,Z).toFixed(2)||sr<+Math.min(It,he).toFixed(2)||sr>+Math.max(It,he).toFixed(2)||We<+Math.min(st,rt).toFixed(2)||We>+Math.max(st,rt).toFixed(2)||We<+Math.min(Vt,ue).toFixed(2)||We>+Math.max(Vt,ue).toFixed(2)))return{x:ze,y:ir}}}},V=function(At,st,Z){return st>=At.x&&st<=At.x+At.width&&Z>=At.y&&Z<=At.y+At.height},nt=function(At,st,Z,rt,It){if(It)return[["M",+At+ +It,st],["l",Z-It*2,0],["a",It,It,0,0,1,It,It],["l",0,rt-It*2],["a",It,It,0,0,1,-It,It],["l",It*2-Z,0],["a",It,It,0,0,1,-It,-It],["l",0,It*2-rt],["a",It,It,0,0,1,It,-It],["z"]];var Vt=[["M",At,st],["l",Z,0],["l",0,rt],["l",-Z,0],["z"]];return Vt.parsePathArray=O,Vt},ct=function(At,st,Z,rt){return At===null&&(At=st=Z=rt=0),st===null&&(st=At.y,Z=At.width,rt=At.height,At=At.x),{x:At,y:st,width:Z,w:Z,height:rt,h:rt,x2:At+Z,y2:st+rt,cx:At+Z/2,cy:st+rt/2,r1:Math.min(Z,rt)/2,r2:Math.max(Z,rt)/2,r0:Math.sqrt(Z*Z+rt*rt)/2,path:nt(At,st,Z,rt),vb:[At,st,Z,rt].join(" ")}},ut=function(At,st){return At=ct(At),st=ct(st),V(st,At.x,At.y)||V(st,At.x2,At.y)||V(st,At.x,At.y2)||V(st,At.x2,At.y2)||V(At,st.x,st.y)||V(At,st.x2,st.y)||V(At,st.x,st.y2)||V(At,st.x2,st.y2)||(At.x<st.x2&&At.x>st.x||st.x<At.x2&&st.x>At.x)&&(At.y<st.y2&&At.y>st.y||st.y<At.y2&&st.y>At.y)},Pt=function(At,st,Z,rt,It,Vt,he,ue){(0,L.isArray)(At)||(At=[At,st,Z,rt,It,Vt,he,ue]);var ce=Y.apply(null,At);return ct(ce.min.x,ce.min.y,ce.max.x-ce.min.x,ce.max.y-ce.min.y)},Gt=function(At,st,Z,rt,It,Vt,he,ue,ce){var Re=1-ce,ke=Math.pow(Re,3),ze=Math.pow(Re,2),ir=ce*ce,sr=ir*ce,We=ke*At+ze*3*ce*Z+Re*3*ce*ce*It+sr*he,Or=ke*st+ze*3*ce*rt+Re*3*ce*ce*Vt+sr*ue,Pr=At+2*ce*(Z-At)+ir*(It-2*Z+At),$r=st+2*ce*(rt-st)+ir*(Vt-2*rt+st),Jr=Z+2*ce*(It-Z)+ir*(he-2*It+Z),gr=rt+2*ce*(Vt-rt)+ir*(ue-2*Vt+rt),cr=Re*At+ce*Z,qr=Re*st+ce*rt,In=Re*It+ce*he,Xn=Re*Vt+ce*ue,aa=90-Math.atan2(Pr-Jr,$r-gr)*180/Math.PI;return{x:We,y:Or,m:{x:Pr,y:$r},n:{x:Jr,y:gr},start:{x:cr,y:qr},end:{x:In,y:Xn},alpha:aa}},qt=function(At,st,Z){var rt=Pt(At),It=Pt(st);if(!ut(rt,It))return Z?0:[];for(var Vt=R.apply(0,At),he=R.apply(0,st),ue=~~(Vt/8),ce=~~(he/8),Re=[],ke=[],ze={},ir=Z?0:[],sr=0;sr<ue+1;sr++){var We=Gt.apply(0,At.concat(sr/ue));Re.push({x:We.x,y:We.y,t:sr/ue})}for(var sr=0;sr<ce+1;sr++){var We=Gt.apply(0,st.concat(sr/ce));ke.push({x:We.x,y:We.y,t:sr/ce})}for(var sr=0;sr<ue;sr++)for(var Or=0;Or<ce;Or++){var Pr=Re[sr],$r=Re[sr+1],Jr=ke[Or],gr=ke[Or+1],cr=Math.abs($r.x-Pr.x)<.001?"y":"x",qr=Math.abs(gr.x-Jr.x)<.001?"y":"x",In=j(Pr.x,Pr.y,$r.x,$r.y,Jr.x,Jr.y,gr.x,gr.y);if(In){if(ze[In.x.toFixed(4)]===In.y.toFixed(4))continue;ze[In.x.toFixed(4)]=In.y.toFixed(4);var Xn=Pr.t+Math.abs((In[cr]-Pr[cr])/($r[cr]-Pr[cr]))*($r.t-Pr.t),aa=Jr.t+Math.abs((In[qr]-Jr[qr])/(gr[qr]-Jr[qr]))*(gr.t-Jr.t);Xn>=0&&Xn<=1&&aa>=0&&aa<=1&&(Z?ir+=1:ir.push({x:In.x,y:In.y,t1:Xn,t2:aa}))}}return ir},Rt=function(At,st,Z){At=x(At),st=x(st);for(var rt,It,Vt,he,ue,ce,Re,ke,ze,ir,sr=Z?0:[],We=0,Or=At.length;We<Or;We++){var Pr=At[We];if(Pr[0]==="M")rt=ue=Pr[1],It=ce=Pr[2];else{Pr[0]==="C"?(ze=[rt,It].concat(Pr.slice(1)),rt=ze[6],It=ze[7]):(ze=[rt,It,rt,It,ue,ce,ue,ce],rt=ue,It=ce);for(var $r=0,Jr=st.length;$r<Jr;$r++){var gr=st[$r];if(gr[0]==="M")Vt=Re=gr[1],he=ke=gr[2];else{gr[0]==="C"?(ir=[Vt,he].concat(gr.slice(1)),Vt=ir[6],he=ir[7]):(ir=[Vt,he,Vt,he,Re,ke,Re,ke],Vt=Re,he=ke);var cr=qt(ze,ir,Z);if(Z)sr+=cr;else{for(var qr=0,In=cr.length;qr<In;qr++)cr[qr].segment1=We,cr[qr].segment2=$r,cr[qr].bez1=ze,cr[qr].bez2=ir;sr=sr.concat(cr)}}}}}return sr},at=function(At,st){return Rt(At,st)};function vt(At,st){var Z=[],rt=[];function It(Vt,he){if(Vt.length===1)Z.push(Vt[0]),rt.push(Vt[0]);else{for(var ue=[],ce=0;ce<Vt.length-1;ce++)ce===0&&Z.push(Vt[0]),ce===Vt.length-2&&rt.push(Vt[ce+1]),ue[ce]=[(1-he)*Vt[ce][0]+he*Vt[ce+1][0],(1-he)*Vt[ce][1]+he*Vt[ce+1][1]];It(ue,he)}}return At.length&&It(At,st),{left:Z,right:rt.reverse()}}function ot(At,st,Z){var rt=[[At[1],At[2]]];Z=Z||2;var It=[];st[0]==="A"?(rt.push(st[6]),rt.push(st[7])):st[0]==="C"?(rt.push([st[1],st[2]]),rt.push([st[3],st[4]]),rt.push([st[5],st[6]])):st[0]==="S"||st[0]==="Q"?(rt.push([st[1],st[2]]),rt.push([st[3],st[4]])):rt.push([st[1],st[2]]);for(var Vt=rt,he=1/Z,ue=0;ue<Z-1;ue++){var ce=he/(1-he*ue),Re=vt(Vt,ce);It.push(Re.left),Vt=Re.right}It.push(Vt);var ke=It.map(function(ze){var ir=[];return ze.length===4&&(ir.push("C"),ir=ir.concat(ze[2])),ze.length>=3&&(ze.length===3&&ir.push("Q"),ir=ir.concat(ze[1])),ze.length===2&&ir.push("L"),ir=ir.concat(ze[ze.length-1]),ir});return ke}var Et=function(At,st,Z){if(Z===1)return[[].concat(At)];var rt=[];if(st[0]==="L"||st[0]==="C"||st[0]==="Q")rt=rt.concat(ot(At,st,Z));else{var It=[].concat(At);It[0]==="M"&&(It[0]="L");for(var Vt=0;Vt<=Z-1;Vt++)rt.push(It)}return rt},dt=function(At,st){if(At.length===1)return At;var Z=At.length-1,rt=st.length-1,It=Z/rt,Vt=[];if(At.length===1&&At[0][0]==="M"){for(var he=0;he<rt-Z;he++)At.push(At[0]);return At}for(var he=0;he<rt;he++){var ue=Math.floor(It*he);Vt[ue]=(Vt[ue]||0)+1}var ce=Vt.reduce(function(Re,ke,ze){return ze===Z?Re.concat(At[Z]):Re.concat(Et(At[ze],At[ze+1],ke))},[]);return ce.unshift(At[0]),(st[rt]==="Z"||st[rt]==="z")&&ce.push("Z"),ce},X=function(At,st){if(At.length!==st.length)return!1;var Z=!0;return(0,L.each)(At,function(rt,It){if(rt!==st[It])return Z=!1,!1}),Z};function $(At,st,Z){var rt=null,It=Z;return st<It&&(It=st,rt="add"),At<It&&(It=At,rt="del"),{type:rt,min:It}}var H=function(At,st){var Z=At.length,rt=st.length,It,Vt,he=0;if(Z===0||rt===0)return null;for(var ue=[],ce=0;ce<=Z;ce++)ue[ce]=[],ue[ce][0]={min:ce};for(var Re=0;Re<=rt;Re++)ue[0][Re]={min:Re};for(var ce=1;ce<=Z;ce++){It=At[ce-1];for(var Re=1;Re<=rt;Re++){Vt=st[Re-1],X(It,Vt)?he=0:he=1;var ke=ue[ce-1][Re].min+1,ze=ue[ce][Re-1].min+1,ir=ue[ce-1][Re-1].min+he;ue[ce][Re]=$(ke,ze,ir)}}return ue},f=function(At,st){var Z=H(At,st),rt=At.length,It=st.length,Vt=[],he=1,ue=1;if(Z[rt][It].min!==rt){for(var ce=1;ce<=rt;ce++){var Re=Z[ce][ce].min;ue=ce;for(var ke=he;ke<=It;ke++)Z[ce][ke].min<Re&&(Re=Z[ce][ke].min,ue=ke);he=ue,Z[ce][he].type&&Vt.push({index:ce-1,type:Z[ce][he].type})}for(var ce=Vt.length-1;ce>=0;ce--)he=Vt[ce].index,Vt[ce].type==="add"?At.splice(he,0,[].concat(At[he])):At.splice(he,1)}rt=At.length;var ze=It-rt;if(rt<It)for(var ce=0;ce<ze;ce++)At[rt-1][0]==="z"||At[rt-1][0]==="Z"?At.splice(rt-2,0,At[rt-2]):At.push(At[rt-1]),rt+=1;return At};function xt(At,st,Z){for(var rt=[].concat(At),It,Vt=1/(Z+1),he=Mt(st)[0],ue=1;ue<=Z;ue++)Vt*=ue,It=Math.floor(At.length*Vt),It===0?rt.unshift([he[0]*Vt+At[It][0]*(1-Vt),he[1]*Vt+At[It][1]*(1-Vt)]):rt.splice(It,0,[he[0]*Vt+At[It][0]*(1-Vt),he[1]*Vt+At[It][1]*(1-Vt)]);return rt}function Mt(At){var st=[];switch(At[0]){case"M":st.push([At[1],At[2]]);break;case"L":st.push([At[1],At[2]]);break;case"A":st.push([At[6],At[7]]);break;case"Q":st.push([At[3],At[4]]),st.push([At[1],At[2]]);break;case"T":st.push([At[1],At[2]]);break;case"C":st.push([At[5],At[6]]),st.push([At[1],At[2]]),st.push([At[3],At[4]]);break;case"S":st.push([At[3],At[4]]),st.push([At[1],At[2]]);break;case"H":st.push([At[1],At[1]]);break;case"V":st.push([At[1],At[1]]);break;default:}return st}var Ut=function(At,st){if(At.length<=1)return At;for(var Z,rt=0;rt<st.length;rt++)if(At[rt][0]!==st[rt][0])switch(Z=Mt(At[rt]),st[rt][0]){case"M":At[rt]=["M"].concat(Z[0]);break;case"L":At[rt]=["L"].concat(Z[0]);break;case"A":At[rt]=[].concat(st[rt]),At[rt][6]=Z[0][0],At[rt][7]=Z[0][1];break;case"Q":if(Z.length<2)if(rt>0)Z=xt(Z,At[rt-1],1);else{At[rt]=st[rt];break}At[rt]=["Q"].concat(Z.reduce(function(It,Vt){return It.concat(Vt)},[]));break;case"T":At[rt]=["T"].concat(Z[0]);break;case"C":if(Z.length<3)if(rt>0)Z=xt(Z,At[rt-1],2);else{At[rt]=st[rt];break}At[rt]=["C"].concat(Z.reduce(function(It,Vt){return It.concat(Vt)},[]));break;case"S":if(Z.length<2)if(rt>0)Z=xt(Z,At[rt-1],1);else{At[rt]=st[rt];break}At[rt]=["S"].concat(Z.reduce(function(It,Vt){return It.concat(Vt)},[]));break;default:At[rt]=st[rt]}return At},re=function(){function At(st,Z){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=st,this.name=st,this.originalEvent=Z,this.timeStamp=Z.timeStamp}return At.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},At.prototype.stopPropagation=function(){this.propagationStopped=!0},At.prototype.toString=function(){var st=this.type;return"[Event (type="+st+")]"},At.prototype.save=function(){},At.prototype.restore=function(){},At}(),zt=re,ne=d(86031),ae=d(90494);function Dt(At,st){var Z=At.indexOf(st);Z!==-1&&At.splice(Z,1)}var Tt=typeof window!="undefined"&&typeof window.document!="undefined";function pt(At,st){if(At.isCanvas())return!0;for(var Z=st.getParent(),rt=!1;Z;){if(Z===At){rt=!0;break}Z=Z.getParent()}return rt}function Q(At){return At.cfg.visible&&At.cfg.capture}var K=function(At){(0,ne.__extends)(st,At);function st(Z){var rt=At.call(this)||this;rt.destroyed=!1;var It=rt.getDefaultCfg();return rt.cfg=(0,L.mix)(It,Z),rt}return st.prototype.getDefaultCfg=function(){return{}},st.prototype.get=function(Z){return this.cfg[Z]},st.prototype.set=function(Z,rt){this.cfg[Z]=rt},st.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},st}(ae.default),lt=K,U=d(43631),W=d(35600);function wt(At,st,Z){var rt=[0,0,0,0,0,0,0,0,0];return W.fromTranslation(rt,Z),W.multiply(At,rt,st)}function Lt(At,st,Z){var rt=[0,0,0,0,0,0,0,0,0];return W.fromRotation(rt,Z),W.multiply(At,rt,st)}function Wt(At,st,Z){var rt=[0,0,0,0,0,0,0,0,0];return W.fromScaling(rt,Z),W.multiply(At,rt,st)}function oe(At,st,Z){return W.multiply(At,Z,st)}function Se(At,st){for(var Z=At?[].concat(At):[1,0,0,0,1,0,0,0,1],rt=0,It=st.length;rt<It;rt++){var Vt=st[rt];switch(Vt[0]){case"t":wt(Z,Z,[Vt[1],Vt[2]]);break;case"s":Wt(Z,Z,[Vt[1],Vt[2]]);break;case"r":Lt(Z,Z,Vt[1]);break;case"m":oe(Z,Z,Vt[1]);break;default:break}}return Z}function Ye(At,st){return At[0]*st[1]-st[0]*At[1]}function te(At,st,Z){var rt=vec2.angle(At,st),It=Ye(At,st)>=0;return Z?It?Math.PI*2-rt:rt:It?rt:Math.PI*2-rt}function ge(At,st,Z){return Z?(At[0]=st[1],At[1]=-1*st[0]):(At[0]=-1*st[1],At[1]=st[0]),At}function _e(At,st){var Z=[],rt=At[0],It=At[1],Vt=At[2],he=At[3],ue=At[4],ce=At[5],Re=At[6],ke=At[7],ze=At[8],ir=st[0],sr=st[1],We=st[2],Or=st[3],Pr=st[4],$r=st[5],Jr=st[6],gr=st[7],cr=st[8];return Z[0]=ir*rt+sr*he+We*Re,Z[1]=ir*It+sr*ue+We*ke,Z[2]=ir*Vt+sr*ce+We*ze,Z[3]=Or*rt+Pr*he+$r*Re,Z[4]=Or*It+Pr*ue+$r*ke,Z[5]=Or*Vt+Pr*ce+$r*ze,Z[6]=Jr*rt+gr*he+cr*Re,Z[7]=Jr*It+gr*ue+cr*ke,Z[8]=Jr*Vt+gr*ce+cr*ze,Z}function Ne(At,st){var Z=[],rt=st[0],It=st[1];return Z[0]=At[0]*rt+At[3]*It+At[6],Z[1]=At[1]*rt+At[4]*It+At[7],Z}function or(At){var st=[],Z=At[0],rt=At[1],It=At[2],Vt=At[3],he=At[4],ue=At[5],ce=At[6],Re=At[7],ke=At[8],ze=ke*he-ue*Re,ir=-ke*Vt+ue*ce,sr=Re*Vt-he*ce,We=Z*ze+rt*ir+It*sr;return We?(We=1/We,st[0]=ze*We,st[1]=(-ke*rt+It*Re)*We,st[2]=(ue*rt-It*he)*We,st[3]=ir*We,st[4]=(ke*Z-It*ce)*We,st[5]=(-ue*Z+It*Vt)*We,st[6]=sr*We,st[7]=(-Re*Z+rt*ce)*We,st[8]=(he*Z-rt*Vt)*We,st):null}var je=Se,dr="matrix",kr=["zIndex","capture","visible","type"],Br=["repeat"],ln=":",Yn="*";function fi(At){for(var st=[],Z=0;Z<At.length;Z++)(0,L.isArray)(At[Z])?st.push([].concat(At[Z])):st.push(At[Z]);return st}function Ci(At,st){var Z={},rt=st.attrs;for(var It in At)Z[It]=rt[It];return Z}function ki(At,st){var Z={},rt=st.attr();return(0,L.each)(At,function(It,Vt){Br.indexOf(Vt)===-1&&!(0,L.isEqual)(rt[Vt],It)&&(Z[Vt]=It)}),Z}function jt(At,st){if(st.onFrame)return At;var Z=st.startTime,rt=st.delay,It=st.duration,Vt=Object.prototype.hasOwnProperty;return(0,L.each)(At,function(he){Z+rt<he.startTime+he.delay+he.duration&&It>he.delay&&(0,L.each)(st.toAttrs,function(ue,ce){Vt.call(he.toAttrs,ce)&&(delete he.toAttrs[ce],delete he.fromAttrs[ce])})}),At}var ie=function(At){(0,ne.__extends)(st,At);function st(Z){var rt=At.call(this,Z)||this;rt.attrs={};var It=rt.getDefaultAttrs();return(0,L.mix)(It,Z.attrs),rt.attrs=It,rt.initAttrs(It),rt.initAnimate(),rt}return st.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},st.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},st.prototype.onCanvasChange=function(Z){},st.prototype.initAttrs=function(Z){},st.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},st.prototype.isGroup=function(){return!1},st.prototype.getParent=function(){return this.get("parent")},st.prototype.getCanvas=function(){return this.get("canvas")},st.prototype.attr=function(){for(var Z,rt=[],It=0;It<arguments.length;It++)rt[It]=arguments[It];var Vt=rt[0],he=rt[1];if(!Vt)return this.attrs;if((0,L.isObject)(Vt)){for(var ue in Vt)this.setAttr(ue,Vt[ue]);return this.afterAttrsChange(Vt),this}return rt.length===2?(this.setAttr(Vt,he),this.afterAttrsChange((Z={},Z[Vt]=he,Z)),this):this.attrs[Vt]},st.prototype.isClipped=function(Z,rt){var It=this.getClip();return It&&!It.isHit(Z,rt)},st.prototype.setAttr=function(Z,rt){var It=this.attrs[Z];It!==rt&&(this.attrs[Z]=rt,this.onAttrChange(Z,rt,It))},st.prototype.onAttrChange=function(Z,rt,It){Z==="matrix"&&this.set("totalMatrix",null)},st.prototype.afterAttrsChange=function(Z){if(this.cfg.isClipShape){var rt=this.cfg.applyTo;rt&&rt.onCanvasChange("clip")}else this.onCanvasChange("attr")},st.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},st.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},st.prototype.setZIndex=function(Z){this.set("zIndex",Z);var rt=this.getParent();return rt&&rt.sort(),this},st.prototype.toFront=function(){var Z=this.getParent();if(!!Z){var rt=Z.getChildren(),It=this.get("el"),Vt=rt.indexOf(this);rt.splice(Vt,1),rt.push(this),this.onCanvasChange("zIndex")}},st.prototype.toBack=function(){var Z=this.getParent();if(!!Z){var rt=Z.getChildren(),It=this.get("el"),Vt=rt.indexOf(this);rt.splice(Vt,1),rt.unshift(this),this.onCanvasChange("zIndex")}},st.prototype.remove=function(Z){Z===void 0&&(Z=!0);var rt=this.getParent();rt?(Dt(rt.getChildren(),this),rt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),Z&&this.destroy()},st.prototype.resetMatrix=function(){this.attr(dr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},st.prototype.getMatrix=function(){return this.attr(dr)},st.prototype.setMatrix=function(Z){this.attr(dr,Z),this.onCanvasChange("matrix")},st.prototype.getTotalMatrix=function(){var Z=this.cfg.totalMatrix;if(!Z){var rt=this.attr("matrix"),It=this.cfg.parentMatrix;It&&rt?Z=_e(It,rt):Z=rt||It,this.set("totalMatrix",Z)}return Z},st.prototype.applyMatrix=function(Z){var rt=this.attr("matrix"),It=null;Z&&rt?It=_e(Z,rt):It=rt||Z,this.set("totalMatrix",It),this.set("parentMatrix",Z)},st.prototype.getDefaultMatrix=function(){return null},st.prototype.applyToMatrix=function(Z){var rt=this.attr("matrix");return rt?Ne(rt,Z):Z},st.prototype.invertFromMatrix=function(Z){var rt=this.attr("matrix");if(rt){var It=or(rt);if(It)return Ne(It,Z)}return Z},st.prototype.setClip=function(Z){var rt=this.getCanvas(),It=null;if(Z){var Vt=this.getShapeBase(),he=(0,L.upperFirst)(Z.type),ue=Vt[he];ue&&(It=new ue({type:Z.type,isClipShape:!0,applyTo:this,attrs:Z.attrs,canvas:rt}))}return this.set("clipShape",It),this.onCanvasChange("clip"),It},st.prototype.getClip=function(){var Z=this.cfg.clipShape;return Z||null},st.prototype.clone=function(){var Z=this,rt=this.attrs,It={};(0,L.each)(rt,function(ue,ce){(0,L.isArray)(rt[ce])?It[ce]=fi(rt[ce]):It[ce]=rt[ce]});var Vt=this.constructor,he=new Vt({attrs:It});return(0,L.each)(kr,function(ue){he.set(ue,Z.get(ue))}),he},st.prototype.destroy=function(){var Z=this.destroyed;Z||(this.attrs={},At.prototype.destroy.call(this))},st.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},st.prototype.animate=function(){for(var Z=[],rt=0;rt<arguments.length;rt++)Z[rt]=arguments[rt];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var It=this.get("timeline");It||(It=this.get("canvas").get("timeline"),this.set("timeline",It));var Vt=this.get("animations")||[];It.timer||It.initTimer();var he=Z[0],ue=Z[1],ce=Z[2],Re=ce===void 0?"easeLinear":ce,ke=Z[3],ze=ke===void 0?L.noop:ke,ir=Z[4],sr=ir===void 0?0:ir,We,Or,Pr,$r,Jr;(0,L.isFunction)(he)?(We=he,he={}):(0,L.isObject)(he)&&he.onFrame&&(We=he.onFrame,Or=he.repeat),(0,L.isObject)(ue)?(Jr=ue,ue=Jr.duration,Re=Jr.easing||"easeLinear",sr=Jr.delay||0,Or=Jr.repeat||Or||!1,ze=Jr.callback||L.noop,Pr=Jr.pauseCallback||L.noop,$r=Jr.resumeCallback||L.noop):((0,L.isNumber)(ze)&&(sr=ze,ze=null),(0,L.isFunction)(Re)?(ze=Re,Re="easeLinear"):Re=Re||"easeLinear");var gr=ki(he,this),cr={fromAttrs:Ci(gr,this),toAttrs:gr,duration:ue,easing:Re,repeat:Or,callback:ze,pauseCallback:Pr,resumeCallback:$r,delay:sr,startTime:It.getTime(),id:(0,L.uniqueId)(),onFrame:We,pathFormatted:!1};Vt.length>0?Vt=jt(Vt,cr):It.addAnimator(this),Vt.push(cr),this.set("animations",Vt),this.set("_pause",{isPaused:!1})}},st.prototype.stopAnimate=function(Z){var rt=this;Z===void 0&&(Z=!0);var It=this.get("animations");(0,L.each)(It,function(Vt){Z&&(Vt.onFrame?rt.attr(Vt.onFrame(1)):rt.attr(Vt.toAttrs)),Vt.callback&&Vt.callback()}),this.set("animating",!1),this.set("animations",[])},st.prototype.pauseAnimate=function(){var Z=this.get("timeline"),rt=this.get("animations"),It=Z.getTime();return(0,L.each)(rt,function(Vt){Vt._paused=!0,Vt._pauseTime=It,Vt.pauseCallback&&Vt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:It}),this},st.prototype.resumeAnimate=function(){var Z=this.get("timeline"),rt=Z.getTime(),It=this.get("animations"),Vt=this.get("_pause").pauseTime;return(0,L.each)(It,function(he){he.startTime=he.startTime+(rt-Vt),he._paused=!1,he._pauseTime=null,he.resumeCallback&&he.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",It),this},st.prototype.emitDelegation=function(Z,rt){var It=this,Vt=rt.propagationPath,he=this.getEvents(),ue;Z==="mouseenter"?ue=rt.fromShape:Z==="mouseleave"&&(ue=rt.toShape);for(var ce=function(ir){var sr=Vt[ir],We=sr.get("name");if(We){if((sr.isGroup()||sr.isCanvas&&sr.isCanvas())&&ue&&pt(sr,ue))return"break";(0,L.isArray)(We)?(0,L.each)(We,function(Or){It.emitDelegateEvent(sr,Or,rt)}):Re.emitDelegateEvent(sr,We,rt)}},Re=this,ke=0;ke<Vt.length;ke++){var ze=ce(ke);if(ze==="break")break}},st.prototype.emitDelegateEvent=function(Z,rt,It){var Vt=this.getEvents(),he=rt+ln+It.type;(Vt[he]||Vt[Yn])&&(It.name=he,It.currentTarget=Z,It.delegateTarget=this,It.delegateObject=Z.get("delegateObject"),this.emit(he,It))},st.prototype.translate=function(Z,rt){Z===void 0&&(Z=0),rt===void 0&&(rt=0);var It=this.getMatrix(),Vt=je(It,[["t",Z,rt]]);return this.setMatrix(Vt),this},st.prototype.move=function(Z,rt){var It=this.attr("x")||0,Vt=this.attr("y")||0;return this.translate(Z-It,rt-Vt),this},st.prototype.moveTo=function(Z,rt){return this.move(Z,rt)},st.prototype.scale=function(Z,rt){var It=this.getMatrix(),Vt=je(It,[["s",Z,rt||Z]]);return this.setMatrix(Vt),this},st.prototype.rotate=function(Z){var rt=this.getMatrix(),It=je(rt,[["r",Z]]);return this.setMatrix(It),this},st.prototype.rotateAtStart=function(Z){var rt=this.attr(),It=rt.x,Vt=rt.y,he=this.getMatrix(),ue=je(he,[["t",-It,-Vt],["r",Z],["t",It,Vt]]);return this.setMatrix(ue),this},st.prototype.rotateAtPoint=function(Z,rt,It){var Vt=this.getMatrix(),he=je(Vt,[["t",-Z,-rt],["r",It],["t",Z,rt]]);return this.setMatrix(he),this},st}(lt),ve=ie,ye={},Ae="_INDEX";function Pe(At,st){if(At.set("canvas",st),At.isGroup()){var Z=At.get("children");Z.length&&Z.forEach(function(rt){Pe(rt,st)})}}function Oe(At,st){if(At.set("timeline",st),At.isGroup()){var Z=At.get("children");Z.length&&Z.forEach(function(rt){Oe(rt,st)})}}function De(At,st){var Z=At.getChildren();return Z.indexOf(st)>=0}function Ce(At,st,Z){Z===void 0&&(Z=!0),Z?st.destroy():(st.set("parent",null),st.set("canvas",null)),Dt(At.getChildren(),st)}function rr(At){return function(st,Z){var rt=At(st,Z);return rt===0?st[Ae]-Z[Ae]:rt}}var Ue=function(At){(0,ne.__extends)(st,At);function st(){return At!==null&&At.apply(this,arguments)||this}return st.prototype.isCanvas=function(){return!1},st.prototype.getBBox=function(){var Z=Infinity,rt=-Infinity,It=Infinity,Vt=-Infinity,he=[],ue=[],ce=this.getChildren().filter(function(ke){return ke.get("visible")&&(!ke.isGroup()||ke.isGroup()&&ke.getChildren().length>0)});ce.length>0?((0,L.each)(ce,function(ke){var ze=ke.getBBox();he.push(ze.minX,ze.maxX),ue.push(ze.minY,ze.maxY)}),Z=(0,L.min)(he),rt=(0,L.max)(he),It=(0,L.min)(ue),Vt=(0,L.max)(ue)):(Z=0,rt=0,It=0,Vt=0);var Re={x:Z,y:It,minX:Z,minY:It,maxX:rt,maxY:Vt,width:rt-Z,height:Vt-It};return Re},st.prototype.getCanvasBBox=function(){var Z=Infinity,rt=-Infinity,It=Infinity,Vt=-Infinity,he=[],ue=[],ce=this.getChildren().filter(function(ke){return ke.get("visible")&&(!ke.isGroup()||ke.isGroup()&&ke.getChildren().length>0)});ce.length>0?((0,L.each)(ce,function(ke){var ze=ke.getCanvasBBox();he.push(ze.minX,ze.maxX),ue.push(ze.minY,ze.maxY)}),Z=(0,L.min)(he),rt=(0,L.max)(he),It=(0,L.min)(ue),Vt=(0,L.max)(ue)):(Z=0,rt=0,It=0,Vt=0);var Re={x:Z,y:It,minX:Z,minY:It,maxX:rt,maxY:Vt,width:rt-Z,height:Vt-It};return Re},st.prototype.getDefaultCfg=function(){var Z=At.prototype.getDefaultCfg.call(this);return Z.children=[],Z},st.prototype.onAttrChange=function(Z,rt,It){if(At.prototype.onAttrChange.call(this,Z,rt,It),Z==="matrix"){var Vt=this.getTotalMatrix();this._applyChildrenMarix(Vt)}},st.prototype.applyMatrix=function(Z){var rt=this.getTotalMatrix();At.prototype.applyMatrix.call(this,Z);var It=this.getTotalMatrix();It!==rt&&this._applyChildrenMarix(It)},st.prototype._applyChildrenMarix=function(Z){var rt=this.getChildren();(0,L.each)(rt,function(It){It.applyMatrix(Z)})},st.prototype.addShape=function(){for(var Z=[],rt=0;rt<arguments.length;rt++)Z[rt]=arguments[rt];var It=Z[0],Vt=Z[1];(0,L.isObject)(It)?Vt=It:Vt.type=It;var he=ye[Vt.type];he||(he=(0,L.upperFirst)(Vt.type),ye[Vt.type]=he);var ue=this.getShapeBase(),ce=new ue[he](Vt);return this.add(ce),ce},st.prototype.addGroup=function(){for(var Z=[],rt=0;rt<arguments.length;rt++)Z[rt]=arguments[rt];var It=Z[0],Vt=Z[1],he;if((0,L.isFunction)(It))Vt?he=new It(Vt):he=new It({parent:this});else{var ue=It||{},ce=this.getGroupBase();he=new ce(ue)}return this.add(he),he},st.prototype.getCanvas=function(){var Z;return this.isCanvas()?Z=this:Z=this.get("canvas"),Z},st.prototype.getShape=function(Z,rt,It){if(!Q(this))return null;var Vt=this.getChildren(),he;if(this.isCanvas())he=this._findShape(Vt,Z,rt,It);else{var ue=[Z,rt,1];ue=this.invertFromMatrix(ue),this.isClipped(ue[0],ue[1])||(he=this._findShape(Vt,ue[0],ue[1],It))}return he},st.prototype._findShape=function(Z,rt,It,Vt){for(var he=null,ue=Z.length-1;ue>=0;ue--){var ce=Z[ue];if(Q(ce)&&(ce.isGroup()?he=ce.getShape(rt,It,Vt):ce.isHit(rt,It)&&(he=ce)),he)break}return he},st.prototype.add=function(Z){var rt=this.getCanvas(),It=this.getChildren(),Vt=this.get("timeline"),he=Z.getParent();he&&Ce(he,Z,!1),Z.set("parent",this),rt&&Pe(Z,rt),Vt&&Oe(Z,Vt),It.push(Z),Z.onCanvasChange("add"),this._applyElementMatrix(Z)},st.prototype._applyElementMatrix=function(Z){var rt=this.getTotalMatrix();rt&&Z.applyMatrix(rt)},st.prototype.getChildren=function(){return this.get("children")},st.prototype.sort=function(){var Z=this.getChildren();(0,L.each)(Z,function(rt,It){return rt[Ae]=It,rt}),Z.sort(rr(function(rt,It){return rt.get("zIndex")-It.get("zIndex")})),this.onCanvasChange("sort")},st.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var Z=this.getChildren(),rt=Z.length-1;rt>=0;rt--)Z[rt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},st.prototype.destroy=function(){this.get("destroyed")||(this.clear(),At.prototype.destroy.call(this))},st.prototype.getFirst=function(){return this.getChildByIndex(0)},st.prototype.getLast=function(){var Z=this.getChildren();return this.getChildByIndex(Z.length-1)},st.prototype.getChildByIndex=function(Z){var rt=this.getChildren();return rt[Z]},st.prototype.getCount=function(){var Z=this.getChildren();return Z.length},st.prototype.contain=function(Z){var rt=this.getChildren();return rt.indexOf(Z)>-1},st.prototype.removeChild=function(Z,rt){rt===void 0&&(rt=!0),this.contain(Z)&&Z.remove(rt)},st.prototype.findAll=function(Z){var rt=[],It=this.getChildren();return(0,L.each)(It,function(Vt){Z(Vt)&&rt.push(Vt),Vt.isGroup()&&(rt=rt.concat(Vt.findAll(Z)))}),rt},st.prototype.find=function(Z){var rt=null,It=this.getChildren();return(0,L.each)(It,function(Vt){if(Z(Vt)?rt=Vt:Vt.isGroup()&&(rt=Vt.find(Z)),rt)return!1}),rt},st.prototype.findById=function(Z){return this.find(function(rt){return rt.get("id")===Z})},st.prototype.findByClassName=function(Z){return this.find(function(rt){return rt.get("className")===Z})},st.prototype.findAllByName=function(Z){return this.findAll(function(rt){return rt.get("name")===Z})},st}(ve),fr=Ue,Cr=d(35374),vr=d(42800),br=d(88122),mr=d(13681),Ar={};function hr(At){return Ar[At.toLowerCase()]||mr[At]}function Fr(At,st){Ar[At.toLowerCase()]=st}var Kr=function(At){return["fill","stroke","fillStyle","strokeStyle"].includes(At)},Xr=function(At){return/^[r,R,L,l]{1}[\s]*\(/.test(At)},Zr=[1,0,0,0,1,0,0,0,1];function an(At,st,Z){var rt={},It=st.fromAttrs,Vt=st.toAttrs;if(!At.destroyed){var he;for(var ue in Vt)if(!(0,L.isEqual)(It[ue],Vt[ue]))if(ue==="path"){var ce=Vt[ue],Re=It[ue];ce.length>Re.length?(ce=_(Vt[ue]),Re=_(It[ue]),Re=f(Re,ce),Re=Ut(Re,ce),st.fromAttrs.path=Re,st.toAttrs.path=ce):st.pathFormatted||(ce=_(Vt[ue]),Re=_(It[ue]),Re=Ut(Re,ce),st.fromAttrs.path=Re,st.toAttrs.path=ce,st.pathFormatted=!0),rt[ue]=[];for(var ke=0;ke<ce.length;ke++){for(var ze=ce[ke],ir=Re[ke],sr=[],We=0;We<ze.length;We++)(0,L.isNumber)(ze[We])&&ir&&(0,L.isNumber)(ir[We])?(he=(0,vr.Z)(ir[We],ze[We]),sr.push(he(Z))):sr.push(ze[We]);rt[ue].push(sr)}}else if(ue==="matrix"){var Or=(0,br.Z)(It[ue]||Zr,Vt[ue]||Zr),Pr=Or(Z);rt[ue]=Pr}else Kr(ue)&&Xr(Vt[ue])?rt[ue]=Vt[ue]:(0,L.isFunction)(Vt[ue])||(he=(0,vr.Z)(It[ue],Vt[ue]),rt[ue]=he(Z));At.attr(rt)}}function en(At,st,Z){var rt=st.startTime,It=st.delay;if(Z<rt+It||st._paused)return!1;var Vt,he=st.duration,ue=st.easing,ce=hr(ue);if(Z=Z-rt-st.delay,st.repeat)Vt=Z%he/he,Vt=ce(Vt);else if(Vt=Z/he,Vt<1)Vt=ce(Vt);else return st.onFrame?At.attr(st.onFrame(1)):At.attr(st.toAttrs),!0;if(st.onFrame){var Re=st.onFrame(Vt);At.attr(Re)}else an(At,st,Vt);return!1}var Wn=function(){function At(st){this.animators=[],this.current=0,this.timer=null,this.canvas=st}return At.prototype.initTimer=function(){var st=this,Z=!1,rt,It,Vt;this.timer=Cr.HT(function(he){if(st.current=he,st.animators.length>0){for(var ue=st.animators.length-1;ue>=0;ue--){if(rt=st.animators[ue],rt.destroyed){st.removeAnimator(ue);continue}if(!rt.isAnimatePaused()){It=rt.get("animations");for(var ce=It.length-1;ce>=0;ce--)Vt=It[ce],Z=en(rt,Vt,he),Z&&(It.splice(ce,1),Z=!1,Vt.callback&&Vt.callback())}It.length===0&&st.removeAnimator(ue)}var Re=st.canvas.get("autoDraw");Re||st.canvas.draw()}})},At.prototype.addAnimator=function(st){this.animators.push(st)},At.prototype.removeAnimator=function(st){this.animators.splice(st,1)},At.prototype.isAnimating=function(){return!!this.animators.length},At.prototype.stop=function(){this.timer&&this.timer.stop()},At.prototype.stopAllAnimations=function(st){st===void 0&&(st=!0),this.animators.forEach(function(Z){Z.stopAnimate(st)}),this.animators=[],this.canvas.draw()},At.prototype.getTime=function(){return this.current},At}(),gn=Wn,ei=40,pi=0,hi=":",Mi=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Zi(At,st){for(var Z in At)if(At.hasOwnProperty(Z)&&Z.indexOf(hi+st)>=0)return!0;return!1}function Yr(At,st,Z){Z.name=st,Z.target=At,Z.currentTarget=At,Z.delegateTarget=At,At.emit(st,Z)}function gi(At,st,Z){if(Z.bubbles){var rt=void 0,It=!1;if(st==="mouseenter"?(rt=Z.fromShape,It=!0):st==="mouseleave"&&(It=!0,rt=Z.toShape),At.isCanvas()&&It)return;if(rt&&pt(At,rt)){Z.bubbles=!1;return}Z.name=st,Z.currentTarget=At,Z.delegateTarget=At,At.emit(st,Z)}}var Ei=function(){function At(st){var Z=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(rt){var It=rt.type;Z._triggerEvent(It,rt)},this._onDocumentMove=function(rt){var It=Z.canvas,Vt=It.get("el");if(Vt!==rt.target&&(Z.dragging||Z.currentShape)){var he=Z._getPointInfo(rt);Z.dragging&&Z._emitEvent("drag",rt,he,Z.draggingShape)}},this._onDocumentMouseUp=function(rt){var It=Z.canvas,Vt=It.get("el");if(Vt!==rt.target&&Z.dragging){var he=Z._getPointInfo(rt);Z.draggingShape&&Z._emitEvent("drop",rt,he,null),Z._emitEvent("dragend",rt,he,Z.draggingShape),Z._afterDrag(Z.draggingShape,he,rt)}},this.canvas=st.canvas}return At.prototype.init=function(){this._bindEvents()},At.prototype._bindEvents=function(){var st=this,Z=this.canvas.get("el");(0,L.each)(Mi,function(rt){Z.addEventListener(rt,st._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},At.prototype._clearEvents=function(){var st=this,Z=this.canvas.get("el");(0,L.each)(Mi,function(rt){Z.removeEventListener(rt,st._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},At.prototype._getEventObj=function(st,Z,rt,It,Vt,he){var ue=new zt(st,Z);return ue.fromShape=Vt,ue.toShape=he,ue.x=rt.x,ue.y=rt.y,ue.clientX=rt.clientX,ue.clientY=rt.clientY,ue.propagationPath.push(It),ue},At.prototype._getShape=function(st,Z){return this.canvas.getShape(st.x,st.y,Z)},At.prototype._getPointInfo=function(st){var Z=this.canvas,rt=Z.getClientByEvent(st),It=Z.getPointByEvent(st);return{x:It.x,y:It.y,clientX:rt.x,clientY:rt.y}},At.prototype._triggerEvent=function(st,Z){var rt=this._getPointInfo(Z),It=this._getShape(rt,Z),Vt=this["_on"+st],he=!1;if(Vt)Vt.call(this,rt,It,Z);else{var ue=this.currentShape;st==="mouseenter"||st==="dragenter"||st==="mouseover"?(this._emitEvent(st,Z,rt,null,null,It),It&&this._emitEvent(st,Z,rt,It,null,It),st==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",Z,rt,null)):st==="mouseleave"||st==="dragleave"||st==="mouseout"?(he=!0,ue&&this._emitEvent(st,Z,rt,ue,ue,null),this._emitEvent(st,Z,rt,null,ue,null),st==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",Z,rt,null)):this._emitEvent(st,Z,rt,It,null,null)}if(he||(this.currentShape=It),It&&!It.get("destroyed")){var ce=this.canvas,Re=ce.get("el");Re.style.cursor=It.attr("cursor")||ce.get("cursor")}},At.prototype._onmousedown=function(st,Z,rt){rt.button===pi&&(this.mousedownShape=Z,this.mousedownPoint=st,this.mousedownTimeStamp=rt.timeStamp),this._emitEvent("mousedown",rt,st,Z,null,null)},At.prototype._emitMouseoverEvents=function(st,Z,rt,It){var Vt=this.canvas.get("el");rt!==It&&(rt&&(this._emitEvent("mouseout",st,Z,rt,rt,It),this._emitEvent("mouseleave",st,Z,rt,rt,It),(!It||It.get("destroyed"))&&(Vt.style.cursor=this.canvas.get("cursor"))),It&&(this._emitEvent("mouseover",st,Z,It,rt,It),this._emitEvent("mouseenter",st,Z,It,rt,It)))},At.prototype._emitDragoverEvents=function(st,Z,rt,It,Vt){It?(It!==rt&&(rt&&this._emitEvent("dragleave",st,Z,rt,rt,It),this._emitEvent("dragenter",st,Z,It,rt,It)),Vt||this._emitEvent("dragover",st,Z,It)):rt&&this._emitEvent("dragleave",st,Z,rt,rt,It),Vt&&this._emitEvent("dragover",st,Z,It)},At.prototype._afterDrag=function(st,Z,rt){st&&(st.set("capture",!0),this.draggingShape=null),this.dragging=!1;var It=this._getShape(Z,rt);It!==st&&this._emitMouseoverEvents(rt,Z,st,It),this.currentShape=It},At.prototype._onmouseup=function(st,Z,rt){if(rt.button===pi){var It=this.draggingShape;this.dragging?(It&&this._emitEvent("drop",rt,st,Z),this._emitEvent("dragend",rt,st,It),this._afterDrag(It,st,rt)):(this._emitEvent("mouseup",rt,st,Z),Z===this.mousedownShape&&this._emitEvent("click",rt,st,Z),this.mousedownShape=null,this.mousedownPoint=null)}},At.prototype._ondragover=function(st,Z,rt){rt.preventDefault();var It=this.currentShape;this._emitDragoverEvents(rt,st,It,Z,!0)},At.prototype._onmousemove=function(st,Z,rt){var It=this.canvas,Vt=this.currentShape,he=this.draggingShape;if(this.dragging)he&&this._emitDragoverEvents(rt,st,Vt,Z,!1),this._emitEvent("drag",rt,st,he);else{var ue=this.mousedownPoint;if(ue){var ce=this.mousedownShape,Re=rt.timeStamp,ke=Re-this.mousedownTimeStamp,ze=ue.clientX-st.clientX,ir=ue.clientY-st.clientY,sr=ze*ze+ir*ir;ke>120||sr>ei?ce&&ce.get("draggable")?(he=this.mousedownShape,he.set("capture",!1),this.draggingShape=he,this.dragging=!0,this._emitEvent("dragstart",rt,st,he),this.mousedownShape=null,this.mousedownPoint=null):!ce&&It.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",rt,st,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(rt,st,Vt,Z),this._emitEvent("mousemove",rt,st,Z)):(this._emitMouseoverEvents(rt,st,Vt,Z),this._emitEvent("mousemove",rt,st,Z))}else this._emitMouseoverEvents(rt,st,Vt,Z),this._emitEvent("mousemove",rt,st,Z)}},At.prototype._emitEvent=function(st,Z,rt,It,Vt,he){var ue=this._getEventObj(st,Z,rt,It,Vt,he);if(It){ue.shape=It,Yr(It,st,ue);for(var ce=It.getParent();ce;)ce.emitDelegation(st,ue),ue.propagationStopped||gi(ce,st,ue),ue.propagationPath.push(ce),ce=ce.getParent()}else{var Re=this.canvas;Yr(Re,st,ue)}},At.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},At}(),yi=Ei,Pn="px",vi=(0,U.detect)(),Ki=vi&&vi.name==="firefox",Bi=function(At){(0,ne.__extends)(st,At);function st(Z){var rt=At.call(this,Z)||this;return rt.initContainer(),rt.initDom(),rt.initEvents(),rt.initTimeline(),rt}return st.prototype.getDefaultCfg=function(){var Z=At.prototype.getDefaultCfg.call(this);return Z.cursor="default",Z.supportCSSTransform=!1,Z},st.prototype.initContainer=function(){var Z=this.get("container");(0,L.isString)(Z)&&(Z=document.getElementById(Z),this.set("container",Z))},st.prototype.initDom=function(){var Z=this.createDom();this.set("el",Z);var rt=this.get("container");rt.appendChild(Z),this.setDOMSize(this.get("width"),this.get("height"))},st.prototype.initEvents=function(){var Z=new yi({canvas:this});Z.init(),this.set("eventController",Z)},st.prototype.initTimeline=function(){var Z=new gn(this);this.set("timeline",Z)},st.prototype.setDOMSize=function(Z,rt){var It=this.get("el");Tt&&(It.style.width=Z+Pn,It.style.height=rt+Pn)},st.prototype.changeSize=function(Z,rt){this.setDOMSize(Z,rt),this.set("width",Z),this.set("height",rt),this.onCanvasChange("changeSize")},st.prototype.getRenderer=function(){return this.get("renderer")},st.prototype.getCursor=function(){return this.get("cursor")},st.prototype.setCursor=function(Z){this.set("cursor",Z);var rt=this.get("el");Tt&&rt&&(rt.style.cursor=Z)},st.prototype.getPointByEvent=function(Z){var rt=this.get("supportCSSTransform");if(rt){if(Ki&&!(0,L.isNil)(Z.layerX)&&Z.layerX!==Z.offsetX)return{x:Z.layerX,y:Z.layerY};if(!(0,L.isNil)(Z.offsetX))return{x:Z.offsetX,y:Z.offsetY}}var It=this.getClientByEvent(Z),Vt=It.x,he=It.y;return this.getPointByClient(Vt,he)},st.prototype.getClientByEvent=function(Z){var rt=Z;return Z.touches&&(Z.type==="touchend"?rt=Z.changedTouches[0]:rt=Z.touches[0]),{x:rt.clientX,y:rt.clientY}},st.prototype.getPointByClient=function(Z,rt){var It=this.get("el"),Vt=It.getBoundingClientRect();return{x:Z-Vt.left,y:rt-Vt.top}},st.prototype.getClientByPoint=function(Z,rt){var It=this.get("el"),Vt=It.getBoundingClientRect();return{x:Z+Vt.left,y:rt+Vt.top}},st.prototype.draw=function(){},st.prototype.removeDom=function(){var Z=this.get("el");Z.parentNode.removeChild(Z)},st.prototype.clearEvents=function(){var Z=this.get("eventController");Z.destroy()},st.prototype.isCanvas=function(){return!0},st.prototype.getParent=function(){return null},st.prototype.destroy=function(){var Z=this.get("timeline");this.get("destroyed")||(this.clear(),Z&&Z.stop(),this.clearEvents(),this.removeDom(),At.prototype.destroy.call(this))},st}(fr),mi=Bi,ii=function(At){(0,ne.__extends)(st,At);function st(){return At!==null&&At.apply(this,arguments)||this}return st.prototype.isGroup=function(){return!0},st.prototype.isEntityGroup=function(){return!1},st.prototype.clone=function(){for(var Z=At.prototype.clone.call(this),rt=this.getChildren(),It=0;It<rt.length;It++){var Vt=rt[It];Z.add(Vt.clone())}return Z},st}(fr),Xi=ii,fa=function(At){(0,ne.__extends)(st,At);function st(Z){return At.call(this,Z)||this}return st.prototype._isInBBox=function(Z,rt){var It=this.getBBox();return It.minX<=Z&&It.maxX>=Z&&It.minY<=rt&&It.maxY>=rt},st.prototype.afterAttrsChange=function(Z){At.prototype.afterAttrsChange.call(this,Z),this.clearCacheBBox()},st.prototype.getBBox=function(){var Z=this.cfg.bbox;return Z||(Z=this.calculateBBox(),this.set("bbox",Z)),Z},st.prototype.getCanvasBBox=function(){var Z=this.cfg.canvasBBox;return Z||(Z=this.calculateCanvasBBox(),this.set("canvasBBox",Z)),Z},st.prototype.applyMatrix=function(Z){At.prototype.applyMatrix.call(this,Z),this.set("canvasBBox",null)},st.prototype.calculateCanvasBBox=function(){var Z=this.getBBox(),rt=this.getTotalMatrix(),It=Z.minX,Vt=Z.minY,he=Z.maxX,ue=Z.maxY;if(rt){var ce=Ne(rt,[Z.minX,Z.minY]),Re=Ne(rt,[Z.maxX,Z.minY]),ke=Ne(rt,[Z.minX,Z.maxY]),ze=Ne(rt,[Z.maxX,Z.maxY]);It=Math.min(ce[0],Re[0],ke[0],ze[0]),he=Math.max(ce[0],Re[0],ke[0],ze[0]),Vt=Math.min(ce[1],Re[1],ke[1],ze[1]),ue=Math.max(ce[1],Re[1],ke[1],ze[1])}var ir=this.attrs;if(ir.shadowColor){var sr=ir.shadowBlur,We=sr===void 0?0:sr,Or=ir.shadowOffsetX,Pr=Or===void 0?0:Or,$r=ir.shadowOffsetY,Jr=$r===void 0?0:$r,gr=It-We+Pr,cr=he+We+Pr,qr=Vt-We+Jr,In=ue+We+Jr;It=Math.min(It,gr),he=Math.max(he,cr),Vt=Math.min(Vt,qr),ue=Math.max(ue,In)}return{x:It,y:Vt,minX:It,minY:Vt,maxX:he,maxY:ue,width:he-It,height:ue-Vt}},st.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},st.prototype.isClipShape=function(){return this.get("isClipShape")},st.prototype.isInShape=function(Z,rt){return!1},st.prototype.isOnlyHitBox=function(){return!1},st.prototype.isHit=function(Z,rt){var It=this.get("startArrowShape"),Vt=this.get("endArrowShape"),he=[Z,rt,1];he=this.invertFromMatrix(he);var ue=he[0],ce=he[1],Re=this._isInBBox(ue,ce);return this.isOnlyHitBox()?Re:!!(Re&&!this.isClipped(ue,ce)&&(this.isInShape(ue,ce)||It&&It.isHit(ue,ce)||Vt&&Vt.isHit(ue,ce)))},st}(ve),Bt=fa,Ct=new Map;function it(At,st){Ct.set(At,st)}function gt(At){return Ct.get(At)}function Yt(At){var st=At.attr(),Z=st.x,rt=st.y,It=st.width,Vt=st.height;return{x:Z,y:rt,width:It,height:Vt}}function J(At){var st=At.attr(),Z=st.x,rt=st.y,It=st.r;return{x:Z-It,y:rt-It,width:It*2,height:It*2}}var ft=d(89838);function yt(At,st){return!At||!st?At||st:{minX:Math.min(At.minX,st.minX),minY:Math.min(At.minY,st.minY),maxX:Math.max(At.maxX,st.maxX),maxY:Math.max(At.maxY,st.maxY)}}function _t(At,st){var Z=At.get("startArrowShape"),rt=At.get("endArrowShape"),It=null,Vt=null;return Z&&(It=Z.getCanvasBBox(),st=yt(st,It)),rt&&(Vt=rt.getCanvasBBox(),st=yt(st,Vt)),st}function Xt(At){for(var st=At.attr(),Z=st.points,rt=[],It=[],Vt=0;Vt<Z.length;Vt++){var he=Z[Vt];rt.push(he[0]),It.push(he[1])}var ue=ft.Util.getBBoxByArray(rt,It),ce=ue.x,Re=ue.y,ke=ue.width,ze=ue.height,ir={minX:ce,minY:Re,maxX:ce+ke,maxY:Re+ze};return ir=_t(At,ir),{x:ir.minX,y:ir.minY,width:ir.maxX-ir.minX,height:ir.maxY-ir.minY}}function Jt(At){for(var st=At.attr(),Z=st.points,rt=[],It=[],Vt=0;Vt<Z.length;Vt++){var he=Z[Vt];rt.push(he[0]),It.push(he[1])}return ft.Util.getBBoxByArray(rt,It)}var pe=null;function Ee(){if(!pe){var At=document.createElement("canvas");At.width=1,At.height=1,pe=At.getContext("2d")}return pe}function Be(At,st,Z){var rt=1;if((0,L.isString)(At)&&(rt=At.split(`
`).length),rt>1){var It=xe(st,Z);return st*rt+It*(rt-1)}return st}function xe(At,st){return st?st-At:At*.14}function Xe(At,st){var Z=Ee(),rt=0;if((0,L.isNil)(At)||At==="")return rt;if(Z.save(),Z.font=st,(0,L.isString)(At)&&At.includes(`
`)){var It=At.split(`
`);(0,L.each)(It,function(Vt){var he=Z.measureText(Vt).width;rt<he&&(rt=he)})}else rt=Z.measureText(At).width;return Z.restore(),rt}function pr(At){var st=At.fontSize,Z=At.fontFamily,rt=At.fontWeight,It=At.fontStyle,Vt=At.fontVariant;return[It,Vt,rt,st+"px",Z].join(" ").trim()}function wr(At){var st=At.attr(),Z=st.x,rt=st.y,It=st.text,Vt=st.fontSize,he=st.lineHeight,ue=st.font;ue||(ue=pr(st));var ce=Xe(It,ue),Re;if(!ce)Re={x:Z,y:rt,width:0,height:0};else{var ke=st.textAlign,ze=st.textBaseline,ir=Be(It,Vt,he),sr={x:Z,y:rt-ir};ke&&(ke==="end"||ke==="right"?sr.x-=ce:ke==="center"&&(sr.x-=ce/2)),ze&&(ze==="top"?sr.y+=ir:ze==="middle"&&(sr.y+=ir/2)),Re={x:sr.x,y:sr.y,width:ce,height:ir}}return Re}var Ir=d(57350);function lr(At,st){for(var Z=[],rt=[],It=[],Vt=0;Vt<At.length;Vt++){var he=At[Vt],ue=he.currentPoint,ce=he.params,Re=he.prePoint,ke=void 0;switch(he.command){case"Q":ke=ft.Quad.box(Re[0],Re[1],ce[1],ce[2],ce[3],ce[4]);break;case"C":ke=ft.Cubic.box(Re[0],Re[1],ce[1],ce[2],ce[3],ce[4],ce[5],ce[6]);break;case"A":var ze=he.arcParams;ke=ft.Arc.box(ze.cx,ze.cy,ze.rx,ze.ry,ze.xRotation,ze.startAngle,ze.endAngle);break;default:Z.push(ue[0]),rt.push(ue[1]);break}ke&&(he.box=ke,Z.push(ke.x,ke.x+ke.width),rt.push(ke.y,ke.y+ke.height)),st&&(he.command==="L"||he.command==="M")&&he.prePoint&&he.nextPoint&&It.push(he)}Z=Z.filter(function($r){return!Number.isNaN($r)&&$r!==Infinity&&$r!==-Infinity}),rt=rt.filter(function($r){return!Number.isNaN($r)&&$r!==Infinity&&$r!==-Infinity});var ir=(0,L.min)(Z),sr=(0,L.min)(rt),We=(0,L.max)(Z),Or=(0,L.max)(rt);if(It.length===0)return{x:ir,y:sr,width:We-ir,height:Or-sr};for(var Vt=0;Vt<It.length;Vt++){var he=It[Vt],ue=he.currentPoint,Pr=void 0;ue[0]===ir?(Pr=er(he,st),ir=ir-Pr.xExtra):ue[0]===We&&(Pr=er(he,st),We=We+Pr.xExtra),ue[1]===sr?(Pr=er(he,st),sr=sr-Pr.yExtra):ue[1]===Or&&(Pr=er(he,st),Or=Or+Pr.yExtra)}return{x:ir,y:sr,width:We-ir,height:Or-sr}}function er(At,st){var Z=At.prePoint,rt=At.currentPoint,It=At.nextPoint,Vt=Math.pow(rt[0]-Z[0],2)+Math.pow(rt[1]-Z[1],2),he=Math.pow(rt[0]-It[0],2)+Math.pow(rt[1]-It[1],2),ue=Math.pow(Z[0]-It[0],2)+Math.pow(Z[1]-It[1],2),ce=Math.acos((Vt+he-ue)/(2*Math.sqrt(Vt)*Math.sqrt(he)));if(!ce||Math.sin(ce)===0||(0,L.isNumberEqual)(ce,0))return{xExtra:0,yExtra:0};var Re=Math.abs(Math.atan2(It[1]-rt[1],It[0]-rt[0])),ke=Math.abs(Math.atan2(It[0]-rt[0],It[1]-rt[1]));Re=Re>Math.PI/2?Math.PI-Re:Re,ke=ke>Math.PI/2?Math.PI-ke:ke;var ze={xExtra:Math.cos(ce/2-Re)*(st/2*(1/Math.sin(ce/2)))-st/2||0,yExtra:Math.cos(ke-ce/2)*(st/2*(1/Math.sin(ce/2)))-st/2||0};return ze}function Vr(At){var st=At.attr(),Z=st.path,rt=st.stroke,It=rt?st.lineWidth:0,Vt=At.get("segments")||(0,Ir.path2Segments)(Z),he=lr(Vt,It),ue=he.x,ce=he.y,Re=he.width,ke=he.height,ze={minX:ue,minY:ce,maxX:ue+Re,maxY:ce+ke};return ze=_t(At,ze),{x:ze.minX,y:ze.minY,width:ze.maxX-ze.minX,height:ze.maxY-ze.minY}}function Sn(At){var st=At.attr(),Z=st.x1,rt=st.y1,It=st.x2,Vt=st.y2,he=Math.min(Z,It),ue=Math.max(Z,It),ce=Math.min(rt,Vt),Re=Math.max(rt,Vt),ke={minX:he,maxX:ue,minY:ce,maxY:Re};return ke=_t(At,ke),{x:ke.minX,y:ke.minY,width:ke.maxX-ke.minX,height:ke.maxY-ke.minY}}function mn(At){var st=At.attr(),Z=st.x,rt=st.y,It=st.rx,Vt=st.ry;return{x:Z-It,y:rt-Vt,width:It*2,height:Vt*2}}it("rect",Yt),it("image",Yt),it("circle",J),it("marker",J),it("polyline",Xt),it("polygon",Jt),it("text",wr),it("path",Vr),it("line",Sn),it("ellipse",mn);var zn="0.5.11"},21885:function(mt,S){"use strict";var d;d={value:!0};var m=function(){function L(I,P){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=P,this.timeStamp=P.timeStamp}return L.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},L.prototype.stopPropagation=function(){this.propagationStopped=!0},L.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},L.prototype.save=function(){},L.prototype.restore=function(){},L}();S.Z=m},19083:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(86031),I=d(62113),P=d(24818),T=d(15483),_=d(73074),M=d(94478),E=d(73906),p=function(b){L.__extends(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.getDefaultCfg=function(){var w=b.prototype.getDefaultCfg.call(this);return w.renderer="canvas",w.autoDraw=!0,w.localRefresh=!0,w.refreshElements=[],w.clipView=!0,w.quickHit=!1,w},y.prototype.onCanvasChange=function(w){(w==="attr"||w==="sort"||w==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},y.prototype.getShapeBase=function(){return T},y.prototype.getGroupBase=function(){return _.default},y.prototype.getPixelRatio=function(){var w=this.get("pixelRatio")||M.getPixelRatio();return w>=1?Math.ceil(w):1},y.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},y.prototype.createDom=function(){var w=document.createElement("canvas"),x=w.getContext("2d");return this.set("context",x),w},y.prototype.setDOMSize=function(w,x){b.prototype.setDOMSize.call(this,w,x);var A=this.get("context"),O=this.get("el"),B=this.getPixelRatio();O.width=B*w,O.height=B*x,B>1&&A.scale(B,B)},y.prototype.clear=function(){b.prototype.clear.call(this),this._clearFrame();var w=this.get("context"),x=this.get("el");w.clearRect(0,0,x.width,x.height)},y.prototype.getShape=function(w,x){var A;return this.get("quickHit")?A=P.getShape(this,w,x):A=b.prototype.getShape.call(this,w,x,null),A},y.prototype._getRefreshRegion=function(){var w=this.get("refreshElements"),x=this.getViewRange(),A;if(w.length&&w[0]===this)A=x;else if(A=E.getMergedRegion(w),A){A.minX=Math.floor(A.minX),A.minY=Math.floor(A.minY),A.maxX=Math.ceil(A.maxX),A.maxY=Math.ceil(A.maxY),A.maxY+=1;var O=this.get("clipView");O&&(A=E.mergeView(A,x))}return A},y.prototype.refreshElement=function(w){var x=this.get("refreshElements");x.push(w)},y.prototype._clearFrame=function(){var w=this.get("drawFrame");w&&(M.clearAnimationFrame(w),this.set("drawFrame",null),this.set("refreshElements",[]))},y.prototype.draw=function(){var w=this.get("drawFrame");this.get("autoDraw")&&w||this._startDraw()},y.prototype._drawAll=function(){var w=this.get("context"),x=this.get("el"),A=this.getChildren();w.clearRect(0,0,x.width,x.height),E.applyAttrsToContext(w,this),E.drawChildren(w,A),this.set("refreshElements",[])},y.prototype._drawRegion=function(){var w=this.get("context"),x=this.get("refreshElements"),A=this.getChildren(),O=this._getRefreshRegion();O?(w.clearRect(O.minX,O.minY,O.maxX-O.minX,O.maxY-O.minY),w.save(),w.beginPath(),w.rect(O.minX,O.minY,O.maxX-O.minX,O.maxY-O.minY),w.clip(),E.applyAttrsToContext(w,this),E.checkRefresh(this,A,O),E.drawChildren(w,A,O),w.restore()):x.length&&E.clearChanged(x),M.each(x,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},y.prototype._startDraw=function(){var w=this,x=this.get("drawFrame");x||(x=M.requestAnimationFrame(function(){w.get("localRefresh")?w._drawRegion():w._drawAll(),w.set("drawFrame",null)}),this.set("drawFrame",x))},y.prototype.skipDraw=function(){},y.prototype.removeDom=function(){var w=this.get("el");w.width=0,w.height=0,w.parentNode.removeChild(w)},y}(I.AbstractCanvas);S.Z=p},73074:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(62113),I=d(15483),P=d(73906),T=d(49242),_=d(94478),M=function(E){m.__extends(p,E);function p(){return E!==null&&E.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(b){P.refreshElement(this,b)},p.prototype.getShapeBase=function(){return I},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(b,y){y&&(b.save(),P.applyAttrsToContext(b,y),y.createPath(b),b.restore(),b.clip(),y._afterDraw())},p.prototype.cacheCanvasBBox=function(){var b=this.cfg.children,y=[],w=[];T.each(b,function(V){var nt=V.cfg.cacheCanvasBBox;nt&&V.cfg.isInView&&(y.push(nt.minX,nt.maxX),w.push(nt.minY,nt.maxY))});var x=null;if(y.length){var A=T.min(y),O=T.max(y),B=T.min(w),R=T.max(w);x={minX:A,minY:B,x:A,y:B,maxX:O,maxY:R,width:O-A,height:R-B};var Y=this.cfg.canvas;if(Y){var j=Y.getViewRange();this.set("isInView",_.intersectRect(x,j))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",x)},p.prototype.draw=function(b,y){var w=this.cfg.children,x=y?this.cfg.refresh:!0;w.length&&x&&(b.save(),P.applyAttrsToContext(b,this),this._applyClip(b,this.getClip()),P.drawChildren(b,w,y),b.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(L.AbstractGroup);S.default=M},74460:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(62113),I=d(94478),P=d(73906),T=d(62113),_=d(15483),M=d(73074),E=function(p){m.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.getShapeBase=function(){return _},b.prototype.getGroupBase=function(){return M.default},b.prototype.onCanvasChange=function(y){P.refreshElement(this,y)},b.prototype.calculateBBox=function(){var y=this.get("type"),w=this.getHitLineWidth(),x=T.getBBoxMethod(y),A=x(this),O=w/2,B=A.x-O,R=A.y-O,Y=A.x+A.width+O,j=A.y+A.height+O;return{x:B,minX:B,y:R,minY:R,width:A.width+w,height:A.height+w,maxX:Y,maxY:j}},b.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},b.prototype.isStroke=function(){return!!this.attrs.stroke},b.prototype._applyClip=function(y,w){w&&(y.save(),P.applyAttrsToContext(y,w),w.createPath(y),y.restore(),y.clip(),w._afterDraw())},b.prototype.draw=function(y,w){var x=this.cfg.clipShape;if(w){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var A=this.getCanvasBBox();if(!I.intersectRect(w,A)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}y.save(),P.applyAttrsToContext(y,this),this._applyClip(y,x),this.drawPath(y),y.restore(),this._afterDraw()},b.prototype.getCanvasViewBox=function(){var y=this.cfg.canvas;return y?y.getViewRange():null},b.prototype.cacheCanvasBBox=function(){var y=this.getCanvasViewBox();if(y){var w=this.getCanvasBBox(),x=I.intersectRect(w,y);this.set("isInView",x),x?this.set("cacheCanvasBBox",w):this.set("cacheCanvasBBox",null)}},b.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},b.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},b.prototype.drawPath=function(y){this.createPath(y),this.strokeAndFill(y),this.afterDrawPath(y)},b.prototype.fill=function(y){y.fill()},b.prototype.stroke=function(y){y.stroke()},b.prototype.strokeAndFill=function(y){var w=this.attrs,x=w.lineWidth,A=w.opacity,O=w.strokeOpacity,B=w.fillOpacity;this.isFill()&&(!I.isNil(B)&&B!==1?(y.globalAlpha=B,this.fill(y),y.globalAlpha=A):this.fill(y)),this.isStroke()&&x>0&&(!I.isNil(O)&&O!==1&&(y.globalAlpha=O),this.stroke(y)),this.afterDrawPath(y)},b.prototype.createPath=function(y){},b.prototype.afterDrawPath=function(y){},b.prototype.isInShape=function(y,w){var x=this.isStroke(),A=this.isFill(),O=this.getHitLineWidth();return this.isInStrokeOrPath(y,w,x,A,O)},b.prototype.isInStrokeOrPath=function(y,w,x,A,O){return!1},b.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var y=this.attrs;return y.lineWidth+y.lineAppendWidth},b}(L.AbstractShape);S.default=E},66778:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(74460),I=d(94478),P=function(T){m.__extends(_,T);function _(){return T!==null&&T.apply(this,arguments)||this}return _.prototype.getDefaultAttrs=function(){var M=T.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},M),{x:0,y:0,r:0})},_.prototype.isInStrokeOrPath=function(M,E,p,b,y){var w=this.attr(),x=w.x,A=w.y,O=w.r,B=y/2,R=I.distance(x,A,M,E);return b&&p?R<=O+B:b?R<=O:p?R>=O-B&&R<=O+B:!1},_.prototype.createPath=function(M){var E=this.attr(),p=E.x,b=E.y,y=E.r;M.beginPath(),M.arc(p,b,y,0,Math.PI*2,!1),M.closePath()},_}(L.default);S.default=P},21421:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(74460);function I(T,_,M,E){return T/(M*M)+_/(E*E)}var P=function(T){m.__extends(_,T);function _(){return T!==null&&T.apply(this,arguments)||this}return _.prototype.getDefaultAttrs=function(){var M=T.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},M),{x:0,y:0,rx:0,ry:0})},_.prototype.isInStrokeOrPath=function(M,E,p,b,y){var w=this.attr(),x=y/2,A=w.x,O=w.y,B=w.rx,R=w.ry,Y=(M-A)*(M-A),j=(E-O)*(E-O);return b&&p?I(Y,j,B+x,R+x)<=1:b?I(Y,j,B,R)<=1:p?I(Y,j,B-x,R-x)>=1&&I(Y,j,B+x,R+x)<=1:!1},_.prototype.createPath=function(M){var E=this.attr(),p=E.x,b=E.y,y=E.rx,w=E.ry;if(M.beginPath(),M.ellipse)M.ellipse(p,b,y,w,0,0,Math.PI*2,!1);else{var x=y>w?y:w,A=y>w?1:y/w,O=y>w?w/y:1;M.save(),M.translate(p,b),M.scale(A,O),M.arc(0,0,x,0,Math.PI*2),M.restore(),M.closePath()}},_}(L.default);S.default=P},89473:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(74460),I=d(94478);function P(_){return _ instanceof HTMLElement&&I.isString(_.nodeName)&&_.nodeName.toUpperCase()==="CANVAS"}var T=function(_){m.__extends(M,_);function M(){return _!==null&&_.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{x:0,y:0,width:0,height:0})},M.prototype.initAttrs=function(E){this._setImage(E.img)},M.prototype.isStroke=function(){return!1},M.prototype.isOnlyHitBox=function(){return!0},M.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var E=this.get("canvas");E?E.draw():this.createPath(this.get("context"))}},M.prototype._setImage=function(E){var p=this,b=this.attrs;if(I.isString(E)){var y=new Image;y.onload=function(){if(p.destroyed)return!1;p.attr("img",y),p.set("loading",!1),p._afterLoading();var w=p.get("callback");w&&w.call(p)},y.crossOrigin="Anonymous",y.src=E,this.set("loading",!0)}else E instanceof Image?(b.width||(b.width=E.width),b.height||(b.height=E.height)):P(E)&&(b.width||(b.width=Number(E.getAttribute("width"))),b.height||(b.height,Number(E.getAttribute("height"))))},M.prototype.onAttrChange=function(E,p,b){_.prototype.onAttrChange.call(this,E,p,b),E==="img"&&this._setImage(p)},M.prototype.createPath=function(E){if(this.get("loading")){this.set("toDraw",!0),this.set("context",E);return}var p=this.attr(),b=p.x,y=p.y,w=p.width,x=p.height,A=p.sx,O=p.sy,B=p.swidth,R=p.sheight,Y=p.img;(Y instanceof Image||P(Y))&&(!I.isNil(A)&&!I.isNil(O)&&!I.isNil(B)&&!I.isNil(R)?E.drawImage(Y,A,O,B,R,b,y,w,x):E.drawImage(Y,b,y,w,x))},M}(L.default);S.default=T},15483:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Text=S.Rect=S.Polyline=S.Polygon=S.Path=S.Marker=S.Line=S.Image=S.Ellipse=S.Circle=S.Base=void 0;var m=d(74460);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return m.default}});var L=d(66778);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return L.default}});var I=d(21421);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return I.default}});var P=d(89473);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return P.default}});var T=d(32766);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return T.default}});var _=d(50796);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return _.default}});var M=d(90780);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return M.default}});var E=d(51567);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return E.default}});var p=d(54423);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var b=d(83095);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return b.default}});var y=d(17860);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return y.default}})},32766:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(89838),I=d(74460),P=d(63131),T=d(87200),_=function(M){m.__extends(E,M);function E(){return M!==null&&M.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.initAttrs=function(p){this.setArrow()},E.prototype.onAttrChange=function(p,b,y){M.prototype.onAttrChange.call(this,p,b,y),this.setArrow()},E.prototype.setArrow=function(){var p=this.attr(),b=p.x1,y=p.y1,w=p.x2,x=p.y2,A=p.startArrow,O=p.endArrow;A&&T.addStartArrow(this,p,w,x,b,y),O&&T.addEndArrow(this,p,b,y,w,x)},E.prototype.isInStrokeOrPath=function(p,b,y,w,x){if(!y||!x)return!1;var A=this.attr(),O=A.x1,B=A.y1,R=A.x2,Y=A.y2;return P.default(O,B,R,Y,x,p,b)},E.prototype.createPath=function(p){var b=this.attr(),y=b.x1,w=b.y1,x=b.x2,A=b.y2,O=b.startArrow,B=b.endArrow,R={dx:0,dy:0},Y={dx:0,dy:0};O&&O.d&&(R=T.getShortenOffset(y,w,x,A,b.startArrow.d)),B&&B.d&&(Y=T.getShortenOffset(y,w,x,A,b.endArrow.d)),p.beginPath(),p.moveTo(y+R.dx,w+R.dy),p.lineTo(x-Y.dx,A-Y.dy)},E.prototype.afterDrawPath=function(p){var b=this.get("startArrowShape"),y=this.get("endArrowShape");b&&b.draw(p),y&&y.draw(p)},E.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,y=p.y1,w=p.x2,x=p.y2;return L.Line.length(b,y,w,x)},E.prototype.getPoint=function(p){var b=this.attr(),y=b.x1,w=b.y1,x=b.x2,A=b.y2;return L.Line.pointAt(y,w,x,A,p)},E}(I.default);S.default=_},50796:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(57350),P=d(74460),T=d(94478),_=d(73906),M={circle:function(p,b,y){return[["M",p-y,b],["A",y,y,0,1,0,p+y,b],["A",y,y,0,1,0,p-y,b]]},square:function(p,b,y){return[["M",p-y,b-y],["L",p+y,b-y],["L",p+y,b+y],["L",p-y,b+y],["Z"]]},diamond:function(p,b,y){return[["M",p-y,b],["L",p,b-y],["L",p+y,b],["L",p,b+y],["Z"]]},triangle:function(p,b,y){var w=y*Math.sin(1/3*Math.PI);return[["M",p-y,b+w],["L",p,b-w],["L",p+y,b+w],["Z"]]},"triangle-down":function(p,b,y){var w=y*Math.sin(1/3*Math.PI);return[["M",p-y,b-w],["L",p+y,b-w],["L",p,b+w],["Z"]]}},E=function(p){m.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.initAttrs=function(y){this._resetParamsCache()},b.prototype._resetParamsCache=function(){this.set("paramsCache",{})},b.prototype.onAttrChange=function(y,w,x){p.prototype.onAttrChange.call(this,y,w,x),["symbol","x","y","r","radius"].indexOf(y)!==-1&&this._resetParamsCache()},b.prototype.isOnlyHitBox=function(){return!0},b.prototype._getR=function(y){return L.isNil(y.r)?y.radius:y.r},b.prototype._getPath=function(){var y=this.attr(),w=y.x,x=y.y,A=y.symbol||"circle",O=this._getR(y),B,R;if(T.isFunction(A))B=A,R=B(w,x,O),R=I.path2Absolute(R);else{if(B=b.Symbols[A],!B)return console.warn(A+" marker is not supported."),null;R=B(w,x,O)}return R},b.prototype.createPath=function(y){var w=this._getPath(),x=this.get("paramsCache");_.drawPath(this,y,{path:w},x)},b.Symbols=M,b}(P.default);S.default=E},90780:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(89838),I=d(49242),P=d(74460),T=d(57350),_=d(73906),M=d(55978),E=d(4043),p=d(32460),b=d(87200);function y(x,A,O){for(var B=!1,R=0;R<x.length;R++){var Y=x[R];if(B=E.default(Y,A,O),B)break}return B}var w=function(x){m.__extends(A,x);function A(){return x!==null&&x.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var O=x.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},O),{startArrow:!1,endArrow:!1})},A.prototype.initAttrs=function(O){this._setPathArr(O.path),this.setArrow()},A.prototype.onAttrChange=function(O,B,R){x.prototype.onAttrChange.call(this,O,B,R),O==="path"&&this._setPathArr(B),this.setArrow()},A.prototype._setPathArr=function(O){this.attrs.path=T.path2Absolute(O);var B=p.default.hasArc(O);this.set("hasArc",B),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},A.prototype.getSegments=function(){var O=this.get("segements");return O||(O=T.path2Segments(this.attr("path")),this.set("segments",O)),O},A.prototype.setArrow=function(){var O=this.attr(),B=O.startArrow,R=O.endArrow;if(B){var Y=this.getStartTangent();b.addStartArrow(this,O,Y[0][0],Y[0][1],Y[1][0],Y[1][1])}if(R){var Y=this.getEndTangent();b.addEndArrow(this,O,Y[0][0],Y[0][1],Y[1][0],Y[1][1])}},A.prototype.isInStrokeOrPath=function(O,B,R,Y,j){var V=this.getSegments(),nt=this.get("hasArc"),ct=!1;if(R){var ut=this.getTotalLength();ct=p.default.isPointInStroke(V,j,O,B,ut)}if(!ct&&Y)if(nt)ct=M.default(this,O,B);else{var Pt=this.attr("path"),Gt=p.default.extractPolygons(Pt);ct=y(Gt.polygons,O,B)||y(Gt.polylines,O,B)}return ct},A.prototype.createPath=function(O){var B=this.attr(),R=this.get("paramsCache");_.drawPath(this,O,B,R)},A.prototype.afterDrawPath=function(O){var B=this.get("startArrowShape"),R=this.get("endArrowShape");B&&B.draw(O),R&&R.draw(O)},A.prototype.getTotalLength=function(){var O=this.get("totalLength");return I.isNil(O)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):O},A.prototype.getPoint=function(O){var B=this.get("tCache");B||(this._calculateCurve(),this._setTcache(),B=this.get("tCache"));var R,Y,j=this.get("curve");if(!B||B.length===0)return j?{x:j[0][1],y:j[0][2]}:null;I.each(B,function(ut,Pt){O>=ut[0]&&O<=ut[1]&&(R=(O-ut[0])/(ut[1]-ut[0]),Y=Pt)});var V=j[Y];if(I.isNil(V)||I.isNil(Y))return null;var nt=V.length,ct=j[Y+1];return L.Cubic.pointAt(V[nt-2],V[nt-1],ct[1],ct[2],ct[3],ct[4],ct[5],ct[6],R)},A.prototype._calculateCurve=function(){var O=this.attr().path;this.set("curve",p.default.pathToCurve(O))},A.prototype._setTcache=function(){var O=0,B=0,R=[],Y,j,V,nt,ct=this.get("curve");if(!!ct){if(I.each(ct,function(ut,Pt){V=ct[Pt+1],nt=ut.length,V&&(O+=L.Cubic.length(ut[nt-2],ut[nt-1],V[1],V[2],V[3],V[4],V[5],V[6])||0)}),this.set("totalLength",O),O===0){this.set("tCache",[]);return}I.each(ct,function(ut,Pt){V=ct[Pt+1],nt=ut.length,V&&(Y=[],Y[0]=B/O,j=L.Cubic.length(ut[nt-2],ut[nt-1],V[1],V[2],V[3],V[4],V[5],V[6]),B+=j||0,Y[1]=B/O,R.push(Y))}),this.set("tCache",R)}},A.prototype.getStartTangent=function(){var O=this.getSegments(),B;if(O.length>1){var R=O[0].currentPoint,Y=O[1].currentPoint,j=O[1].startTangent;B=[],j?(B.push([R[0]-j[0],R[1]-j[1]]),B.push([R[0],R[1]])):(B.push([Y[0],Y[1]]),B.push([R[0],R[1]]))}return B},A.prototype.getEndTangent=function(){var O=this.getSegments(),B=O.length,R;if(B>1){var Y=O[B-2].currentPoint,j=O[B-1].currentPoint,V=O[B-1].endTangent;R=[],V?(R.push([j[0]-V[0],j[1]-V[1]]),R.push([j[0],j[1]])):(R.push([Y[0],Y[1]]),R.push([j[0],j[1]]))}return R},A}(P.default);S.default=w},51567:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(74460),I=d(70625),P=d(4043),T=function(_){m.__extends(M,_);function M(){return _!==null&&_.apply(this,arguments)||this}return M.prototype.isInStrokeOrPath=function(E,p,b,y,w){var x=this.attr().points,A=!1;return b&&(A=I.default(x,w,E,p,!0)),!A&&y&&(A=P.default(x,E,p)),A},M.prototype.createPath=function(E){var p=this.attr(),b=p.points;if(!(b.length<2)){E.beginPath();for(var y=0;y<b.length;y++){var w=b[y];y===0?E.moveTo(w[0],w[1]):E.lineTo(w[0],w[1])}E.closePath()}},M}(L.default);S.default=T},54423:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(89838),I=d(89838),P=d(49242),T=d(74460),_=d(70625),M=d(87200),E=function(p){m.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},y),{startArrow:!1,endArrow:!1})},b.prototype.initAttrs=function(y){this.setArrow()},b.prototype.onAttrChange=function(y,w,x){p.prototype.onAttrChange.call(this,y,w,x),this.setArrow(),["points"].indexOf(y)!==-1&&this._resetCache()},b.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},b.prototype.setArrow=function(){var y=this.attr(),w=this.attrs,x=w.points,A=w.startArrow,O=w.endArrow,B=x.length,R=x[0][0],Y=x[0][1],j=x[B-1][0],V=x[B-1][1];A&&M.addStartArrow(this,y,x[1][0],x[1][1],R,Y),O&&M.addEndArrow(this,y,x[B-2][0],x[B-2][1],j,V)},b.prototype.isFill=function(){return!1},b.prototype.isInStrokeOrPath=function(y,w,x,A,O){if(!x||!O)return!1;var B=this.attr().points;return _.default(B,O,y,w,!1)},b.prototype.isStroke=function(){return!0},b.prototype.createPath=function(y){var w=this.attr(),x=w.points,A=w.startArrow,O=w.endArrow,B=x.length;if(!(x.length<2)){var R=x[0][0],Y=x[0][1],j=x[B-1][0],V=x[B-1][1];if(A&&A.d){var nt=M.getShortenOffset(R,Y,x[1][0],x[1][1],A.d);R+=nt.dx,Y+=nt.dy}if(O&&O.d){var nt=M.getShortenOffset(x[B-2][0],x[B-2][1],j,V,O.d);j-=nt.dx,V-=nt.dy}y.beginPath(),y.moveTo(R,Y);for(var ct=0;ct<B-1;ct++){var ut=x[ct];y.lineTo(ut[0],ut[1])}y.lineTo(j,V)}},b.prototype.afterDrawPath=function(y){var w=this.get("startArrowShape"),x=this.get("endArrowShape");w&&w.draw(y),x&&x.draw(y)},b.prototype.getTotalLength=function(){var y=this.attr().points,w=this.get("totalLength");return P.isNil(w)?(this.set("totalLength",I.Polyline.length(y)),this.get("totalLength")):w},b.prototype.getPoint=function(y){var w=this.attr().points,x=this.get("tCache");x||(this._setTcache(),x=this.get("tCache"));var A,O;return P.each(x,function(B,R){y>=B[0]&&y<=B[1]&&(A=(y-B[0])/(B[1]-B[0]),O=R)}),L.Line.pointAt(w[O][0],w[O][1],w[O+1][0],w[O+1][1],A)},b.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var w=this.getTotalLength();if(!(w<=0)){var x=0,A=[],O,B;P.each(y,function(R,Y){y[Y+1]&&(O=[],O[0]=x/w,B=L.Line.length(R[0],R[1],y[Y+1][0],y[Y+1][1]),x+=B,O[1]=x/w,A.push(O))}),this.set("tCache",A)}}},b.prototype.getStartTangent=function(){var y=this.attr().points,w=[];return w.push([y[1][0],y[1][1]]),w.push([y[0][0],y[0][1]]),w},b.prototype.getEndTangent=function(){var y=this.attr().points,w=y.length-1,x=[];return x.push([y[w-1][0],y[w-1][1]]),x.push([y[w][0],y[w][1]]),x},b}(T.default);S.default=E},83095:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(74460),I=d(62948),P=d(94478),T=d(47946),_=d(19626),M=d(55978),E=function(p){m.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},y),{x:0,y:0,width:0,height:0,radius:0})},b.prototype.isInStrokeOrPath=function(y,w,x,A,O){var B=this.attr(),R=B.x,Y=B.y,j=B.width,V=B.height,nt=B.radius;if(nt){var ut=!1;return x&&(ut=_.default(R,Y,j,V,nt,O,y,w)),!ut&&A&&(ut=M.default(this,y,w)),ut}else{var ct=O/2;if(A&&x)return P.inBox(R-ct,Y-ct,j+ct,V+ct,y,w);if(A)return P.inBox(R,Y,j,V,y,w);if(x)return T.default(R,Y,j,V,O,y,w)}},b.prototype.createPath=function(y){var w=this.attr(),x=w.x,A=w.y,O=w.width,B=w.height,R=w.radius;if(y.beginPath(),R===0)y.rect(x,A,O,B);else{var Y=I.parseRadius(R),j=Y[0],V=Y[1],nt=Y[2],ct=Y[3];y.moveTo(x+j,A),y.lineTo(x+O-V,A),V!==0&&y.arc(x+O-V,A+V,V,-Math.PI/2,0),y.lineTo(x+O,A+B-nt),nt!==0&&y.arc(x+O-nt,A+B-nt,nt,0,Math.PI/2),y.lineTo(x+ct,A+B),ct!==0&&y.arc(x+ct,A+B-ct,ct,Math.PI/2,Math.PI),y.lineTo(x,A+j),j!==0&&y.arc(x+j,A+j,j,Math.PI,Math.PI*1.5),y.closePath()}},b}(L.default);S.default=E},17860:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(74460),I=d(94478),P=d(62113),T=function(_){m.__extends(M,_);function M(){return _!==null&&_.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},M.prototype.isOnlyHitBox=function(){return!0},M.prototype.initAttrs=function(E){this._assembleFont(),E.text&&this._setText(E.text)},M.prototype._assembleFont=function(){var E=this.attrs;E.font=P.assembleFont(E)},M.prototype._setText=function(E){var p=null;I.isString(E)&&E.indexOf(`
`)!==-1&&(p=E.split(`
`)),this.set("textArr",p)},M.prototype.onAttrChange=function(E,p,b){_.prototype.onAttrChange.call(this,E,p,b),E.startsWith("font")&&this._assembleFont(),E==="text"&&this._setText(p)},M.prototype._getSpaceingY=function(){var E=this.attrs,p=E.lineHeight,b=E.fontSize*1;return p?p-b:b*.14},M.prototype._drawTextArr=function(E,p,b){var y=this.attrs,w=y.textBaseline,x=y.x,A=y.y,O=y.fontSize*1,B=this._getSpaceingY(),R=P.getTextHeight(y.text,y.fontSize,y.lineHeight),Y;I.each(p,function(j,V){Y=A+V*(B+O)-R+O,w==="middle"&&(Y+=R-O-(R-O)/2),w==="top"&&(Y+=R-O),I.isNil(j)||(b?E.fillText(j,x,Y):E.strokeText(j,x,Y))})},M.prototype._drawText=function(E,p){var b=this.attr(),y=b.x,w=b.y,x=this.get("textArr");if(x)this._drawTextArr(E,x,p);else{var A=b.text;I.isNil(A)||(p?E.fillText(A,y,w):E.strokeText(A,y,w))}},M.prototype.strokeAndFill=function(E){var p=this.attrs,b=p.lineWidth,y=p.opacity,w=p.strokeOpacity,x=p.fillOpacity;this.isStroke()&&b>0&&(!I.isNil(w)&&w!==1&&(E.globalAlpha=y),this.stroke(E)),this.isFill()&&(!I.isNil(x)&&x!==1?(E.globalAlpha=x,this.fill(E),E.globalAlpha=y):this.fill(E)),this.afterDrawPath(E)},M.prototype.fill=function(E){this._drawText(E,!0)},M.prototype.stroke=function(E){this._drawText(E,!1)},M}(L.default);S.default=T},56921:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(94478);function L(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function I(_,M){return L(_)*L(M)?(_[0]*M[0]+_[1]*M[1])/(L(_)*L(M)):1}function P(_,M){return(_[0]*M[1]<_[1]*M[0]?-1:1)*Math.acos(I(_,M))}function T(_,M){var E=M[1],p=M[2],b=m.mod(m.toRadian(M[3]),Math.PI*2),y=M[4],w=M[5],x=_[0],A=_[1],O=M[6],B=M[7],R=Math.cos(b)*(x-O)/2+Math.sin(b)*(A-B)/2,Y=-1*Math.sin(b)*(x-O)/2+Math.cos(b)*(A-B)/2,j=R*R/(E*E)+Y*Y/(p*p);j>1&&(E*=Math.sqrt(j),p*=Math.sqrt(j));var V=E*E*(Y*Y)+p*p*(R*R),nt=V?Math.sqrt((E*E*(p*p)-V)/V):1;y===w&&(nt*=-1),isNaN(nt)&&(nt=0);var ct=p?nt*E*Y/p:0,ut=E?nt*-p*R/E:0,Pt=(x+O)/2+Math.cos(b)*ct-Math.sin(b)*ut,Gt=(A+B)/2+Math.sin(b)*ct+Math.cos(b)*ut,qt=[(R-ct)/E,(Y-ut)/p],Rt=[(-1*R-ct)/E,(-1*Y-ut)/p],at=P([1,0],qt),vt=P(qt,Rt);return I(qt,Rt)<=-1&&(vt=Math.PI),I(qt,Rt)>=1&&(vt=0),w===0&&vt>0&&(vt=vt-2*Math.PI),w===1&&vt<0&&(vt=vt+2*Math.PI),{cx:Pt,cy:Gt,rx:m.isSamePoint(_,[O,B])?0:E,ry:m.isSamePoint(_,[O,B])?0:p,startAngle:at,endAngle:at+vt,xRotation:b,arcFlag:y,sweepFlag:w}}S.default=T},87200:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var m=d(86031),L=d(15483),I=Math.sin,P=Math.cos,T=Math.atan2,_=Math.PI;function M(w,x,A,O,B,R,Y){var j=x.stroke,V=x.lineWidth,nt=A-B,ct=O-R,ut=T(ct,nt),Pt=new L.Path({type:"path",canvas:w.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*P(_/6)+","+10*I(_/6)+" L0,0 L"+10*P(_/6)+",-"+10*I(_/6),stroke:j,lineWidth:V}});Pt.translate(B,R),Pt.rotateAtPoint(B,R,ut),w.set(Y?"startArrowShape":"endArrowShape",Pt)}function E(w,x,A,O,B,R,Y){var j=x.startArrow,V=x.endArrow,nt=x.stroke,ct=x.lineWidth,ut=Y?j:V,Pt=ut.d,Gt=ut.fill,qt=ut.stroke,Rt=ut.lineWidth,at=m.__rest(ut,["d","fill","stroke","lineWidth"]),vt=A-B,ot=O-R,Et=T(ot,vt);Pt&&(B=B-P(Et)*Pt,R=R-I(Et)*Pt);var dt=new L.Path({type:"path",canvas:w.get("canvas"),isArrowShape:!0,attrs:m.__assign(m.__assign({},at),{stroke:qt||nt,lineWidth:Rt||ct,fill:Gt})});dt.translate(B,R),dt.rotateAtPoint(B,R,Et),w.set(Y?"startArrowShape":"endArrowShape",dt)}function p(w,x,A,O,B){var R=T(O-x,A-w);return{dx:P(R)*B,dy:I(R)*B}}S.getShortenOffset=p;function b(w,x,A,O,B,R){typeof x.startArrow=="object"?E(w,x,A,O,B,R,!0):x.startArrow?M(w,x,A,O,B,R,!0):w.set("startArrowShape",null)}S.addStartArrow=b;function y(w,x,A,O,B,R){typeof x.endArrow=="object"?E(w,x,A,O,B,R,!1):x.endArrow?M(w,x,A,O,B,R,!1):w.set("startArrowShape",null)}S.addEndArrow=y},73906:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var m=d(49242),L=d(62948),I=d(56921),P=d(94478),T=d(87200),_={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function M(j,V){var nt=V.attr();for(var ct in nt){var ut=nt[ct],Pt=_[ct]?_[ct]:ct;Pt==="matrix"&&ut?j.transform(ut[0],ut[1],ut[3],ut[4],ut[6],ut[7]):Pt==="lineDash"&&j.setLineDash?m.isArray(ut)&&j.setLineDash(ut):(Pt==="strokeStyle"||Pt==="fillStyle"?ut=L.parseStyle(j,V,ut):Pt==="globalAlpha"&&(ut=ut*j.globalAlpha),j[Pt]=ut)}}S.applyAttrsToContext=M;function E(j,V,nt){for(var ct=0;ct<V.length;ct++){var ut=V[ct];ut.cfg.visible?ut.draw(j,nt):ut.skipDraw()}}S.drawChildren=E;function p(j,V,nt){var ct=j.get("refreshElements");m.each(ct,function(ut){if(ut!==j)for(var Pt=ut.cfg.parent;Pt&&Pt!==j&&!Pt.cfg.refresh;)Pt.cfg.refresh=!0,Pt=Pt.cfg.parent}),ct[0]===j?w(V,nt):b(V,nt)}S.checkRefresh=p;function b(j,V){for(var nt=0;nt<j.length;nt++){var ct=j[nt];if(ct.cfg.visible)if(ct.cfg.hasChanged)ct.cfg.refresh=!0,ct.isGroup()&&w(ct.cfg.children,V);else if(ct.cfg.refresh)ct.isGroup()&&b(ct.cfg.children,V);else{var ut=x(ct,V);ct.cfg.refresh=ut,ut&&ct.isGroup()&&b(ct.cfg.children,V)}}}S.checkChildrenRefresh=b;function y(j){for(var V=0;V<j.length;V++){var nt=j[V];nt.cfg.hasChanged=!1,nt.isGroup()&&!nt.destroyed&&y(nt.cfg.children)}}S.clearChanged=y;function w(j,V){for(var nt=0;nt<j.length;nt++){var ct=j[nt];ct.cfg.refresh=!0,ct.isGroup()&&w(ct.get("children"),V)}}function x(j,V){var nt=j.cfg.cacheCanvasBBox,ct=j.cfg.isInView&&nt&&P.intersectRect(nt,V);return ct}function A(j,V,nt,ct){var ut=nt.path,Pt=nt.startArrow,Gt=nt.endArrow;if(!!ut){var qt=[0,0],Rt=[0,0],at={dx:0,dy:0};V.beginPath();for(var vt=0;vt<ut.length;vt++){var ot=ut[vt],Et=ot[0];if(vt===0&&Pt&&Pt.d){var dt=j.getStartTangent();at=T.getShortenOffset(dt[0][0],dt[0][1],dt[1][0],dt[1][1],Pt.d)}else if(vt===ut.length-2&&ut[vt+1][0]==="Z"&&Gt&&Gt.d){var X=ut[vt+1];if(X[0]==="Z"){var dt=j.getEndTangent();at=T.getShortenOffset(dt[0][0],dt[0][1],dt[1][0],dt[1][1],Gt.d)}}else if(vt===ut.length-1&&Gt&&Gt.d&&ut[0]!=="Z"){var dt=j.getEndTangent();at=T.getShortenOffset(dt[0][0],dt[0][1],dt[1][0],dt[1][1],Gt.d)}var $=at.dx,H=at.dy;switch(Et){case"M":V.moveTo(ot[1]-$,ot[2]-H),Rt=[ot[1],ot[2]];break;case"L":V.lineTo(ot[1]-$,ot[2]-H);break;case"Q":V.quadraticCurveTo(ot[1],ot[2],ot[3]-$,ot[4]-H);break;case"C":V.bezierCurveTo(ot[1],ot[2],ot[3],ot[4],ot[5]-$,ot[6]-H);break;case"A":{var f=void 0;ct?(f=ct[vt],f||(f=I.default(qt,ot),ct[vt]=f)):f=I.default(qt,ot);var xt=f.cx,Mt=f.cy,Ut=f.rx,re=f.ry,zt=f.startAngle,ne=f.endAngle,ae=f.xRotation,Dt=f.sweepFlag;if(V.ellipse)V.ellipse(xt,Mt,Ut,re,ae,zt,ne,1-Dt);else{var Tt=Ut>re?Ut:re,pt=Ut>re?1:Ut/re,Q=Ut>re?re/Ut:1;V.translate(xt,Mt),V.rotate(ae),V.scale(pt,Q),V.arc(0,0,Tt,zt,ne,1-Dt),V.scale(1/pt,1/Q),V.rotate(-ae),V.translate(-xt,-Mt)}break}case"Z":V.closePath();break;default:break}if(Et==="Z")qt=Rt;else{var K=ot.length;qt=[ot[K-2],ot[K-1]]}}}}S.drawPath=A;function O(j,V){var nt=j.get("canvas");nt&&(V==="remove"&&(j._cacheCanvasBBox=j.get("cacheCanvasBBox")),j.get("hasChanged")||(j.set("hasChanged",!0),j.cfg.parent&&j.cfg.parent.get("hasChanged")||(nt.refreshElement(j,V,nt),nt.get("autoDraw")&&nt.draw())))}S.refreshElement=O;function B(j){var V;if(j.destroyed)V=j._cacheCanvasBBox;else{var nt=j.get("cacheCanvasBBox"),ct=nt&&!!(nt.width&&nt.height),ut=j.getCanvasBBox(),Pt=ut&&!!(ut.width&&ut.height);ct&&Pt?V=P.mergeRegion(nt,ut):ct?V=nt:Pt&&(V=ut)}return V}S.getRefreshRegion=B;function R(j){if(!j.length)return null;var V=[],nt=[],ct=[],ut=[];return m.each(j,function(Pt){var Gt=B(Pt);Gt&&(V.push(Gt.minX),nt.push(Gt.minY),ct.push(Gt.maxX),ut.push(Gt.maxY))}),{minX:m.min(V),minY:m.min(nt),maxX:m.max(ct),maxY:m.max(ut)}}S.getMergedRegion=R;function Y(j,V){return!j||!V||!P.intersectRect(j,V)?null:{minX:Math.max(j.minX,V.minX),minY:Math.max(j.minY,V.minY),maxX:Math.min(j.maxX,V.maxX),maxY:Math.min(j.maxY,V.maxY)}}S.mergeView=Y},24818:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var m=d(62113);function L(_,M){if(M){var E=m.invert(M);return m.multiplyVec2(E,_)}return _}function I(_,M,E){var p=_.getTotalMatrix();if(p){var b=L([M,E,1],p),y=b[0],w=b[1];return[y,w]}return[M,E]}function P(_,M,E){if(_.isCanvas&&_.isCanvas())return!0;if(!m.isAllowCapture(_)||_.cfg.isInView===!1)return!1;if(_.cfg.clipShape){var p=I(_,M,E),b=p[0],y=p[1];if(_.isClipped(b,y))return!1}var w=_.cfg.cacheCanvasBBox||_.getCanvasBBox();return M>=w.minX&&M<=w.maxX&&E>=w.minY&&E<=w.maxY}function T(_,M,E){if(!P(_,M,E))return null;for(var p=null,b=_.getChildren(),y=b.length,w=y-1;w>=0;w--){var x=b[w];if(x.isGroup())p=T(x,M,E);else if(P(x,M,E)){var A=x,O=I(x,M,E),B=O[0],R=O[1];A.isInShape(B,R)&&(p=x)}if(p)break}return p}S.getShape=T},55978:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(62113);function L(I,P,T){var _=m.getOffScreenContext();return I.createPath(_),_.isPointInPath(P,T)}S.default=L},4043:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function m(P){return Math.abs(P)<d?0:P<0?-1:1}function L(P,T,_){return(_[0]-P[0])*(T[1]-P[1])==(T[0]-P[0])*(_[1]-P[1])&&Math.min(P[0],T[0])<=_[0]&&_[0]<=Math.max(P[0],T[0])&&Math.min(P[1],T[1])<=_[1]&&_[1]<=Math.max(P[1],T[1])}function I(P,T,_){var M=!1,E=P.length;if(E<=2)return!1;for(var p=0;p<E;p++){var b=P[p],y=P[(p+1)%E];if(L(b,y,[T,_]))return!0;m(b[1]-_)>0!=m(y[1]-_)>0&&m(T-(_-b[1])*(b[0]-y[0])/(b[1]-y[1])-b[0])<0&&(M=!M)}return M}S.default=I},37311:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(94478);function L(I,P,T,_,M,E,p,b){var y=(Math.atan2(b-P,p-I)+Math.PI*2)%(Math.PI*2);if(y<_||y>M)return!1;var w={x:I+T*Math.cos(y),y:P+T*Math.sin(y)};return m.distance(w.x,w.y,p,b)<=E/2}S.default=L},63131:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(89838);function L(I,P,T,_,M,E,p){var b=Math.min(I,T),y=Math.max(I,T),w=Math.min(P,_),x=Math.max(P,_),A=M/2;return E>=b-A&&E<=y+A&&p>=w-A&&p<=x+A?m.Line.pointToLine(I,P,T,_,E,p)<=M/2:!1}S.default=L},70625:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(63131);function L(I,P,T,_,M){var E=I.length;if(E<2)return!1;for(var p=0;p<E-1;p++){var b=I[p][0],y=I[p][1],w=I[p+1][0],x=I[p+1][1];if(m.default(b,y,w,x,P,T,_))return!0}if(M){var A=I[0],O=I[E-1];if(m.default(A[0],A[1],O[0],O[1],P,T,_))return!0}return!1}S.default=L},19626:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(63131),L=d(37311);function I(P,T,_,M,E,p,b,y){var w=p/2;return m.default(P+E,T,P+_-E,T,p,b,y)||m.default(P+_,T+E,P+_,T+M-E,p,b,y)||m.default(P+_-E,T+M,P+E,T+M,p,b,y)||m.default(P,T+M-E,P,T+E,p,b,y)||L.default(P+_-E,T+E,E,1.5*Math.PI,2*Math.PI,p,b,y)||L.default(P+_-E,T+M-E,E,0,.5*Math.PI,p,b,y)||L.default(P+E,T+M-E,E,.5*Math.PI,Math.PI,p,b,y)||L.default(P+E,T+E,E,Math.PI,1.5*Math.PI,p,b,y)}S.default=I},47946:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(94478);function L(I,P,T,_,M,E,p){var b=M/2;return m.inBox(I-b,P-b,T,M,E,p)||m.inBox(I+T-b,P-b,M,_,E,p)||m.inBox(I+b,P+_-b,T,M,E,p)||m.inBox(I-b,P+b,M,_,E,p)}S.default=L},62948:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var m=d(94478),L=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _(w,x){var A=w.match(T);m.each(A,function(O){var B=O.split(":");x.addColorStop(B[0],B[1])})}function M(w,x,A){var O=L.exec(A),B=parseFloat(O[1])%360*(Math.PI/180),R=O[2],Y=x.getBBox(),j,V;B>=0&&B<1/2*Math.PI?(j={x:Y.minX,y:Y.minY},V={x:Y.maxX,y:Y.maxY}):1/2*Math.PI<=B&&B<Math.PI?(j={x:Y.maxX,y:Y.minY},V={x:Y.minX,y:Y.maxY}):Math.PI<=B&&B<3/2*Math.PI?(j={x:Y.maxX,y:Y.maxY},V={x:Y.minX,y:Y.minY}):(j={x:Y.minX,y:Y.maxY},V={x:Y.maxX,y:Y.minY});var nt=Math.tan(B),ct=nt*nt,ut=(V.x-j.x+nt*(V.y-j.y))/(ct+1)+j.x,Pt=nt*(V.x-j.x+nt*(V.y-j.y))/(ct+1)+j.y,Gt=w.createLinearGradient(j.x,j.y,ut,Pt);return _(R,Gt),Gt}S.parseLineGradient=M;function E(w,x,A){var O=I.exec(A),B=parseFloat(O[1]),R=parseFloat(O[2]),Y=parseFloat(O[3]),j=O[4];if(Y===0){var V=j.match(T);return V[V.length-1].split(":")[1]}var nt=x.getBBox(),ct=nt.maxX-nt.minX,ut=nt.maxY-nt.minY,Pt=Math.sqrt(ct*ct+ut*ut)/2,Gt=w.createRadialGradient(nt.minX+ct*B,nt.minY+ut*R,0,nt.minX+ct/2,nt.minY+ut/2,Y*Pt);return _(j,Gt),Gt}S.parseRadialGradient=E;function p(w,x,A){if(x.get("patternSource")&&x.get("patternSource")===A)return x.get("pattern");var O,B,R=P.exec(A),Y=R[1],j=R[2];function V(){O=w.createPattern(B,Y),x.set("pattern",O),x.set("patternSource",A)}switch(Y){case"a":Y="repeat";break;case"x":Y="repeat-x";break;case"y":Y="repeat-y";break;case"n":Y="no-repeat";break;default:Y="no-repeat"}return B=new Image,j.match(/^data:/i)||(B.crossOrigin="Anonymous"),B.src=j,B.complete?V():(B.onload=V,B.src=B.src),O}S.parsePattern=p;function b(w,x,A){var O=x.getBBox();if(isNaN(O.x)||isNaN(O.y)||isNaN(O.width)||isNaN(O.height))return A;if(m.isString(A)){if(A[1]==="("||A[2]==="("){if(A[0]==="l")return M(w,x,A);if(A[0]==="r")return E(w,x,A);if(A[0]==="p")return p(w,x,A)}return A}if(A instanceof CanvasPattern)return A}S.parseStyle=b;function y(w){var x=0,A=0,O=0,B=0;return m.isArray(w)?w.length===1?x=A=O=B=w[0]:w.length===2?(x=O=w[0],A=B=w[1]):w.length===3?(x=w[0],A=B=w[1],O=w[2]):(x=w[0],A=w[1],O=w[2],B=w[3]):x=A=O=B=w,[x,A,O,B]}S.parseRadius=y},32460:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(62113),I=d(89838),P=d(89838),T=d(56379),_=d(77160),M=d(94478),E=d(63131),p=d(37311),b=T.ext.transform;function y(A){for(var O=!1,B=A.length,R=0;R<B;R++){var Y=A[R],j=Y[0];if(j==="C"||j==="A"||j==="Q"){O=!0;break}}return O}function w(A,O,B,R,Y){for(var j=!1,V=O/2,nt=0;nt<A.length;nt++){var ct=A[nt],ut=ct.currentPoint,Pt=ct.params,Gt=ct.prePoint,qt=ct.box;if(!(qt&&!M.inBox(qt.x-V,qt.y-V,qt.width+O,qt.height+O,B,R))){switch(ct.command){case"L":case"Z":j=E.default(Gt[0],Gt[1],ut[0],ut[1],O,B,R);break;case"Q":var Rt=I.Quad.pointDistance(Gt[0],Gt[1],Pt[1],Pt[2],Pt[3],Pt[4],B,R);j=Rt<=O/2;break;case"C":var at=P.Cubic.pointDistance(Gt[0],Gt[1],Pt[1],Pt[2],Pt[3],Pt[4],Pt[5],Pt[6],B,R,Y);j=at<=O/2;break;case"A":var vt=ct.arcParams,ot=vt.cx,Et=vt.cy,dt=vt.rx,X=vt.ry,$=vt.startAngle,H=vt.endAngle,f=vt.xRotation,xt=[B,R,1],Mt=dt>X?dt:X,Ut=dt>X?1:dt/X,re=dt>X?X/dt:1,zt=b(null,[["t",-ot,-Et],["r",-f],["s",1/Ut,1/re]]);_.transformMat3(xt,xt,zt),j=p.default(0,0,Mt,$,H,O,xt[0],xt[1]);break;default:break}if(j)break}}return j}function x(A){for(var O=A.length,B=[],R=[],Y=[],j=0;j<O;j++){var V=A[j],nt=V[0];nt==="M"?(Y.length&&(R.push(Y),Y=[]),Y.push([V[1],V[2]])):nt==="Z"?Y.length&&(B.push(Y),Y=[]):Y.push([V[1],V[2]])}return Y.length>0&&R.push(Y),{polygons:B,polylines:R}}S.default=m.__assign({hasArc:y,extractPolygons:x,isPointInStroke:w},L.PathUtil)},94478:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.clearAnimationFrame=S.requestAnimationFrame=S.isNumberEqual=S.mod=S.toRadian=S.each=S.isArray=S.isFunction=S.isString=S.isNil=S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function m(){return window?window.devicePixelRatio:1}S.getPixelRatio=m;function L(E,p,b,y){var w=E-b,x=p-y;return Math.sqrt(w*w+x*x)}S.distance=L;function I(E,p,b,y,w,x){return w>=E&&w<=E+b&&x>=p&&x<=p+y}S.inBox=I;function P(E,p){return!(p.minX>E.maxX||p.maxX<E.minX||p.minY>E.maxY||p.maxY<E.minY)}S.intersectRect=P;function T(E,p){return!E||!p?E||p:{minX:Math.min(E.minX,p.minX),minY:Math.min(E.minY,p.minY),maxX:Math.max(E.maxX,p.maxX),maxY:Math.max(E.maxY,p.maxY)}}S.mergeRegion=T;function _(E,p){return E[0]===p[0]&&E[1]===p[1]}S.isSamePoint=_;var M=d(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return M.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return M.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return M.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return M.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return M.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return M.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return M.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return M.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return M.clearAnimationFrame}})},56379:function(mt,S,d){"use strict";d.r(S),d.d(S,{ext:function(){return m},mat3:function(){return L},vec2:function(){return I},vec3:function(){return P}});var m={};d.r(m),d.d(m,{angleTo:function(){return y},direction:function(){return b},leftRotate:function(){return _},leftScale:function(){return M},leftTranslate:function(){return T},transform:function(){return p},vertical:function(){return w}});var L=d(35600),I=d(31437),P=d(77160);function T(x,A,O){var B=[0,0,0,0,0,0,0,0,0];return L.fromTranslation(B,O),L.multiply(x,B,A)}function _(x,A,O){var B=[0,0,0,0,0,0,0,0,0];return L.fromRotation(B,O),L.multiply(x,B,A)}function M(x,A,O){var B=[0,0,0,0,0,0,0,0,0];return L.fromScaling(B,O),L.multiply(x,B,A)}function E(x,A,O){return L.multiply(x,O,A)}function p(x,A){for(var O=x?[].concat(x):[1,0,0,0,1,0,0,0,1],B=0,R=A.length;B<R;B++){var Y=A[B];switch(Y[0]){case"t":T(O,O,[Y[1],Y[2]]);break;case"s":M(O,O,[Y[1],Y[2]]);break;case"r":_(O,O,Y[1]);break;case"m":E(O,O,Y[1]);break;default:break}}return O}function b(x,A){return x[0]*A[1]-A[0]*x[1]}function y(x,A,O){var B=I.angle(x,A),R=b(x,A)>=0;return O?R?Math.PI*2-B:B:R?B:Math.PI*2-B}function w(x,A,O){return O?(x[0]=A[1],x[1]=-1*A[0]):(x[0]=-1*A[1],x[1]=A[0]),x}},19270:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(86031),I=d(62113),P=d(91995),T=d(49171),_=d(84092),M=d(84745),E=d(8198),p=d(36629),b=d(88330),y=function(w){L.__extends(x,w);function x(A){return w.call(this,L.__assign(L.__assign({},A),{autoDraw:!0,renderer:"svg"}))||this}return x.prototype.getShapeBase=function(){return E},x.prototype.getGroupBase=function(){return p.default},x.prototype.getShape=function(A,O,B){var R=B.target||B.srcElement;if(!P.SHAPE_TO_TAGS[R.tagName]){for(var Y=R.parentNode;Y&&!P.SHAPE_TO_TAGS[Y.tagName];)Y=Y.parentNode;R=Y}return this.find(function(j){return j.get("el")===R})},x.prototype.createDom=function(){var A=M.createSVGElement("svg"),O=new b.default(A);return A.setAttribute("width",""+this.get("width")),A.setAttribute("height",""+this.get("height")),this.set("context",O),A},x.prototype.onCanvasChange=function(A){var O=this.get("context"),B=this.get("el");if(A==="sort"){var R=this.get("children");R&&R.length&&M.sortDom(this,function(j,V){return R.indexOf(j)-R.indexOf(V)?1:0})}else if(A==="clear"){if(B){B.innerHTML="";var Y=O.el;Y.innerHTML="",B.appendChild(Y)}}else A==="matrix"?_.setTransform(this):A==="clip"?_.setClip(this,O):A==="changeSize"&&(B.setAttribute("width",""+this.get("width")),B.setAttribute("height",""+this.get("height")))},x.prototype.draw=function(){var A=this.get("context"),O=this.getChildren();_.setClip(this,A),O.length&&T.drawChildren(A,O)},x}(I.AbstractCanvas);S.Z=y},91995:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},14232:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(84745),I=function(){function P(T,_){this.cfg={};var M=L.createSVGElement("marker"),E=m.uniqueId("marker_");M.setAttribute("id",E);var p=L.createSVGElement("path");p.setAttribute("stroke",T.stroke||"none"),p.setAttribute("fill",T.fill||"none"),M.appendChild(p),M.setAttribute("overflow","visible"),M.setAttribute("orient","auto-start-reverse"),this.el=M,this.child=p,this.id=E;var b=T[_==="marker-start"?"startArrow":"endArrow"];return this.stroke=T.stroke||"#000",b===!0?this._setDefaultPath(_,p):(this.cfg=b,this._setMarker(T.lineWidth,p)),this}return P.prototype.match=function(){return!1},P.prototype._setDefaultPath=function(T,_){var M=this.el;_.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),M.setAttribute("refX",""+10*Math.cos(Math.PI/6)),M.setAttribute("refY",""+5)},P.prototype._setMarker=function(T,_){var M=this.el,E=this.cfg.path,p=this.cfg.d;m.isArray(E)&&(E=E.map(function(b){return b.join(" ")}).join("")),_.setAttribute("d",E),M.appendChild(_),p&&M.setAttribute("refX",""+p/T)},P.prototype.update=function(T){var _=this.child;_.attr?_.attr("fill",T):_.setAttribute("fill",T)},P}();S.default=I},32439:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(84745),I=function(){function P(T){this.type="clip",this.cfg={};var _=L.createSVGElement("clipPath");this.el=_,this.id=m.uniqueId("clip_"),_.id=this.id;var M=T.cfg.el;return _.appendChild(M),this.cfg=T,this}return P.prototype.match=function(){return!1},P.prototype.remove=function(){var T=this.el;T.parentNode.removeChild(T)},P}();S.default=I},90362:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(84745),I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function _(b){var y=b.match(T);if(!y)return"";var w="";return y.sort(function(x,A){return x=x.split(":"),A=A.split(":"),Number(x[0])-Number(A[0])}),m.each(y,function(x){x=x.split(":"),w+='<stop offset="'+x[0]+'" stop-color="'+x[1]+'"></stop>'}),w}function M(b,y){var w=I.exec(b),x=m.mod(m.toRadian(parseFloat(w[1])),Math.PI*2),A=w[2],O,B;x>=0&&x<.5*Math.PI?(O={x:0,y:0},B={x:1,y:1}):.5*Math.PI<=x&&x<Math.PI?(O={x:1,y:0},B={x:0,y:1}):Math.PI<=x&&x<1.5*Math.PI?(O={x:1,y:1},B={x:0,y:0}):(O={x:0,y:1},B={x:1,y:0});var R=Math.tan(x),Y=R*R,j=(B.x-O.x+R*(B.y-O.y))/(Y+1)+O.x,V=R*(B.x-O.x+R*(B.y-O.y))/(Y+1)+O.y;y.setAttribute("x1",O.x),y.setAttribute("y1",O.y),y.setAttribute("x2",j),y.setAttribute("y2",V),y.innerHTML=_(A)}function E(b,y){var w=P.exec(b),x=parseFloat(w[1]),A=parseFloat(w[2]),O=parseFloat(w[3]),B=w[4];y.setAttribute("cx",x),y.setAttribute("cy",A),y.setAttribute("r",O),y.innerHTML=_(B)}var p=function(){function b(y){this.cfg={};var w=null,x=m.uniqueId("gradient_");return y.toLowerCase()[0]==="l"?(w=L.createSVGElement("linearGradient"),M(y,w)):(w=L.createSVGElement("radialGradient"),E(y,w)),w.setAttribute("id",x),this.el=w,this.id=x,this.cfg=y,this}return b.prototype.match=function(y,w){return this.cfg===w},b}();S.default=p},88330:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(90362),I=d(50375),P=d(14232),T=d(32439),_=d(99365),M=d(84745),E=function(){function p(b){var y=M.createSVGElement("defs"),w=m.uniqueId("defs_");y.id=w,b.appendChild(y),this.children=[],this.defaultArrow={},this.el=y,this.canvas=b}return p.prototype.find=function(b,y){for(var w=this.children,x=null,A=0;A<w.length;A++)if(w[A].match(b,y)){x=w[A].id;break}return x},p.prototype.findById=function(b){for(var y=this.children,w=null,x=0;x<y.length;x++)if(y[x].id===b){w=y[x];break}return w},p.prototype.add=function(b){this.children.push(b),b.canvas=this.canvas,b.parent=this},p.prototype.getDefaultArrow=function(b,y){var w=b.stroke||b.strokeStyle;if(this.defaultArrow[w])return this.defaultArrow[w].id;var x=new P.default(b,y);return this.defaultArrow[w]=x,this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addGradient=function(b){var y=new L.default(b);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addArrow=function(b,y){var w=new P.default(b,y);return this.el.appendChild(w.el),this.add(w),w.id},p.prototype.addShadow=function(b){var y=new I.default(b);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addPattern=function(b){var y=new _.default(b);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addClip=function(b){var y=new T.default(b);return this.el.appendChild(y.el),this.add(y),y.id},p}();S.default=E},99365:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(84745),I=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,P=function(){function T(_){this.cfg={};var M=L.createSVGElement("pattern");M.setAttribute("patternUnits","userSpaceOnUse");var E=L.createSVGElement("image");M.appendChild(E);var p=m.uniqueId("pattern_");M.id=p,this.el=M,this.id=p,this.cfg=_;var b=I.exec(_),y=b[2];E.setAttribute("href",y);var w=new Image;y.match(/^data:/i)||(w.crossOrigin="Anonymous"),w.src=y;function x(){M.setAttribute("width",""+w.width),M.setAttribute("height",""+w.height)}return w.complete?x():(w.onload=x,w.src=w.src),this}return T.prototype.match=function(_,M){return this.cfg===M},T}();S.default=P},50375:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(84745),I={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},P={x:"-40%",y:"-40%",width:"200%",height:"200%"},T=function(){function _(M){this.type="filter",this.cfg={},this.type="filter";var E=L.createSVGElement("filter");return m.each(P,function(p,b){E.setAttribute(b,p)}),this.el=E,this.id=m.uniqueId("filter_"),this.el.id=this.id,this.cfg=M,this._parseShadow(M,E),this}return _.prototype.match=function(M,E){if(this.type!==M)return!1;var p=!0,b=this.cfg;return m.each(Object.keys(b),function(y){if(b[y]!==E[y])return p=!1,!1}),p},_.prototype.update=function(M,E){var p=this.cfg;return p[I[M]]=E,this._parseShadow(p,this.el),this},_.prototype._parseShadow=function(M,E){var p=`<feDropShadow
      dx="`+(M.dx||0)+`"
      dy="`+(M.dy||0)+`"
      stdDeviation="`+(M.blur?M.blur/10:0)+`"
      flood-color="`+(M.color?M.color:"#000")+`"
      flood-opacity="`+(M.opacity?M.opacity:1)+`"
      />`;E.innerHTML=p},_}();S.default=T},36629:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(62113),I=d(49242),P=d(8198),T=d(49171),_=d(84092),M=d(91995),E=d(84745),p=function(b){m.__extends(y,b);function y(){return b!==null&&b.apply(this,arguments)||this}return y.prototype.isEntityGroup=function(){return!0},y.prototype.createDom=function(){var w=E.createSVGElement("g");this.set("el",w);var x=this.getParent();if(x){var A=x.get("el");A||(A=x.createDom(),x.set("el",A)),A.appendChild(w)}return w},y.prototype.afterAttrsChange=function(w){b.prototype.afterAttrsChange.call(this,w);var x=this.get("canvas");if(x&&x.get("autoDraw")){var A=x.get("context");this.createPath(A,w)}},y.prototype.onCanvasChange=function(w){T.refreshElement(this,w)},y.prototype.getShapeBase=function(){return P},y.prototype.getGroupBase=function(){return y},y.prototype.draw=function(w){var x=this.getChildren(),A=this.get("el");this.get("destroyed")?A&&A.parentNode.removeChild(A):(A||this.createDom(),_.setClip(this,w),this.createPath(w),x.length&&T.drawChildren(w,x))},y.prototype.createPath=function(w,x){var A=this.attr(),O=this.get("el");I.each(x||A,function(B,R){M.SVG_ATTR_MAP[R]&&O.setAttribute(M.SVG_ATTR_MAP[R],B)}),_.setTransform(this)},y}(L.AbstractGroup);S.default=p},5666:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(62113),I=d(84092),P=d(84745),T=d(49171),_=d(91995),M=d(8198),E=d(36629),p=d(62113),b=function(y){m.__extends(w,y);function w(){var x=y!==null&&y.apply(this,arguments)||this;return x.type="svg",x.canFill=!1,x.canStroke=!1,x}return w.prototype.getDefaultAttrs=function(){var x=y.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},x),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.afterAttrsChange=function(x){y.prototype.afterAttrsChange.call(this,x);var A=this.get("canvas");if(A&&A.get("autoDraw")){var O=A.get("context");this.draw(O,x)}},w.prototype.getShapeBase=function(){return M},w.prototype.getGroupBase=function(){return E.default},w.prototype.onCanvasChange=function(x){T.refreshElement(this,x)},w.prototype.calculateBBox=function(){var x=this.get("el"),A=null;if(x)A=x.getBBox();else{var O=p.getBBoxMethod(this.get("type"));O&&(A=O(this))}if(A){var B=A.x,R=A.y,Y=A.width,j=A.height,V=this.getHitLineWidth(),nt=V/2,ct=B-nt,ut=R-nt,Pt=B+Y+nt,Gt=R+j+nt;return{x:ct,y:ut,minX:ct,minY:ut,maxX:Pt,maxY:Gt,width:Y+V,height:j+V}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},w.prototype.isFill=function(){var x=this.attr(),A=x.fill,O=x.fillStyle;return(A||O||this.isClipShape())&&this.canFill},w.prototype.isStroke=function(){var x=this.attr(),A=x.stroke,O=x.strokeStyle;return(A||O)&&this.canStroke},w.prototype.draw=function(x,A){var O=this.get("el");this.get("destroyed")?O&&O.parentNode.removeChild(O):(O||P.createDom(this),I.setClip(this,x),this.createPath(x,A),this.shadow(x,A),this.strokeAndFill(x,A),this.transform(A))},w.prototype.createPath=function(x,A){},w.prototype.strokeAndFill=function(x,A){var O=A||this.attr(),B=O.fill,R=O.fillStyle,Y=O.stroke,j=O.strokeStyle,V=O.fillOpacity,nt=O.strokeOpacity,ct=O.lineWidth,ut=this.get("el");this.canFill&&(A?"fill"in O?this._setColor(x,"fill",B):"fillStyle"in O&&this._setColor(x,"fill",R):this._setColor(x,"fill",B||R),V&&ut.setAttribute(_.SVG_ATTR_MAP.fillOpacity,V)),this.canStroke&&ct>0&&(A?"stroke"in O?this._setColor(x,"stroke",Y):"strokeStyle"in O&&this._setColor(x,"stroke",j):this._setColor(x,"stroke",Y||j),nt&&ut.setAttribute(_.SVG_ATTR_MAP.strokeOpacity,nt),ct&&ut.setAttribute(_.SVG_ATTR_MAP.lineWidth,ct))},w.prototype._setColor=function(x,A,O){var B=this.get("el");if(!O){B.setAttribute(_.SVG_ATTR_MAP[A],"none");return}if(O=O.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(O)){var R=x.find("gradient",O);R||(R=x.addGradient(O)),B.setAttribute(_.SVG_ATTR_MAP[A],"url(#"+R+")")}else if(/^[p,P]{1}[\s]*\(/.test(O)){var R=x.find("pattern",O);R||(R=x.addPattern(O)),B.setAttribute(_.SVG_ATTR_MAP[A],"url(#"+R+")")}else B.setAttribute(_.SVG_ATTR_MAP[A],O)},w.prototype.shadow=function(x,A){var O=this.attr(),B=A||O,R=B.shadowOffsetX,Y=B.shadowOffsetY,j=B.shadowBlur,V=B.shadowColor;(R||Y||j||V)&&I.setShadow(this,x)},w.prototype.transform=function(x){var A=this.attr(),O=(x||A).matrix;O&&I.setTransform(this)},w.prototype.isInShape=function(x,A){return this.isPointInPath(x,A)},w.prototype.isPointInPath=function(x,A){var O=this.get("el"),B=this.get("canvas"),R=B.get("el").getBoundingClientRect(),Y=x+R.left,j=A+R.top,V=document.elementFromPoint(Y,j);return!!(V&&V.isEqualNode(O))},w.prototype.getHitLineWidth=function(){var x=this.attrs,A=x.lineWidth,O=x.lineAppendWidth;return this.isStroke()?A+O:0},w}(L.AbstractShape);S.default=b},41310:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(91995),P=d(5666),T=function(_){m.__extends(M,_);function M(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="circle",E.canFill=!0,E.canStroke=!0,E}return M.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{x:0,y:0,r:0})},M.prototype.createPath=function(E,p){var b=this.attr(),y=this.get("el");L.each(p||b,function(w,x){x==="x"||x==="y"?y.setAttribute("c"+x,w):I.SVG_ATTR_MAP[x]&&y.setAttribute(I.SVG_ATTR_MAP[x],w)})},M}(P.default);S.default=T},88800:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(91995),P=d(5666),T=function(_){m.__extends(M,_);function M(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="dom",E.canFill=!1,E.canStroke=!1,E}return M.prototype.createPath=function(E,p){var b=this.attr(),y=this.get("el");if(L.each(p||b,function(O,B){I.SVG_ATTR_MAP[B]&&y.setAttribute(I.SVG_ATTR_MAP[B],O)}),typeof b.html=="function"){var w=b.html.call(this,b);if(w instanceof Element||w instanceof HTMLDocument){for(var x=y.childNodes,A=x.length-1;A>=0;A--)y.removeChild(x[A]);y.appendChild(w)}else y.innerHTML=w}else y.innerHTML=b.html},M}(P.default);S.default=T},62927:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(91995),P=d(5666),T=function(_){m.__extends(M,_);function M(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="ellipse",E.canFill=!0,E.canStroke=!0,E}return M.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{x:0,y:0,rx:0,ry:0})},M.prototype.createPath=function(E,p){var b=this.attr(),y=this.get("el");L.each(p||b,function(w,x){x==="x"||x==="y"?y.setAttribute("c"+x,w):I.SVG_ATTR_MAP[x]&&y.setAttribute(I.SVG_ATTR_MAP[x],w)})},M}(P.default);S.default=T},78076:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(91995),P=d(5666),T=function(_){m.__extends(M,_);function M(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="image",E.canFill=!1,E.canStroke=!1,E}return M.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{x:0,y:0,width:0,height:0})},M.prototype.createPath=function(E,p){var b=this,y=this.attr(),w=this.get("el");L.each(p||y,function(x,A){A==="img"?b._setImage(y.img):I.SVG_ATTR_MAP[A]&&w.setAttribute(I.SVG_ATTR_MAP[A],x)})},M.prototype.setAttr=function(E,p){this.attrs[E]=p,E==="img"&&this._setImage(p)},M.prototype._setImage=function(E){var p=this.attr(),b=this.get("el");if(L.isString(E))b.setAttribute("href",E);else if(E instanceof window.Image)p.width||(b.setAttribute("width",E.width),this.attr("width",E.width)),p.height||(b.setAttribute("height",E.height),this.attr("height",E.height)),b.setAttribute("href",E.src);else if(E instanceof HTMLElement&&L.isString(E.nodeName)&&E.nodeName.toUpperCase()==="CANVAS")b.setAttribute("href",E.toDataURL());else if(E instanceof ImageData){var y=document.createElement("canvas");y.setAttribute("width",""+E.width),y.setAttribute("height",""+E.height),y.getContext("2d").putImageData(E,0,0),p.width||(b.setAttribute("width",""+E.width),this.attr("width",E.width)),p.height||(b.setAttribute("height",""+E.height),this.attr("height",E.height)),b.setAttribute("href",y.toDataURL())}},M}(P.default);S.default=T},8198:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(5666);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return m.default}});var L=d(41310);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return L.default}});var I=d(88800);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return I.default}});var P=d(62927);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return P.default}});var T=d(78076);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return T.default}});var _=d(22059);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return _.default}});var M=d(62116);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return M.default}});var E=d(49582);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var p=d(17498);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var b=d(67478);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return b.default}});var y=d(79705);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return y.default}});var w=d(61622);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return w.default}})},22059:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(89838),I=d(49242),P=d(91995),T=d(5666),_=function(M){m.__extends(E,M);function E(){var p=M!==null&&M.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.createPath=function(p,b){var y=this.attr(),w=this.get("el");I.each(b||y,function(x,A){if(A==="startArrow"||A==="endArrow")if(x){var O=I.isObject(x)?p.addArrow(y,P.SVG_ATTR_MAP[A]):p.getDefaultArrow(y,P.SVG_ATTR_MAP[A]);w.setAttribute(P.SVG_ATTR_MAP[A],"url(#"+O+")")}else w.removeAttribute(P.SVG_ATTR_MAP[A]);else P.SVG_ATTR_MAP[A]&&w.setAttribute(P.SVG_ATTR_MAP[A],x)})},E.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,y=p.y1,w=p.x2,x=p.y2;return L.Line.length(b,y,w,x)},E.prototype.getPoint=function(p){var b=this.attr(),y=b.x1,w=b.y1,x=b.x2,A=b.y2;return L.Line.pointAt(y,w,x,A,p)},E}(T.default);S.default=_},62116:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(5666),P=d(56205),T=function(_){m.__extends(M,_);function M(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="marker",E.canFill=!0,E.canStroke=!0,E}return M.prototype.createPath=function(E){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},M.prototype._assembleMarker=function(){var E=this._getPath();return L.isArray(E)?E.map(function(p){return p.join(" ")}).join(""):E},M.prototype._getPath=function(){var E=this.attr(),p=E.x,b=E.y,y=E.r||E.radius,w=E.symbol||"circle",x;return L.isFunction(w)?x=w:x=P.default.get(w),x?x(p,b,y):(console.warn(x+" symbol is not exist."),null)},M.symbolsFactory=P.default,M}(I.default);S.default=T},56205:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={circle:function(m,L,I){return[["M",m,L],["m",-I,0],["a",I,I,0,1,0,I*2,0],["a",I,I,0,1,0,-I*2,0]]},square:function(m,L,I){return[["M",m-I,L-I],["L",m+I,L-I],["L",m+I,L+I],["L",m-I,L+I],["Z"]]},diamond:function(m,L,I){return[["M",m-I,L],["L",m,L-I],["L",m+I,L],["L",m,L+I],["Z"]]},triangle:function(m,L,I){var P=I*Math.sin(1/3*Math.PI);return[["M",m-I,L+P],["L",m,L-P],["L",m+I,L+P],["z"]]},triangleDown:function(m,L,I){var P=I*Math.sin(1/3*Math.PI);return[["M",m-I,L-P],["L",m+I,L-P],["L",m,L+P],["Z"]]}};S.default={get:function(m){return d[m]},register:function(m,L){d[m]=L},remove:function(m){delete d[m]},getAll:function(){return d}}},49582:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(91995),P=d(5666),T=function(_){m.__extends(M,_);function M(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="path",E.canFill=!0,E.canStroke=!0,E}return M.prototype.getDefaultAttrs=function(){var E=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{startArrow:!1,endArrow:!1})},M.prototype.createPath=function(E,p){var b=this,y=this.attr(),w=this.get("el");L.each(p||y,function(x,A){if(A==="path"&&L.isArray(x))w.setAttribute("d",b._formatPath(x));else if(A==="startArrow"||A==="endArrow")if(x){var O=L.isObject(x)?E.addArrow(y,I.SVG_ATTR_MAP[A]):E.getDefaultArrow(y,I.SVG_ATTR_MAP[A]);w.setAttribute(I.SVG_ATTR_MAP[A],"url(#"+O+")")}else w.removeAttribute(I.SVG_ATTR_MAP[A]);else I.SVG_ATTR_MAP[A]&&w.setAttribute(I.SVG_ATTR_MAP[A],x)})},M.prototype._formatPath=function(E){var p=E.map(function(b){return b.join(" ")}).join("");return~p.indexOf("NaN")?"":p},M.prototype.getTotalLength=function(){var E=this.get("el");return E?E.getTotalLength():null},M.prototype.getPoint=function(E){var p=this.get("el"),b=this.getTotalLength();if(b===0)return null;var y=p?p.getPointAtLength(E*b):null;return y?{x:y.x,y:y.y}:null},M}(P.default);S.default=T},17498:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(91995),P=d(5666),T=function(_){m.__extends(M,_);function M(){var E=_!==null&&_.apply(this,arguments)||this;return E.type="polygon",E.canFill=!0,E.canStroke=!0,E}return M.prototype.createPath=function(E,p){var b=this.attr(),y=this.get("el");L.each(p||b,function(w,x){x==="points"&&L.isArray(w)&&w.length>=2?y.setAttribute("points",w.map(function(A){return A[0]+","+A[1]}).join(" ")):I.SVG_ATTR_MAP[x]&&y.setAttribute(I.SVG_ATTR_MAP[x],w)})},M}(P.default);S.default=T},67478:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(89838),I=d(89838),P=d(49242),T=d(91995),_=d(5666),M=function(E){m.__extends(p,E);function p(){var b=E!==null&&E.apply(this,arguments)||this;return b.type="polyline",b.canFill=!0,b.canStroke=!0,b}return p.prototype.getDefaultAttrs=function(){var b=E.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},b),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(b,y,w){E.prototype.onAttrChange.call(this,b,y,w),["points"].indexOf(b)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(b,y){var w=this.attr(),x=this.get("el");P.each(y||w,function(A,O){O==="points"&&P.isArray(A)&&A.length>=2?x.setAttribute("points",A.map(function(B){return B[0]+","+B[1]}).join(" ")):T.SVG_ATTR_MAP[O]&&x.setAttribute(T.SVG_ATTR_MAP[O],A)})},p.prototype.getTotalLength=function(){var b=this.attr().points,y=this.get("totalLength");return P.isNil(y)?(this.set("totalLength",L.Polyline.length(b)),this.get("totalLength")):y},p.prototype.getPoint=function(b){var y=this.attr().points,w=this.get("tCache");w||(this._setTcache(),w=this.get("tCache"));var x,A;return P.each(w,function(O,B){b>=O[0]&&b<=O[1]&&(x=(b-O[0])/(O[1]-O[0]),A=B)}),I.Line.pointAt(y[A][0],y[A][1],y[A+1][0],y[A+1][1],x)},p.prototype._setTcache=function(){var b=this.attr().points;if(!(!b||b.length===0)){var y=this.getTotalLength();if(!(y<=0)){var w=0,x=[],A,O;P.each(b,function(B,R){b[R+1]&&(A=[],A[0]=w/y,O=I.Line.length(B[0],B[1],b[R+1][0],b[R+1][1]),w+=O,A[1]=w/y,x.push(A))}),this.set("tCache",x)}}},p.prototype.getStartTangent=function(){var b=this.attr().points,y=[];return y.push([b[1][0],b[1][1]]),y.push([b[0][0],b[0][1]]),y},p.prototype.getEndTangent=function(){var b=this.attr().points,y=b.length-1,w=[];return w.push([b[y-1][0],b[y-1][1]]),w.push([b[y][0],b[y][1]]),w},p}(_.default);S.default=M},79705:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(5666),P=d(91995),T=d(19544),_=function(M){m.__extends(E,M);function E(){var p=M!==null&&M.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=M.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},E.prototype.createPath=function(p,b){var y=this,w=this.attr(),x=this.get("el"),A=!1,O=["x","y","width","height","radius"];L.each(b||w,function(B,R){O.indexOf(R)!==-1&&!A?(x.setAttribute("d",y._assembleRect(w)),A=!0):O.indexOf(R)===-1&&P.SVG_ATTR_MAP[R]&&x.setAttribute(P.SVG_ATTR_MAP[R],B)})},E.prototype._assembleRect=function(p){var b=p.x,y=p.y,w=p.width,x=p.height,A=p.radius;if(!A)return"M "+b+","+y+" l "+w+",0 l 0,"+x+" l"+-w+" 0 z";var O=T.parseRadius(A);L.isArray(A)?A.length===1?O.r1=O.r2=O.r3=O.r4=A[0]:A.length===2?(O.r1=O.r3=A[0],O.r2=O.r4=A[1]):A.length===3?(O.r1=A[0],O.r2=O.r4=A[1],O.r3=A[2]):(O.r1=A[0],O.r2=A[1],O.r3=A[2],O.r4=A[3]):O.r1=O.r2=O.r3=O.r4=A;var B=[["M "+(b+O.r1)+","+y],["l "+(w-O.r1-O.r2)+",0"],["a "+O.r2+","+O.r2+",0,0,1,"+O.r2+","+O.r2],["l 0,"+(x-O.r2-O.r3)],["a "+O.r3+","+O.r3+",0,0,1,"+-O.r3+","+O.r3],["l "+(O.r3+O.r4-w)+",0"],["a "+O.r4+","+O.r4+",0,0,1,"+-O.r4+","+-O.r4],["l 0,"+(O.r4+O.r1-x)],["a "+O.r1+","+O.r1+",0,0,1,"+O.r1+","+-O.r1],["z"]];return B.join(" ")},E}(I.default);S.default=_},61622:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),L=d(49242),I=d(43631),P=d(84092),T=d(91995),_=d(5666),M=.3,E={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},b={left:"left",start:"left",center:"middle",right:"end",end:"end"},y=function(w){m.__extends(x,w);function x(){var A=w!==null&&w.apply(this,arguments)||this;return A.type="text",A.canFill=!0,A.canStroke=!0,A}return x.prototype.getDefaultAttrs=function(){var A=w.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},A),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},x.prototype.createPath=function(A,O){var B=this,R=this.attr(),Y=this.get("el");this._setFont(),L.each(O||R,function(j,V){V==="text"?B._setText(""+j):V==="matrix"&&j?P.setTransform(B):T.SVG_ATTR_MAP[V]&&Y.setAttribute(T.SVG_ATTR_MAP[V],j)}),Y.setAttribute("paint-order","stroke"),Y.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},x.prototype._setFont=function(){var A=this.get("el"),O=this.attr(),B=O.textBaseline,R=O.textAlign,Y=I.detect();Y&&Y.name==="firefox"?A.setAttribute("dominant-baseline",p[B]||"alphabetic"):A.setAttribute("alignment-baseline",E[B]||"baseline"),A.setAttribute("text-anchor",b[R]||"left")},x.prototype._setText=function(A){var O=this.get("el"),B=this.attr(),R=B.x,Y=B.textBaseline,j=Y===void 0?"bottom":Y;if(!A)O.innerHTML="";else if(~A.indexOf(`
`)){var V=A.split(`
`),nt=V.length-1,ct="";L.each(V,function(ut,Pt){Pt===0?j==="alphabetic"?ct+='<tspan x="'+R+'" dy="'+-nt+'em">'+ut+"</tspan>":j==="top"?ct+='<tspan x="'+R+'" dy="0.9em">'+ut+"</tspan>":j==="middle"?ct+='<tspan x="'+R+'" dy="'+-(nt-1)/2+'em">'+ut+"</tspan>":j==="bottom"?ct+='<tspan x="'+R+'" dy="-'+(nt+M)+'em">'+ut+"</tspan>":j==="hanging"&&(ct+='<tspan x="'+R+'" dy="'+(-(nt-1)-M)+'em">'+ut+"</tspan>"):ct+='<tspan x="'+R+'" dy="1em">'+ut+"</tspan>"}),O.innerHTML=ct}else O.innerHTML=A},x}(_.default);S.default=y},84745:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var m=d(49242),L=d(91995);function I(M){return document.createElementNS("http://www.w3.org/2000/svg",M)}S.createSVGElement=I;function P(M){var E=L.SHAPE_TO_TAGS[M.type],p=M.getParent();if(!E)throw new Error("the type "+M.type+" is not supported by svg");var b=I(E);if(M.get("id")&&(b.id=M.get("id")),M.set("el",b),M.set("attrs",{}),p){var y=p.get("el");y||(y=p.createDom(),p.set("el",y)),y.appendChild(b)}return b}S.createDom=P;function T(M,E){var p=M.get("el"),b=m.toArray(p.children).sort(E),y=document.createDocumentFragment();b.forEach(function(w){y.appendChild(w)}),p.appendChild(y)}S.sortDom=T;function _(M,E){var p=M.parentNode,b=Array.from(p.childNodes).filter(function(A){return A.nodeType===1&&A.nodeName.toLowerCase()!=="defs"}),y=b[E],w=b.indexOf(M);if(y){if(w>E)p.insertBefore(M,y);else if(w<E){var x=b[E+1];x?p.insertBefore(M,x):p.appendChild(M)}}else p.appendChild(M)}S.moveTo=_},49171:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var m=d(84092),L=d(84745);function I(T,_){_.forEach(function(M){M.draw(T)})}S.drawChildren=I;function P(T,_){var M=T.get("canvas");if(M&&M.get("autoDraw")){var E=M.get("context"),p=T.getParent(),b=p?p.getChildren():[M],y=T.get("el");if(_==="remove"){var w=T.get("isClipShape");if(w){var x=y&&y.parentNode,A=x&&x.parentNode;x&&A&&A.removeChild(x)}else y&&y.parentNode&&y.parentNode.removeChild(y)}else if(_==="show")y.setAttribute("visibility","visible");else if(_==="hide")y.setAttribute("visibility","hidden");else if(_==="zIndex")L.moveTo(y,b.indexOf(T));else if(_==="sort"){var O=T.get("children");O&&O.length&&L.sortDom(T,function(B,R){return O.indexOf(B)-O.indexOf(R)?1:0})}else _==="clear"?y&&(y.innerHTML=""):_==="matrix"?m.setTransform(T):_==="clip"?m.setClip(T,E):_==="attr"||_==="add"&&T.draw(E)}}S.refreshElement=P},19544:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var m=d(49242),L=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,I=/[^\s,]+/gi;function P(_){var M=0,E=0,p=0,b=0;return m.isArray(_)?_.length===1?M=E=p=b=_[0]:_.length===2?(M=p=_[0],E=b=_[1]):_.length===3?(M=_[0],E=b=_[1],p=_[2]):(M=_[0],E=_[1],p=_[2],b=_[3]):M=E=p=b=_,{r1:M,r2:E,r3:p,r4:b}}S.parseRadius=P;function T(_){if(_=_||[],m.isArray(_))return _;if(m.isString(_))return _=_.match(L),m.each(_,function(M,E){if(M=M.match(I),M[0].length>1){var p=M[0].charAt(0);M.splice(1,0,M[0].substr(1)),M[0]=p}m.each(M,function(b,y){isNaN(b)||(M[y]=+b)}),_[E]=M}),_}S.parsePath=T},84092:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var m=d(84745);function L(T,_){var M=T.cfg.el,E=T.attr(),p={dx:E.shadowOffsetX,dy:E.shadowOffsetY,blur:E.shadowBlur,color:E.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)M.removeAttribute("filter");else{var b=_.find("filter",p);b||(b=_.addShadow(p)),M.setAttribute("filter","url(#"+b+")")}}S.setShadow=L;function I(T){var _=T.attr().matrix;if(_){for(var M=T.cfg.el,E=[],p=0;p<9;p+=3)E.push(_[p]+","+_[p+1]);E=E.join(","),E.indexOf("NaN")===-1?M.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",_)}}S.setTransform=I;function P(T,_){var M=T.getClip(),E=T.get("el");if(!M)E.removeAttribute("clip-path");else if(M&&!E.hasAttribute("clip-path")){m.createDom(M),M.createPath(_);var p=_.addClip(M);E.setAttribute("clip-path","url(#"+p+")")}}S.setClip=P},27549:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(7802);S.wO=L.default;var I=d(89193);m=I.default;var P=d(98543);m=P.default;var T=d(34532);S.vs=T.default},7802:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(31502);m.translate=function(L,I,P){var T=new Array(9);return m.fromTranslation(T,P),m.multiply(L,T,I)},m.rotate=function(L,I,P){var T=new Array(9);return m.fromRotation(T,P),m.multiply(L,T,I)},m.scale=function(L,I,P){var T=new Array(9);return m.fromScaling(T,P),m.multiply(L,T,I)},m.transform=function(L,I){for(var P=[].concat(L),T=0,_=I.length;T<_;T++){var M=I[T];switch(M[0]){case"t":m.translate(P,P,[M[1],M[2]]);break;case"s":m.scale(P,P,[M[1],M[2]]);break;case"r":m.rotate(P,P,M[1]);break;default:break}}return P},S.default=m},34532:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=d(7802);S.default=function(I,P){var T=I?m.clone(I):[1,0,0,0,1,0,0,0,1];return m.each(P,function(_){switch(_[0]){case"t":L.default.translate(T,T,[_[1],_[2]]);break;case"s":L.default.scale(T,T,[_[1],_[2]]);break;case"r":L.default.rotate(T,T,_[1]);break;case"m":L.default.multiply(T,T,_[1]);break;default:return!1}}),T}},89193:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76172),L=d(49242);m.angle=function(I,P){var T=m.dot(I,P)/(m.length(I)*m.length(P));return Math.acos(L.clamp(T,-1,1))},m.direction=function(I,P){return I[0]*P[1]-P[0]*I[1]},m.angleTo=function(I,P,T){var _=m.angle(I,P),M=m.direction(I,P)>=0;return T?M?Math.PI*2-_:_:M?_:Math.PI*2-_},m.vertical=function(I,P,T){return T?(I[0]=P[1],I[1]=-1*P[0]):(I[0]=-1*P[1],I[1]=P[0]),I},S.default=m},98543:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(88395);S.default=m},86031:function(mt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return _},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return w},__read:function(){return x},__spread:function(){return A},__spreadArrays:function(){return O},__spreadArray:function(){return B},__await:function(){return R},__asyncGenerator:function(){return Y},__asyncDelegator:function(){return j},__asyncValues:function(){return V},__makeTemplateObject:function(){return nt},__importStar:function(){return ut},__importDefault:function(){return Pt},__classPrivateFieldGet:function(){return Gt},__classPrivateFieldSet:function(){return qt},__classPrivateFieldIn:function(){return Rt}});var m=function(at,vt){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ot,Et){ot.__proto__=Et}||function(ot,Et){for(var dt in Et)Object.prototype.hasOwnProperty.call(Et,dt)&&(ot[dt]=Et[dt])},m(at,vt)};function L(at,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Class extends value "+String(vt)+" is not a constructor or null");m(at,vt);function ot(){this.constructor=at}at.prototype=vt===null?Object.create(vt):(ot.prototype=vt.prototype,new ot)}var I=function(){return I=Object.assign||function(vt){for(var ot,Et=1,dt=arguments.length;Et<dt;Et++){ot=arguments[Et];for(var X in ot)Object.prototype.hasOwnProperty.call(ot,X)&&(vt[X]=ot[X])}return vt},I.apply(this,arguments)};function P(at,vt){var ot={};for(var Et in at)Object.prototype.hasOwnProperty.call(at,Et)&&vt.indexOf(Et)<0&&(ot[Et]=at[Et]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,Et=Object.getOwnPropertySymbols(at);dt<Et.length;dt++)vt.indexOf(Et[dt])<0&&Object.prototype.propertyIsEnumerable.call(at,Et[dt])&&(ot[Et[dt]]=at[Et[dt]]);return ot}function T(at,vt,ot,Et){var dt=arguments.length,X=dt<3?vt:Et===null?Et=Object.getOwnPropertyDescriptor(vt,ot):Et,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(at,vt,ot,Et);else for(var H=at.length-1;H>=0;H--)($=at[H])&&(X=(dt<3?$(X):dt>3?$(vt,ot,X):$(vt,ot))||X);return dt>3&&X&&Object.defineProperty(vt,ot,X),X}function _(at,vt){return function(ot,Et){vt(ot,Et,at)}}function M(at,vt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(at,vt)}function E(at,vt,ot,Et){function dt(X){return X instanceof ot?X:new ot(function($){$(X)})}return new(ot||(ot=Promise))(function(X,$){function H(Mt){try{xt(Et.next(Mt))}catch(Ut){$(Ut)}}function f(Mt){try{xt(Et.throw(Mt))}catch(Ut){$(Ut)}}function xt(Mt){Mt.done?X(Mt.value):dt(Mt.value).then(H,f)}xt((Et=Et.apply(at,vt||[])).next())})}function p(at,vt){var ot={label:0,sent:function(){if(X[0]&1)throw X[1];return X[1]},trys:[],ops:[]},Et,dt,X,$;return $={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function H(xt){return function(Mt){return f([xt,Mt])}}function f(xt){if(Et)throw new TypeError("Generator is already executing.");for(;ot;)try{if(Et=1,dt&&(X=xt[0]&2?dt.return:xt[0]?dt.throw||((X=dt.return)&&X.call(dt),0):dt.next)&&!(X=X.call(dt,xt[1])).done)return X;switch(dt=0,X&&(xt=[xt[0]&2,X.value]),xt[0]){case 0:case 1:X=xt;break;case 4:return ot.label++,{value:xt[1],done:!1};case 5:ot.label++,dt=xt[1],xt=[0];continue;case 7:xt=ot.ops.pop(),ot.trys.pop();continue;default:if(X=ot.trys,!(X=X.length>0&&X[X.length-1])&&(xt[0]===6||xt[0]===2)){ot=0;continue}if(xt[0]===3&&(!X||xt[1]>X[0]&&xt[1]<X[3])){ot.label=xt[1];break}if(xt[0]===6&&ot.label<X[1]){ot.label=X[1],X=xt;break}if(X&&ot.label<X[2]){ot.label=X[2],ot.ops.push(xt);break}X[2]&&ot.ops.pop(),ot.trys.pop();continue}xt=vt.call(at,ot)}catch(Mt){xt=[6,Mt],dt=0}finally{Et=X=0}if(xt[0]&5)throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}}var b=Object.create?function(at,vt,ot,Et){Et===void 0&&(Et=ot);var dt=Object.getOwnPropertyDescriptor(vt,ot);(!dt||("get"in dt?!vt.__esModule:dt.writable||dt.configurable))&&(dt={enumerable:!0,get:function(){return vt[ot]}}),Object.defineProperty(at,Et,dt)}:function(at,vt,ot,Et){Et===void 0&&(Et=ot),at[Et]=vt[ot]};function y(at,vt){for(var ot in at)ot!=="default"&&!Object.prototype.hasOwnProperty.call(vt,ot)&&b(vt,at,ot)}function w(at){var vt=typeof Symbol=="function"&&Symbol.iterator,ot=vt&&at[vt],Et=0;if(ot)return ot.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&Et>=at.length&&(at=void 0),{value:at&&at[Et++],done:!at}}};throw new TypeError(vt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(at,vt){var ot=typeof Symbol=="function"&&at[Symbol.iterator];if(!ot)return at;var Et=ot.call(at),dt,X=[],$;try{for(;(vt===void 0||vt-- >0)&&!(dt=Et.next()).done;)X.push(dt.value)}catch(H){$={error:H}}finally{try{dt&&!dt.done&&(ot=Et.return)&&ot.call(Et)}finally{if($)throw $.error}}return X}function A(){for(var at=[],vt=0;vt<arguments.length;vt++)at=at.concat(x(arguments[vt]));return at}function O(){for(var at=0,vt=0,ot=arguments.length;vt<ot;vt++)at+=arguments[vt].length;for(var Et=Array(at),dt=0,vt=0;vt<ot;vt++)for(var X=arguments[vt],$=0,H=X.length;$<H;$++,dt++)Et[dt]=X[$];return Et}function B(at,vt,ot){if(ot||arguments.length===2)for(var Et=0,dt=vt.length,X;Et<dt;Et++)(X||!(Et in vt))&&(X||(X=Array.prototype.slice.call(vt,0,Et)),X[Et]=vt[Et]);return at.concat(X||Array.prototype.slice.call(vt))}function R(at){return this instanceof R?(this.v=at,this):new R(at)}function Y(at,vt,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et=ot.apply(at,vt||[]),dt,X=[];return dt={},$("next"),$("throw"),$("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function $(re){Et[re]&&(dt[re]=function(zt){return new Promise(function(ne,ae){X.push([re,zt,ne,ae])>1||H(re,zt)})})}function H(re,zt){try{f(Et[re](zt))}catch(ne){Ut(X[0][3],ne)}}function f(re){re.value instanceof R?Promise.resolve(re.value.v).then(xt,Mt):Ut(X[0][2],re)}function xt(re){H("next",re)}function Mt(re){H("throw",re)}function Ut(re,zt){re(zt),X.shift(),X.length&&H(X[0][0],X[0][1])}}function j(at){var vt,ot;return vt={},Et("next"),Et("throw",function(dt){throw dt}),Et("return"),vt[Symbol.iterator]=function(){return this},vt;function Et(dt,X){vt[dt]=at[dt]?function($){return(ot=!ot)?{value:R(at[dt]($)),done:dt==="return"}:X?X($):$}:X}}function V(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt=at[Symbol.asyncIterator],ot;return vt?vt.call(at):(at=typeof w=="function"?w(at):at[Symbol.iterator](),ot={},Et("next"),Et("throw"),Et("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function Et(X){ot[X]=at[X]&&function($){return new Promise(function(H,f){$=at[X]($),dt(H,f,$.done,$.value)})}}function dt(X,$,H,f){Promise.resolve(f).then(function(xt){X({value:xt,done:H})},$)}}function nt(at,vt){return Object.defineProperty?Object.defineProperty(at,"raw",{value:vt}):at.raw=vt,at}var ct=Object.create?function(at,vt){Object.defineProperty(at,"default",{enumerable:!0,value:vt})}:function(at,vt){at.default=vt};function ut(at){if(at&&at.__esModule)return at;var vt={};if(at!=null)for(var ot in at)ot!=="default"&&Object.prototype.hasOwnProperty.call(at,ot)&&b(vt,at,ot);return ct(vt,at),vt}function Pt(at){return at&&at.__esModule?at:{default:at}}function Gt(at,vt,ot,Et){if(ot==="a"&&!Et)throw new TypeError("Private accessor was defined without a getter");if(typeof vt=="function"?at!==vt||!Et:!vt.has(at))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ot==="m"?Et:ot==="a"?Et.call(at):Et?Et.value:vt.get(at)}function qt(at,vt,ot,Et,dt){if(Et==="m")throw new TypeError("Private method is not writable");if(Et==="a"&&!dt)throw new TypeError("Private accessor was defined without a setter");if(typeof vt=="function"?at!==vt||!dt:!vt.has(at))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Et==="a"?dt.call(at,ot):dt?dt.value=ot:vt.set(at,ot),ot}function Rt(at,vt){if(vt===null||typeof vt!="object"&&typeof vt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof at=="function"?vt===at:at.has(vt)}},74988:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=I,S.toRadian=T,S.equals=_;var d=S.EPSILON=1e-6,m=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,L=S.RANDOM=Math.random;function I(M){S.ARRAY_TYPE=m=M}var P=Math.PI/180;function T(M){return M*P}function _(M,E){return Math.abs(M-E)<=d*Math.max(1,Math.abs(M),Math.abs(E))}},31502:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=P,S.fromMat4=T,S.clone=_,S.copy=M,S.fromValues=E,S.set=p,S.identity=b,S.transpose=y,S.invert=w,S.adjoint=x,S.determinant=A,S.multiply=O,S.translate=B,S.rotate=R,S.scale=Y,S.fromTranslation=j,S.fromRotation=V,S.fromScaling=nt,S.fromMat2d=ct,S.fromQuat=ut,S.normalFromMat4=Pt,S.projection=Gt,S.str=qt,S.frob=Rt,S.add=at,S.subtract=vt,S.multiplyScalar=ot,S.multiplyScalarAndAdd=Et,S.exactEquals=dt,S.equals=X;var m=d(74988),L=I(m);function I(f){if(f&&f.__esModule)return f;var xt={};if(f!=null)for(var Mt in f)Object.prototype.hasOwnProperty.call(f,Mt)&&(xt[Mt]=f[Mt]);return xt.default=f,xt}function P(){var f=new L.ARRAY_TYPE(9);return L.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function T(f,xt){return f[0]=xt[0],f[1]=xt[1],f[2]=xt[2],f[3]=xt[4],f[4]=xt[5],f[5]=xt[6],f[6]=xt[8],f[7]=xt[9],f[8]=xt[10],f}function _(f){var xt=new L.ARRAY_TYPE(9);return xt[0]=f[0],xt[1]=f[1],xt[2]=f[2],xt[3]=f[3],xt[4]=f[4],xt[5]=f[5],xt[6]=f[6],xt[7]=f[7],xt[8]=f[8],xt}function M(f,xt){return f[0]=xt[0],f[1]=xt[1],f[2]=xt[2],f[3]=xt[3],f[4]=xt[4],f[5]=xt[5],f[6]=xt[6],f[7]=xt[7],f[8]=xt[8],f}function E(f,xt,Mt,Ut,re,zt,ne,ae,Dt){var Tt=new L.ARRAY_TYPE(9);return Tt[0]=f,Tt[1]=xt,Tt[2]=Mt,Tt[3]=Ut,Tt[4]=re,Tt[5]=zt,Tt[6]=ne,Tt[7]=ae,Tt[8]=Dt,Tt}function p(f,xt,Mt,Ut,re,zt,ne,ae,Dt,Tt){return f[0]=xt,f[1]=Mt,f[2]=Ut,f[3]=re,f[4]=zt,f[5]=ne,f[6]=ae,f[7]=Dt,f[8]=Tt,f}function b(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function y(f,xt){if(f===xt){var Mt=xt[1],Ut=xt[2],re=xt[5];f[1]=xt[3],f[2]=xt[6],f[3]=Mt,f[5]=xt[7],f[6]=Ut,f[7]=re}else f[0]=xt[0],f[1]=xt[3],f[2]=xt[6],f[3]=xt[1],f[4]=xt[4],f[5]=xt[7],f[6]=xt[2],f[7]=xt[5],f[8]=xt[8];return f}function w(f,xt){var Mt=xt[0],Ut=xt[1],re=xt[2],zt=xt[3],ne=xt[4],ae=xt[5],Dt=xt[6],Tt=xt[7],pt=xt[8],Q=pt*ne-ae*Tt,K=-pt*zt+ae*Dt,lt=Tt*zt-ne*Dt,U=Mt*Q+Ut*K+re*lt;return U?(U=1/U,f[0]=Q*U,f[1]=(-pt*Ut+re*Tt)*U,f[2]=(ae*Ut-re*ne)*U,f[3]=K*U,f[4]=(pt*Mt-re*Dt)*U,f[5]=(-ae*Mt+re*zt)*U,f[6]=lt*U,f[7]=(-Tt*Mt+Ut*Dt)*U,f[8]=(ne*Mt-Ut*zt)*U,f):null}function x(f,xt){var Mt=xt[0],Ut=xt[1],re=xt[2],zt=xt[3],ne=xt[4],ae=xt[5],Dt=xt[6],Tt=xt[7],pt=xt[8];return f[0]=ne*pt-ae*Tt,f[1]=re*Tt-Ut*pt,f[2]=Ut*ae-re*ne,f[3]=ae*Dt-zt*pt,f[4]=Mt*pt-re*Dt,f[5]=re*zt-Mt*ae,f[6]=zt*Tt-ne*Dt,f[7]=Ut*Dt-Mt*Tt,f[8]=Mt*ne-Ut*zt,f}function A(f){var xt=f[0],Mt=f[1],Ut=f[2],re=f[3],zt=f[4],ne=f[5],ae=f[6],Dt=f[7],Tt=f[8];return xt*(Tt*zt-ne*Dt)+Mt*(-Tt*re+ne*ae)+Ut*(Dt*re-zt*ae)}function O(f,xt,Mt){var Ut=xt[0],re=xt[1],zt=xt[2],ne=xt[3],ae=xt[4],Dt=xt[5],Tt=xt[6],pt=xt[7],Q=xt[8],K=Mt[0],lt=Mt[1],U=Mt[2],W=Mt[3],wt=Mt[4],Lt=Mt[5],Wt=Mt[6],oe=Mt[7],Se=Mt[8];return f[0]=K*Ut+lt*ne+U*Tt,f[1]=K*re+lt*ae+U*pt,f[2]=K*zt+lt*Dt+U*Q,f[3]=W*Ut+wt*ne+Lt*Tt,f[4]=W*re+wt*ae+Lt*pt,f[5]=W*zt+wt*Dt+Lt*Q,f[6]=Wt*Ut+oe*ne+Se*Tt,f[7]=Wt*re+oe*ae+Se*pt,f[8]=Wt*zt+oe*Dt+Se*Q,f}function B(f,xt,Mt){var Ut=xt[0],re=xt[1],zt=xt[2],ne=xt[3],ae=xt[4],Dt=xt[5],Tt=xt[6],pt=xt[7],Q=xt[8],K=Mt[0],lt=Mt[1];return f[0]=Ut,f[1]=re,f[2]=zt,f[3]=ne,f[4]=ae,f[5]=Dt,f[6]=K*Ut+lt*ne+Tt,f[7]=K*re+lt*ae+pt,f[8]=K*zt+lt*Dt+Q,f}function R(f,xt,Mt){var Ut=xt[0],re=xt[1],zt=xt[2],ne=xt[3],ae=xt[4],Dt=xt[5],Tt=xt[6],pt=xt[7],Q=xt[8],K=Math.sin(Mt),lt=Math.cos(Mt);return f[0]=lt*Ut+K*ne,f[1]=lt*re+K*ae,f[2]=lt*zt+K*Dt,f[3]=lt*ne-K*Ut,f[4]=lt*ae-K*re,f[5]=lt*Dt-K*zt,f[6]=Tt,f[7]=pt,f[8]=Q,f}function Y(f,xt,Mt){var Ut=Mt[0],re=Mt[1];return f[0]=Ut*xt[0],f[1]=Ut*xt[1],f[2]=Ut*xt[2],f[3]=re*xt[3],f[4]=re*xt[4],f[5]=re*xt[5],f[6]=xt[6],f[7]=xt[7],f[8]=xt[8],f}function j(f,xt){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=xt[0],f[7]=xt[1],f[8]=1,f}function V(f,xt){var Mt=Math.sin(xt),Ut=Math.cos(xt);return f[0]=Ut,f[1]=Mt,f[2]=0,f[3]=-Mt,f[4]=Ut,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function nt(f,xt){return f[0]=xt[0],f[1]=0,f[2]=0,f[3]=0,f[4]=xt[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function ct(f,xt){return f[0]=xt[0],f[1]=xt[1],f[2]=0,f[3]=xt[2],f[4]=xt[3],f[5]=0,f[6]=xt[4],f[7]=xt[5],f[8]=1,f}function ut(f,xt){var Mt=xt[0],Ut=xt[1],re=xt[2],zt=xt[3],ne=Mt+Mt,ae=Ut+Ut,Dt=re+re,Tt=Mt*ne,pt=Ut*ne,Q=Ut*ae,K=re*ne,lt=re*ae,U=re*Dt,W=zt*ne,wt=zt*ae,Lt=zt*Dt;return f[0]=1-Q-U,f[3]=pt-Lt,f[6]=K+wt,f[1]=pt+Lt,f[4]=1-Tt-U,f[7]=lt-W,f[2]=K-wt,f[5]=lt+W,f[8]=1-Tt-Q,f}function Pt(f,xt){var Mt=xt[0],Ut=xt[1],re=xt[2],zt=xt[3],ne=xt[4],ae=xt[5],Dt=xt[6],Tt=xt[7],pt=xt[8],Q=xt[9],K=xt[10],lt=xt[11],U=xt[12],W=xt[13],wt=xt[14],Lt=xt[15],Wt=Mt*ae-Ut*ne,oe=Mt*Dt-re*ne,Se=Mt*Tt-zt*ne,Ye=Ut*Dt-re*ae,te=Ut*Tt-zt*ae,ge=re*Tt-zt*Dt,_e=pt*W-Q*U,Ne=pt*wt-K*U,or=pt*Lt-lt*U,je=Q*wt-K*W,dr=Q*Lt-lt*W,kr=K*Lt-lt*wt,Br=Wt*kr-oe*dr+Se*je+Ye*or-te*Ne+ge*_e;return Br?(Br=1/Br,f[0]=(ae*kr-Dt*dr+Tt*je)*Br,f[1]=(Dt*or-ne*kr-Tt*Ne)*Br,f[2]=(ne*dr-ae*or+Tt*_e)*Br,f[3]=(re*dr-Ut*kr-zt*je)*Br,f[4]=(Mt*kr-re*or+zt*Ne)*Br,f[5]=(Ut*or-Mt*dr-zt*_e)*Br,f[6]=(W*ge-wt*te+Lt*Ye)*Br,f[7]=(wt*Se-U*ge-Lt*oe)*Br,f[8]=(U*te-W*Se+Lt*Wt)*Br,f):null}function Gt(f,xt,Mt){return f[0]=2/xt,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/Mt,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f}function qt(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function Rt(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2)+Math.pow(f[4],2)+Math.pow(f[5],2)+Math.pow(f[6],2)+Math.pow(f[7],2)+Math.pow(f[8],2))}function at(f,xt,Mt){return f[0]=xt[0]+Mt[0],f[1]=xt[1]+Mt[1],f[2]=xt[2]+Mt[2],f[3]=xt[3]+Mt[3],f[4]=xt[4]+Mt[4],f[5]=xt[5]+Mt[5],f[6]=xt[6]+Mt[6],f[7]=xt[7]+Mt[7],f[8]=xt[8]+Mt[8],f}function vt(f,xt,Mt){return f[0]=xt[0]-Mt[0],f[1]=xt[1]-Mt[1],f[2]=xt[2]-Mt[2],f[3]=xt[3]-Mt[3],f[4]=xt[4]-Mt[4],f[5]=xt[5]-Mt[5],f[6]=xt[6]-Mt[6],f[7]=xt[7]-Mt[7],f[8]=xt[8]-Mt[8],f}function ot(f,xt,Mt){return f[0]=xt[0]*Mt,f[1]=xt[1]*Mt,f[2]=xt[2]*Mt,f[3]=xt[3]*Mt,f[4]=xt[4]*Mt,f[5]=xt[5]*Mt,f[6]=xt[6]*Mt,f[7]=xt[7]*Mt,f[8]=xt[8]*Mt,f}function Et(f,xt,Mt,Ut){return f[0]=xt[0]+Mt[0]*Ut,f[1]=xt[1]+Mt[1]*Ut,f[2]=xt[2]+Mt[2]*Ut,f[3]=xt[3]+Mt[3]*Ut,f[4]=xt[4]+Mt[4]*Ut,f[5]=xt[5]+Mt[5]*Ut,f[6]=xt[6]+Mt[6]*Ut,f[7]=xt[7]+Mt[7]*Ut,f[8]=xt[8]+Mt[8]*Ut,f}function dt(f,xt){return f[0]===xt[0]&&f[1]===xt[1]&&f[2]===xt[2]&&f[3]===xt[3]&&f[4]===xt[4]&&f[5]===xt[5]&&f[6]===xt[6]&&f[7]===xt[7]&&f[8]===xt[8]}function X(f,xt){var Mt=f[0],Ut=f[1],re=f[2],zt=f[3],ne=f[4],ae=f[5],Dt=f[6],Tt=f[7],pt=f[8],Q=xt[0],K=xt[1],lt=xt[2],U=xt[3],W=xt[4],wt=xt[5],Lt=xt[6],Wt=xt[7],oe=xt[8];return Math.abs(Mt-Q)<=L.EPSILON*Math.max(1,Math.abs(Mt),Math.abs(Q))&&Math.abs(Ut-K)<=L.EPSILON*Math.max(1,Math.abs(Ut),Math.abs(K))&&Math.abs(re-lt)<=L.EPSILON*Math.max(1,Math.abs(re),Math.abs(lt))&&Math.abs(zt-U)<=L.EPSILON*Math.max(1,Math.abs(zt),Math.abs(U))&&Math.abs(ne-W)<=L.EPSILON*Math.max(1,Math.abs(ne),Math.abs(W))&&Math.abs(ae-wt)<=L.EPSILON*Math.max(1,Math.abs(ae),Math.abs(wt))&&Math.abs(Dt-Lt)<=L.EPSILON*Math.max(1,Math.abs(Dt),Math.abs(Lt))&&Math.abs(Tt-Wt)<=L.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(Wt))&&Math.abs(pt-oe)<=L.EPSILON*Math.max(1,Math.abs(pt),Math.abs(oe))}var $=S.mul=O,H=S.sub=vt},76172:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=P,S.clone=T,S.fromValues=_,S.copy=M,S.set=E,S.add=p,S.subtract=b,S.multiply=y,S.divide=w,S.ceil=x,S.floor=A,S.min=O,S.max=B,S.round=R,S.scale=Y,S.scaleAndAdd=j,S.distance=V,S.squaredDistance=nt,S.length=ct,S.squaredLength=ut,S.negate=Pt,S.inverse=Gt,S.normalize=qt,S.dot=Rt,S.cross=at,S.lerp=vt,S.random=ot,S.transformMat2=Et,S.transformMat2d=dt,S.transformMat3=X,S.transformMat4=$,S.rotate=H,S.angle=f,S.str=xt,S.exactEquals=Mt,S.equals=Ut;var m=d(74988),L=I(m);function I(K){if(K&&K.__esModule)return K;var lt={};if(K!=null)for(var U in K)Object.prototype.hasOwnProperty.call(K,U)&&(lt[U]=K[U]);return lt.default=K,lt}function P(){var K=new L.ARRAY_TYPE(2);return L.ARRAY_TYPE!=Float32Array&&(K[0]=0,K[1]=0),K}function T(K){var lt=new L.ARRAY_TYPE(2);return lt[0]=K[0],lt[1]=K[1],lt}function _(K,lt){var U=new L.ARRAY_TYPE(2);return U[0]=K,U[1]=lt,U}function M(K,lt){return K[0]=lt[0],K[1]=lt[1],K}function E(K,lt,U){return K[0]=lt,K[1]=U,K}function p(K,lt,U){return K[0]=lt[0]+U[0],K[1]=lt[1]+U[1],K}function b(K,lt,U){return K[0]=lt[0]-U[0],K[1]=lt[1]-U[1],K}function y(K,lt,U){return K[0]=lt[0]*U[0],K[1]=lt[1]*U[1],K}function w(K,lt,U){return K[0]=lt[0]/U[0],K[1]=lt[1]/U[1],K}function x(K,lt){return K[0]=Math.ceil(lt[0]),K[1]=Math.ceil(lt[1]),K}function A(K,lt){return K[0]=Math.floor(lt[0]),K[1]=Math.floor(lt[1]),K}function O(K,lt,U){return K[0]=Math.min(lt[0],U[0]),K[1]=Math.min(lt[1],U[1]),K}function B(K,lt,U){return K[0]=Math.max(lt[0],U[0]),K[1]=Math.max(lt[1],U[1]),K}function R(K,lt){return K[0]=Math.round(lt[0]),K[1]=Math.round(lt[1]),K}function Y(K,lt,U){return K[0]=lt[0]*U,K[1]=lt[1]*U,K}function j(K,lt,U,W){return K[0]=lt[0]+U[0]*W,K[1]=lt[1]+U[1]*W,K}function V(K,lt){var U=lt[0]-K[0],W=lt[1]-K[1];return Math.sqrt(U*U+W*W)}function nt(K,lt){var U=lt[0]-K[0],W=lt[1]-K[1];return U*U+W*W}function ct(K){var lt=K[0],U=K[1];return Math.sqrt(lt*lt+U*U)}function ut(K){var lt=K[0],U=K[1];return lt*lt+U*U}function Pt(K,lt){return K[0]=-lt[0],K[1]=-lt[1],K}function Gt(K,lt){return K[0]=1/lt[0],K[1]=1/lt[1],K}function qt(K,lt){var U=lt[0],W=lt[1],wt=U*U+W*W;return wt>0&&(wt=1/Math.sqrt(wt),K[0]=lt[0]*wt,K[1]=lt[1]*wt),K}function Rt(K,lt){return K[0]*lt[0]+K[1]*lt[1]}function at(K,lt,U){var W=lt[0]*U[1]-lt[1]*U[0];return K[0]=K[1]=0,K[2]=W,K}function vt(K,lt,U,W){var wt=lt[0],Lt=lt[1];return K[0]=wt+W*(U[0]-wt),K[1]=Lt+W*(U[1]-Lt),K}function ot(K,lt){lt=lt||1;var U=L.RANDOM()*2*Math.PI;return K[0]=Math.cos(U)*lt,K[1]=Math.sin(U)*lt,K}function Et(K,lt,U){var W=lt[0],wt=lt[1];return K[0]=U[0]*W+U[2]*wt,K[1]=U[1]*W+U[3]*wt,K}function dt(K,lt,U){var W=lt[0],wt=lt[1];return K[0]=U[0]*W+U[2]*wt+U[4],K[1]=U[1]*W+U[3]*wt+U[5],K}function X(K,lt,U){var W=lt[0],wt=lt[1];return K[0]=U[0]*W+U[3]*wt+U[6],K[1]=U[1]*W+U[4]*wt+U[7],K}function $(K,lt,U){var W=lt[0],wt=lt[1];return K[0]=U[0]*W+U[4]*wt+U[12],K[1]=U[1]*W+U[5]*wt+U[13],K}function H(K,lt,U,W){var wt=lt[0]-U[0],Lt=lt[1]-U[1],Wt=Math.sin(W),oe=Math.cos(W);return K[0]=wt*oe-Lt*Wt+U[0],K[1]=wt*Wt+Lt*oe+U[1],K}function f(K,lt){var U=K[0],W=K[1],wt=lt[0],Lt=lt[1],Wt=U*U+W*W;Wt>0&&(Wt=1/Math.sqrt(Wt));var oe=wt*wt+Lt*Lt;oe>0&&(oe=1/Math.sqrt(oe));var Se=(U*wt+W*Lt)*Wt*oe;return Se>1?0:Se<-1?Math.PI:Math.acos(Se)}function xt(K){return"vec2("+K[0]+", "+K[1]+")"}function Mt(K,lt){return K[0]===lt[0]&&K[1]===lt[1]}function Ut(K,lt){var U=K[0],W=K[1],wt=lt[0],Lt=lt[1];return Math.abs(U-wt)<=L.EPSILON*Math.max(1,Math.abs(U),Math.abs(wt))&&Math.abs(W-Lt)<=L.EPSILON*Math.max(1,Math.abs(W),Math.abs(Lt))}var re=S.len=ct,zt=S.sub=b,ne=S.mul=y,ae=S.div=w,Dt=S.dist=V,Tt=S.sqrDist=nt,pt=S.sqrLen=ut,Q=S.forEach=function(){var K=P();return function(lt,U,W,wt,Lt,Wt){var oe=void 0,Se=void 0;for(U||(U=2),W||(W=0),wt?Se=Math.min(wt*U+W,lt.length):Se=lt.length,oe=W;oe<Se;oe+=U)K[0]=lt[oe],K[1]=lt[oe+1],Lt(K,K,Wt),lt[oe]=K[0],lt[oe+1]=K[1];return lt}}()},88395:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=P,S.clone=T,S.length=_,S.fromValues=M,S.copy=E,S.set=p,S.add=b,S.subtract=y,S.multiply=w,S.divide=x,S.ceil=A,S.floor=O,S.min=B,S.max=R,S.round=Y,S.scale=j,S.scaleAndAdd=V,S.distance=nt,S.squaredDistance=ct,S.squaredLength=ut,S.negate=Pt,S.inverse=Gt,S.normalize=qt,S.dot=Rt,S.cross=at,S.lerp=vt,S.hermite=ot,S.bezier=Et,S.random=dt,S.transformMat4=X,S.transformMat3=$,S.transformQuat=H,S.rotateX=f,S.rotateY=xt,S.rotateZ=Mt,S.angle=Ut,S.str=re,S.exactEquals=zt,S.equals=ne;var m=d(74988),L=I(m);function I(W){if(W&&W.__esModule)return W;var wt={};if(W!=null)for(var Lt in W)Object.prototype.hasOwnProperty.call(W,Lt)&&(wt[Lt]=W[Lt]);return wt.default=W,wt}function P(){var W=new L.ARRAY_TYPE(3);return L.ARRAY_TYPE!=Float32Array&&(W[0]=0,W[1]=0,W[2]=0),W}function T(W){var wt=new L.ARRAY_TYPE(3);return wt[0]=W[0],wt[1]=W[1],wt[2]=W[2],wt}function _(W){var wt=W[0],Lt=W[1],Wt=W[2];return Math.sqrt(wt*wt+Lt*Lt+Wt*Wt)}function M(W,wt,Lt){var Wt=new L.ARRAY_TYPE(3);return Wt[0]=W,Wt[1]=wt,Wt[2]=Lt,Wt}function E(W,wt){return W[0]=wt[0],W[1]=wt[1],W[2]=wt[2],W}function p(W,wt,Lt,Wt){return W[0]=wt,W[1]=Lt,W[2]=Wt,W}function b(W,wt,Lt){return W[0]=wt[0]+Lt[0],W[1]=wt[1]+Lt[1],W[2]=wt[2]+Lt[2],W}function y(W,wt,Lt){return W[0]=wt[0]-Lt[0],W[1]=wt[1]-Lt[1],W[2]=wt[2]-Lt[2],W}function w(W,wt,Lt){return W[0]=wt[0]*Lt[0],W[1]=wt[1]*Lt[1],W[2]=wt[2]*Lt[2],W}function x(W,wt,Lt){return W[0]=wt[0]/Lt[0],W[1]=wt[1]/Lt[1],W[2]=wt[2]/Lt[2],W}function A(W,wt){return W[0]=Math.ceil(wt[0]),W[1]=Math.ceil(wt[1]),W[2]=Math.ceil(wt[2]),W}function O(W,wt){return W[0]=Math.floor(wt[0]),W[1]=Math.floor(wt[1]),W[2]=Math.floor(wt[2]),W}function B(W,wt,Lt){return W[0]=Math.min(wt[0],Lt[0]),W[1]=Math.min(wt[1],Lt[1]),W[2]=Math.min(wt[2],Lt[2]),W}function R(W,wt,Lt){return W[0]=Math.max(wt[0],Lt[0]),W[1]=Math.max(wt[1],Lt[1]),W[2]=Math.max(wt[2],Lt[2]),W}function Y(W,wt){return W[0]=Math.round(wt[0]),W[1]=Math.round(wt[1]),W[2]=Math.round(wt[2]),W}function j(W,wt,Lt){return W[0]=wt[0]*Lt,W[1]=wt[1]*Lt,W[2]=wt[2]*Lt,W}function V(W,wt,Lt,Wt){return W[0]=wt[0]+Lt[0]*Wt,W[1]=wt[1]+Lt[1]*Wt,W[2]=wt[2]+Lt[2]*Wt,W}function nt(W,wt){var Lt=wt[0]-W[0],Wt=wt[1]-W[1],oe=wt[2]-W[2];return Math.sqrt(Lt*Lt+Wt*Wt+oe*oe)}function ct(W,wt){var Lt=wt[0]-W[0],Wt=wt[1]-W[1],oe=wt[2]-W[2];return Lt*Lt+Wt*Wt+oe*oe}function ut(W){var wt=W[0],Lt=W[1],Wt=W[2];return wt*wt+Lt*Lt+Wt*Wt}function Pt(W,wt){return W[0]=-wt[0],W[1]=-wt[1],W[2]=-wt[2],W}function Gt(W,wt){return W[0]=1/wt[0],W[1]=1/wt[1],W[2]=1/wt[2],W}function qt(W,wt){var Lt=wt[0],Wt=wt[1],oe=wt[2],Se=Lt*Lt+Wt*Wt+oe*oe;return Se>0&&(Se=1/Math.sqrt(Se),W[0]=wt[0]*Se,W[1]=wt[1]*Se,W[2]=wt[2]*Se),W}function Rt(W,wt){return W[0]*wt[0]+W[1]*wt[1]+W[2]*wt[2]}function at(W,wt,Lt){var Wt=wt[0],oe=wt[1],Se=wt[2],Ye=Lt[0],te=Lt[1],ge=Lt[2];return W[0]=oe*ge-Se*te,W[1]=Se*Ye-Wt*ge,W[2]=Wt*te-oe*Ye,W}function vt(W,wt,Lt,Wt){var oe=wt[0],Se=wt[1],Ye=wt[2];return W[0]=oe+Wt*(Lt[0]-oe),W[1]=Se+Wt*(Lt[1]-Se),W[2]=Ye+Wt*(Lt[2]-Ye),W}function ot(W,wt,Lt,Wt,oe,Se){var Ye=Se*Se,te=Ye*(2*Se-3)+1,ge=Ye*(Se-2)+Se,_e=Ye*(Se-1),Ne=Ye*(3-2*Se);return W[0]=wt[0]*te+Lt[0]*ge+Wt[0]*_e+oe[0]*Ne,W[1]=wt[1]*te+Lt[1]*ge+Wt[1]*_e+oe[1]*Ne,W[2]=wt[2]*te+Lt[2]*ge+Wt[2]*_e+oe[2]*Ne,W}function Et(W,wt,Lt,Wt,oe,Se){var Ye=1-Se,te=Ye*Ye,ge=Se*Se,_e=te*Ye,Ne=3*Se*te,or=3*ge*Ye,je=ge*Se;return W[0]=wt[0]*_e+Lt[0]*Ne+Wt[0]*or+oe[0]*je,W[1]=wt[1]*_e+Lt[1]*Ne+Wt[1]*or+oe[1]*je,W[2]=wt[2]*_e+Lt[2]*Ne+Wt[2]*or+oe[2]*je,W}function dt(W,wt){wt=wt||1;var Lt=L.RANDOM()*2*Math.PI,Wt=L.RANDOM()*2-1,oe=Math.sqrt(1-Wt*Wt)*wt;return W[0]=Math.cos(Lt)*oe,W[1]=Math.sin(Lt)*oe,W[2]=Wt*wt,W}function X(W,wt,Lt){var Wt=wt[0],oe=wt[1],Se=wt[2],Ye=Lt[3]*Wt+Lt[7]*oe+Lt[11]*Se+Lt[15];return Ye=Ye||1,W[0]=(Lt[0]*Wt+Lt[4]*oe+Lt[8]*Se+Lt[12])/Ye,W[1]=(Lt[1]*Wt+Lt[5]*oe+Lt[9]*Se+Lt[13])/Ye,W[2]=(Lt[2]*Wt+Lt[6]*oe+Lt[10]*Se+Lt[14])/Ye,W}function $(W,wt,Lt){var Wt=wt[0],oe=wt[1],Se=wt[2];return W[0]=Wt*Lt[0]+oe*Lt[3]+Se*Lt[6],W[1]=Wt*Lt[1]+oe*Lt[4]+Se*Lt[7],W[2]=Wt*Lt[2]+oe*Lt[5]+Se*Lt[8],W}function H(W,wt,Lt){var Wt=Lt[0],oe=Lt[1],Se=Lt[2],Ye=Lt[3],te=wt[0],ge=wt[1],_e=wt[2],Ne=oe*_e-Se*ge,or=Se*te-Wt*_e,je=Wt*ge-oe*te,dr=oe*je-Se*or,kr=Se*Ne-Wt*je,Br=Wt*or-oe*Ne,ln=Ye*2;return Ne*=ln,or*=ln,je*=ln,dr*=2,kr*=2,Br*=2,W[0]=te+Ne+dr,W[1]=ge+or+kr,W[2]=_e+je+Br,W}function f(W,wt,Lt,Wt){var oe=[],Se=[];return oe[0]=wt[0]-Lt[0],oe[1]=wt[1]-Lt[1],oe[2]=wt[2]-Lt[2],Se[0]=oe[0],Se[1]=oe[1]*Math.cos(Wt)-oe[2]*Math.sin(Wt),Se[2]=oe[1]*Math.sin(Wt)+oe[2]*Math.cos(Wt),W[0]=Se[0]+Lt[0],W[1]=Se[1]+Lt[1],W[2]=Se[2]+Lt[2],W}function xt(W,wt,Lt,Wt){var oe=[],Se=[];return oe[0]=wt[0]-Lt[0],oe[1]=wt[1]-Lt[1],oe[2]=wt[2]-Lt[2],Se[0]=oe[2]*Math.sin(Wt)+oe[0]*Math.cos(Wt),Se[1]=oe[1],Se[2]=oe[2]*Math.cos(Wt)-oe[0]*Math.sin(Wt),W[0]=Se[0]+Lt[0],W[1]=Se[1]+Lt[1],W[2]=Se[2]+Lt[2],W}function Mt(W,wt,Lt,Wt){var oe=[],Se=[];return oe[0]=wt[0]-Lt[0],oe[1]=wt[1]-Lt[1],oe[2]=wt[2]-Lt[2],Se[0]=oe[0]*Math.cos(Wt)-oe[1]*Math.sin(Wt),Se[1]=oe[0]*Math.sin(Wt)+oe[1]*Math.cos(Wt),Se[2]=oe[2],W[0]=Se[0]+Lt[0],W[1]=Se[1]+Lt[1],W[2]=Se[2]+Lt[2],W}function Ut(W,wt){var Lt=M(W[0],W[1],W[2]),Wt=M(wt[0],wt[1],wt[2]);qt(Lt,Lt),qt(Wt,Wt);var oe=Rt(Lt,Wt);return oe>1?0:oe<-1?Math.PI:Math.acos(oe)}function re(W){return"vec3("+W[0]+", "+W[1]+", "+W[2]+")"}function zt(W,wt){return W[0]===wt[0]&&W[1]===wt[1]&&W[2]===wt[2]}function ne(W,wt){var Lt=W[0],Wt=W[1],oe=W[2],Se=wt[0],Ye=wt[1],te=wt[2];return Math.abs(Lt-Se)<=L.EPSILON*Math.max(1,Math.abs(Lt),Math.abs(Se))&&Math.abs(Wt-Ye)<=L.EPSILON*Math.max(1,Math.abs(Wt),Math.abs(Ye))&&Math.abs(oe-te)<=L.EPSILON*Math.max(1,Math.abs(oe),Math.abs(te))}var ae=S.sub=y,Dt=S.mul=w,Tt=S.div=x,pt=S.dist=nt,Q=S.sqrDist=ct,K=S.len=_,lt=S.sqrLen=ut,U=S.forEach=function(){var W=P();return function(wt,Lt,Wt,oe,Se,Ye){var te=void 0,ge=void 0;for(Lt||(Lt=3),Wt||(Wt=0),oe?ge=Math.min(oe*Lt+Wt,wt.length):ge=wt.length,te=Wt;te<ge;te+=Lt)W[0]=wt[te],W[1]=wt[te+1],W[2]=wt[te+2],Se(W,W,Ye),wt[te]=W[0],wt[te+1]=W[1],wt[te+2]=W[2];return wt}}()},92640:function(mt,S,d){function m(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var L=d(4905),I=d(90390),P=d(30130),T=d(22965),_=function(p){m(b,p);function b(){return p.apply(this,arguments)||this}var y=b.prototype;return y.execute=function(){var x=this;return P(x.rootNode,x.options,I)},b}(L),M={};function E(p,b){return b=T.assign({},M,b),new _(p,b).execute()}mt.exports=E},34542:function(mt,S,d){function m(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var L=d(4905),I=d(37133),P=d(30130),T=d(22965),_=function(p){m(b,p);function b(){return p.apply(this,arguments)||this}var y=b.prototype;return y.execute=function(){var x=this;return x.rootNode.width=0,P(x.rootNode,x.options,I)},b}(L),M={};function E(p,b){return b=T.assign({},M,b),new _(p,b).execute()}mt.exports=E},57088:function(mt,S,d){function m(y,w){y.prototype=Object.create(w.prototype),y.prototype.constructor=y,y.__proto__=w}var L=d(4905),I=d(10568),P=d(59286),T=d(22965),_=["LR","RL","H"],M=_[0],E=function(y){m(w,y);function w(){return y.apply(this,arguments)||this}var x=w.prototype;return x.execute=function(){var O=this,B=O.options,R=O.rootNode;B.isHorizontal=!0;var Y=B.indent,j=Y===void 0?20:Y,V=B.dropCap,nt=V===void 0?!0:V,ct=B.direction||M;if(ct&&_.indexOf(ct)===-1)throw new TypeError("Invalid direction: "+ct);if(ct===_[0])I(R,j,nt);else if(ct===_[1])I(R,j,nt),R.right2left();else if(ct===_[2]){var ut=P(R,B),Pt=ut.left,Gt=ut.right;I(Pt,j,nt),Pt.right2left(),I(Gt,j,nt);var qt=Pt.getBoundingBox();Gt.translate(qt.width,0),R.x=Gt.x-R.width/2}return R},w}(L),p={};function b(y,w){return w=T.assign({},p,w),new E(y,w).execute()}mt.exports=b},77201:function(mt,S,d){var m={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};mt.exports=m},4905:function(mt,S,d){var m=d(27249),L=function(){function I(T,_){_===void 0&&(_={});var M=this;M.options=_,M.rootNode=m(T,_)}var P=I.prototype;return P.execute=function(){throw new Error("please override this method")},I}();mt.exports=L},37133:function(mt,S,d){var m=d(22965);function L(T,_){T===void 0&&(T=0),_===void 0&&(_=[]);var M=this;M.x=M.y=0,M.leftChild=M.rightChild=null,M.height=0,M.children=_}var I={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function P(T,_,M){M?(_.x=T.x,_.y=T.y):(_.x=T.y,_.y=T.x),T.children.forEach(function(E,p){P(E,_.children[p],M)})}mt.exports=function(T,_){_===void 0&&(_={}),_=m.assign({},I,_);var M=0;function E(x){if(!x)return null;x.width=0,x.depth&&x.depth>M&&(M=x.depth);var A=x.children,O=A.length,B=new L(x.height,[]);return A.forEach(function(R,Y){var j=E(R);B.children.push(j),Y===0&&(B.leftChild=j),Y===O-1&&(B.rightChild=j)}),B.originNode=x,B.isLeaf=x.isLeaf(),B}function p(x){if(x.isLeaf||x.children.length===0)x.drawingDepth=M;else{var A=x.children.map(function(B){return p(B)}),O=Math.min.apply(null,A);x.drawingDepth=O-1}return x.drawingDepth}var b;function y(x){x.x=x.drawingDepth*_.rankSep,x.isLeaf?(x.y=0,b&&(x.y=b.y+b.height+_.nodeSep,x.originNode.parent!==b.originNode.parent&&(x.y+=_.subTreeSep)),b=x):(x.children.forEach(function(A){y(A)}),x.y=(x.leftChild.y+x.rightChild.y)/2)}var w=E(T);return p(w),y(w),P(w,T,_.isHorizontal),T}},30130:function(mt,S,d){var m=d(59286),L=["LR","RL","TB","BT","H","V"],I=["LR","RL","H"],P=function(M){return I.indexOf(M)>-1},T=L[0];mt.exports=function(_,M,E){var p=M.direction||T;if(M.isHorizontal=P(p),p&&L.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===L[0])E(_,M);else if(p===L[1])E(_,M),_.right2left();else if(p===L[2])E(_,M);else if(p===L[3])E(_,M),_.bottom2top();else if(p===L[4]||p===L[5]){var b=m(_,M),y=b.left,w=b.right;E(y,M),E(w,M),M.isHorizontal?y.right2left():y.bottom2top(),w.translate(y.x-w.x,y.y-w.y),_.x=y.x,_.y=w.y;var x=_.getBoundingBox();M.isHorizontal?x.top<0&&_.translate(0,-x.top):x.left<0&&_.translate(-x.left,0)}var A=M.fixedRoot;return A===void 0&&(A=!0),A&&_.translate(-(_.x+_.width/2+_.hgap),-(_.y+_.height/2+_.vgap)),_}},27249:function(mt,S,d){var m=d(22965),L=18,I=L*2,P=L,T={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||P},getVGap:function(p){return p.vgap||P},getChildren:function(p){return p.children},getHeight:function(p){return p.height||I},getWidth:function(p){var b=p.label||" ";return p.width||b.split("").length*L}};function _(E,p){var b=this;if(b.vgap=b.hgap=0,E instanceof _)return E;b.data=E;var y=p.getHGap(E),w=p.getVGap(E);return b.preH=p.getPreH(E),b.preV=p.getPreV(E),b.width=p.getWidth(E),b.height=p.getHeight(E),b.width+=b.preH,b.height+=b.preV,b.id=p.getId(E),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(y,w),b}m.assign(_.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,b){var y=this;y.hgap+=p,y.vgap+=b,y.width+=2*p,y.height+=2*b},eachNode:function(p){for(var b=this,y=[b],w;w=y.shift();)p(w),y=w.children.concat(y)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var b=this,y=[b],w;w=y.shift();)p(w),y=y.concat(w.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){p.left=Math.min(p.left,b.x),p.top=Math.min(p.top,b.y),p.width=Math.max(p.width,b.x+b.width),p.height=Math.max(p.height,b.y+b.height)}),p},translate:function(p,b){p===void 0&&(p=0),b===void 0&&(b=0),this.eachNode(function(y){y.x+=p,y.y+=b,y.x+=y.preH,y.y+=y.preV})},right2left:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(y){y.x=y.x-(y.x-b.left)*2-y.width}),p.translate(b.width,0)},bottom2top:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(y){y.y=y.y-(y.y-b.top)*2-y.height}),p.translate(0,b.height)}});function M(E,p,b){p===void 0&&(p={}),p=m.assign({},T,p);var y=new _(E,p),w=[y],x;if(!b&&!E.collapsed){for(;x=w.shift();)if(!x.data.collapsed){var A=p.getChildren(x.data),O=A?A.length:0;if(x.children=new Array(O),A&&O)for(var B=0;B<O;B++){var R=new _(A[B],p);x.children[B]=R,w.push(R),R.parent=x,R.depth=x.depth+1}}}return y}mt.exports=M},10568:function(mt){function S(d,m,L,I){var P=typeof L=="function"?L(d):L*d.depth;if(!I)try{if(d.id===d.parent.children[0].id){d.x+=P,d.y=m?m.y:0;return}}catch(T){}d.x+=P,d.y=m?m.y+m.height:0}mt.exports=function(d,m,L){var I=null;d.eachNode(function(P){S(P,I,m,L),I=P})}},24461:function(mt,S,d){var m=d(22965);function L(T,_){var M=0;return T.children.length?T.children.forEach(function(E){M+=L(E,_)}):M=T.height,T._subTreeSep=_.getSubTreeSep(T.data),T.totalHeight=Math.max(T.height,M)+2*T._subTreeSep,T.totalHeight}function I(T){var _=T.children,M=_.length;if(M){_.forEach(function(x){I(x)});var E=_[0],p=_[M-1],b=p.y-E.y+p.height,y=0;if(_.forEach(function(x){y+=x.totalHeight}),b>T.height)T.y=E.y+b/2-T.height/2;else if(_.length!==1||T.height>y){var w=T.y+(T.height-b)/2-E.y;_.forEach(function(x){x.translate(0,w)})}else T.y=(E.y+E.height/2+p.y+p.height/2)/2-T.height/2}}var P={getSubTreeSep:function(){return 0}};mt.exports=function(T,_){_===void 0&&(_={}),_=m.assign({},P,_),T.parent={x:0,width:0,height:0,y:0},T.BFTraverse(function(M){M.x=M.parent.x+M.parent.width}),T.parent=null,L(T,_),T.startY=0,T.y=T.totalHeight/2-T.height/2,T.eachNode(function(M){var E=M.children,p=E.length;if(p){var b=E[0];if(b.startY=M.startY+M._subTreeSep,p===1)b.y=M.y+M.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var y=1;y<p;y++){var w=E[y];w.startY=E[y-1].startY+E[y-1].totalHeight,w.y=w.startY+w.totalHeight/2-w.height/2}}}}),I(T)}},90390:function(mt){function S(T,_,M,E){E===void 0&&(E=[]);var p=this;p.w=T||0,p.h=_||0,p.y=M||0,p.x=0,p.c=E||[],p.cs=E.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(T,_){if(!T)return null;var M=[];return T.children.forEach(function(E){M.push(S.fromNode(E,_))}),_?new S(T.height,T.width,T.x,M):new S(T.width,T.height,T.y,M)};function d(T,_,M){M?T.y+=_:T.x+=_,T.children.forEach(function(E){d(E,_,M)})}function m(T,_){var M=_?T.y:T.x;return T.children.forEach(function(E){M=Math.min(m(E,_),M)}),M}function L(T,_){var M=m(T,_);d(T,-M,_)}function I(T,_,M){M?_.y=T.x:_.x=T.x,T.c.forEach(function(E,p){I(E,_.children[p],M)})}function P(T,_,M){M===void 0&&(M=0),_?(T.x=M,M+=T.width):(T.y=M,M+=T.height),T.children.forEach(function(E){P(E,_,M)})}mt.exports=function(T,_){_===void 0&&(_={});var M=_.isHorizontal;function E(ut){if(ut.cs===0){p(ut);return}E(ut.c[0]);for(var Pt=nt(A(ut.c[0].el),0,null),Gt=1;Gt<ut.cs;++Gt){E(ut.c[Gt]);var qt=A(ut.c[Gt].er);b(ut,Gt,Pt),Pt=nt(qt,Gt,Pt)}R(ut),p(ut)}function p(ut){ut.cs===0?(ut.el=ut,ut.er=ut,ut.msel=ut.mser=0):(ut.el=ut.c[0].el,ut.msel=ut.c[0].msel,ut.er=ut.c[ut.cs-1].er,ut.mser=ut.c[ut.cs-1].mser)}function b(ut,Pt,Gt){for(var qt=ut.c[Pt-1],Rt=qt.mod,at=ut.c[Pt],vt=at.mod;qt!==null&&at!==null;){A(qt)>Gt.low&&(Gt=Gt.nxt);var ot=Rt+qt.prelim+qt.w-(vt+at.prelim);ot>0&&(vt+=ot,y(ut,Pt,Gt.index,ot));var Et=A(qt),dt=A(at);Et<=dt&&(qt=x(qt),qt!==null&&(Rt+=qt.mod)),Et>=dt&&(at=w(at),at!==null&&(vt+=at.mod))}!qt&&!!at?O(ut,Pt,at,vt):!!qt&&!at&&B(ut,Pt,qt,Rt)}function y(ut,Pt,Gt,qt){ut.c[Pt].mod+=qt,ut.c[Pt].msel+=qt,ut.c[Pt].mser+=qt,j(ut,Pt,Gt,qt)}function w(ut){return ut.cs===0?ut.tl:ut.c[0]}function x(ut){return ut.cs===0?ut.tr:ut.c[ut.cs-1]}function A(ut){return ut.y+ut.h}function O(ut,Pt,Gt,qt){var Rt=ut.c[0].el;Rt.tl=Gt;var at=qt-Gt.mod-ut.c[0].msel;Rt.mod+=at,Rt.prelim-=at,ut.c[0].el=ut.c[Pt].el,ut.c[0].msel=ut.c[Pt].msel}function B(ut,Pt,Gt,qt){var Rt=ut.c[Pt].er;Rt.tr=Gt;var at=qt-Gt.mod-ut.c[Pt].mser;Rt.mod+=at,Rt.prelim-=at,ut.c[Pt].er=ut.c[Pt-1].er,ut.c[Pt].mser=ut.c[Pt-1].mser}function R(ut){ut.prelim=(ut.c[0].prelim+ut.c[0].mod+ut.c[ut.cs-1].mod+ut.c[ut.cs-1].prelim+ut.c[ut.cs-1].w)/2-ut.w/2}function Y(ut,Pt){Pt+=ut.mod,ut.x=ut.prelim+Pt,V(ut);for(var Gt=0;Gt<ut.cs;Gt++)Y(ut.c[Gt],Pt)}function j(ut,Pt,Gt,qt){if(Gt!==Pt-1){var Rt=Pt-Gt;ut.c[Gt+1].shift+=qt/Rt,ut.c[Pt].shift-=qt/Rt,ut.c[Pt].change-=qt-qt/Rt}}function V(ut){for(var Pt=0,Gt=0,qt=0;qt<ut.cs;qt++)Pt+=ut.c[qt].shift,Gt+=Pt+ut.c[qt].change,ut.c[qt].mod+=Gt}function nt(ut,Pt,Gt){for(;Gt!==null&&ut>=Gt.low;)Gt=Gt.nxt;return{low:ut,index:Pt,nxt:Gt}}P(T,M);var ct=S.fromNode(T,M);return E(ct),Y(ct,0),I(ct,T,M),L(T,M),T}},59286:function(mt,S,d){var m=d(27249);mt.exports=function(L,I){for(var P=m(L.data,I,!0),T=m(L.data,I,!0),_=L.children.length,M=Math.round(_/2),E=I.getSide||function(w,x){return x<M?"right":"left"},p=0;p<_;p++){var b=L.children[p],y=E(b,p);y==="right"?T.children.push(b):P.children.push(b)}return P.eachNode(function(w){w.isRoot()||(w.side="left")}),T.eachNode(function(w){w.isRoot()||(w.side="right")}),{left:P,right:T}}},1355:function(mt,S,d){function m(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var L=d(4905),I=d(24461),P=d(30130),T=d(22965),_=function(p){m(b,p);function b(){return p.apply(this,arguments)||this}var y=b.prototype;return y.execute=function(){var x=this;return P(x.rootNode,x.options,I)},b}(L),M={};function E(p,b){return b=T.assign({},M,b),new _(p,b).execute()}mt.exports=E},22965:function(mt,S,d){var m=d(49242),L=m.mix;mt.exports={assign:L}},31506:function(mt,S,d){"use strict";d.r(S),d.d(S,{leftTranslate:function(){return I},leftRotate:function(){return P},leftScale:function(){return T},transform:function(){return M},direction:function(){return E},angleTo:function(){return p},vertical:function(){return b}});var m=d(35600),L=d(31437);function I(y,w,x){var A=[0,0,0,0,0,0,0,0,0];return m.fromTranslation(A,x),m.multiply(y,A,w)}function P(y,w,x){var A=[0,0,0,0,0,0,0,0,0];return m.fromRotation(A,x),m.multiply(y,A,w)}function T(y,w,x){var A=[0,0,0,0,0,0,0,0,0];return m.fromScaling(A,x),m.multiply(y,A,w)}function _(y,w,x){return m.multiply(y,x,w)}function M(y,w){for(var x=y?[].concat(y):[1,0,0,0,1,0,0,0,1],A=0,O=w.length;A<O;A++){var B=w[A];switch(B[0]){case"t":I(x,x,[B[1],B[2]]);break;case"s":T(x,x,[B[1],B[2]]);break;case"r":P(x,x,B[1]);break;case"m":_(x,x,B[1]);break;default:break}}return x}function E(y,w){return y[0]*w[1]-w[0]*y[1]}function p(y,w,x){var A=L.angle(y,w),O=E(y,w)>=0;return x?O?Math.PI*2-A:A:O?A:Math.PI*2-A}function b(y,w,x){return x?(y[0]=w[1],y[1]=-1*w[0]):(y[0]=-1*w[1],y[1]=w[0]),y}},43567:function(mt,S,d){"use strict";d.r(S),d.d(S,{mat3:function(){return m},vec2:function(){return L},vec3:function(){return I},ext:function(){return P}});var m=d(35600),L=d(31437),I=d(77160),P=d(31506)},57350:function(mt,S,d){"use strict";d.r(S),d.d(S,{catmullRom2Bezier:function(){return p},fillPath:function(){return x},fillPathByDiff:function(){return B},formatPath:function(){return j},getArcParams:function(){return te},getLineIntersect:function(){return or},isPointInPolygon:function(){return Br},isPolygonsIntersect:function(){return ki},parsePath:function(){return T},parsePathArray:function(){return Lt},parsePathString:function(){return Pt},path2Absolute:function(){return Rt},path2Curve:function(){return Mt},path2Segments:function(){return _e},pathIntersection:function(){return W},reactPath:function(){return V}});var m=d(49242),L=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function P(jt){var ie=jt||[];if((0,m.isArray)(ie))return ie;if((0,m.isString)(ie))return ie=ie.match(L),(0,m.each)(ie,function(ve,ye){if(ve=ve.match(I),ve[0].length>1){var Ae=ve[0].charAt(0);ve.splice(1,0,ve[0].substr(1)),ve[0]=Ae}(0,m.each)(ve,function(Pe,Oe){isNaN(Pe)||(ve[Oe]=+Pe)}),ie[ye]=ve}),ie}var T=P,_=d(31437);function M(jt,ie,ve,ye){var Ae=[],Pe=!!ye,Oe,De,Ce,rr,Ue,fr,Cr;if(Pe){Ce=ye[0],rr=ye[1];for(var vr=0,br=jt.length;vr<br;vr+=1){var mr=jt[vr];Ce=_.min([0,0],Ce,mr),rr=_.max([0,0],rr,mr)}}for(var vr=0,Ar=jt.length;vr<Ar;vr+=1){var mr=jt[vr];if(vr===0&&!ve)Cr=mr;else if(vr===Ar-1&&!ve)fr=mr,Ae.push(Cr),Ae.push(fr);else{var hr=[vr?vr-1:Ar-1,vr-1][ve?0:1];Oe=jt[hr],De=jt[ve?(vr+1)%Ar:vr+1];var Fr=[0,0];Fr=_.sub(Fr,De,Oe),Fr=_.scale(Fr,Fr,ie);var Kr=_.distance(mr,Oe),Xr=_.distance(mr,De),Zr=Kr+Xr;Zr!==0&&(Kr/=Zr,Xr/=Zr);var an=_.scale([0,0],Fr,-Kr),en=_.scale([0,0],Fr,Xr);fr=_.add([0,0],mr,an),Ue=_.add([0,0],mr,en),Ue=_.min([0,0],Ue,_.max([0,0],De,mr)),Ue=_.max([0,0],Ue,_.min([0,0],De,mr)),an=_.sub([0,0],Ue,mr),an=_.scale([0,0],an,-Kr/Xr),fr=_.add([0,0],mr,an),fr=_.min([0,0],fr,_.max([0,0],Oe,mr)),fr=_.max([0,0],fr,_.min([0,0],Oe,mr)),en=_.sub([0,0],mr,fr),en=_.scale([0,0],en,Xr/Kr),Ue=_.add([0,0],mr,en),Pe&&(fr=_.max([0,0],fr,Ce),fr=_.min([0,0],fr,rr),Ue=_.max([0,0],Ue,Ce),Ue=_.min([0,0],Ue,rr)),Ae.push(Cr),Ae.push(fr),Cr=Ue}}return ve&&Ae.push(Ae.shift()),Ae}function E(jt,ie,ve){ie===void 0&&(ie=!1),ve===void 0&&(ve=[[0,0],[1,1]]);for(var ye=!!ie,Ae=[],Pe=0,Oe=jt.length;Pe<Oe;Pe+=2)Ae.push([jt[Pe],jt[Pe+1]]);for(var De=M(Ae,.4,ye,ve),Ce=Ae.length,rr=[],Ue,fr,Cr,Pe=0;Pe<Ce-1;Pe+=1)Ue=De[Pe*2],fr=De[Pe*2+1],Cr=Ae[Pe+1],rr.push(["C",Ue[0],Ue[1],fr[0],fr[1],Cr[0],Cr[1]]);return ye&&(Ue=De[Ce],fr=De[Ce+1],Cr=Ae[0],rr.push(["C",Ue[0],Ue[1],fr[0],fr[1],Cr[0],Cr[1]])),rr}var p=E;function b(jt,ie){var ve=[],ye=[];function Ae(Pe,Oe){if(Pe.length===1)ve.push(Pe[0]),ye.push(Pe[0]);else{for(var De=[],Ce=0;Ce<Pe.length-1;Ce++)Ce===0&&ve.push(Pe[0]),Ce===Pe.length-2&&ye.push(Pe[Ce+1]),De[Ce]=[(1-Oe)*Pe[Ce][0]+Oe*Pe[Ce+1][0],(1-Oe)*Pe[Ce][1]+Oe*Pe[Ce+1][1]];Ae(De,Oe)}}return jt.length&&Ae(jt,ie),{left:ve,right:ye.reverse()}}function y(jt,ie,ve){var ye=[[jt[1],jt[2]]];ve=ve||2;var Ae=[];ie[0]==="A"?(ye.push(ie[6]),ye.push(ie[7])):ie[0]==="C"?(ye.push([ie[1],ie[2]]),ye.push([ie[3],ie[4]]),ye.push([ie[5],ie[6]])):ie[0]==="S"||ie[0]==="Q"?(ye.push([ie[1],ie[2]]),ye.push([ie[3],ie[4]])):ye.push([ie[1],ie[2]]);for(var Pe=ye,Oe=1/ve,De=0;De<ve-1;De++){var Ce=Oe/(1-Oe*De),rr=b(Pe,Ce);Ae.push(rr.left),Pe=rr.right}Ae.push(Pe);var Ue=Ae.map(function(fr){var Cr=[];return fr.length===4&&(Cr.push("C"),Cr=Cr.concat(fr[2])),fr.length>=3&&(fr.length===3&&Cr.push("Q"),Cr=Cr.concat(fr[1])),fr.length===2&&Cr.push("L"),Cr=Cr.concat(fr[fr.length-1]),Cr});return Ue}function w(jt,ie,ve){if(ve===1)return[[].concat(jt)];var ye=[];if(ie[0]==="L"||ie[0]==="C"||ie[0]==="Q")ye=ye.concat(y(jt,ie,ve));else{var Ae=[].concat(jt);Ae[0]==="M"&&(Ae[0]="L");for(var Pe=0;Pe<=ve-1;Pe++)ye.push(Ae)}return ye}function x(jt,ie){if(jt.length===1)return jt;var ve=jt.length-1,ye=ie.length-1,Ae=ve/ye,Pe=[];if(jt.length===1&&jt[0][0]==="M"){for(var Oe=0;Oe<ye-ve;Oe++)jt.push(jt[0]);return jt}for(var Oe=0;Oe<ye;Oe++){var De=Math.floor(Ae*Oe);Pe[De]=(Pe[De]||0)+1}var Ce=Pe.reduce(function(rr,Ue,fr){return fr===ve?rr.concat(jt[ve]):rr.concat(w(jt[fr],jt[fr+1],Ue))},[]);return Ce.unshift(jt[0]),(ie[ye]==="Z"||ie[ye]==="z")&&Ce.push("Z"),Ce}function A(jt,ie,ve){var ye=null,Ae=ve;return ie<Ae&&(Ae=ie,ye="add"),jt<Ae&&(Ae=jt,ye="del"),{type:ye,min:Ae}}var O=function(jt,ie){var ve=jt.length,ye=ie.length,Ae,Pe,Oe=0;if(ve===0||ye===0)return null;for(var De=[],Ce=0;Ce<=ve;Ce++)De[Ce]=[],De[Ce][0]={min:Ce};for(var rr=0;rr<=ye;rr++)De[0][rr]={min:rr};for(var Ce=1;Ce<=ve;Ce++){Ae=jt[Ce-1];for(var rr=1;rr<=ye;rr++){Pe=ie[rr-1],(0,m.isEqual)(Ae,Pe)?Oe=0:Oe=1;var Ue=De[Ce-1][rr].min+1,fr=De[Ce][rr-1].min+1,Cr=De[Ce-1][rr-1].min+Oe;De[Ce][rr]=A(Ue,fr,Cr)}}return De};function B(jt,ie){var ve=O(jt,ie),ye=jt.length,Ae=ie.length,Pe=[],Oe=1,De=1;if(ve[ye][Ae]!==ye){for(var Ce=1;Ce<=ye;Ce++){var rr=ve[Ce][Ce].min;De=Ce;for(var Ue=Oe;Ue<=Ae;Ue++)ve[Ce][Ue].min<rr&&(rr=ve[Ce][Ue].min,De=Ue);Oe=De,ve[Ce][Oe].type&&Pe.push({index:Ce-1,type:ve[Ce][Oe].type})}for(var Ce=Pe.length-1;Ce>=0;Ce--)Oe=Pe[Ce].index,Pe[Ce].type==="add"?jt.splice(Oe,0,[].concat(jt[Oe])):jt.splice(Oe,1)}if(ye=jt.length,ye<Ae)for(var Ce=0;Ce<Ae-ye;Ce++)jt[ye-1][0]==="z"||jt[ye-1][0]==="Z"?jt.splice(ye-2,0,jt[ye-2]):jt.push(jt[ye-1]);return jt}function R(jt){var ie=[];switch(jt[0]){case"M":ie.push([jt[1],jt[2]]);break;case"L":ie.push([jt[1],jt[2]]);break;case"A":ie.push([jt[6],jt[7]]);break;case"Q":ie.push([jt[3],jt[4]]),ie.push([jt[1],jt[2]]);break;case"T":ie.push([jt[1],jt[2]]);break;case"C":ie.push([jt[5],jt[6]]),ie.push([jt[1],jt[2]]),ie.push([jt[3],jt[4]]);break;case"S":ie.push([jt[3],jt[4]]),ie.push([jt[1],jt[2]]);break;case"H":ie.push([jt[1],jt[1]]);break;case"V":ie.push([jt[1],jt[1]]);break;default:}return ie}function Y(jt,ie,ve){for(var ye=[].concat(jt),Ae,Pe=1/(ve+1),Oe=R(ie)[0],De=1;De<=ve;De++)Pe*=De,Ae=Math.floor(jt.length*Pe),Ae===0?ye.unshift([Oe[0]*Pe+jt[Ae][0]*(1-Pe),Oe[1]*Pe+jt[Ae][1]*(1-Pe)]):ye.splice(Ae,0,[Oe[0]*Pe+jt[Ae][0]*(1-Pe),Oe[1]*Pe+jt[Ae][1]*(1-Pe)]);return ye}function j(jt,ie){if(jt.length<=1)return jt;for(var ve,ye=0;ye<ie.length;ye++)if(jt[ye][0]!==ie[ye][0])switch(ve=R(jt[ye]),ie[ye][0]){case"M":jt[ye]=["M"].concat(ve[0]);break;case"L":jt[ye]=["L"].concat(ve[0]);break;case"A":jt[ye]=[].concat(ie[ye]),jt[ye][6]=ve[0][0],jt[ye][7]=ve[0][1];break;case"Q":if(ve.length<2)if(ye>0)ve=Y(ve,jt[ye-1],1);else{jt[ye]=ie[ye];break}jt[ye]=["Q"].concat(ve.reduce(function(Ae,Pe){return Ae.concat(Pe)},[]));break;case"T":jt[ye]=["T"].concat(ve[0]);break;case"C":if(ve.length<3)if(ye>0)ve=Y(ve,jt[ye-1],2);else{jt[ye]=ie[ye];break}jt[ye]=["C"].concat(ve.reduce(function(Ae,Pe){return Ae.concat(Pe)},[]));break;case"S":if(ve.length<2)if(ye>0)ve=Y(ve,jt[ye-1],1);else{jt[ye]=ie[ye];break}jt[ye]=["S"].concat(ve.reduce(function(Ae,Pe){return Ae.concat(Pe)},[]));break;default:jt[ye]=ie[ye]}return jt}function V(jt,ie,ve,ye,Ae){return Ae?[["M",+jt+ +Ae,ie],["l",ve-Ae*2,0],["a",Ae,Ae,0,0,1,Ae,Ae],["l",0,ye-Ae*2],["a",Ae,Ae,0,0,1,-Ae,Ae],["l",Ae*2-ve,0],["a",Ae,Ae,0,0,1,-Ae,-Ae],["l",0,Ae*2-ye],["a",Ae,Ae,0,0,1,Ae,-Ae],["z"]]:[["M",jt,ie],["l",ve,0],["l",0,ye],["l",-ve,0],["z"]]}var nt=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ct=new RegExp("([a-z])["+nt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+nt+"]*,?["+nt+"]*)+)","ig"),ut=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+nt+"]*,?["+nt+"]*","ig");function Pt(jt){if(!jt)return null;if((0,m.isArray)(jt))return jt;var ie={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ve=[];return String(jt).replace(ct,function(ye,Ae,Pe){var Oe=[],De=Ae.toLowerCase();if(Pe.replace(ut,function(Ce,rr){rr&&Oe.push(+rr)}),De==="m"&&Oe.length>2&&(ve.push([Ae].concat(Oe.splice(0,2))),De="l",Ae=Ae==="m"?"l":"L"),De==="o"&&Oe.length===1&&ve.push([Ae,Oe[0]]),De==="r")ve.push([Ae].concat(Oe));else for(;Oe.length>=ie[De]&&(ve.push([Ae].concat(Oe.splice(0,ie[De]))),!!ie[De]););return""}),ve}var Gt=/[a-z]/;function qt(jt,ie){return[ie[0]+(ie[0]-jt[0]),ie[1]+(ie[1]-jt[1])]}function Rt(jt){var ie=Pt(jt);if(!ie||!ie.length)return[["M",0,0]];for(var ve=!1,ye=0;ye<ie.length;ye++){var Ae=ie[ye][0];if(Gt.test(Ae)||["V","H","T","S"].indexOf(Ae)>=0){ve=!0;break}}if(!ve)return ie;var Pe=[],Oe=0,De=0,Ce=0,rr=0,Ue=0,fr,Cr,vr=ie[0];(vr[0]==="M"||vr[0]==="m")&&(Oe=+vr[1],De=+vr[2],Ce=Oe,rr=De,Ue++,Pe[0]=["M",Oe,De]);for(var ye=Ue,br=ie.length;ye<br;ye++){var mr=ie[ye],Ar=Pe[ye-1],hr=[],Ae=mr[0],Fr=Ae.toUpperCase();if(Ae!==Fr)switch(hr[0]=Fr,Fr){case"A":hr[1]=mr[1],hr[2]=mr[2],hr[3]=mr[3],hr[4]=mr[4],hr[5]=mr[5],hr[6]=+mr[6]+Oe,hr[7]=+mr[7]+De;break;case"V":hr[1]=+mr[1]+De;break;case"H":hr[1]=+mr[1]+Oe;break;case"M":Ce=+mr[1]+Oe,rr=+mr[2]+De,hr[1]=Ce,hr[2]=rr;break;default:for(var Kr=1,Xr=mr.length;Kr<Xr;Kr++)hr[Kr]=+mr[Kr]+(Kr%2?Oe:De)}else hr=ie[ye];switch(Fr){case"Z":Oe=+Ce,De=+rr;break;case"H":Oe=hr[1],hr=["L",Oe,De];break;case"V":De=hr[1],hr=["L",Oe,De];break;case"T":Oe=hr[1],De=hr[2];var Zr=qt([Ar[1],Ar[2]],[Ar[3],Ar[4]]);hr=["Q",Zr[0],Zr[1],Oe,De];break;case"S":Oe=hr[hr.length-2],De=hr[hr.length-1];var an=Ar.length,en=qt([Ar[an-4],Ar[an-3]],[Ar[an-2],Ar[an-1]]);hr=["C",en[0],en[1],hr[1],hr[2],Oe,De];break;case"M":Ce=hr[hr.length-2],rr=hr[hr.length-1];break;default:Oe=hr[hr.length-2],De=hr[hr.length-1]}Pe.push(hr)}return Pe}var at=Math.PI*2,vt=function(jt,ie,ve,ye,Ae,Pe,Oe){var De=jt.x,Ce=jt.y;De*=ie,Ce*=ve;var rr=ye*De-Ae*Ce,Ue=Ae*De+ye*Ce;return{x:rr+Pe,y:Ue+Oe}},ot=function(jt,ie){var ve=ie===1.5707963267948966?.551915024494:ie===-1.5707963267948966?-.551915024494:4/3*Math.tan(ie/4),ye=Math.cos(jt),Ae=Math.sin(jt),Pe=Math.cos(jt+ie),Oe=Math.sin(jt+ie);return[{x:ye-Ae*ve,y:Ae+ye*ve},{x:Pe+Oe*ve,y:Oe-Pe*ve},{x:Pe,y:Oe}]},Et=function(jt,ie,ve,ye){var Ae=jt*ye-ie*ve<0?-1:1,Pe=jt*ve+ie*ye;return Pe>1&&(Pe=1),Pe<-1&&(Pe=-1),Ae*Math.acos(Pe)},dt=function(jt,ie,ve,ye,Ae,Pe,Oe,De,Ce,rr,Ue,fr){var Cr=Math.pow(Ae,2),vr=Math.pow(Pe,2),br=Math.pow(Ue,2),mr=Math.pow(fr,2),Ar=Cr*vr-Cr*mr-vr*br;Ar<0&&(Ar=0),Ar/=Cr*mr+vr*br,Ar=Math.sqrt(Ar)*(Oe===De?-1:1);var hr=Ar*Ae/Pe*fr,Fr=Ar*-Pe/Ae*Ue,Kr=rr*hr-Ce*Fr+(jt+ve)/2,Xr=Ce*hr+rr*Fr+(ie+ye)/2,Zr=(Ue-hr)/Ae,an=(fr-Fr)/Pe,en=(-Ue-hr)/Ae,Wn=(-fr-Fr)/Pe,gn=Et(1,0,Zr,an),ei=Et(Zr,an,en,Wn);return De===0&&ei>0&&(ei-=at),De===1&&ei<0&&(ei+=at),[Kr,Xr,gn,ei]},X=function(jt){var ie=jt.px,ve=jt.py,ye=jt.cx,Ae=jt.cy,Pe=jt.rx,Oe=jt.ry,De=jt.xAxisRotation,Ce=De===void 0?0:De,rr=jt.largeArcFlag,Ue=rr===void 0?0:rr,fr=jt.sweepFlag,Cr=fr===void 0?0:fr,vr=[];if(Pe===0||Oe===0)return[{x1:0,y1:0,x2:0,y2:0,x:ye,y:Ae}];var br=Math.sin(Ce*at/360),mr=Math.cos(Ce*at/360),Ar=mr*(ie-ye)/2+br*(ve-Ae)/2,hr=-br*(ie-ye)/2+mr*(ve-Ae)/2;if(Ar===0&&hr===0)return[{x1:0,y1:0,x2:0,y2:0,x:ye,y:Ae}];Pe=Math.abs(Pe),Oe=Math.abs(Oe);var Fr=Math.pow(Ar,2)/Math.pow(Pe,2)+Math.pow(hr,2)/Math.pow(Oe,2);Fr>1&&(Pe*=Math.sqrt(Fr),Oe*=Math.sqrt(Fr));var Kr=dt(ie,ve,ye,Ae,Pe,Oe,Ue,Cr,br,mr,Ar,hr),Xr=Kr[0],Zr=Kr[1],an=Kr[2],en=Kr[3],Wn=Math.abs(en)/(at/4);Math.abs(1-Wn)<1e-7&&(Wn=1);var gn=Math.max(Math.ceil(Wn),1);en/=gn;for(var ei=0;ei<gn;ei++)vr.push(ot(an,en)),an+=en;return vr.map(function(pi){var hi=vt(pi[0],Pe,Oe,mr,br,Xr,Zr),Mi=hi.x,Zi=hi.y,Yr=vt(pi[1],Pe,Oe,mr,br,Xr,Zr),gi=Yr.x,Ei=Yr.y,yi=vt(pi[2],Pe,Oe,mr,br,Xr,Zr),Pn=yi.x,vi=yi.y;return{x1:Mi,y1:Zi,x2:gi,y2:Ei,x:Pn,y:vi}})};function $(jt,ie,ve,ye,Ae,Pe,Oe,De,Ce){var rr=X({px:jt,py:ie,cx:De,cy:Ce,rx:ve,ry:ye,xAxisRotation:Ae,largeArcFlag:Pe,sweepFlag:Oe});return rr.reduce(function(Ue,fr){var Cr=fr.x1,vr=fr.y1,br=fr.x2,mr=fr.y2,Ar=fr.x,hr=fr.y;return Ue.push(Cr,vr,br,mr,Ar,hr),Ue},[])}function H(jt,ie,ve,ye,Ae,Pe){var Oe=1/3,De=2/3;return[Oe*jt+De*ve,Oe*ie+De*ye,Oe*Ae+De*ve,Oe*Pe+De*ye,Ae,Pe]}function f(jt,ie,ve,ye){return[jt,ie,ve,ye,ve,ye]}function xt(jt,ie){"TQ".indexOf(jt[0])<0&&(ie.qx=null,ie.qy=null);var ve=jt.slice(1),ye=ve[0],Ae=ve[1];switch(jt[0]){case"M":return ie.x=ye,ie.y=Ae,jt;case"A":return["C"].concat($.apply(0,[ie.x1,ie.y1].concat(jt.slice(1))));case"Q":return ie.qx=ye,ie.qy=Ae,["C"].concat(H.apply(0,[ie.x1,ie.y1].concat(jt.slice(1))));case"L":return["C"].concat(f(ie.x1,ie.y1,jt[1],jt[2]));case"H":return["C"].concat(f(ie.x1,ie.y1,jt[1],ie.y1));case"V":return["C"].concat(f(ie.x1,ie.y1,ie.x1,jt[1]));case"Z":return["C"].concat(f(ie.x1,ie.y1,ie.x,ie.y));default:}return jt}function Mt(jt,ie){ie===void 0&&(ie=!1);for(var ve=Rt(jt),ye={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Ae=[],Pe="",Oe=ve.length,De,Ce,rr=[],Ue=0;Ue<Oe;Ue+=1)ve[Ue]&&(Pe=ve[Ue][0]),Ae[Ue]=Pe,ve[Ue]=xt(ve[Ue],ye),Ut(ve,Ae,Ue),Oe=ve.length,Pe==="Z"&&rr.push(Ue),De=ve[Ue],Ce=De.length,ye.x1=+De[Ce-2],ye.y1=+De[Ce-1],ye.x2=+De[Ce-4]||ye.x1,ye.y2=+De[Ce-3]||ye.y1;return ie?[ve,rr]:ve}function Ut(jt,ie,ve){if(jt[ve].length>7){jt[ve].shift();for(var ye=jt[ve],Ae=ve;ye.length;)ie[ve]="A",jt.splice(Ae+=1,0,["C"].concat(ye.splice(0,6)));jt.splice(ve,1)}}var re=function(jt,ie,ve,ye,Ae){var Pe=-3*ie+9*ve-9*ye+3*Ae,Oe=jt*Pe+6*ie-12*ve+6*ye;return jt*Oe-3*ie+3*ve},zt=function(jt,ie,ve,ye,Ae,Pe,Oe,De,Ce){Ce===null&&(Ce=1),Ce=Ce>1?1:Ce<0?0:Ce;for(var rr=Ce/2,Ue=12,fr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],vr=0,br=0;br<Ue;br++){var mr=rr*fr[br]+rr,Ar=re(mr,jt,ve,Ae,Oe),hr=re(mr,ie,ye,Pe,De),Fr=Ar*Ar+hr*hr;vr+=Cr[br]*Math.sqrt(Fr)}return rr*vr},ne=function(jt,ie,ve,ye,Ae,Pe,Oe,De){for(var Ce=[],rr=[[],[]],Ue,fr,Cr,vr,br=0;br<2;++br){if(br===0?(fr=6*jt-12*ve+6*Ae,Ue=-3*jt+9*ve-9*Ae+3*Oe,Cr=3*ve-3*jt):(fr=6*ie-12*ye+6*Pe,Ue=-3*ie+9*ye-9*Pe+3*De,Cr=3*ye-3*ie),Math.abs(Ue)<1e-12){if(Math.abs(fr)<1e-12)continue;vr=-Cr/fr,vr>0&&vr<1&&Ce.push(vr);continue}var mr=fr*fr-4*Cr*Ue,Ar=Math.sqrt(mr);if(!(mr<0)){var hr=(-fr+Ar)/(2*Ue);hr>0&&hr<1&&Ce.push(hr);var Fr=(-fr-Ar)/(2*Ue);Fr>0&&Fr<1&&Ce.push(Fr)}}for(var Kr=Ce.length,Xr=Kr,Zr;Kr--;)vr=Ce[Kr],Zr=1-vr,rr[0][Kr]=Zr*Zr*Zr*jt+3*Zr*Zr*vr*ve+3*Zr*vr*vr*Ae+vr*vr*vr*Oe,rr[1][Kr]=Zr*Zr*Zr*ie+3*Zr*Zr*vr*ye+3*Zr*vr*vr*Pe+vr*vr*vr*De;return rr[0][Xr]=jt,rr[1][Xr]=ie,rr[0][Xr+1]=Oe,rr[1][Xr+1]=De,rr[0].length=rr[1].length=Xr+2,{min:{x:Math.min.apply(0,rr[0]),y:Math.min.apply(0,rr[1])},max:{x:Math.max.apply(0,rr[0]),y:Math.max.apply(0,rr[1])}}},ae=function(jt,ie,ve,ye,Ae,Pe,Oe,De){if(!(Math.max(jt,ve)<Math.min(Ae,Oe)||Math.min(jt,ve)>Math.max(Ae,Oe)||Math.max(ie,ye)<Math.min(Pe,De)||Math.min(ie,ye)>Math.max(Pe,De))){var Ce=(jt*ye-ie*ve)*(Ae-Oe)-(jt-ve)*(Ae*De-Pe*Oe),rr=(jt*ye-ie*ve)*(Pe-De)-(ie-ye)*(Ae*De-Pe*Oe),Ue=(jt-ve)*(Pe-De)-(ie-ye)*(Ae-Oe);if(!!Ue){var fr=Ce/Ue,Cr=rr/Ue,vr=+fr.toFixed(2),br=+Cr.toFixed(2);if(!(vr<+Math.min(jt,ve).toFixed(2)||vr>+Math.max(jt,ve).toFixed(2)||vr<+Math.min(Ae,Oe).toFixed(2)||vr>+Math.max(Ae,Oe).toFixed(2)||br<+Math.min(ie,ye).toFixed(2)||br>+Math.max(ie,ye).toFixed(2)||br<+Math.min(Pe,De).toFixed(2)||br>+Math.max(Pe,De).toFixed(2)))return{x:fr,y:Cr}}}},Dt=function(jt,ie,ve){return ie>=jt.x&&ie<=jt.x+jt.width&&ve>=jt.y&&ve<=jt.y+jt.height},Tt=function(jt,ie,ve,ye){return jt===null&&(jt=ie=ve=ye=0),ie===null&&(ie=jt.y,ve=jt.width,ye=jt.height,jt=jt.x),{x:jt,y:ie,width:ve,w:ve,height:ye,h:ye,x2:jt+ve,y2:ie+ye,cx:jt+ve/2,cy:ie+ye/2,r1:Math.min(ve,ye)/2,r2:Math.max(ve,ye)/2,r0:Math.sqrt(ve*ve+ye*ye)/2,path:V(jt,ie,ve,ye),vb:[jt,ie,ve,ye].join(" ")}},pt=function(jt,ie){return jt=Tt(jt),ie=Tt(ie),Dt(ie,jt.x,jt.y)||Dt(ie,jt.x2,jt.y)||Dt(ie,jt.x,jt.y2)||Dt(ie,jt.x2,jt.y2)||Dt(jt,ie.x,ie.y)||Dt(jt,ie.x2,ie.y)||Dt(jt,ie.x,ie.y2)||Dt(jt,ie.x2,ie.y2)||(jt.x<ie.x2&&jt.x>ie.x||ie.x<jt.x2&&ie.x>jt.x)&&(jt.y<ie.y2&&jt.y>ie.y||ie.y<jt.y2&&ie.y>jt.y)},Q=function(jt,ie,ve,ye,Ae,Pe,Oe,De){(0,m.isArray)(jt)||(jt=[jt,ie,ve,ye,Ae,Pe,Oe,De]);var Ce=ne.apply(null,jt);return Tt(Ce.min.x,Ce.min.y,Ce.max.x-Ce.min.x,Ce.max.y-Ce.min.y)},K=function(jt,ie,ve,ye,Ae,Pe,Oe,De,Ce){var rr=1-Ce,Ue=Math.pow(rr,3),fr=Math.pow(rr,2),Cr=Ce*Ce,vr=Cr*Ce,br=Ue*jt+fr*3*Ce*ve+rr*3*Ce*Ce*Ae+vr*Oe,mr=Ue*ie+fr*3*Ce*ye+rr*3*Ce*Ce*Pe+vr*De,Ar=jt+2*Ce*(ve-jt)+Cr*(Ae-2*ve+jt),hr=ie+2*Ce*(ye-ie)+Cr*(Pe-2*ye+ie),Fr=ve+2*Ce*(Ae-ve)+Cr*(Oe-2*Ae+ve),Kr=ye+2*Ce*(Pe-ye)+Cr*(De-2*Pe+ye),Xr=rr*jt+Ce*ve,Zr=rr*ie+Ce*ye,an=rr*Ae+Ce*Oe,en=rr*Pe+Ce*De,Wn=90-Math.atan2(Ar-Fr,hr-Kr)*180/Math.PI;return{x:br,y:mr,m:{x:Ar,y:hr},n:{x:Fr,y:Kr},start:{x:Xr,y:Zr},end:{x:an,y:en},alpha:Wn}},lt=function(jt,ie,ve){var ye=Q(jt),Ae=Q(ie);if(!pt(ye,Ae))return ve?0:[];for(var Pe=zt.apply(0,jt),Oe=zt.apply(0,ie),De=~~(Pe/8),Ce=~~(Oe/8),rr=[],Ue=[],fr={},Cr=ve?0:[],vr=0;vr<De+1;vr++){var br=K.apply(0,jt.concat(vr/De));rr.push({x:br.x,y:br.y,t:vr/De})}for(var vr=0;vr<Ce+1;vr++){var br=K.apply(0,ie.concat(vr/Ce));Ue.push({x:br.x,y:br.y,t:vr/Ce})}for(var vr=0;vr<De;vr++)for(var mr=0;mr<Ce;mr++){var Ar=rr[vr],hr=rr[vr+1],Fr=Ue[mr],Kr=Ue[mr+1],Xr=Math.abs(hr.x-Ar.x)<.001?"y":"x",Zr=Math.abs(Kr.x-Fr.x)<.001?"y":"x",an=ae(Ar.x,Ar.y,hr.x,hr.y,Fr.x,Fr.y,Kr.x,Kr.y);if(an){if(fr[an.x.toFixed(4)]===an.y.toFixed(4))continue;fr[an.x.toFixed(4)]=an.y.toFixed(4);var en=Ar.t+Math.abs((an[Xr]-Ar[Xr])/(hr[Xr]-Ar[Xr]))*(hr.t-Ar.t),Wn=Fr.t+Math.abs((an[Zr]-Fr[Zr])/(Kr[Zr]-Fr[Zr]))*(Kr.t-Fr.t);en>=0&&en<=1&&Wn>=0&&Wn<=1&&(ve?Cr++:Cr.push({x:an.x,y:an.y,t1:en,t2:Wn}))}}return Cr},U=function(jt,ie,ve){jt=Mt(jt),ie=Mt(ie);for(var ye,Ae,Pe,Oe,De,Ce,rr,Ue,fr,Cr,vr=ve?0:[],br=0,mr=jt.length;br<mr;br++){var Ar=jt[br];if(Ar[0]==="M")ye=De=Ar[1],Ae=Ce=Ar[2];else{Ar[0]==="C"?(fr=[ye,Ae].concat(Ar.slice(1)),ye=fr[6],Ae=fr[7]):(fr=[ye,Ae,ye,Ae,De,Ce,De,Ce],ye=De,Ae=Ce);for(var hr=0,Fr=ie.length;hr<Fr;hr++){var Kr=ie[hr];if(Kr[0]==="M")Pe=rr=Kr[1],Oe=Ue=Kr[2];else{Kr[0]==="C"?(Cr=[Pe,Oe].concat(Kr.slice(1)),Pe=Cr[6],Oe=Cr[7]):(Cr=[Pe,Oe,Pe,Oe,rr,Ue,rr,Ue],Pe=rr,Oe=Ue);var Xr=lt(fr,Cr,ve);if(ve)vr+=Xr;else{for(var Zr=0,an=Xr.length;Zr<an;Zr++)Xr[Zr].segment1=br,Xr[Zr].segment2=hr,Xr[Zr].bez1=fr,Xr[Zr].bez2=Cr;vr=vr.concat(Xr)}}}}}return vr};function W(jt,ie){return U(jt,ie)}var wt=/,?([a-z]),?/gi;function Lt(jt){return jt.join(",").replace(wt,"$1")}function Wt(jt){return Math.sqrt(jt[0]*jt[0]+jt[1]*jt[1])}function oe(jt,ie){return Wt(jt)*Wt(ie)?(jt[0]*ie[0]+jt[1]*ie[1])/(Wt(jt)*Wt(ie)):1}function Se(jt,ie){return(jt[0]*ie[1]<jt[1]*ie[0]?-1:1)*Math.acos(oe(jt,ie))}function Ye(jt,ie){return jt[0]===ie[0]&&jt[1]===ie[1]}function te(jt,ie){var ve=ie[1],ye=ie[2],Ae=(0,m.mod)((0,m.toRadian)(ie[3]),Math.PI*2),Pe=ie[4],Oe=ie[5],De=jt[0],Ce=jt[1],rr=ie[6],Ue=ie[7],fr=Math.cos(Ae)*(De-rr)/2+Math.sin(Ae)*(Ce-Ue)/2,Cr=-1*Math.sin(Ae)*(De-rr)/2+Math.cos(Ae)*(Ce-Ue)/2,vr=fr*fr/(ve*ve)+Cr*Cr/(ye*ye);vr>1&&(ve*=Math.sqrt(vr),ye*=Math.sqrt(vr));var br=ve*ve*(Cr*Cr)+ye*ye*(fr*fr),mr=br?Math.sqrt((ve*ve*(ye*ye)-br)/br):1;Pe===Oe&&(mr*=-1),isNaN(mr)&&(mr=0);var Ar=ye?mr*ve*Cr/ye:0,hr=ve?mr*-ye*fr/ve:0,Fr=(De+rr)/2+Math.cos(Ae)*Ar-Math.sin(Ae)*hr,Kr=(Ce+Ue)/2+Math.sin(Ae)*Ar+Math.cos(Ae)*hr,Xr=[(fr-Ar)/ve,(Cr-hr)/ye],Zr=[(-1*fr-Ar)/ve,(-1*Cr-hr)/ye],an=Se([1,0],Xr),en=Se(Xr,Zr);return oe(Xr,Zr)<=-1&&(en=Math.PI),oe(Xr,Zr)>=1&&(en=0),Oe===0&&en>0&&(en=en-2*Math.PI),Oe===1&&en<0&&(en=en+2*Math.PI),{cx:Fr,cy:Kr,rx:Ye(jt,[rr,Ue])?0:ve,ry:Ye(jt,[rr,Ue])?0:ye,startAngle:an,endAngle:an+en,xRotation:Ae,arcFlag:Pe,sweepFlag:Oe}}function ge(jt,ie){return[ie[0]+(ie[0]-jt[0]),ie[1]+(ie[1]-jt[1])]}function _e(jt){jt=T(jt);for(var ie=[],ve=null,ye=null,Ae=null,Pe=0,Oe=jt.length,De=0;De<Oe;De++){var Ce=jt[De];ye=jt[De+1];var rr=Ce[0],Ue={command:rr,prePoint:ve,params:Ce,startTangent:null,endTangent:null};switch(rr){case"M":Ae=[Ce[1],Ce[2]],Pe=De;break;case"A":var fr=te(ve,Ce);Ue.arcParams=fr;break;default:break}if(rr==="Z")ve=Ae,ye=jt[Pe+1];else{var Cr=Ce.length;ve=[Ce[Cr-2],Ce[Cr-1]]}ye&&ye[0]==="Z"&&(ye=jt[Pe],ie[Pe]&&(ie[Pe].prePoint=ve)),Ue.currentPoint=ve,ie[Pe]&&Ye(ve,ie[Pe].currentPoint)&&(ie[Pe].prePoint=Ue.prePoint);var vr=ye?[ye[ye.length-2],ye[ye.length-1]]:null;Ue.nextPoint=vr;var br=Ue.prePoint;if(["L","H","V"].includes(rr))Ue.startTangent=[br[0]-ve[0],br[1]-ve[1]],Ue.endTangent=[ve[0]-br[0],ve[1]-br[1]];else if(rr==="Q"){var mr=[Ce[1],Ce[2]];Ue.startTangent=[br[0]-mr[0],br[1]-mr[1]],Ue.endTangent=[ve[0]-mr[0],ve[1]-mr[1]]}else if(rr==="T"){var Ar=ie[De-1],mr=ge(Ar.currentPoint,br);Ar.command==="Q"?(Ue.command="Q",Ue.startTangent=[br[0]-mr[0],br[1]-mr[1]],Ue.endTangent=[ve[0]-mr[0],ve[1]-mr[1]]):(Ue.command="TL",Ue.startTangent=[br[0]-ve[0],br[1]-ve[1]],Ue.endTangent=[ve[0]-br[0],ve[1]-br[1]])}else if(rr==="C"){var hr=[Ce[1],Ce[2]],Fr=[Ce[3],Ce[4]];Ue.startTangent=[br[0]-hr[0],br[1]-hr[1]],Ue.endTangent=[ve[0]-Fr[0],ve[1]-Fr[1]],Ue.startTangent[0]===0&&Ue.startTangent[1]===0&&(Ue.startTangent=[hr[0]-Fr[0],hr[1]-Fr[1]]),Ue.endTangent[0]===0&&Ue.endTangent[1]===0&&(Ue.endTangent=[Fr[0]-hr[0],Fr[1]-hr[1]])}else if(rr==="S"){var Ar=ie[De-1],hr=ge(Ar.currentPoint,br),Fr=[Ce[1],Ce[2]];Ar.command==="C"?(Ue.command="C",Ue.startTangent=[br[0]-hr[0],br[1]-hr[1]],Ue.endTangent=[ve[0]-Fr[0],ve[1]-Fr[1]]):(Ue.command="SQ",Ue.startTangent=[br[0]-Fr[0],br[1]-Fr[1]],Ue.endTangent=[ve[0]-Fr[0],ve[1]-Fr[1]])}else if(rr==="A"){var Kr=.001,Xr=Ue.arcParams||{},Zr=Xr.cx,an=Zr===void 0?0:Zr,en=Xr.cy,Wn=en===void 0?0:en,gn=Xr.rx,ei=gn===void 0?0:gn,pi=Xr.ry,hi=pi===void 0?0:pi,Mi=Xr.sweepFlag,Zi=Mi===void 0?0:Mi,Yr=Xr.startAngle,gi=Yr===void 0?0:Yr,Ei=Xr.endAngle,yi=Ei===void 0?0:Ei;Zi===0&&(Kr*=-1);var Pn=ei*Math.cos(gi-Kr)+an,vi=hi*Math.sin(gi-Kr)+Wn;Ue.startTangent=[Pn-Ae[0],vi-Ae[1]];var Ki=ei*Math.cos(gi+yi+Kr)+an,Bi=hi*Math.sin(gi+yi-Kr)+Wn;Ue.endTangent=[br[0]-Ki,br[1]-Bi]}ie.push(Ue)}return ie}var Ne=function(jt,ie,ve){return jt>=ie&&jt<=ve};function or(jt,ie,ve,ye){var Ae=.001,Pe={x:ve.x-jt.x,y:ve.y-jt.y},Oe={x:ie.x-jt.x,y:ie.y-jt.y},De={x:ye.x-ve.x,y:ye.y-ve.y},Ce=Oe.x*De.y-Oe.y*De.x,rr=Ce*Ce,Ue=Oe.x*Oe.x+Oe.y*Oe.y,fr=De.x*De.x+De.y*De.y,Cr=null;if(rr>Ae*Ue*fr){var vr=(Pe.x*De.y-Pe.y*De.x)/Ce,br=(Pe.x*Oe.y-Pe.y*Oe.x)/Ce;Ne(vr,0,1)&&Ne(br,0,1)&&(Cr={x:jt.x+vr*Oe.x,y:jt.y+vr*Oe.y})}return Cr}var je=1e-6;function dr(jt){return Math.abs(jt)<je?0:jt<0?-1:1}function kr(jt,ie,ve){return(ve[0]-jt[0])*(ie[1]-jt[1])==(ie[0]-jt[0])*(ve[1]-jt[1])&&Math.min(jt[0],ie[0])<=ve[0]&&ve[0]<=Math.max(jt[0],ie[0])&&Math.min(jt[1],ie[1])<=ve[1]&&ve[1]<=Math.max(jt[1],ie[1])}function Br(jt,ie,ve){var ye=!1,Ae=jt.length;if(Ae<=2)return!1;for(var Pe=0;Pe<Ae;Pe++){var Oe=jt[Pe],De=jt[(Pe+1)%Ae];if(kr(Oe,De,[ie,ve]))return!0;dr(Oe[1]-ve)>0!=dr(De[1]-ve)>0&&dr(ie-(ve-Oe[1])*(Oe[0]-De[0])/(Oe[1]-De[1])-Oe[0])<0&&(ye=!ye)}return ye}function ln(jt){for(var ie=[],ve=jt.length,ye=0;ye<ve-1;ye++){var Ae=jt[ye],Pe=jt[ye+1];ie.push({from:{x:Ae[0],y:Ae[1]},to:{x:Pe[0],y:Pe[1]}})}if(ie.length>1){var Oe=jt[0],De=jt[ve-1];ie.push({from:{x:De[0],y:De[1]},to:{x:Oe[0],y:Oe[1]}})}return ie}function Yn(jt,ie){var ve=!1;return(0,m.each)(jt,function(ye){if(or(ye.from,ye.to,ie.from,ie.to))return ve=!0,!1}),ve}function fi(jt){var ie=jt.map(function(ye){return ye[0]}),ve=jt.map(function(ye){return ye[1]});return{minX:Math.min.apply(null,ie),maxX:Math.max.apply(null,ie),minY:Math.min.apply(null,ve),maxY:Math.max.apply(null,ve)}}function Ci(jt,ie){return!(ie.minX>jt.maxX||ie.maxX<jt.minX||ie.minY>jt.maxY||ie.maxY<jt.minY)}function ki(jt,ie){if(jt.length<2||ie.length<2)return!1;var ve=fi(jt),ye=fi(ie);if(!Ci(ve,ye))return!1;var Ae=!1;if((0,m.each)(ie,function(Ce){if(Br(jt,Ce[0],Ce[1]))return Ae=!0,!1}),Ae||((0,m.each)(jt,function(Ce){if(Br(ie,Ce[0],Ce[1]))return Ae=!0,!1}),Ae))return!0;var Pe=ln(jt),Oe=ln(ie),De=!1;return(0,m.each)(Oe,function(Ce){if(Yn(Pe,Ce))return De=!0,!1}),De}},84023:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var m=d(49242);function L(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function I(M,E){return L(M)*L(E)?(M[0]*E[0]+M[1]*E[1])/(L(M)*L(E)):1}function P(M,E){return(M[0]*E[1]<M[1]*E[0]?-1:1)*Math.acos(I(M,E))}function T(M,E){return M[0]===E[0]&&M[1]===E[1]}S.isSamePoint=T;function _(M,E){var p=E[1],b=E[2],y=(0,m.mod)((0,m.toRadian)(E[3]),Math.PI*2),w=E[4],x=E[5],A=M[0],O=M[1],B=E[6],R=E[7],Y=Math.cos(y)*(A-B)/2+Math.sin(y)*(O-R)/2,j=-1*Math.sin(y)*(A-B)/2+Math.cos(y)*(O-R)/2,V=Y*Y/(p*p)+j*j/(b*b);V>1&&(p*=Math.sqrt(V),b*=Math.sqrt(V));var nt=p*p*(j*j)+b*b*(Y*Y),ct=nt?Math.sqrt((p*p*(b*b)-nt)/nt):1;w===x&&(ct*=-1),isNaN(ct)&&(ct=0);var ut=b?ct*p*j/b:0,Pt=p?ct*-b*Y/p:0,Gt=(A+B)/2+Math.cos(y)*ut-Math.sin(y)*Pt,qt=(O+R)/2+Math.sin(y)*ut+Math.cos(y)*Pt,Rt=[(Y-ut)/p,(j-Pt)/b],at=[(-1*Y-ut)/p,(-1*j-Pt)/b],vt=P([1,0],Rt),ot=P(Rt,at);return I(Rt,at)<=-1&&(ot=Math.PI),I(Rt,at)>=1&&(ot=0),x===0&&ot>0&&(ot=ot-2*Math.PI),x===1&&ot<0&&(ot=ot+2*Math.PI),{cx:Gt,cy:qt,rx:T(M,[B,R])?0:p,ry:T(M,[B,R])?0:b,startAngle:vt,endAngle:vt+ot,xRotation:y,arcFlag:w,sweepFlag:x}}S.default=_},21528:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(L,I,P){return L>=I&&L<=P};function m(L,I,P,T){var _=.001,M={x:P.x-L.x,y:P.y-L.y},E={x:I.x-L.x,y:I.y-L.y},p={x:T.x-P.x,y:T.y-P.y},b=E.x*p.y-E.y*p.x,y=b*b,w=E.x*E.x+E.y*E.y,x=p.x*p.x+p.y*p.y,A=null;if(y>_*w*x){var O=(M.x*p.y-M.y*p.x)/b,B=(M.x*E.y-M.y*E.x)/b;d(O,0,1)&&d(B,0,1)&&(A={x:L.x+O*E.x,y:L.y+O*E.y})}return A}S.default=m},70146:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66957),L=d(21528),I=d(49242);function P(p){for(var b=[],y=p.length,w=0;w<y-1;w++){var x=p[w],A=p[w+1];b.push({from:{x:x[0],y:x[1]},to:{x:A[0],y:A[1]}})}if(b.length>1){var O=p[0],B=p[y-1];b.push({from:{x:B[0],y:B[1]},to:{x:O[0],y:O[1]}})}return b}function T(p,b){var y=!1;return(0,I.each)(p,function(w){if((0,L.default)(w.from,w.to,b.from,b.to))return y=!0,!1}),y}function _(p){var b=p.map(function(w){return w[0]}),y=p.map(function(w){return w[1]});return{minX:Math.min.apply(null,b),maxX:Math.max.apply(null,b),minY:Math.min.apply(null,y),maxY:Math.max.apply(null,y)}}function M(p,b){return!(b.minX>p.maxX||b.maxX<p.minX||b.minY>p.maxY||b.maxY<p.minY)}function E(p,b){if(p.length<2||b.length<2)return!1;var y=_(p),w=_(b);if(!M(y,w))return!1;var x=!1;if((0,I.each)(b,function(R){if((0,m.default)(p,R[0],R[1]))return x=!0,!1}),x||((0,I.each)(p,function(R){if((0,m.default)(b,R[0],R[1]))return x=!0,!1}),x))return!0;var A=P(p),O=P(b),B=!1;return(0,I.each)(O,function(R){if(T(A,R))return B=!0,!1}),B}S.default=E},28498:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+L+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+L+"]*,?["+L+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+L+"]*,?["+L+"]*","ig");function T(_){if(!_)return null;if((0,m.isArray)(_))return _;var M={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},E=[];return String(_).replace(I,function(p,b,y){var w=[],x=b.toLowerCase();if(y.replace(P,function(A,O){O&&w.push(+O)}),x==="m"&&w.length>2&&(E.push([b].concat(w.splice(0,2))),x="l",b=b==="m"?"l":"L"),x==="o"&&w.length===1&&E.push([b,w[0]]),x==="r")E.push([b].concat(w));else for(;w.length>=M[x]&&(E.push([b].concat(w.splice(0,M[x]))),!!M[x]););return""}),E}S.default=T},80315:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),L=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function P(T){var _=T||[];if((0,m.isArray)(_))return _;if((0,m.isString)(_))return _=_.match(L),(0,m.each)(_,function(M,E){if(M=M.match(I),M[0].length>1){var p=M[0].charAt(0);M.splice(1,0,M[0].substr(1)),M[0]=p}(0,m.each)(M,function(b,y){isNaN(b)||(M[y]=+b)}),_[E]=M}),_}S.default=P},74479:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(28498),I=/[a-z]/;function P(_,M){return[M[0]+(M[0]-_[0]),M[1]+(M[1]-_[1])]}function T(_){var M=(0,L.default)(_);if(!M||!M.length)return[["M",0,0]];for(var E=!1,p=0;p<M.length;p++){var b=M[p][0];if(I.test(b)||["V","H","T","S"].indexOf(b)>=0){E=!0;break}}if(!E)return M;var y=[],w=0,x=0,A=0,O=0,B=0,R,Y,j=M[0];(j[0]==="M"||j[0]==="m")&&(w=+j[1],x=+j[2],A=w,O=x,B++,y[0]=["M",w,x]);for(var p=B,V=M.length;p<V;p++){var nt=M[p],ct=y[p-1],ut=[],b=nt[0],Pt=b.toUpperCase();if(b!==Pt)switch(ut[0]=Pt,Pt){case"A":ut[1]=nt[1],ut[2]=nt[2],ut[3]=nt[3],ut[4]=nt[4],ut[5]=nt[5],ut[6]=+nt[6]+w,ut[7]=+nt[7]+x;break;case"V":ut[1]=+nt[1]+x;break;case"H":ut[1]=+nt[1]+w;break;case"M":A=+nt[1]+w,O=+nt[2]+x,ut[1]=A,ut[2]=O;break;default:for(var Gt=1,qt=nt.length;Gt<qt;Gt++)ut[Gt]=+nt[Gt]+(Gt%2?w:x)}else ut=M[p];switch(Pt){case"Z":w=+A,x=+O;break;case"H":w=ut[1],ut=["L",w,x];break;case"V":x=ut[1],ut=["L",w,x];break;case"T":w=ut[1],x=ut[2];var Rt=P([ct[1],ct[2]],[ct[3],ct[4]]);ut=["Q",Rt[0],Rt[1],w,x];break;case"S":w=ut[ut.length-2],x=ut[ut.length-1];var at=ct.length,vt=P([ct[at-4],ct[at-3]],[ct[at-2],ct[at-1]]);ut=["C",vt[0],vt[1],ut[1],ut[2],w,x];break;case"M":A=ut[ut.length-2],O=ut[ut.length-1];break;default:w=ut[ut.length-2],x=ut[ut.length-1]}y.push(ut)}return y}S.Z=T},49274:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(84023),L=d(84023),I=d(80315);function P(_,M){return[M[0]+(M[0]-_[0]),M[1]+(M[1]-_[1])]}function T(_){_=(0,I.default)(_);for(var M=[],E=null,p=null,b=null,y=0,w=_.length,x=0;x<w;x++){var A=_[x];p=_[x+1];var O=A[0],B={command:O,prePoint:E,params:A,startTangent:null,endTangent:null};switch(O){case"M":b=[A[1],A[2]],y=x;break;case"A":var R=(0,m.default)(E,A);B.arcParams=R;break;default:break}if(O==="Z")E=b,p=_[y+1];else{var Y=A.length;E=[A[Y-2],A[Y-1]]}p&&p[0]==="Z"&&(p=_[y],M[y]&&(M[y].prePoint=E)),B.currentPoint=E,M[y]&&(0,L.isSamePoint)(E,M[y].currentPoint)&&(M[y].prePoint=B.prePoint);var j=p?[p[p.length-2],p[p.length-1]]:null;B.nextPoint=j;var V=B.prePoint;if(["L","H","V"].includes(O))B.startTangent=[V[0]-E[0],V[1]-E[1]],B.endTangent=[E[0]-V[0],E[1]-V[1]];else if(O==="Q"){var nt=[A[1],A[2]];B.startTangent=[V[0]-nt[0],V[1]-nt[1]],B.endTangent=[E[0]-nt[0],E[1]-nt[1]]}else if(O==="T"){var ct=M[x-1],nt=P(ct.currentPoint,V);ct.command==="Q"?(B.command="Q",B.startTangent=[V[0]-nt[0],V[1]-nt[1]],B.endTangent=[E[0]-nt[0],E[1]-nt[1]]):(B.command="TL",B.startTangent=[V[0]-E[0],V[1]-E[1]],B.endTangent=[E[0]-V[0],E[1]-V[1]])}else if(O==="C"){var ut=[A[1],A[2]],Pt=[A[3],A[4]];B.startTangent=[V[0]-ut[0],V[1]-ut[1]],B.endTangent=[E[0]-Pt[0],E[1]-Pt[1]],B.startTangent[0]===0&&B.startTangent[1]===0&&(B.startTangent=[ut[0]-Pt[0],ut[1]-Pt[1]]),B.endTangent[0]===0&&B.endTangent[1]===0&&(B.endTangent=[Pt[0]-ut[0],Pt[1]-ut[1]])}else if(O==="S"){var ct=M[x-1],ut=P(ct.currentPoint,V),Pt=[A[1],A[2]];ct.command==="C"?(B.command="C",B.startTangent=[V[0]-ut[0],V[1]-ut[1]],B.endTangent=[E[0]-Pt[0],E[1]-Pt[1]]):(B.command="SQ",B.startTangent=[V[0]-Pt[0],V[1]-Pt[1]],B.endTangent=[E[0]-Pt[0],E[1]-Pt[1]])}else if(O==="A"){var Gt=.001,qt=B.arcParams||{},Rt=qt.cx,at=Rt===void 0?0:Rt,vt=qt.cy,ot=vt===void 0?0:vt,Et=qt.rx,dt=Et===void 0?0:Et,X=qt.ry,$=X===void 0?0:X,H=qt.sweepFlag,f=H===void 0?0:H,xt=qt.startAngle,Mt=xt===void 0?0:xt,Ut=qt.endAngle,re=Ut===void 0?0:Ut;f===0&&(Gt*=-1);var zt=dt*Math.cos(Mt-Gt)+at,ne=$*Math.sin(Mt-Gt)+ot;B.startTangent=[zt-b[0],ne-b[1]];var ae=dt*Math.cos(Mt+re+Gt)+at,Dt=$*Math.sin(Mt+re-Gt)+ot;B.endTangent=[V[0]-ae,V[1]-Dt]}M.push(B)}return M}S.default=T},66957:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function m(P){return Math.abs(P)<d?0:P<0?-1:1}function L(P,T,_){return(_[0]-P[0])*(T[1]-P[1])==(T[0]-P[0])*(_[1]-P[1])&&Math.min(P[0],T[0])<=_[0]&&_[0]<=Math.max(P[0],T[0])&&Math.min(P[1],T[1])<=_[1]&&_[1]<=Math.max(P[1],T[1])}function I(P,T,_){var M=!1,E=P.length;if(E<=2)return!1;for(var p=0;p<E;p++){var b=P[p],y=P[(p+1)%E];if(L(b,y,[T,_]))return!0;m(b[1]-_)>0!=m(y[1]-_)>0&&m(T-(_-b[1])*(b[0]-y[0])/(b[1]-y[1])-b[0])<0&&(M=!M)}return M}S.default=I},2443:function(mt,S,d){"use strict";d.r(S),d.d(S,{Category:function(){return H},Identity:function(){return ve},Linear:function(){return Wt},Log:function(){return Ne},Pow:function(){return je},Quantile:function(){return fi},Quantize:function(){return ln},Scale:function(){return _},Time:function(){return kr},TimeCat:function(){return U},getScale:function(){return ki},getTickMethod:function(){return I},registerScale:function(){return jt},registerTickMethod:function(){return P}});var m=d(49242),L={};function I(J){return L[J]}function P(J,ft){L[J]=ft}var T=function(){function J(ft){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=ft,this.initCfg(),this.init()}return J.prototype.translate=function(ft){return ft},J.prototype.change=function(ft){(0,m.assign)(this.__cfg__,ft),this.init()},J.prototype.clone=function(){return this.constructor(this.__cfg__)},J.prototype.getTicks=function(){var ft=this;return(0,m.map)(this.ticks,function(yt,_t){return(0,m.isObject)(yt)?yt:{text:ft.getText(yt,_t),tickValue:yt,value:ft.scale(yt)}})},J.prototype.getText=function(ft,yt){var _t=this.formatter,Xt=_t?_t(ft,yt):ft;return(0,m.isNil)(Xt)||!(0,m.isFunction)(Xt.toString)?"":Xt.toString()},J.prototype.getConfig=function(ft){return this.__cfg__[ft]},J.prototype.init=function(){(0,m.assign)(this,this.__cfg__),this.setDomain(),(0,m.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},J.prototype.initCfg=function(){},J.prototype.setDomain=function(){},J.prototype.calculateTicks=function(){var ft=this.tickMethod,yt=[];if((0,m.isString)(ft)){var _t=I(ft);if(!_t)throw new Error("There is no method to to calculate ticks!");yt=_t(this)}else(0,m.isFunction)(ft)&&(yt=ft(this));return yt},J.prototype.rangeMin=function(){return this.range[0]},J.prototype.rangeMax=function(){return this.range[1]},J.prototype.calcPercent=function(ft,yt,_t){return(0,m.isNumber)(ft)?(ft-yt)/(_t-yt):NaN},J.prototype.calcValue=function(ft,yt,_t){return yt+ft*(_t-yt)},J}(),_=T,M=function(J,ft){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yt,_t){yt.__proto__=_t}||function(yt,_t){for(var Xt in _t)Object.prototype.hasOwnProperty.call(_t,Xt)&&(yt[Xt]=_t[Xt])},M(J,ft)};function E(J,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Class extends value "+String(ft)+" is not a constructor or null");M(J,ft);function yt(){this.constructor=J}J.prototype=ft===null?Object.create(ft):(yt.prototype=ft.prototype,new yt)}var p=function(){return p=Object.assign||function(ft){for(var yt,_t=1,Xt=arguments.length;_t<Xt;_t++){yt=arguments[_t];for(var Jt in yt)Object.prototype.hasOwnProperty.call(yt,Jt)&&(ft[Jt]=yt[Jt])}return ft},p.apply(this,arguments)};function b(J,ft){var yt={};for(var _t in J)Object.prototype.hasOwnProperty.call(J,_t)&&ft.indexOf(_t)<0&&(yt[_t]=J[_t]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xt=0,_t=Object.getOwnPropertySymbols(J);Xt<_t.length;Xt++)ft.indexOf(_t[Xt])<0&&Object.prototype.propertyIsEnumerable.call(J,_t[Xt])&&(yt[_t[Xt]]=J[_t[Xt]]);return yt}function y(J,ft,yt,_t){var Xt=arguments.length,Jt=Xt<3?ft:_t===null?_t=Object.getOwnPropertyDescriptor(ft,yt):_t,pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Jt=Reflect.decorate(J,ft,yt,_t);else for(var Ee=J.length-1;Ee>=0;Ee--)(pe=J[Ee])&&(Jt=(Xt<3?pe(Jt):Xt>3?pe(ft,yt,Jt):pe(ft,yt))||Jt);return Xt>3&&Jt&&Object.defineProperty(ft,yt,Jt),Jt}function w(J,ft){return function(yt,_t){ft(yt,_t,J)}}function x(J,ft){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(J,ft)}function A(J,ft,yt,_t){function Xt(Jt){return Jt instanceof yt?Jt:new yt(function(pe){pe(Jt)})}return new(yt||(yt=Promise))(function(Jt,pe){function Ee(Xe){try{xe(_t.next(Xe))}catch(pr){pe(pr)}}function Be(Xe){try{xe(_t.throw(Xe))}catch(pr){pe(pr)}}function xe(Xe){Xe.done?Jt(Xe.value):Xt(Xe.value).then(Ee,Be)}xe((_t=_t.apply(J,ft||[])).next())})}function O(J,ft){var yt={label:0,sent:function(){if(Jt[0]&1)throw Jt[1];return Jt[1]},trys:[],ops:[]},_t,Xt,Jt,pe;return pe={next:Ee(0),throw:Ee(1),return:Ee(2)},typeof Symbol=="function"&&(pe[Symbol.iterator]=function(){return this}),pe;function Ee(xe){return function(Xe){return Be([xe,Xe])}}function Be(xe){if(_t)throw new TypeError("Generator is already executing.");for(;yt;)try{if(_t=1,Xt&&(Jt=xe[0]&2?Xt.return:xe[0]?Xt.throw||((Jt=Xt.return)&&Jt.call(Xt),0):Xt.next)&&!(Jt=Jt.call(Xt,xe[1])).done)return Jt;switch(Xt=0,Jt&&(xe=[xe[0]&2,Jt.value]),xe[0]){case 0:case 1:Jt=xe;break;case 4:return yt.label++,{value:xe[1],done:!1};case 5:yt.label++,Xt=xe[1],xe=[0];continue;case 7:xe=yt.ops.pop(),yt.trys.pop();continue;default:if(Jt=yt.trys,!(Jt=Jt.length>0&&Jt[Jt.length-1])&&(xe[0]===6||xe[0]===2)){yt=0;continue}if(xe[0]===3&&(!Jt||xe[1]>Jt[0]&&xe[1]<Jt[3])){yt.label=xe[1];break}if(xe[0]===6&&yt.label<Jt[1]){yt.label=Jt[1],Jt=xe;break}if(Jt&&yt.label<Jt[2]){yt.label=Jt[2],yt.ops.push(xe);break}Jt[2]&&yt.ops.pop(),yt.trys.pop();continue}xe=ft.call(J,yt)}catch(Xe){xe=[6,Xe],Xt=0}finally{_t=Jt=0}if(xe[0]&5)throw xe[1];return{value:xe[0]?xe[1]:void 0,done:!0}}}var B=Object.create?function(J,ft,yt,_t){_t===void 0&&(_t=yt);var Xt=Object.getOwnPropertyDescriptor(ft,yt);(!Xt||("get"in Xt?!ft.__esModule:Xt.writable||Xt.configurable))&&(Xt={enumerable:!0,get:function(){return ft[yt]}}),Object.defineProperty(J,_t,Xt)}:function(J,ft,yt,_t){_t===void 0&&(_t=yt),J[_t]=ft[yt]};function R(J,ft){for(var yt in J)yt!=="default"&&!Object.prototype.hasOwnProperty.call(ft,yt)&&B(ft,J,yt)}function Y(J){var ft=typeof Symbol=="function"&&Symbol.iterator,yt=ft&&J[ft],_t=0;if(yt)return yt.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&_t>=J.length&&(J=void 0),{value:J&&J[_t++],done:!J}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(J,ft){var yt=typeof Symbol=="function"&&J[Symbol.iterator];if(!yt)return J;var _t=yt.call(J),Xt,Jt=[],pe;try{for(;(ft===void 0||ft-- >0)&&!(Xt=_t.next()).done;)Jt.push(Xt.value)}catch(Ee){pe={error:Ee}}finally{try{Xt&&!Xt.done&&(yt=_t.return)&&yt.call(_t)}finally{if(pe)throw pe.error}}return Jt}function V(){for(var J=[],ft=0;ft<arguments.length;ft++)J=J.concat(j(arguments[ft]));return J}function nt(){for(var J=0,ft=0,yt=arguments.length;ft<yt;ft++)J+=arguments[ft].length;for(var _t=Array(J),Xt=0,ft=0;ft<yt;ft++)for(var Jt=arguments[ft],pe=0,Ee=Jt.length;pe<Ee;pe++,Xt++)_t[Xt]=Jt[pe];return _t}function ct(J,ft,yt){if(yt||arguments.length===2)for(var _t=0,Xt=ft.length,Jt;_t<Xt;_t++)(Jt||!(_t in ft))&&(Jt||(Jt=Array.prototype.slice.call(ft,0,_t)),Jt[_t]=ft[_t]);return J.concat(Jt||Array.prototype.slice.call(ft))}function ut(J){return this instanceof ut?(this.v=J,this):new ut(J)}function Pt(J,ft,yt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t=yt.apply(J,ft||[]),Xt,Jt=[];return Xt={},pe("next"),pe("throw"),pe("return"),Xt[Symbol.asyncIterator]=function(){return this},Xt;function pe(wr){_t[wr]&&(Xt[wr]=function(Ir){return new Promise(function(lr,er){Jt.push([wr,Ir,lr,er])>1||Ee(wr,Ir)})})}function Ee(wr,Ir){try{Be(_t[wr](Ir))}catch(lr){pr(Jt[0][3],lr)}}function Be(wr){wr.value instanceof ut?Promise.resolve(wr.value.v).then(xe,Xe):pr(Jt[0][2],wr)}function xe(wr){Ee("next",wr)}function Xe(wr){Ee("throw",wr)}function pr(wr,Ir){wr(Ir),Jt.shift(),Jt.length&&Ee(Jt[0][0],Jt[0][1])}}function Gt(J){var ft,yt;return ft={},_t("next"),_t("throw",function(Xt){throw Xt}),_t("return"),ft[Symbol.iterator]=function(){return this},ft;function _t(Xt,Jt){ft[Xt]=J[Xt]?function(pe){return(yt=!yt)?{value:ut(J[Xt](pe)),done:Xt==="return"}:Jt?Jt(pe):pe}:Jt}}function qt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft=J[Symbol.asyncIterator],yt;return ft?ft.call(J):(J=typeof Y=="function"?Y(J):J[Symbol.iterator](),yt={},_t("next"),_t("throw"),_t("return"),yt[Symbol.asyncIterator]=function(){return this},yt);function _t(Jt){yt[Jt]=J[Jt]&&function(pe){return new Promise(function(Ee,Be){pe=J[Jt](pe),Xt(Ee,Be,pe.done,pe.value)})}}function Xt(Jt,pe,Ee,Be){Promise.resolve(Be).then(function(xe){Jt({value:xe,done:Ee})},pe)}}function Rt(J,ft){return Object.defineProperty?Object.defineProperty(J,"raw",{value:ft}):J.raw=ft,J}var at=Object.create?function(J,ft){Object.defineProperty(J,"default",{enumerable:!0,value:ft})}:function(J,ft){J.default=ft};function vt(J){if(J&&J.__esModule)return J;var ft={};if(J!=null)for(var yt in J)yt!=="default"&&Object.prototype.hasOwnProperty.call(J,yt)&&B(ft,J,yt);return at(ft,J),ft}function ot(J){return J&&J.__esModule?J:{default:J}}function Et(J,ft,yt,_t){if(yt==="a"&&!_t)throw new TypeError("Private accessor was defined without a getter");if(typeof ft=="function"?J!==ft||!_t:!ft.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return yt==="m"?_t:yt==="a"?_t.call(J):_t?_t.value:ft.get(J)}function dt(J,ft,yt,_t,Xt){if(_t==="m")throw new TypeError("Private method is not writable");if(_t==="a"&&!Xt)throw new TypeError("Private accessor was defined without a setter");if(typeof ft=="function"?J!==ft||!Xt:!ft.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _t==="a"?Xt.call(J,yt):Xt?Xt.value=yt:ft.set(J,yt),yt}function X(J,ft){if(ft===null||typeof ft!="object"&&typeof ft!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof J=="function"?ft===J:J.has(ft)}var $=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="cat",yt.isCategory=!0,yt}return ft.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var yt=0;yt<this.values.length;yt++)this.translateIndexMap.set(this.values[yt],yt)}},ft.prototype.translate=function(yt){this.buildIndexMap();var _t=this.translateIndexMap.get(yt);return _t===void 0&&(_t=(0,m.isNumber)(yt)?yt:NaN),_t},ft.prototype.scale=function(yt){var _t=this.translate(yt),Xt=this.calcPercent(_t,this.min,this.max);return this.calcValue(Xt,this.rangeMin(),this.rangeMax())},ft.prototype.invert=function(yt){var _t=this.max-this.min,Xt=this.calcPercent(yt,this.rangeMin(),this.rangeMax()),Jt=Math.round(_t*Xt)+this.min;return Jt<this.min||Jt>this.max?NaN:this.values[Jt]},ft.prototype.getText=function(yt){for(var _t=[],Xt=1;Xt<arguments.length;Xt++)_t[Xt-1]=arguments[Xt];var Jt=yt;return(0,m.isNumber)(yt)&&!this.values.includes(yt)&&(Jt=this.values[Jt]),J.prototype.getText.apply(this,nt([Jt],_t))},ft.prototype.initCfg=function(){this.tickMethod="cat"},ft.prototype.setDomain=function(){if((0,m.isNil)(this.getConfig("min"))&&(this.min=0),(0,m.isNil)(this.getConfig("max"))){var yt=this.values.length;this.max=yt>1?yt-1:yt}this.translateIndexMap&&(this.translateIndexMap=void 0)},ft}(_),H=$,f=d(19432);function xt(J){return function(ft,yt,_t,Xt){for(var Jt=(0,m.isNil)(_t)?0:_t,pe=(0,m.isNil)(Xt)?ft.length:Xt;Jt<pe;){var Ee=Jt+pe>>>1;J(ft[Ee])>yt?pe=Ee:Jt=Ee+1}return Jt}}var Mt="format";function Ut(J,ft){var yt=f[Mt]||f.default[Mt];return yt(J,ft)}function re(J){return(0,m.isString)(J)&&(J.indexOf("T")>0?J=new Date(J).getTime():J=new Date(J.replace(/-/gi,"/")).getTime()),(0,m.isDate)(J)&&(J=J.getTime()),J}var zt=1e3,ne=60*zt,ae=60*ne,Dt=24*ae,Tt=Dt*31,pt=Dt*365,Q=[["HH:mm:ss",zt],["HH:mm:ss",zt*10],["HH:mm:ss",zt*30],["HH:mm",ne],["HH:mm",ne*10],["HH:mm",ne*30],["HH",ae],["HH",ae*6],["HH",ae*12],["YYYY-MM-DD",Dt],["YYYY-MM-DD",Dt*4],["YYYY-WW",Dt*7],["YYYY-MM",Tt],["YYYY-MM",Tt*4],["YYYY-MM",Tt*6],["YYYY",Dt*380]];function K(J,ft,yt){var _t=(ft-J)/yt,Xt=xt(function(pe){return pe[1]})(Q,_t)-1,Jt=Q[Xt];return Xt<0?Jt=Q[0]:Xt>=Q.length&&(Jt=(0,m.last)(Q)),Jt}var lt=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="timeCat",yt}return ft.prototype.translate=function(yt){yt=re(yt);var _t=this.values.indexOf(yt);return _t===-1&&((0,m.isNumber)(yt)&&yt<this.values.length?_t=yt:_t=NaN),_t},ft.prototype.getText=function(yt,_t){var Xt=this.translate(yt);if(Xt>-1){var Jt=this.values[Xt],pe=this.formatter;return Jt=pe?pe(Jt,_t):Ut(Jt,this.mask),Jt}return yt},ft.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},ft.prototype.setDomain=function(){var yt=this.values;(0,m.each)(yt,function(_t,Xt){yt[Xt]=re(_t)}),yt.sort(function(_t,Xt){return _t-Xt}),J.prototype.setDomain.call(this)},ft}(H),U=lt,W=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.isContinuous=!0,yt}return ft.prototype.scale=function(yt){if((0,m.isNil)(yt))return NaN;var _t=this.rangeMin(),Xt=this.rangeMax(),Jt=this.max,pe=this.min;if(Jt===pe)return _t;var Ee=this.getScalePercent(yt);return _t+Ee*(Xt-_t)},ft.prototype.init=function(){J.prototype.init.call(this);var yt=this.ticks,_t=(0,m.head)(yt),Xt=(0,m.last)(yt);_t<this.min&&(this.min=_t),Xt>this.max&&(this.max=Xt),(0,m.isNil)(this.minLimit)||(this.min=_t),(0,m.isNil)(this.maxLimit)||(this.max=Xt)},ft.prototype.setDomain=function(){var yt=(0,m.getRange)(this.values),_t=yt.min,Xt=yt.max;(0,m.isNil)(this.min)&&(this.min=_t),(0,m.isNil)(this.max)&&(this.max=Xt),this.min>this.max&&(this.min=_t,this.max=Xt)},ft.prototype.calculateTicks=function(){var yt=this,_t=J.prototype.calculateTicks.call(this);return this.nice||(_t=(0,m.filter)(_t,function(Xt){return Xt>=yt.min&&Xt<=yt.max})),_t},ft.prototype.getScalePercent=function(yt){var _t=this.max,Xt=this.min;return(yt-Xt)/(_t-Xt)},ft.prototype.getInvertPercent=function(yt){return(yt-this.rangeMin())/(this.rangeMax()-this.rangeMin())},ft}(_),wt=W,Lt=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="linear",yt.isLinear=!0,yt}return ft.prototype.invert=function(yt){var _t=this.getInvertPercent(yt);return this.min+_t*(this.max-this.min)},ft.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},ft}(wt),Wt=Lt;function oe(J,ft){var yt=Math.E,_t;return ft>=0?_t=Math.pow(yt,Math.log(ft)/J):_t=Math.pow(yt,Math.log(-ft)/J)*-1,_t}function Se(J,ft){return J===1?1:Math.log(ft)/Math.log(J)}function Ye(J,ft,yt){(0,m.isNil)(yt)&&(yt=Math.max.apply(null,J));var _t=yt;return(0,m.each)(J,function(Xt){Xt>0&&Xt<_t&&(_t=Xt)}),_t===yt&&(_t=yt/ft),_t>1&&(_t=1),_t}function te(J){var ft=J.toString().split(/[eE]/),yt=(ft[0].split(".")[1]||"").length-+(ft[1]||0);return yt>0?yt:0}function ge(J,ft){var yt=te(J),_t=te(ft),Xt=Math.pow(10,Math.max(yt,_t));return(J*Xt+ft*Xt)/Xt}var _e=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="log",yt}return ft.prototype.invert=function(yt){var _t=this.base,Xt=Se(_t,this.max),Jt=this.rangeMin(),pe=this.rangeMax()-Jt,Ee,Be=this.positiveMin;if(Be){if(yt===0)return 0;Ee=Se(_t,Be/_t);var xe=1/(Xt-Ee)*pe;if(yt<xe)return yt/xe*Be}else Ee=Se(_t,this.min);var Xe=(yt-Jt)/pe,pr=Xe*(Xt-Ee)+Ee;return Math.pow(_t,pr)},ft.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},ft.prototype.setDomain=function(){J.prototype.setDomain.call(this);var yt=this.min;if(yt<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");yt===0&&(this.positiveMin=Ye(this.values,this.base,this.max))},ft.prototype.getScalePercent=function(yt){var _t=this.max,Xt=this.min;if(_t===Xt||yt<=0)return 0;var Jt=this.base,pe=this.positiveMin;pe&&(Xt=pe*1/Jt);var Ee;return yt<pe?Ee=yt/pe/(Se(Jt,_t)-Se(Jt,Xt)):Ee=(Se(Jt,yt)-Se(Jt,Xt))/(Se(Jt,_t)-Se(Jt,Xt)),Ee},ft}(wt),Ne=_e,or=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="pow",yt}return ft.prototype.invert=function(yt){var _t=this.getInvertPercent(yt),Xt=this.exponent,Jt=oe(Xt,this.max),pe=oe(Xt,this.min),Ee=_t*(Jt-pe)+pe,Be=Ee>=0?1:-1;return Math.pow(Ee,Xt)*Be},ft.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},ft.prototype.getScalePercent=function(yt){var _t=this.max,Xt=this.min;if(_t===Xt)return 0;var Jt=this.exponent,pe=(oe(Jt,yt)-oe(Jt,Xt))/(oe(Jt,_t)-oe(Jt,Xt));return pe},ft}(wt),je=or,dr=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="time",yt}return ft.prototype.getText=function(yt,_t){var Xt=this.translate(yt),Jt=this.formatter;return Jt?Jt(Xt,_t):Ut(Xt,this.mask)},ft.prototype.scale=function(yt){var _t=yt;return((0,m.isString)(_t)||(0,m.isDate)(_t))&&(_t=this.translate(_t)),J.prototype.scale.call(this,_t)},ft.prototype.translate=function(yt){return re(yt)},ft.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},ft.prototype.setDomain=function(){var yt=this.values,_t=this.getConfig("min"),Xt=this.getConfig("max");if((!(0,m.isNil)(_t)||!(0,m.isNumber)(_t))&&(this.min=this.translate(this.min)),(!(0,m.isNil)(Xt)||!(0,m.isNumber)(Xt))&&(this.max=this.translate(this.max)),yt&&yt.length){var Jt=[],pe=Infinity,Ee=pe,Be=0;(0,m.each)(yt,function(xe){var Xe=re(xe);if(isNaN(Xe))throw new TypeError("Invalid Time: "+xe+" in time scale!");pe>Xe?(Ee=pe,pe=Xe):Ee>Xe&&(Ee=Xe),Be<Xe&&(Be=Xe),Jt.push(Xe)}),yt.length>1&&(this.minTickInterval=Ee-pe),(0,m.isNil)(_t)&&(this.min=pe),(0,m.isNil)(Xt)&&(this.max=Be)}},ft}(Wt),kr=dr,Br=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="quantize",yt}return ft.prototype.invert=function(yt){var _t=this.ticks,Xt=_t.length,Jt=this.getInvertPercent(yt),pe=Math.floor(Jt*(Xt-1));if(pe>=Xt-1)return(0,m.last)(_t);if(pe<0)return(0,m.head)(_t);var Ee=_t[pe],Be=_t[pe+1],xe=pe/(Xt-1),Xe=(pe+1)/(Xt-1);return Ee+(Jt-xe)/(Xe-xe)*(Be-Ee)},ft.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},ft.prototype.calculateTicks=function(){var yt=J.prototype.calculateTicks.call(this);return this.nice||((0,m.last)(yt)!==this.max&&yt.push(this.max),(0,m.head)(yt)!==this.min&&yt.unshift(this.min)),yt},ft.prototype.getScalePercent=function(yt){var _t=this.ticks;if(yt<(0,m.head)(_t))return 0;if(yt>(0,m.last)(_t))return 1;var Xt=0;return(0,m.each)(_t,function(Jt,pe){if(yt>=Jt)Xt=pe;else return!1}),Xt/(_t.length-1)},ft}(wt),ln=Br,Yn=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="quantile",yt}return ft.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},ft}(ln),fi=Yn,Ci={};function ki(J){return Ci[J]}function jt(J,ft){if(ki(J))throw new Error("type '"+J+"' existed.");Ci[J]=ft}var ie=function(J){E(ft,J);function ft(){var yt=J!==null&&J.apply(this,arguments)||this;return yt.type="identity",yt.isIdentity=!0,yt}return ft.prototype.calculateTicks=function(){return this.values},ft.prototype.scale=function(yt){return this.values[0]!==yt&&(0,m.isNumber)(yt)?yt:this.range[0]},ft.prototype.invert=function(yt){var _t=this.range;return yt<_t[0]||yt>_t[1]?NaN:this.values[0]},ft}(_),ve=ie;function ye(J){var ft=J.values,yt=J.tickInterval,_t=J.tickCount,Xt=J.showLast;if((0,m.isNumber)(yt)){var Jt=(0,m.filter)(ft,function(lr,er){return er%yt==0}),pe=(0,m.last)(ft);return Xt&&(0,m.last)(Jt)!==pe&&Jt.push(pe),Jt}var Ee=ft.length,Be=J.min,xe=J.max;if((0,m.isNil)(Be)&&(Be=0),(0,m.isNil)(xe)&&(xe=ft.length-1),!(0,m.isNumber)(_t)||_t>=Ee)return ft.slice(Be,xe+1);if(_t<=0||xe<=0)return[];for(var Xe=_t===1?Ee:Math.floor(Ee/(_t-1)),pr=[],wr=Be,Ir=0;Ir<_t&&!(wr>=xe);Ir++)wr=Math.min(Be+Ir*Xe,xe),Ir===_t-1&&Xt?pr.push(ft[xe]):pr.push(ft[wr]);return pr}function Ae(J){var ft=J.min,yt=J.max,_t=J.nice,Xt=J.tickCount,Jt=new rr;return Jt.domain([ft,yt]),_t&&Jt.nice(Xt),Jt.ticks(Xt)}var Pe=5,Oe=Math.sqrt(50),De=Math.sqrt(10),Ce=Math.sqrt(2),rr=function(){function J(){this._domain=[0,1]}return J.prototype.domain=function(ft){return ft?(this._domain=Array.from(ft,Number),this):this._domain.slice()},J.prototype.nice=function(ft){var yt,_t;ft===void 0&&(ft=Pe);var Xt=this._domain.slice(),Jt=0,pe=this._domain.length-1,Ee=this._domain[Jt],Be=this._domain[pe],xe;return Be<Ee&&(yt=[Be,Ee],Ee=yt[0],Be=yt[1],_t=[pe,Jt],Jt=_t[0],pe=_t[1]),xe=fr(Ee,Be,ft),xe>0?(Ee=Math.floor(Ee/xe)*xe,Be=Math.ceil(Be/xe)*xe,xe=fr(Ee,Be,ft)):xe<0&&(Ee=Math.ceil(Ee*xe)/xe,Be=Math.floor(Be*xe)/xe,xe=fr(Ee,Be,ft)),xe>0?(Xt[Jt]=Math.floor(Ee/xe)*xe,Xt[pe]=Math.ceil(Be/xe)*xe,this.domain(Xt)):xe<0&&(Xt[Jt]=Math.ceil(Ee*xe)/xe,Xt[pe]=Math.floor(Be*xe)/xe,this.domain(Xt)),this},J.prototype.ticks=function(ft){return ft===void 0&&(ft=Pe),Ue(this._domain[0],this._domain[this._domain.length-1],ft||Pe)},J}();function Ue(J,ft,yt){var _t,Xt=-1,Jt,pe,Ee;if(ft=+ft,J=+J,yt=+yt,J===ft&&yt>0)return[J];if((_t=ft<J)&&(Jt=J,J=ft,ft=Jt),(Ee=fr(J,ft,yt))===0||!isFinite(Ee))return[];if(Ee>0)for(J=Math.ceil(J/Ee),ft=Math.floor(ft/Ee),pe=new Array(Jt=Math.ceil(ft-J+1));++Xt<Jt;)pe[Xt]=(J+Xt)*Ee;else for(J=Math.floor(J*Ee),ft=Math.ceil(ft*Ee),pe=new Array(Jt=Math.ceil(J-ft+1));++Xt<Jt;)pe[Xt]=(J-Xt)/Ee;return _t&&pe.reverse(),pe}function fr(J,ft,yt){var _t=(ft-J)/Math.max(0,yt),Xt=Math.floor(Math.log(_t)/Math.LN10),Jt=_t/Math.pow(10,Xt);return Xt>=0?(Jt>=Oe?10:Jt>=De?5:Jt>=Ce?2:1)*Math.pow(10,Xt):-Math.pow(10,-Xt)/(Jt>=Oe?10:Jt>=De?5:Jt>=Ce?2:1)}function Cr(J,ft,yt){var _t;return yt==="ceil"?_t=Math.ceil(J/ft):yt==="floor"?_t=Math.floor(J/ft):_t=Math.round(J/ft),_t*ft}function vr(J,ft,yt){var _t=Cr(J,yt,"floor"),Xt=Cr(ft,yt,"ceil");_t=(0,m.fixedBase)(_t,yt),Xt=(0,m.fixedBase)(Xt,yt);for(var Jt=[],pe=Math.max((Xt-_t)/(Math.pow(2,12)-1),yt),Ee=_t;Ee<=Xt;Ee=Ee+pe){var Be=(0,m.fixedBase)(Ee,pe);Jt.push(Be)}return{min:_t,max:Xt,ticks:Jt}}function br(J,ft,yt){var _t,Xt=J.minLimit,Jt=J.maxLimit,pe=J.min,Ee=J.max,Be=J.tickCount,xe=Be===void 0?5:Be,Xe=(0,m.isNil)(Xt)?(0,m.isNil)(ft)?pe:ft:Xt,pr=(0,m.isNil)(Jt)?(0,m.isNil)(yt)?Ee:yt:Jt;if(Xe>pr&&(_t=[Xe,pr],pr=_t[0],Xe=_t[1]),xe<=2)return[Xe,pr];for(var wr=(pr-Xe)/(xe-1),Ir=[],lr=0;lr<xe;lr++)Ir.push(Xe+wr*lr);return Ir}function mr(J){var ft=J.min,yt=J.max,_t=J.tickInterval,Xt=J.minLimit,Jt=J.maxLimit,pe=Ae(J);return!(0,m.isNil)(Xt)||!(0,m.isNil)(Jt)?br(J,(0,m.head)(pe),(0,m.last)(pe)):_t?vr(ft,yt,_t).ticks:pe}function Ar(J){return Math.abs(J)<1e-15?J:parseFloat(J.toFixed(15))}var hr=[1,5,2,2.5,4,3],Fr=null,Kr=Number.EPSILON*100;function Xr(J,ft){return(J%ft+ft)%ft}function Zr(J){return Math.round(J*1e12)/1e12}function an(J,ft,yt,_t,Xt,Jt){var pe=(0,m.size)(ft),Ee=(0,m.indexOf)(ft,J),Be=0,xe=Xr(_t,Jt);return(xe<Kr||Jt-xe<Kr)&&_t<=0&&Xt>=0&&(Be=1),1-Ee/(pe-1)-yt+Be}function en(J,ft,yt){var _t=(0,m.size)(ft),Xt=(0,m.indexOf)(ft,J),Jt=1;return 1-Xt/(_t-1)-yt+Jt}function Wn(J,ft,yt,_t,Xt,Jt){var pe=(J-1)/(Jt-Xt),Ee=(ft-1)/(Math.max(Jt,_t)-Math.min(yt,Xt));return 2-Math.max(pe/Ee,Ee/pe)}function gn(J,ft){return J>=ft?2-(J-1)/(ft-1):1}function ei(J,ft,yt,_t){var Xt=ft-J;return 1-.5*(Math.pow(ft-_t,2)+Math.pow(J-yt,2))/Math.pow(.1*Xt,2)}function pi(J,ft,yt){var _t=ft-J;if(yt>_t){var Xt=(yt-_t)/2;return 1-Math.pow(Xt,2)/Math.pow(.1*_t,2)}return 1}function hi(){return 1}function Mi(J,ft,yt,_t,Xt,Jt){yt===void 0&&(yt=5),_t===void 0&&(_t=!0),Xt===void 0&&(Xt=hr),Jt===void 0&&(Jt=[.25,.2,.5,.05]);var pe=yt<0?0:Math.round(yt);if(Number.isNaN(J)||Number.isNaN(ft)||typeof J!="number"||typeof ft!="number"||!pe)return{min:0,max:0,ticks:[]};if(ft-J<1e-15||pe===1)return{min:J,max:ft,ticks:[J]};if(ft-J>1e148){var Ee=yt||5,Be=(ft-J)/Ee;return{min:J,max:ft,ticks:Array(Ee).fill(null).map(function($r,Jr){return Ar(J+Be*Jr)})}}for(var xe={score:-2,lmin:0,lmax:0,lstep:0},Xe=1;Xe<Infinity;){for(var pr=0;pr<Xt.length;pr+=1){var wr=Xt[pr],Ir=en(wr,Xt,Xe);if(Jt[0]*Ir+Jt[1]+Jt[2]+Jt[3]<xe.score){Xe=Infinity;break}for(var lr=2;lr<Infinity;){var er=gn(lr,pe);if(Jt[0]*Ir+Jt[1]+Jt[2]*er+Jt[3]<xe.score)break;for(var Vr=(ft-J)/(lr+1)/Xe/wr,Sn=Math.ceil(Math.log10(Vr));Sn<Infinity;){var mn=Xe*wr*Math.pow(10,Sn),zn=pi(J,ft,mn*(lr-1));if(Jt[0]*Ir+Jt[1]*zn+Jt[2]*er+Jt[3]<xe.score)break;var At=Math.floor(ft/mn)*Xe-(lr-1)*Xe,st=Math.ceil(J/mn)*Xe;if(At<=st)for(var Ee=st-At,Z=0;Z<=Ee;Z+=1){var rt=At+Z,It=rt*(mn/Xe),Vt=It+mn*(lr-1),he=mn,ue=an(wr,Xt,Xe,It,Vt,he),ce=ei(J,ft,It,Vt),Re=Wn(lr,pe,J,ft,It,Vt),ke=hi(),ze=Jt[0]*ue+Jt[1]*ce+Jt[2]*Re+Jt[3]*ke;ze>xe.score&&(!_t||It<=J&&Vt>=ft)&&(xe.lmin=It,xe.lmax=Vt,xe.lstep=he,xe.score=ze)}Sn+=1}lr+=1}}Xe+=1}var ir=Ar(xe.lmax),sr=Ar(xe.lmin),We=Ar(xe.lstep),Or=Math.floor(Zr((ir-sr)/We))+1,Pr=new Array(Or);Pr[0]=Ar(sr);for(var pr=1;pr<Or;pr++)Pr[pr]=Ar(Pr[pr-1]+We);return{min:Math.min(J,(0,m.head)(Pr)),max:Math.max(ft,(0,m.last)(Pr)),ticks:Pr}}function Zi(J){var ft=J.min,yt=J.max,_t=J.tickCount,Xt=J.nice,Jt=J.tickInterval,pe=J.minLimit,Ee=J.maxLimit,Be=Mi(ft,yt,_t,Xt).ticks;return!(0,m.isNil)(pe)||!(0,m.isNil)(Ee)?br(J,(0,m.head)(Be),(0,m.last)(Be)):Jt?vr(ft,yt,Jt).ticks:Be}function Yr(J){var ft=J.base,yt=J.tickCount,_t=J.min,Xt=J.max,Jt=J.values,pe,Ee=Se(ft,Xt);if(_t>0)pe=Math.floor(Se(ft,_t));else{var Be=Ye(Jt,ft,Xt);pe=Math.floor(Se(ft,Be))}for(var xe=Ee-pe,Xe=Math.ceil(xe/yt),pr=[],wr=pe;wr<Ee+Xe;wr=wr+Xe)pr.push(Math.pow(ft,wr));return _t<=0&&pr.unshift(0),pr}function gi(J,ft,yt){if(yt===void 0&&(yt=5),J===ft)return{max:ft,min:J,ticks:[J]};var _t=yt<0?0:Math.round(yt);if(_t===0)return{max:ft,min:J,ticks:[]};var Xt=1.5,Jt=.5+1.5*Xt,pe=ft-J,Ee=pe/_t,Be=Math.pow(10,Math.floor(Math.log10(Ee))),xe=Be;2*Be-Ee<Xt*(Ee-xe)&&(xe=2*Be,5*Be-Ee<Jt*(Ee-xe)&&(xe=5*Be,10*Be-Ee<Xt*(Ee-xe)&&(xe=10*Be)));for(var Xe=Math.ceil(ft/xe),pr=Math.floor(J/xe),wr=Math.max(Xe*xe,ft),Ir=Math.min(pr*xe,J),lr=Math.floor((wr-Ir)/xe)+1,er=new Array(lr),Vr=0;Vr<lr;Vr++)er[Vr]=Ar(Ir+Vr*xe);return{min:Ir,max:wr,ticks:er}}function Ei(J){var ft=J.exponent,yt=J.tickCount,_t=Math.ceil(oe(ft,J.max)),Xt=Math.floor(oe(ft,J.min)),Jt=gi(Xt,_t,yt).ticks;return Jt.map(function(pe){var Ee=pe>=0?1:-1;return Math.pow(pe,ft)*Ee})}function yi(J,ft){var yt=J.length*ft;return ft===1?J[J.length-1]:ft===0?J[0]:yt%1!=0?J[Math.ceil(yt)-1]:J.length%2==0?(J[yt-1]+J[yt])/2:J[yt]}function Pn(J){var ft=J.tickCount,yt=J.values;if(!yt||!yt.length)return[];for(var _t=yt.slice().sort(function(Ee,Be){return Ee-Be}),Xt=[],Jt=0;Jt<ft;Jt++){var pe=Jt/(ft-1);Xt.push(yi(_t,pe))}return Xt}function vi(J){var ft=J.min,yt=J.max,_t=J.tickCount,Xt=J.tickInterval,Jt=J.minLimit,pe=J.maxLimit,Ee=gi(ft,yt,_t).ticks;return!(0,m.isNil)(Jt)||!(0,m.isNil)(pe)?br(J,(0,m.head)(Ee),(0,m.last)(Ee)):Xt?vr(ft,yt,Xt).ticks:Ee}function Ki(J){var ft=J.min,yt=J.max,_t=J.minTickInterval,Xt=J.tickInterval,Jt=J.tickCount;if(Xt)Jt=Math.ceil((yt-ft)/Xt);else{Xt=K(ft,yt,Jt)[1];var pe=(yt-ft)/Xt,Ee=pe/Jt;Ee>1&&(Xt=Xt*Math.ceil(Ee)),_t&&Xt<_t&&(Xt=_t)}Xt=Math.max(Math.floor((yt-ft)/(Math.pow(2,12)-1)),Xt);for(var Be=[],xe=ft;xe<yt+Xt;xe+=Xt)Be.push(xe);return Be}function Bi(J){var ft=ye(p({showLast:!0},J));return ft}function mi(J){return new Date(J).getFullYear()}function ii(J){return new Date(J,0,1).getTime()}function Xi(J){return new Date(J).getMonth()}function fa(J,ft){var yt=mi(J),_t=mi(ft),Xt=Xi(J),Jt=Xi(ft);return(_t-yt)*12+(Jt-Xt)%12}function Bt(J,ft){return new Date(J,ft,1).getTime()}function Ct(J,ft){return Math.ceil((ft-J)/Dt)}function it(J,ft){return Math.ceil((ft-J)/ae)}function gt(J,ft){return Math.ceil((ft-J)/(60*1e3))}function Yt(J){var ft=J.min,yt=J.max,_t=J.minTickInterval,Xt=J.tickCount,Jt=J.tickInterval,pe=[];Jt||(Jt=(yt-ft)/Xt,_t&&Jt<_t&&(Jt=_t)),Jt=Math.max(Math.floor((yt-ft)/(Math.pow(2,12)-1)),Jt);var Ee=mi(ft);if(Jt>pt)for(var Be=mi(yt),xe=Math.ceil(Jt/pt),Xe=Ee;Xe<=Be+xe;Xe=Xe+xe)pe.push(ii(Xe));else if(Jt>Tt)for(var pr=Math.ceil(Jt/Tt),wr=Xi(ft),Ir=fa(ft,yt),Xe=0;Xe<=Ir+pr;Xe=Xe+pr)pe.push(Bt(Ee,Xe+wr));else if(Jt>Dt)for(var lr=new Date(ft),er=lr.getFullYear(),Vr=lr.getMonth(),Sn=lr.getDate(),mn=Math.ceil(Jt/Dt),zn=Ct(ft,yt),Xe=0;Xe<zn+mn;Xe=Xe+mn)pe.push(new Date(er,Vr,Sn+Xe).getTime());else if(Jt>ae)for(var lr=new Date(ft),er=lr.getFullYear(),Vr=lr.getMonth(),mn=lr.getDate(),At=lr.getHours(),st=Math.ceil(Jt/ae),Z=it(ft,yt),Xe=0;Xe<=Z+st;Xe=Xe+st)pe.push(new Date(er,Vr,mn,At+Xe).getTime());else if(Jt>ne)for(var rt=gt(ft,yt),It=Math.ceil(Jt/ne),Xe=0;Xe<=rt+It;Xe=Xe+It)pe.push(ft+Xe*ne);else{var Vt=Jt;Vt<zt&&(Vt=zt);for(var he=Math.floor(ft/zt)*zt,ue=Math.ceil((yt-ft)/zt),ce=Math.ceil(Vt/zt),Xe=0;Xe<ue+ce;Xe=Xe+ce)pe.push(he+Xe*zt)}return pe.length>=512&&console.warn("Notice: current ticks length("+pe.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Jt+") is too small, increase the value to solve the problem!"),pe}P("cat",ye),P("time-cat",Bi),P("wilkinson-extended",Zi),P("r-pretty",vi),P("time",Ki),P("time-pretty",Yt),P("log",Yr),P("pow",Ei),P("quantile",Pn),P("d3-linear",mr),jt("cat",H),jt("category",H),jt("identity",ve),jt("linear",Wt),jt("log",Ne),jt("pow",je),jt("time",kr),jt("timeCat",U),jt("quantize",ln),jt("quantile",fi)},49242:function(mt,S,d){"use strict";d.r(S),d.d(S,{Cache:function(){return yn},assign:function(){return Jr},augment:function(){return cr},clamp:function(){return vr},clearAnimationFrame:function(){return Pr},clone:function(){return In},contains:function(){return P},debounce:function(){return aa},deepMix:function(){return Ia},difference:function(){return E},each:function(){return Y},endsWith:function(){return kr},every:function(){return ln},extend:function(){return wo},filter:function(){return _},find:function(){return at},findIndex:function(){return ot},firstValue:function(){return dt},fixedBase:function(){return mr},flatten:function(){return $},flattenDeep:function(){return f},forIn:function(){return Bt},get:function(){return F},getEllipsisText:function(){return pn},getRange:function(){return re},getType:function(){return lr},getWrapBehavior:function(){return Ae},group:function(){return ve},groupBy:function(){return jt},groupToMap:function(){return ie},has:function(){return Ct},hasKey:function(){return it},hasValue:function(){return J},head:function(){return _e},identity:function(){return Ze},includes:function(){return P},indexOf:function(){return Wa},isArguments:function(){return Vr},isArray:function(){return O},isArrayLike:function(){return L},isBoolean:function(){return mn},isDate:function(){return At},isDecimal:function(){return Kr},isElement:function(){return We},isEmpty:function(){return ao},isEqual:function(){return On},isEqualWith:function(){return ja},isError:function(){return Z},isEven:function(){return Zr},isFinite:function(){return rt},isFunction:function(){return w},isInteger:function(){return en},isMatch:function(){return ct},isNegative:function(){return gn},isNil:function(){return A},isNull:function(){return Vt},isNumber:function(){return hr},isNumberEqual:function(){return pi},isObject:function(){return B},isObjectLike:function(){return Pt},isOdd:function(){return Mi},isPlainObject:function(){return qt},isPositive:function(){return Yr},isPrototype:function(){return ce},isRegExp:function(){return ke},isString:function(){return Lt},isType:function(){return y},isUndefined:function(){return ir},keys:function(){return V},last:function(){return Ne},lowerCase:function(){return _t},lowerFirst:function(){return Jt},map:function(){return Di},mapValues:function(){return ht},max:function(){return xt},maxBy:function(){return gi},measureTextWidth:function(){return Nr},memoize:function(){return La},min:function(){return Mt},minBy:function(){return Ei},mix:function(){return Jr},mod:function(){return Pn},noop:function(){return Le},number2color:function(){return rr},omit:function(){return Ft},parseRadius:function(){return fr},pick:function(){return St},pull:function(){return Tt},pullAt:function(){return K},reduce:function(){return U},remove:function(){return wt},requestAnimationFrame:function(){return Or},set:function(){return z},size:function(){return qe},some:function(){return fi},sortBy:function(){return oe},startsWith:function(){return je},substitute:function(){return Ee},throttle:function(){return $t},toArray:function(){return fe},toDegree:function(){return Bi},toInteger:function(){return mi},toRadian:function(){return fa},toString:function(){return ft},union:function(){return te},uniq:function(){return Se},uniqueId:function(){return Me},upperCase:function(){return xe},upperFirst:function(){return pr},values:function(){return Yt},valuesOfKey:function(){return ge},wrapBehavior:function(){return Oe}});var m=function(kt){return kt!==null&&typeof kt!="function"&&isFinite(kt.length)},L=m,I=function(kt,se){return L(kt)?kt.indexOf(se)>-1:!1},P=I,T=function(kt,se){if(!L(kt))return kt;for(var we=[],Te=0;Te<kt.length;Te++){var He=kt[Te];se(He,Te)&&we.push(He)}return we},_=T,M=function(kt,se){return se===void 0&&(se=[]),_(kt,function(we){return!P(se,we)})},E=M,p={}.toString,b=function(kt,se){return p.call(kt)==="[object "+se+"]"},y=b,w=function(kt){return y(kt,"Function")},x=function(kt){return kt==null},A=x,O=function(kt){return Array.isArray?Array.isArray(kt):y(kt,"Array")},B=function(kt){var se=typeof kt;return kt!==null&&se==="object"||se==="function"};function R(kt,se){if(!!kt){var we;if(O(kt))for(var Te=0,He=kt.length;Te<He&&(we=se(kt[Te],Te),we!==!1);Te++);else if(B(kt)){for(var yr in kt)if(kt.hasOwnProperty(yr)&&(we=se(kt[yr],yr),we===!1))break}}}var Y=R,j=Object.keys?function(kt){return Object.keys(kt)}:function(kt){var se=[];return Y(kt,function(we,Te){w(kt)&&Te==="prototype"||se.push(Te)}),se},V=j;function nt(kt,se){var we=V(se),Te=we.length;if(A(kt))return!Te;for(var He=0;He<Te;He+=1){var yr=we[He];if(se[yr]!==kt[yr]||!(yr in kt))return!1}return!0}var ct=nt,ut=function(kt){return typeof kt=="object"&&kt!==null},Pt=ut,Gt=function(kt){if(!Pt(kt)||!y(kt,"Object"))return!1;if(Object.getPrototypeOf(kt)===null)return!0;for(var se=kt;Object.getPrototypeOf(se)!==null;)se=Object.getPrototypeOf(se);return Object.getPrototypeOf(kt)===se},qt=Gt;function Rt(kt,se){if(!O(kt))return null;var we;if(w(se)&&(we=se),qt(se)&&(we=function(He){return ct(He,se)}),we){for(var Te=0;Te<kt.length;Te+=1)if(we(kt[Te]))return kt[Te]}return null}var at=Rt;function vt(kt,se,we){we===void 0&&(we=0);for(var Te=we;Te<kt.length;Te++)if(se(kt[Te],Te))return Te;return-1}var ot=vt,Et=function(kt,se){for(var we=null,Te=0;Te<kt.length;Te++){var He=kt[Te],yr=He[se];if(!A(yr)){O(yr)?we=yr[0]:we=yr;break}}return we},dt=Et,X=function(kt){if(!O(kt))return[];for(var se=[],we=0;we<kt.length;we++)se=se.concat(kt[we]);return se},$=X,H=function(kt,se){if(se===void 0&&(se=[]),!O(kt))se.push(kt);else for(var we=0;we<kt.length;we+=1)H(kt[we],se);return se},f=H,xt=function(kt){if(!!O(kt))return kt.reduce(function(se,we){return Math.max(se,we)},kt[0])},Mt=function(kt){if(!!O(kt))return kt.reduce(function(se,we){return Math.min(se,we)},kt[0])},Ut=function(kt){var se=kt.filter(function(Qr){return!isNaN(Qr)});if(!se.length)return{min:0,max:0};if(O(kt[0])){for(var we=[],Te=0;Te<kt.length;Te++)we=we.concat(kt[Te]);se=we}var He=xt(se),yr=Mt(se);return{min:yr,max:He}},re=Ut,zt=Array.prototype,ne=zt.splice,ae=zt.indexOf,Dt=function(kt){for(var se=[],we=1;we<arguments.length;we++)se[we-1]=arguments[we];for(var Te=0;Te<se.length;Te++)for(var He=se[Te],yr=-1;(yr=ae.call(kt,He))>-1;)ne.call(kt,yr,1);return kt},Tt=Dt,pt=Array.prototype.splice,Q=function(se,we){if(!L(se))return[];for(var Te=se?we.length:0,He=Te-1;Te--;){var yr=void 0,Qr=we[Te];(Te===He||Qr!==yr)&&(yr=Qr,pt.call(se,Qr,1))}return se},K=Q,lt=function(kt,se,we){if(!O(kt)&&!qt(kt))return kt;var Te=we;return Y(kt,function(He,yr){Te=se(Te,He,yr)}),Te},U=lt,W=function(kt,se){var we=[];if(!L(kt))return we;for(var Te=-1,He=[],yr=kt.length;++Te<yr;){var Qr=kt[Te];se(Qr,Te,kt)&&(we.push(Qr),He.push(Te))}return K(kt,He),we},wt=W,Lt=function(kt){return y(kt,"String")};function Wt(kt,se){var we;if(w(se))we=function(He,yr){return se(He)-se(yr)};else{var Te=[];Lt(se)?Te.push(se):O(se)&&(Te=se),we=function(He,yr){for(var Qr=0;Qr<Te.length;Qr+=1){var kn=Te[Qr];if(He[kn]>yr[kn])return 1;if(He[kn]<yr[kn])return-1}return 0}}return kt.sort(we),kt}var oe=Wt;function Se(kt,se){se===void 0&&(se=new Map);var we=[];if(Array.isArray(kt))for(var Te=0,He=kt.length;Te<He;Te++){var yr=kt[Te];se.has(yr)||(we.push(yr),se.set(yr,!0))}return we}var Ye=function(){for(var kt=[],se=0;se<arguments.length;se++)kt[se]=arguments[se];return Se([].concat.apply([],kt))},te=Ye,ge=function(kt,se){for(var we=[],Te={},He=0;He<kt.length;He++){var yr=kt[He],Qr=yr[se];if(!A(Qr)){O(Qr)||(Qr=[Qr]);for(var kn=0;kn<Qr.length;kn++){var _i=Qr[kn];Te[_i]||(we.push(_i),Te[_i]=!0)}}}return we};function _e(kt){if(L(kt))return kt[0]}function Ne(kt){if(L(kt)){var se=kt;return se[se.length-1]}}function or(kt,se){return O(kt)||Lt(kt)?kt[0]===se:!1}var je=or;function dr(kt,se){return O(kt)||Lt(kt)?kt[kt.length-1]===se:!1}var kr=dr,Br=function(kt,se){for(var we=0;we<kt.length;we++)if(!se(kt[we],we))return!1;return!0},ln=Br,Yn=function(kt,se){for(var we=0;we<kt.length;we++)if(se(kt[we],we))return!0;return!1},fi=Yn,Ci=Object.prototype.hasOwnProperty;function ki(kt,se){if(!se||!O(kt))return{};for(var we={},Te=w(se)?se:function(kn){return kn[se]},He,yr=0;yr<kt.length;yr++){var Qr=kt[yr];He=Te(Qr),Ci.call(we,He)?we[He].push(Qr):we[He]=[Qr]}return we}var jt=ki;function ie(kt,se){if(!se)return{0:kt};if(!w(se)){var we=O(se)?se:se.replace(/\s+/g,"").split("*");se=function(Te){for(var He="_",yr=0,Qr=we.length;yr<Qr;yr++)He+=Te[we[yr]]&&Te[we[yr]].toString();return He}}return jt(kt,se)}var ve=function(kt,se){if(!se)return[kt];var we=ie(kt,se),Te=[];for(var He in we)Te.push(we[He]);return Te};function ye(kt,se){return kt["_wrap_"+se]}var Ae=ye;function Pe(kt,se){if(kt["_wrap_"+se])return kt["_wrap_"+se];var we=function(Te){kt[se](Te)};return kt["_wrap_"+se]=we,we}var Oe=Pe,De={};function Ce(kt){var se=De[kt];if(!se){for(var we=kt.toString(16),Te=we.length;Te<6;Te++)we="0"+we;se="#"+we,De[kt]=se}return se}var rr=Ce;function Ue(kt){var se=0,we=0,Te=0,He=0;return O(kt)?kt.length===1?se=we=Te=He=kt[0]:kt.length===2?(se=Te=kt[0],we=He=kt[1]):kt.length===3?(se=kt[0],we=He=kt[1],Te=kt[2]):(se=kt[0],we=kt[1],Te=kt[2],He=kt[3]):se=we=Te=He=kt,{r1:se,r2:we,r3:Te,r4:He}}var fr=Ue,Cr=function(kt,se,we){return kt<se?se:kt>we?we:kt},vr=Cr,br=function(kt,se){var we=se.toString(),Te=we.indexOf(".");if(Te===-1)return Math.round(kt);var He=we.substr(Te+1).length;return He>20&&(He=20),parseFloat(kt.toFixed(He))},mr=br,Ar=function(kt){return y(kt,"Number")},hr=Ar,Fr=function(kt){return hr(kt)&&kt%1!=0},Kr=Fr,Xr=function(kt){return hr(kt)&&kt%2==0},Zr=Xr,an=Number.isInteger?Number.isInteger:function(kt){return hr(kt)&&kt%1==0},en=an,Wn=function(kt){return hr(kt)&&kt<0},gn=Wn,ei=1e-5;function pi(kt,se,we){return we===void 0&&(we=ei),Math.abs(kt-se)<we}var hi=function(kt){return hr(kt)&&kt%2!=0},Mi=hi,Zi=function(kt){return hr(kt)&&kt>0},Yr=Zi,gi=function(kt,se){if(!!O(kt)){for(var we,Te=-Infinity,He=0;He<kt.length;He++){var yr=kt[He],Qr=w(se)?se(yr):yr[se];Qr>Te&&(we=yr,Te=Qr)}return we}},Ei=function(kt,se){if(!!O(kt)){for(var we,Te=Infinity,He=0;He<kt.length;He++){var yr=kt[He],Qr=w(se)?se(yr):yr[se];Qr<Te&&(we=yr,Te=Qr)}return we}},yi=function(kt,se){return(kt%se+se)%se},Pn=yi,vi=180/Math.PI,Ki=function(kt){return vi*kt},Bi=Ki,mi=parseInt,ii=Math.PI/180,Xi=function(kt){return ii*kt},fa=Xi,Bt=Y,Ct=function(kt,se){return kt.hasOwnProperty(se)},it=Ct,gt=Object.values?function(kt){return Object.values(kt)}:function(kt){var se=[];return Y(kt,function(we,Te){w(kt)&&Te==="prototype"||se.push(we)}),se},Yt=gt,J=function(kt,se){return P(Yt(kt),se)},ft=function(kt){return A(kt)?"":kt.toString()},yt=function(kt){return ft(kt).toLowerCase()},_t=yt,Xt=function(kt){var se=ft(kt);return se.charAt(0).toLowerCase()+se.substring(1)},Jt=Xt;function pe(kt,se){return!kt||!se?kt:kt.replace(/\\?\{([^{}]+)\}/g,function(we,Te){return we.charAt(0)==="\\"?we.slice(1):se[Te]===void 0?"":se[Te]})}var Ee=pe,Be=function(kt){return ft(kt).toUpperCase()},xe=Be,Xe=function(kt){var se=ft(kt);return se.charAt(0).toUpperCase()+se.substring(1)},pr=Xe,wr={}.toString,Ir=function(kt){return wr.call(kt).replace(/^\[object /,"").replace(/]$/,"")},lr=Ir,er=function(kt){return y(kt,"Arguments")},Vr=er,Sn=function(kt){return y(kt,"Boolean")},mn=Sn,zn=function(kt){return y(kt,"Date")},At=zn,st=function(kt){return y(kt,"Error")},Z=st;function rt(kt){return hr(kt)&&isFinite(kt)}var It=function(kt){return kt===null},Vt=It,he=Object.prototype,ue=function(kt){var se=kt&&kt.constructor,we=typeof se=="function"&&se.prototype||he;return kt===we},ce=ue,Re=function(kt){return y(kt,"RegExp")},ke=Re,ze=function(kt){return kt===void 0},ir=ze,sr=function(kt){return kt instanceof Element||kt instanceof HTMLDocument},We=sr;function Or(kt){var se=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(we){return setTimeout(we,16)};return se(kt)}function Pr(kt){var se=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;se(kt)}function $r(kt,se){for(var we in se)se.hasOwnProperty(we)&&we!=="constructor"&&se[we]!==void 0&&(kt[we]=se[we])}function Jr(kt,se,we,Te){return se&&$r(kt,se),we&&$r(kt,we),Te&&$r(kt,Te),kt}var gr=function(){for(var kt=[],se=0;se<arguments.length;se++)kt[se]=arguments[se];for(var we=kt[0],Te=1;Te<kt.length;Te++){var He=kt[Te];w(He)&&(He=He.prototype),Jr(we.prototype,He)}},cr=gr,qr=function(kt){if(typeof kt!="object"||kt===null)return kt;var se;if(O(kt)){se=[];for(var we=0,Te=kt.length;we<Te;we++)typeof kt[we]=="object"&&kt[we]!=null?se[we]=qr(kt[we]):se[we]=kt[we]}else{se={};for(var He in kt)typeof kt[He]=="object"&&kt[He]!=null?se[He]=qr(kt[He]):se[He]=kt[He]}return se},In=qr;function Xn(kt,se,we){var Te;return function(){var He=this,yr=arguments,Qr=function(){Te=null,we||kt.apply(He,yr)},kn=we&&!Te;clearTimeout(Te),Te=setTimeout(Qr,se),kn&&kt.apply(He,yr)}}var aa=Xn,La=function(kt,se){if(!w(kt))throw new TypeError("Expected a function");var we=function(){for(var Te=[],He=0;He<arguments.length;He++)Te[He]=arguments[He];var yr=se?se.apply(this,Te):Te[0],Qr=we.cache;if(Qr.has(yr))return Qr.get(yr);var kn=kt.apply(this,Te);return Qr.set(yr,kn),kn};return we.cache=new Map,we},Yo=5;function Ha(kt,se,we,Te){we=we||0,Te=Te||Yo;for(var He in se)if(se.hasOwnProperty(He)){var yr=se[He];yr!==null&&qt(yr)?(qt(kt[He])||(kt[He]={}),we<Te?Ha(kt[He],yr,we+1,Te):kt[He]=se[He]):O(yr)?(kt[He]=[],kt[He]=kt[He].concat(yr)):yr!==void 0&&(kt[He]=yr)}}var io=function(kt){for(var se=[],we=1;we<arguments.length;we++)se[we-1]=arguments[we];for(var Te=0;Te<se.length;Te+=1)Ha(kt,se[Te]);return kt},Ia=io,Ai=function(kt,se,we,Te){w(se)||(we=se,se=kt,kt=function(){});var He=Object.create?function(Qr,kn){return Object.create(Qr,{constructor:{value:kn}})}:function(Qr,kn){function _i(){}_i.prototype=Qr;var oa=new _i;return oa.constructor=kn,oa},yr=He(se.prototype,kt);return kt.prototype=Jr(yr,kt.prototype),kt.superclass=He(se.prototype,se),Jr(yr,we),Jr(kt,Te),kt},wo=Ai,So=function(kt,se){if(!L(kt))return-1;var we=Array.prototype.indexOf;if(we)return we.call(kt,se);for(var Te=-1,He=0;He<kt.length;He++)if(kt[He]===se){Te=He;break}return Te},Wa=So,Oa=Object.prototype.hasOwnProperty;function Dn(kt){if(A(kt))return!0;if(L(kt))return!kt.length;var se=lr(kt);if(se==="Map"||se==="Set")return!kt.size;if(ce(kt))return!Object.keys(kt).length;for(var we in kt)if(Oa.call(kt,we))return!1;return!0}var ao=Dn,ai=function(kt,se){if(kt===se)return!0;if(!kt||!se||Lt(kt)||Lt(se))return!1;if(L(kt)||L(se)){if(kt.length!==se.length)return!1;for(var we=!0,Te=0;Te<kt.length&&(we=ai(kt[Te],se[Te]),!!we);Te++);return we}if(Pt(kt)||Pt(se)){var He=Object.keys(kt),yr=Object.keys(se);if(He.length!==yr.length)return!1;for(var we=!0,Te=0;Te<He.length&&(we=ai(kt[He[Te]],se[He[Te]]),!!we);Te++);return we}return!1},On=ai,ja=function(kt,se,we){return w(we)?!!we(kt,se):On(kt,se)},En=function(kt,se){if(!L(kt))return kt;for(var we=[],Te=0;Te<kt.length;Te++){var He=kt[Te];we.push(se(He,Te))}return we},Di=En,Kt=function(kt){return kt},ht=function(kt,se){se===void 0&&(se=Kt);var we={};return B(kt)&&!A(kt)&&Object.keys(kt).forEach(function(Te){we[Te]=se(kt[Te],Te)}),we},F=function(kt,se,we){for(var Te=0,He=Lt(se)?se.split("."):se;kt&&Te<He.length;)kt=kt[He[Te++]];return kt===void 0||Te<He.length?we:kt},z=function(kt,se,we){var Te=kt,He=Lt(se)?se.split("."):se;return He.forEach(function(yr,Qr){Qr<He.length-1?(B(Te[yr])||(Te[yr]=hr(He[Qr+1])?[]:{}),Te=Te[yr]):Te[yr]=we}),kt},et=Object.prototype.hasOwnProperty,St=function(kt,se){if(kt===null||!qt(kt))return{};var we={};return Y(se,function(Te){et.call(kt,Te)&&(we[Te]=kt[Te])}),we},Ft=function(kt,se){return U(kt,function(we,Te,He){return se.includes(He)||(we[He]=Te),we},{})},$t=function(kt,se,we){var Te,He,yr,Qr,kn=0;we||(we={});var _i=function(){kn=we.leading===!1?0:Date.now(),Te=null,Qr=kt.apply(He,yr),Te||(He=yr=null)},oa=function(){var ha=Date.now();!kn&&we.leading===!1&&(kn=ha);var cs=se-(ha-kn);return He=this,yr=arguments,cs<=0||cs>se?(Te&&(clearTimeout(Te),Te=null),kn=ha,Qr=kt.apply(He,yr),Te||(He=yr=null)):!Te&&we.trailing!==!1&&(Te=setTimeout(_i,cs)),Qr};return oa.cancel=function(){clearTimeout(Te),kn=0,Te=He=yr=null},oa},fe=function(kt){return L(kt)?Array.prototype.slice.call(kt):[]},de={},Me=function(kt){return kt=kt||"g",de[kt]?de[kt]+=1:de[kt]=1,kt+de[kt]},Le=function(){},Ze=function(kt){return kt};function qe(kt){return A(kt)?0:L(kt)?kt.length:Object.keys(kt).length}var Mr=d(37067),jr,Nr=La(function(kt,se){se===void 0&&(se={});var we=se.fontSize,Te=se.fontFamily,He=se.fontWeight,yr=se.fontStyle,Qr=se.fontVariant;return jr||(jr=document.createElement("canvas").getContext("2d")),jr.font=[yr,Qr,He,we+"px",Te].join(" "),jr.measureText(Lt(kt)?kt:"").width},function(kt,se){return se===void 0&&(se={}),(0,Mr.__spreadArrays)([kt],Yt(se)).join("")}),pn=function(kt,se,we,Te){Te===void 0&&(Te="...");var He=16,yr=Nr(Te,we),Qr=Lt(kt)?kt:ft(kt),kn=se,_i=[],oa,ha;if(Nr(kt,we)<=se)return kt;for(;oa=Qr.substr(0,He),ha=Nr(oa,we),!(ha+yr>kn&&ha>kn);)if(_i.push(oa),kn-=ha,Qr=Qr.substr(He),!Qr)return _i.join("");for(;oa=Qr.substr(0,1),ha=Nr(oa,we),!(ha+yr>kn);)if(_i.push(oa),kn-=ha,Qr=Qr.substr(1),!Qr)return _i.join("");return""+_i.join("")+Te},xn=function(){function kt(){this.map={}}return kt.prototype.has=function(se){return this.map[se]!==void 0},kt.prototype.get=function(se,we){var Te=this.map[se];return Te===void 0?we:Te},kt.prototype.set=function(se,we){this.map[se]=we},kt.prototype.clear=function(){this.map={}},kt.prototype.delete=function(se){delete this.map[se]},kt.prototype.size=function(){return Object.keys(this.map).length},kt}(),yn=xn},99581:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66974),L=d(46812),I=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];for(var _=P[0],M=1;M<P.length;M++){var E=P[M];L.default(E)&&(E=E.prototype),m.default(_.prototype,E)}};S.default=I},68039:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(){this.map={}}return m.prototype.has=function(L){return this.map[L]!==void 0},m.prototype.get=function(L,I){var P=this.map[L];return P===void 0?I:P},m.prototype.set=function(L,I){this.map[L]=I},m.prototype.clear=function(){this.map={}},m.prototype.delete=function(L){delete this.map[L]},m.prototype.size=function(){return Object.keys(this.map).length},m}();S.default=d},37339:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,L,I){return m<L?L:m>I?I:m};S.default=d},35755:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var L=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;L(m)}S.default=d},8289:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=function(I){if(typeof I!="object"||I===null)return I;var P;if(m.default(I)){P=[];for(var T=0,_=I.length;T<_;T++)typeof I[T]=="object"&&I[T]!=null?P[T]=L(I[T]):P[T]=I[T]}else{P={};for(var M in I)typeof I[M]=="object"&&I[M]!=null?P[M]=L(I[M]):P[M]=I[M]}return P};S.default=L},75349:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),L=function(I,P){return m.default(I)?I.indexOf(P)>-1:!1};S.default=L},79663:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,L,I){var P;return function(){var T=this,_=arguments,M=function(){P=null,I||m.apply(T,_)},E=I&&!P;clearTimeout(P),P=setTimeout(M,L),E&&m.apply(T,_)}}S.default=d},90497:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(15907),I=5;function P(_,M,E,p){E=E||0,p=p||I;for(var b in M)if(M.hasOwnProperty(b)){var y=M[b];y!==null&&L.default(y)?(L.default(_[b])||(_[b]={}),E<p?P(_[b],y,E+1,p):_[b]=M[b]):m.default(y)?(_[b]=[],_[b]=_[b].concat(y)):y!==void 0&&(_[b]=y)}}var T=function(_){for(var M=[],E=1;E<arguments.length;E++)M[E-1]=arguments[E];for(var p=0;p<M.length;p+=1)P(_,M[p]);return _};S.default=T},25430:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(40007),L=d(75349),I=function(P,T){return T===void 0&&(T=[]),m.default(P,function(_){return!L.default(T,_)})};S.default=I},27154:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(33643);function I(P,T){if(!!P){var _;if(m.default(P))for(var M=0,E=P.length;M<E&&(_=T(P[M],M),_!==!1);M++);else if(L.default(P)){for(var p in P)if(P.hasOwnProperty(p)&&(_=T(P[p],p),_===!1))break}}}S.default=I},61846:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(21830);function I(P,T){return m.default(P)||L.default(P)?P[P.length-1]===T:!1}S.default=I},8153:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,L){for(var I=0;I<m.length;I++)if(!L(m[I],I))return!1;return!0};S.default=d},13829:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66974),L=d(46812),I=function(P,T,_,M){L.default(T)||(_=T,T=P,P=function(){});var E=Object.create?function(b,y){return Object.create(b,{constructor:{value:y}})}:function(b,y){function w(){}w.prototype=b;var x=new w;return x.constructor=y,x},p=E(T.prototype,P);return P.prototype=m.default(p,P.prototype),P.superclass=E(T.prototype,T),m.default(p,_),m.default(P,M),P};S.default=I},40007:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),L=function(I,P){if(!m.default(I))return I;for(var T=[],_=0;_<I.length;_++){var M=I[_];P(M,_)&&T.push(M)}return T};S.default=L},90871:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,L,I){I===void 0&&(I=0);for(var P=I;P<m.length;P++)if(L(m[P],P))return P;return-1}S.default=d},32114:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812),L=d(20253),I=d(66631),P=d(15907);function T(_,M){if(!I.default(_))return null;var E;if(m.default(M)&&(E=M),P.default(M)&&(E=function(b){return L.default(b,M)}),E){for(var p=0;p<_.length;p+=1)if(E(_[p]))return _[p]}return null}S.default=T},84521:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),L=d(66631),I=function(P,T){for(var _=null,M=0;M<P.length;M++){var E=P[M],p=E[T];if(!m.default(p)){L.default(p)?_=p[0]:_=p;break}}return _};S.default=I},14266:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,L){var I=L.toString(),P=I.indexOf(".");if(P===-1)return Math.round(m);var T=I.substr(P+1).length;return T>20&&(T=20),parseFloat(m.toFixed(T))};S.default=d},61917:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=function(I,P){if(P===void 0&&(P=[]),!m.default(I))P.push(I);else for(var T=0;T<I.length;T+=1)L(I[T],P);return P};S.default=L},30267:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=function(I){if(!m.default(I))return[];for(var P=[],T=0;T<I.length;T++)P=P.concat(I[T]);return P};S.default=L},8361:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154);S.default=m.default},65616:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(21830),L=d(78127),I=d(13754);S.default=function(P,T,_,M){M===void 0&&(M="...");var E=16,p=I.default(M,_),b=m.default(P)?P:L.default(P),y=T,w=[],x,A;if(I.default(P,_)<=T)return P;for(;x=b.substr(0,E),A=I.default(x,_),!(A+p>y&&A>y);)if(w.push(x),y-=A,b=b.substr(E),!b)return w.join("");for(;x=b.substr(0,1),A=I.default(x,_),!(A+p>y);)if(w.push(x),y-=A,b=b.substr(1),!b)return w.join("");return""+w.join("")+M}},83236:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(14705),I=d(45356),P=function(T){var _=T.filter(function(y){return!isNaN(y)});if(!_.length)return{min:0,max:0};if(m.default(T[0])){for(var M=[],E=0;E<T.length;E++)M=M.concat(T[E]);_=M}var p=L.default(_),b=I.default(_);return{min:b,max:p}};S.default=P},89175:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,m=function(L){return d.call(L).replace(/^\[object /,"").replace(/]$/,"")};S.default=m},71668:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,L){return m["_wrap_"+L]}S.default=d},58070:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(21830);S.default=function(L,I,P){for(var T=0,_=m.default(I)?I.split("."):I;L&&T<_.length;)L=L[_[T++]];return L===void 0||T<_.length?P:L}},54544:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(46812),I=Object.prototype.hasOwnProperty;function P(T,_){if(!_||!m.default(T))return{};for(var M={},E=L.default(_)?_:function(w){return w[_]},p,b=0;b<T.length;b++){var y=T[b];p=E(y),I.call(M,p)?M[p].push(y):M[p]=[y]}return M}S.default=P},64725:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(46812),I=d(54544);function P(T,_){if(!_)return{0:T};if(!L.default(_)){var M=m.default(_)?_:_.replace(/\s+/g,"").split("*");_=function(E){for(var p="_",b=0,y=M.length;b<y;b++)p+=E[M[b]]&&E[M[b]].toString();return p}}return I.default(T,_)}S.default=P},93597:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(64725);S.default=function(L,I){if(!I)return[L];var P=m.default(L,I),T=[];for(var _ in P)T.push(P[_]);return T}},97507:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(57921);S.default=m.default},99969:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(75349),L=d(91161);S.default=function(I,P){return m.default(L.default(I),P)}},57921:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,m){return d.hasOwnProperty(m)}},41169:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);function L(I){if(m.default(I))return I[0]}S.default=L},80870:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){return d}},40035:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),L=function(I,P){if(!m.default(I))return-1;var T=Array.prototype.indexOf;if(T)return T.call(I,P);for(var _=-1,M=0;M<I.length;M++)if(I[M]===P){_=M;break}return _};S.default=L},50229:function(mt,S,d){"use strict";var m;m={value:!0};var L=d(75349);m={enumerable:!0,get:function(){return L.default}},m={enumerable:!0,get:function(){return L.default}};var I=d(25430);m={enumerable:!0,get:function(){return I.default}};var P=d(32114);m={enumerable:!0,get:function(){return P.default}};var T=d(90871);m={enumerable:!0,get:function(){return T.default}};var _=d(84521);m={enumerable:!0,get:function(){return _.default}};var M=d(30267);m={enumerable:!0,get:function(){return M.default}};var E=d(61917);m={enumerable:!0,get:function(){return E.default}};var p=d(83236);m={enumerable:!0,get:function(){return p.default}};var b=d(5220);m={enumerable:!0,get:function(){return b.default}};var y=d(50779);m={enumerable:!0,get:function(){return y.default}};var w=d(13847);m={enumerable:!0,get:function(){return w.default}};var x=d(89757);m={enumerable:!0,get:function(){return x.default}};var A=d(27599);m={enumerable:!0,get:function(){return A.default}};var O=d(58632);m={enumerable:!0,get:function(){return O.default}};var B=d(12619);m={enumerable:!0,get:function(){return B.default}};var R=d(29208);m={enumerable:!0,get:function(){return R.default}};var Y=d(41169);m={enumerable:!0,get:function(){return Y.default}};var j=d(95145);m={enumerable:!0,get:function(){return j.default}};var V=d(680);m={enumerable:!0,get:function(){return V.default}};var nt=d(61846);m={enumerable:!0,get:function(){return nt.default}};var ct=d(40007);m={enumerable:!0,get:function(){return ct.default}};var ut=d(8153);m={enumerable:!0,get:function(){return ut.default}};var Pt=d(58175);m={enumerable:!0,get:function(){return Pt.default}};var Gt=d(93597);m={enumerable:!0,get:function(){return Gt.default}};var qt=d(54544);m={enumerable:!0,get:function(){return qt.default}};var Rt=d(64725);m={enumerable:!0,get:function(){return Rt.default}};var at=d(71668);m={enumerable:!0,get:function(){return at.default}};var vt=d(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return vt.default}});var ot=d(45145);m={enumerable:!0,get:function(){return ot.default}};var Et=d(85418);m={enumerable:!0,get:function(){return Et.default}};var dt=d(37339);m={enumerable:!0,get:function(){return dt.default}};var X=d(14266);m={enumerable:!0,get:function(){return X.default}};var $=d(51008);m={enumerable:!0,get:function(){return $.default}};var H=d(45420);m={enumerable:!0,get:function(){return H.default}};var f=d(68221);m={enumerable:!0,get:function(){return f.default}};var xt=d(58706);m={enumerable:!0,get:function(){return xt.default}};var Mt=d(39984);m={enumerable:!0,get:function(){return Mt.default}};var Ut=d(32705);m={enumerable:!0,get:function(){return Ut.default}};var re=d(75732);m={enumerable:!0,get:function(){return re.default}};var zt=d(14705);m={enumerable:!0,get:function(){return zt.default}};var ne=d(38935);m={enumerable:!0,get:function(){return ne.default}};var ae=d(45356);m={enumerable:!0,get:function(){return ae.default}};var Dt=d(89857);m={enumerable:!0,get:function(){return Dt.default}};var Tt=d(5253);m={enumerable:!0,get:function(){return Tt.default}};var pt=d(2119);m={enumerable:!0,get:function(){return pt.default}};var Q=d(23196);m={enumerable:!0,get:function(){return Q.default}};var K=d(9217);m={enumerable:!0,get:function(){return K.default}};var lt=d(8361);m={enumerable:!0,get:function(){return lt.default}};var U=d(57921);m={enumerable:!0,get:function(){return U.default}};var W=d(97507);m={enumerable:!0,get:function(){return W.default}};var wt=d(99969);m={enumerable:!0,get:function(){return wt.default}};var Lt=d(85050);m={enumerable:!0,get:function(){return Lt.default}};var Wt=d(20253);m={enumerable:!0,get:function(){return Wt.default}};var oe=d(91161);m={enumerable:!0,get:function(){return oe.default}};var Se=d(88362);m={enumerable:!0,get:function(){return Se.default}};var Ye=d(56095);m={enumerable:!0,get:function(){return Ye.default}};var te=d(35541);m={enumerable:!0,get:function(){return te.default}};var ge=d(72660);m={enumerable:!0,get:function(){return ge.default}};var _e=d(85260);m={enumerable:!0,get:function(){return _e.default}};var Ne=d(89175);m={enumerable:!0,get:function(){return Ne.default}};var or=d(55039);m={enumerable:!0,get:function(){return or.default}};var je=d(66631);m={enumerable:!0,get:function(){return je.default}};var dr=d(48102);m={enumerable:!0,get:function(){return dr.default}};var kr=d(25873);m={enumerable:!0,get:function(){return kr.default}};var Br=d(79396);m={enumerable:!0,get:function(){return Br.default}};var ln=d(14230);m={enumerable:!0,get:function(){return ln.default}};var Yn=d(46812);m={enumerable:!0,get:function(){return Yn.default}};var fi=d(73420);m={enumerable:!0,get:function(){return fi.default}};var Ci=d(73890);m={enumerable:!0,get:function(){return Ci.default}};var ki=d(85497);m={enumerable:!0,get:function(){return ki.default}};var jt=d(16185);m={enumerable:!0,get:function(){return jt.default}};var ie=d(33643);m={enumerable:!0,get:function(){return ie.default}};var ve=d(70441);m={enumerable:!0,get:function(){return ve.default}};var ye=d(15907);m={enumerable:!0,get:function(){return ye.default}};var Ae=d(26296);m={enumerable:!0,get:function(){return Ae.default}};var Pe=d(7877);m={enumerable:!0,get:function(){return Pe.default}};var Oe=d(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return Oe.default}});var De=d(44235);m={enumerable:!0,get:function(){return De.default}};var Ce=d(25523);m={enumerable:!0,get:function(){return Ce.default}};var rr=d(58417);m={enumerable:!0,get:function(){return rr.default}};var Ue=d(98229);m={enumerable:!0,get:function(){return Ue.default}};var fr=d(35755);m={enumerable:!0,get:function(){return fr.default}};var Cr=d(99581);m={enumerable:!0,get:function(){return Cr.default}};var vr=d(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return vr.default}});var br=d(79663);m={enumerable:!0,get:function(){return br.default}};var mr=d(99834);m={enumerable:!0,get:function(){return mr.default}};var Ar=d(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return Ar.default}});var hr=d(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return hr.default}});var Fr=d(13829);m={enumerable:!0,get:function(){return Fr.default}};var Kr=d(40035);m={enumerable:!0,get:function(){return Kr.default}};var Xr=d(64029);m={enumerable:!0,get:function(){return Xr.default}};var Zr=d(212);m={enumerable:!0,get:function(){return Zr.default}};var an=d(18112);m={enumerable:!0,get:function(){return an.default}};var en=d(92693);m={enumerable:!0,get:function(){return en.default}};var Wn=d(53497);m={enumerable:!0,get:function(){return Wn.default}};var gn=d(66974);m={enumerable:!0,get:function(){return gn.default}},m={enumerable:!0,get:function(){return gn.default}};var ei=d(58070);m={enumerable:!0,get:function(){return ei.default}};var pi=d(64119);m={enumerable:!0,get:function(){return pi.default}};var hi=d(24263);m={enumerable:!0,get:function(){return hi.default}};var Mi=d(14179);m={enumerable:!0,get:function(){return Mi.default}};var Zi=d(60979);m={enumerable:!0,get:function(){return Zi.default}};var Yr=d(66668);m={enumerable:!0,get:function(){return Yr.default}};var gi=d(78127);m={enumerable:!0,get:function(){return gi.default}};var Ei=d(67250);m={enumerable:!0,get:function(){return Ei.default}};var yi=d(26851);m={enumerable:!0,get:function(){return yi.default}};var Pn=d(80870);m={enumerable:!0,get:function(){return Pn.default}};var vi=d(30597);m={enumerable:!0,get:function(){return vi.default}};var Ki=d(13754);m={enumerable:!0,get:function(){return Ki.default}};var Bi=d(65616);m={enumerable:!0,get:function(){return Bi.default}};var mi=d(68039);m={enumerable:!0,get:function(){return mi.default}}},55039:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),L=function(I){return m.default(I,"Arguments")};S.default=L},48102:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m!==null&&typeof m!="function"&&isFinite(m.length)};S.default=d},66631:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(L){return Array.isArray?Array.isArray(L):m.default(L,"Array")}},25873:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),L=function(I){return m.default(I,"Boolean")};S.default=L},79396:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),L=function(I){return m.default(I,"Date")};S.default=L},51008:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),L=function(I){return m.default(I)&&I%1!=0};S.default=L},58417:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m instanceof Element||m instanceof HTMLDocument};S.default=d},64029:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),L=d(48102),I=d(89175),P=d(26296),T=Object.prototype.hasOwnProperty;function _(M){if(m.default(M))return!0;if(L.default(M))return!M.length;var E=I.default(M);if(E==="Map"||E==="Set")return!M.size;if(P.default(M))return!Object.keys(M).length;for(var p in M)if(T.call(M,p))return!1;return!0}S.default=_},18112:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812),L=d(212);S.default=function(I,P,T){return m.default(T)?!!T(I,P):L.default(I,P)}},212:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70441),L=d(48102),I=d(21830),P=function(T,_){if(T===_)return!0;if(!T||!_||I.default(T)||I.default(_))return!1;if(L.default(T)||L.default(_)){if(T.length!==_.length)return!1;for(var M=!0,E=0;E<T.length&&(M=P(T[E],_[E]),!!M);E++);return M}if(m.default(T)||m.default(_)){var p=Object.keys(T),b=Object.keys(_);if(p.length!==b.length)return!1;for(var M=!0,E=0;E<p.length&&(M=P(T[p[E]],_[p[E]]),!!M);E++);return M}return!1};S.default=P},14230:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),L=function(I){return m.default(I,"Error")};S.default=L},45420:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),L=function(I){return m.default(I)&&I%2==0};S.default=L},73420:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185);function L(I){return m.default(I)&&isFinite(I)}S.default=L},46812:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(L){return m.default(L,"Function")}},68221:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),L=Number.isInteger?Number.isInteger:function(I){return m.default(I)&&I%1==0};S.default=L},20253:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),L=d(85050);function I(P,T){var _=L.default(T),M=_.length;if(m.default(P))return!M;for(var E=0;E<M;E+=1){var p=_[E];if(T[p]!==P[p]||!(p in P))return!1}return!0}S.default=I},58706:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),L=function(I){return m.default(I)&&I<0};S.default=L},73890:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m==null};S.default=d},85497:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m===null};S.default=d},39984:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-5;function m(L,I,P){return P===void 0&&(P=d),Math.abs(L-I)<P}S.default=m},16185:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),L=function(I){return m.default(I,"Number")};S.default=L},70441:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return typeof m=="object"&&m!==null};S.default=d},33643:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){var m=typeof d;return d!==null&&m==="object"||m==="function"}},32705:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),L=function(I){return m.default(I)&&I%2!=0};S.default=L},15907:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70441),L=d(44235),I=function(P){if(!m.default(P)||!L.default(P,"Object"))return!1;if(Object.getPrototypeOf(P)===null)return!0;for(var T=P;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(P)===T};S.default=I},75732:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),L=function(I){return m.default(I)&&I>0};S.default=L},26296:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Object.prototype,m=function(L){var I=L&&L.constructor,P=typeof I=="function"&&I.prototype||d;return L===P};S.default=m},7877:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),L=function(I){return m.default(I,"RegExp")};S.default=L},21830:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(L){return m.default(L,"String")}},44235:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,m=function(L,I){return d.call(L)==="[object "+I+"]"};S.default=m},25523:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m===void 0};S.default=d},85050:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),L=d(46812),I=Object.keys?function(P){return Object.keys(P)}:function(P){var T=[];return m.default(P,function(_,M){L.default(P)&&M==="prototype"||T.push(M)}),T};S.default=I},95145:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);function L(I){if(m.default(I)){var P=I;return P[P.length-1]}}S.default=L},88362:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),L=function(I){return m.default(I).toLowerCase()};S.default=L},56095:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),L=function(I){var P=m.default(I);return P.charAt(0).toLowerCase()+P.substring(1)};S.default=L},53497:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),L=d(33643),I=function(P){return P};S.default=function(P,T){T===void 0&&(T=I);var _={};return L.default(P)&&!m.default(P)&&Object.keys(P).forEach(function(M){_[M]=T(P[M],M)}),_}},92693:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),L=function(I,P){if(!m.default(I))return I;for(var T=[],_=0;_<I.length;_++){var M=I[_];T.push(P(M,_))}return T};S.default=L},38935:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(46812);S.default=function(I,P){if(!!m.default(I)){for(var T,_=-Infinity,M=0;M<I.length;M++){var E=I[M],p=L.default(P)?P(E):E[P];p>_&&(T=E,_=p)}return T}}},14705:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);S.default=function(L){if(!!m.default(L))return L.reduce(function(I,P){return Math.max(I,P)},L[0])}},13754:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(37067),L=d(91161),I=d(99834),P=d(21830),T;S.default=I.default(function(_,M){M===void 0&&(M={});var E=M.fontSize,p=M.fontFamily,b=M.fontWeight,y=M.fontStyle,w=M.fontVariant;return T||(T=document.createElement("canvas").getContext("2d")),T.font=[y,w,b,E+"px",p].join(" "),T.measureText(P.default(_)?_:"").width},function(_,M){return M===void 0&&(M={}),m.__spreadArrays([_],L.default(M)).join("")})},99834:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812);S.default=function(L,I){if(!m.default(L))throw new TypeError("Expected a function");var P=function(){for(var T=[],_=0;_<arguments.length;_++)T[_]=arguments[_];var M=I?I.apply(this,T):T[0],E=P.cache;if(E.has(M))return E.get(M);var p=L.apply(this,T);return E.set(M,p),p};return P.cache=new Map,P}},89857:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(46812);S.default=function(I,P){if(!!m.default(I)){for(var T,_=Infinity,M=0;M<I.length;M++){var E=I[M],p=L.default(P)?P(E):E[P];p<_&&(T=E,_=p)}return T}}},45356:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);S.default=function(L){if(!!m.default(L))return L.reduce(function(I,P){return Math.min(I,P)},L[0])}},66974:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(L,I){for(var P in I)I.hasOwnProperty(P)&&P!=="constructor"&&I[P]!==void 0&&(L[P]=I[P])}function m(L,I,P,T){return I&&d(L,I),P&&d(L,P),T&&d(L,T),L}S.default=m},5253:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,L){return(m%L+L)%L};S.default=d},26851:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};function m(L){var I=d[L];if(!I){for(var P=L.toString(16),T=P.length;T<6;T++)P="0"+P;I="#"+P,d[L]=I}return I}S.default=m},14179:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(13847);S.default=function(L,I){return m.default(L,function(P,T,_){return I.includes(_)||(P[_]=T),P},{})}},85418:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);function L(I){var P=0,T=0,_=0,M=0;return m.default(I)?I.length===1?P=T=_=M=I[0]:I.length===2?(P=_=I[0],T=M=I[1]):I.length===3?(P=I[0],T=M=I[1],_=I[2]):(P=I[0],T=I[1],_=I[2],M=I[3]):P=T=_=M=I,{r1:P,r2:T,r3:_,r4:M}}S.default=L},24263:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),L=d(15907),I=Object.prototype.hasOwnProperty;S.default=function(P,T){if(P===null||!L.default(P))return{};var _={};return m.default(T,function(M){I.call(P,M)&&(_[M]=P[M])}),_}},50779:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),L=Array.prototype.splice,I=function(T,_){if(!m.default(T))return[];for(var M=T?_.length:0,E=M-1;M--;){var p=void 0,b=_[M];(M===E||b!==p)&&(p=b,L.call(T,b,1))}return T};S.default=I},5220:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Array.prototype,m=d.splice,L=d.indexOf,I=function(P){for(var T=[],_=1;_<arguments.length;_++)T[_-1]=arguments[_];for(var M=0;M<T.length;M++)for(var E=T[M],p=-1;(p=L.call(P,E))>-1;)m.call(P,p,1);return P};S.default=I},13847:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),L=d(66631),I=d(15907),P=function(T,_,M){if(!L.default(T)&&!I.default(T))return T;var E=M;return m.default(T,function(p,b){E=_(E,p,b)}),E};S.default=P},89757:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),L=d(50779),I=function(P,T){var _=[];if(!m.default(P))return _;for(var M=-1,E=[],p=P.length;++M<p;){var b=P[M];T(b,M,P)&&(_.push(b),E.push(M))}return L.default(P,E),_};S.default=I},98229:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var L=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(I){return setTimeout(I,16)};return L(m)}S.default=d},64119:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(33643),L=d(21830),I=d(16185);S.default=function(P,T,_){var M=P,E=L.default(T)?T.split("."):T;return E.forEach(function(p,b){b<E.length-1?(m.default(M[p])||(M[p]=I.default(E[b+1])?[]:{}),M=M[p]):M[p]=_}),P}},30597:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),L=d(48102);function I(P){return m.default(P)?0:L.default(P)?P.length:Object.keys(P).length}S.default=I},58175:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,L){for(var I=0;I<m.length;I++)if(L(m[I],I))return!0;return!1};S.default=d},27599:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(21830),I=d(46812);function P(T,_){var M;if(I.default(_))M=function(p,b){return _(p)-_(b)};else{var E=[];L.default(_)?E.push(_):m.default(_)&&(E=_),M=function(p,b){for(var y=0;y<E.length;y+=1){var w=E[y];if(p[w]>b[w])return 1;if(p[w]<b[w])return-1}return 0}}return T.sort(M),T}S.default=P},680:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(21830);function I(P,T){return m.default(P)||L.default(P)?P[0]===T:!1}S.default=I},35541:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,L){return!m||!L?m:m.replace(/\\?\{([^{}]+)\}/g,function(I,P){return I.charAt(0)==="\\"?I.slice(1):L[P]===void 0?"":L[P]})}S.default=d},60979:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,m,L){var I,P,T,_,M=0;L||(L={});var E=function(){M=L.leading===!1?0:Date.now(),I=null,_=d.apply(P,T),I||(P=T=null)},p=function(){var b=Date.now();!M&&L.leading===!1&&(M=b);var y=m-(b-M);return P=this,T=arguments,y<=0||y>m?(I&&(clearTimeout(I),I=null),M=b,_=d.apply(P,T),I||(P=T=null)):!I&&L.trailing!==!1&&(I=setTimeout(E,y)),_};return p.cancel=function(){clearTimeout(I),M=0,I=P=T=null},p}},66668:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);S.default=function(L){return m.default(L)?Array.prototype.slice.call(L):[]}},2119:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=180/Math.PI,m=function(L){return d*L};S.default=m},23196:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Math.PI/180,m=function(L){return d*L};S.default=m},78127:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890);S.default=function(L){return m.default(L)?"":L.toString()}},58632:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(12619),L=function(){for(var I=[],P=0;P<arguments.length;P++)I[P]=arguments[P];return m.default([].concat.apply([],I))};S.default=L},12619:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,L){L===void 0&&(L=new Map);var I=[];if(Array.isArray(m))for(var P=0,T=m.length;P<T;P++){var _=m[P];L.has(_)||(I.push(_),L.set(_,!0))}return I}S.default=d},67250:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};S.default=function(m){return m=m||"g",d[m]?d[m]+=1:d[m]=1,m+d[m]}},72660:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),L=function(I){return m.default(I).toUpperCase()};S.default=L},85260:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),L=function(I){var P=m.default(I);return P.charAt(0).toUpperCase()+P.substring(1)};S.default=L},29208:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),L=d(73890);S.default=function(I,P){for(var T=[],_={},M=0;M<I.length;M++){var E=I[M],p=E[P];if(!L.default(p)){m.default(p)||(p=[p]);for(var b=0;b<p.length;b++){var y=p[b];_[y]||(T.push(y),_[y]=!0)}}}return T}},91161:function(mt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),L=d(46812),I=Object.values?function(P){return Object.values(P)}:function(P){var T=[];return m.default(P,function(_,M){L.default(P)&&M==="prototype"||T.push(_)}),T};S.default=I},61262:function(mt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,L){if(m["_wrap_"+L])return m["_wrap_"+L];var I=function(P){m[L](P)};return m["_wrap_"+L]=I,I}S.default=d},37067:function(mt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return _},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return w},__read:function(){return x},__spread:function(){return A},__spreadArrays:function(){return O},__spreadArray:function(){return B},__await:function(){return R},__asyncGenerator:function(){return Y},__asyncDelegator:function(){return j},__asyncValues:function(){return V},__makeTemplateObject:function(){return nt},__importStar:function(){return ut},__importDefault:function(){return Pt},__classPrivateFieldGet:function(){return Gt},__classPrivateFieldSet:function(){return qt},__classPrivateFieldIn:function(){return Rt}});var m=function(at,vt){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ot,Et){ot.__proto__=Et}||function(ot,Et){for(var dt in Et)Object.prototype.hasOwnProperty.call(Et,dt)&&(ot[dt]=Et[dt])},m(at,vt)};function L(at,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Class extends value "+String(vt)+" is not a constructor or null");m(at,vt);function ot(){this.constructor=at}at.prototype=vt===null?Object.create(vt):(ot.prototype=vt.prototype,new ot)}var I=function(){return I=Object.assign||function(vt){for(var ot,Et=1,dt=arguments.length;Et<dt;Et++){ot=arguments[Et];for(var X in ot)Object.prototype.hasOwnProperty.call(ot,X)&&(vt[X]=ot[X])}return vt},I.apply(this,arguments)};function P(at,vt){var ot={};for(var Et in at)Object.prototype.hasOwnProperty.call(at,Et)&&vt.indexOf(Et)<0&&(ot[Et]=at[Et]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,Et=Object.getOwnPropertySymbols(at);dt<Et.length;dt++)vt.indexOf(Et[dt])<0&&Object.prototype.propertyIsEnumerable.call(at,Et[dt])&&(ot[Et[dt]]=at[Et[dt]]);return ot}function T(at,vt,ot,Et){var dt=arguments.length,X=dt<3?vt:Et===null?Et=Object.getOwnPropertyDescriptor(vt,ot):Et,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(at,vt,ot,Et);else for(var H=at.length-1;H>=0;H--)($=at[H])&&(X=(dt<3?$(X):dt>3?$(vt,ot,X):$(vt,ot))||X);return dt>3&&X&&Object.defineProperty(vt,ot,X),X}function _(at,vt){return function(ot,Et){vt(ot,Et,at)}}function M(at,vt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(at,vt)}function E(at,vt,ot,Et){function dt(X){return X instanceof ot?X:new ot(function($){$(X)})}return new(ot||(ot=Promise))(function(X,$){function H(Mt){try{xt(Et.next(Mt))}catch(Ut){$(Ut)}}function f(Mt){try{xt(Et.throw(Mt))}catch(Ut){$(Ut)}}function xt(Mt){Mt.done?X(Mt.value):dt(Mt.value).then(H,f)}xt((Et=Et.apply(at,vt||[])).next())})}function p(at,vt){var ot={label:0,sent:function(){if(X[0]&1)throw X[1];return X[1]},trys:[],ops:[]},Et,dt,X,$;return $={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function H(xt){return function(Mt){return f([xt,Mt])}}function f(xt){if(Et)throw new TypeError("Generator is already executing.");for(;ot;)try{if(Et=1,dt&&(X=xt[0]&2?dt.return:xt[0]?dt.throw||((X=dt.return)&&X.call(dt),0):dt.next)&&!(X=X.call(dt,xt[1])).done)return X;switch(dt=0,X&&(xt=[xt[0]&2,X.value]),xt[0]){case 0:case 1:X=xt;break;case 4:return ot.label++,{value:xt[1],done:!1};case 5:ot.label++,dt=xt[1],xt=[0];continue;case 7:xt=ot.ops.pop(),ot.trys.pop();continue;default:if(X=ot.trys,!(X=X.length>0&&X[X.length-1])&&(xt[0]===6||xt[0]===2)){ot=0;continue}if(xt[0]===3&&(!X||xt[1]>X[0]&&xt[1]<X[3])){ot.label=xt[1];break}if(xt[0]===6&&ot.label<X[1]){ot.label=X[1],X=xt;break}if(X&&ot.label<X[2]){ot.label=X[2],ot.ops.push(xt);break}X[2]&&ot.ops.pop(),ot.trys.pop();continue}xt=vt.call(at,ot)}catch(Mt){xt=[6,Mt],dt=0}finally{Et=X=0}if(xt[0]&5)throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}}var b=Object.create?function(at,vt,ot,Et){Et===void 0&&(Et=ot);var dt=Object.getOwnPropertyDescriptor(vt,ot);(!dt||("get"in dt?!vt.__esModule:dt.writable||dt.configurable))&&(dt={enumerable:!0,get:function(){return vt[ot]}}),Object.defineProperty(at,Et,dt)}:function(at,vt,ot,Et){Et===void 0&&(Et=ot),at[Et]=vt[ot]};function y(at,vt){for(var ot in at)ot!=="default"&&!Object.prototype.hasOwnProperty.call(vt,ot)&&b(vt,at,ot)}function w(at){var vt=typeof Symbol=="function"&&Symbol.iterator,ot=vt&&at[vt],Et=0;if(ot)return ot.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&Et>=at.length&&(at=void 0),{value:at&&at[Et++],done:!at}}};throw new TypeError(vt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(at,vt){var ot=typeof Symbol=="function"&&at[Symbol.iterator];if(!ot)return at;var Et=ot.call(at),dt,X=[],$;try{for(;(vt===void 0||vt-- >0)&&!(dt=Et.next()).done;)X.push(dt.value)}catch(H){$={error:H}}finally{try{dt&&!dt.done&&(ot=Et.return)&&ot.call(Et)}finally{if($)throw $.error}}return X}function A(){for(var at=[],vt=0;vt<arguments.length;vt++)at=at.concat(x(arguments[vt]));return at}function O(){for(var at=0,vt=0,ot=arguments.length;vt<ot;vt++)at+=arguments[vt].length;for(var Et=Array(at),dt=0,vt=0;vt<ot;vt++)for(var X=arguments[vt],$=0,H=X.length;$<H;$++,dt++)Et[dt]=X[$];return Et}function B(at,vt,ot){if(ot||arguments.length===2)for(var Et=0,dt=vt.length,X;Et<dt;Et++)(X||!(Et in vt))&&(X||(X=Array.prototype.slice.call(vt,0,Et)),X[Et]=vt[Et]);return at.concat(X||Array.prototype.slice.call(vt))}function R(at){return this instanceof R?(this.v=at,this):new R(at)}function Y(at,vt,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et=ot.apply(at,vt||[]),dt,X=[];return dt={},$("next"),$("throw"),$("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function $(re){Et[re]&&(dt[re]=function(zt){return new Promise(function(ne,ae){X.push([re,zt,ne,ae])>1||H(re,zt)})})}function H(re,zt){try{f(Et[re](zt))}catch(ne){Ut(X[0][3],ne)}}function f(re){re.value instanceof R?Promise.resolve(re.value.v).then(xt,Mt):Ut(X[0][2],re)}function xt(re){H("next",re)}function Mt(re){H("throw",re)}function Ut(re,zt){re(zt),X.shift(),X.length&&H(X[0][0],X[0][1])}}function j(at){var vt,ot;return vt={},Et("next"),Et("throw",function(dt){throw dt}),Et("return"),vt[Symbol.iterator]=function(){return this},vt;function Et(dt,X){vt[dt]=at[dt]?function($){return(ot=!ot)?{value:R(at[dt]($)),done:dt==="return"}:X?X($):$}:X}}function V(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt=at[Symbol.asyncIterator],ot;return vt?vt.call(at):(at=typeof w=="function"?w(at):at[Symbol.iterator](),ot={},Et("next"),Et("throw"),Et("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function Et(X){ot[X]=at[X]&&function($){return new Promise(function(H,f){$=at[X]($),dt(H,f,$.done,$.value)})}}function dt(X,$,H,f){Promise.resolve(f).then(function(xt){X({value:xt,done:H})},$)}}function nt(at,vt){return Object.defineProperty?Object.defineProperty(at,"raw",{value:vt}):at.raw=vt,at}var ct=Object.create?function(at,vt){Object.defineProperty(at,"default",{enumerable:!0,value:vt})}:function(at,vt){at.default=vt};function ut(at){if(at&&at.__esModule)return at;var vt={};if(at!=null)for(var ot in at)ot!=="default"&&Object.prototype.hasOwnProperty.call(at,ot)&&b(vt,at,ot);return ct(vt,at),vt}function Pt(at){return at&&at.__esModule?at:{default:at}}function Gt(at,vt,ot,Et){if(ot==="a"&&!Et)throw new TypeError("Private accessor was defined without a getter");if(typeof vt=="function"?at!==vt||!Et:!vt.has(at))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ot==="m"?Et:ot==="a"?Et.call(at):Et?Et.value:vt.get(at)}function qt(at,vt,ot,Et,dt){if(Et==="m")throw new TypeError("Private method is not writable");if(Et==="a"&&!dt)throw new TypeError("Private accessor was defined without a setter");if(typeof vt=="function"?at!==vt||!dt:!vt.has(at))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Et==="a"?dt.call(at,ot):dt?dt.value=ot:vt.set(at,ot),ot}function Rt(at,vt){if(vt===null||typeof vt!="object"&&typeof vt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof at=="function"?vt===at:at.has(vt)}},53645:function(){},60153:function(mt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return L},__assign:function(){return I},__rest:function(){return P},__decorate:function(){return T},__param:function(){return _},__metadata:function(){return M},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return y},__values:function(){return w},__read:function(){return x},__spread:function(){return A},__spreadArrays:function(){return O},__await:function(){return B},__asyncGenerator:function(){return R},__asyncDelegator:function(){return Y},__asyncValues:function(){return j},__makeTemplateObject:function(){return V},__importStar:function(){return nt},__importDefault:function(){return ct},__classPrivateFieldGet:function(){return ut},__classPrivateFieldSet:function(){return Pt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(qt,Rt){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,vt){at.__proto__=vt}||function(at,vt){for(var ot in vt)vt.hasOwnProperty(ot)&&(at[ot]=vt[ot])},m(qt,Rt)};function L(Gt,qt){m(Gt,qt);function Rt(){this.constructor=Gt}Gt.prototype=qt===null?Object.create(qt):(Rt.prototype=qt.prototype,new Rt)}var I=function(){return I=Object.assign||function(Rt){for(var at,vt=1,ot=arguments.length;vt<ot;vt++){at=arguments[vt];for(var Et in at)Object.prototype.hasOwnProperty.call(at,Et)&&(Rt[Et]=at[Et])}return Rt},I.apply(this,arguments)};function P(Gt,qt){var Rt={};for(var at in Gt)Object.prototype.hasOwnProperty.call(Gt,at)&&qt.indexOf(at)<0&&(Rt[at]=Gt[at]);if(Gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,at=Object.getOwnPropertySymbols(Gt);vt<at.length;vt++)qt.indexOf(at[vt])<0&&Object.prototype.propertyIsEnumerable.call(Gt,at[vt])&&(Rt[at[vt]]=Gt[at[vt]]);return Rt}function T(Gt,qt,Rt,at){var vt=arguments.length,ot=vt<3?qt:at===null?at=Object.getOwnPropertyDescriptor(qt,Rt):at,Et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ot=Reflect.decorate(Gt,qt,Rt,at);else for(var dt=Gt.length-1;dt>=0;dt--)(Et=Gt[dt])&&(ot=(vt<3?Et(ot):vt>3?Et(qt,Rt,ot):Et(qt,Rt))||ot);return vt>3&&ot&&Object.defineProperty(qt,Rt,ot),ot}function _(Gt,qt){return function(Rt,at){qt(Rt,at,Gt)}}function M(Gt,qt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Gt,qt)}function E(Gt,qt,Rt,at){function vt(ot){return ot instanceof Rt?ot:new Rt(function(Et){Et(ot)})}return new(Rt||(Rt=Promise))(function(ot,Et){function dt(H){try{$(at.next(H))}catch(f){Et(f)}}function X(H){try{$(at.throw(H))}catch(f){Et(f)}}function $(H){H.done?ot(H.value):vt(H.value).then(dt,X)}$((at=at.apply(Gt,qt||[])).next())})}function p(Gt,qt){var Rt={label:0,sent:function(){if(ot[0]&1)throw ot[1];return ot[1]},trys:[],ops:[]},at,vt,ot,Et;return Et={next:dt(0),throw:dt(1),return:dt(2)},typeof Symbol=="function"&&(Et[Symbol.iterator]=function(){return this}),Et;function dt($){return function(H){return X([$,H])}}function X($){if(at)throw new TypeError("Generator is already executing.");for(;Rt;)try{if(at=1,vt&&(ot=$[0]&2?vt.return:$[0]?vt.throw||((ot=vt.return)&&ot.call(vt),0):vt.next)&&!(ot=ot.call(vt,$[1])).done)return ot;switch(vt=0,ot&&($=[$[0]&2,ot.value]),$[0]){case 0:case 1:ot=$;break;case 4:return Rt.label++,{value:$[1],done:!1};case 5:Rt.label++,vt=$[1],$=[0];continue;case 7:$=Rt.ops.pop(),Rt.trys.pop();continue;default:if(ot=Rt.trys,!(ot=ot.length>0&&ot[ot.length-1])&&($[0]===6||$[0]===2)){Rt=0;continue}if($[0]===3&&(!ot||$[1]>ot[0]&&$[1]<ot[3])){Rt.label=$[1];break}if($[0]===6&&Rt.label<ot[1]){Rt.label=ot[1],ot=$;break}if(ot&&Rt.label<ot[2]){Rt.label=ot[2],Rt.ops.push($);break}ot[2]&&Rt.ops.pop(),Rt.trys.pop();continue}$=qt.call(Gt,Rt)}catch(H){$=[6,H],vt=0}finally{at=ot=0}if($[0]&5)throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}}function b(Gt,qt,Rt,at){at===void 0&&(at=Rt),Gt[at]=qt[Rt]}function y(Gt,qt){for(var Rt in Gt)Rt!=="default"&&!qt.hasOwnProperty(Rt)&&(qt[Rt]=Gt[Rt])}function w(Gt){var qt=typeof Symbol=="function"&&Symbol.iterator,Rt=qt&&Gt[qt],at=0;if(Rt)return Rt.call(Gt);if(Gt&&typeof Gt.length=="number")return{next:function(){return Gt&&at>=Gt.length&&(Gt=void 0),{value:Gt&&Gt[at++],done:!Gt}}};throw new TypeError(qt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(Gt,qt){var Rt=typeof Symbol=="function"&&Gt[Symbol.iterator];if(!Rt)return Gt;var at=Rt.call(Gt),vt,ot=[],Et;try{for(;(qt===void 0||qt-- >0)&&!(vt=at.next()).done;)ot.push(vt.value)}catch(dt){Et={error:dt}}finally{try{vt&&!vt.done&&(Rt=at.return)&&Rt.call(at)}finally{if(Et)throw Et.error}}return ot}function A(){for(var Gt=[],qt=0;qt<arguments.length;qt++)Gt=Gt.concat(x(arguments[qt]));return Gt}function O(){for(var Gt=0,qt=0,Rt=arguments.length;qt<Rt;qt++)Gt+=arguments[qt].length;for(var at=Array(Gt),vt=0,qt=0;qt<Rt;qt++)for(var ot=arguments[qt],Et=0,dt=ot.length;Et<dt;Et++,vt++)at[vt]=ot[Et];return at}function B(Gt){return this instanceof B?(this.v=Gt,this):new B(Gt)}function R(Gt,qt,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at=Rt.apply(Gt,qt||[]),vt,ot=[];return vt={},Et("next"),Et("throw"),Et("return"),vt[Symbol.asyncIterator]=function(){return this},vt;function Et(xt){at[xt]&&(vt[xt]=function(Mt){return new Promise(function(Ut,re){ot.push([xt,Mt,Ut,re])>1||dt(xt,Mt)})})}function dt(xt,Mt){try{X(at[xt](Mt))}catch(Ut){f(ot[0][3],Ut)}}function X(xt){xt.value instanceof B?Promise.resolve(xt.value.v).then($,H):f(ot[0][2],xt)}function $(xt){dt("next",xt)}function H(xt){dt("throw",xt)}function f(xt,Mt){xt(Mt),ot.shift(),ot.length&&dt(ot[0][0],ot[0][1])}}function Y(Gt){var qt,Rt;return qt={},at("next"),at("throw",function(vt){throw vt}),at("return"),qt[Symbol.iterator]=function(){return this},qt;function at(vt,ot){qt[vt]=Gt[vt]?function(Et){return(Rt=!Rt)?{value:B(Gt[vt](Et)),done:vt==="return"}:ot?ot(Et):Et}:ot}}function j(Gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qt=Gt[Symbol.asyncIterator],Rt;return qt?qt.call(Gt):(Gt=typeof w=="function"?w(Gt):Gt[Symbol.iterator](),Rt={},at("next"),at("throw"),at("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function at(ot){Rt[ot]=Gt[ot]&&function(Et){return new Promise(function(dt,X){Et=Gt[ot](Et),vt(dt,X,Et.done,Et.value)})}}function vt(ot,Et,dt,X){Promise.resolve(X).then(function($){ot({value:$,done:dt})},Et)}}function V(Gt,qt){return Object.defineProperty?Object.defineProperty(Gt,"raw",{value:qt}):Gt.raw=qt,Gt}function nt(Gt){if(Gt&&Gt.__esModule)return Gt;var qt={};if(Gt!=null)for(var Rt in Gt)Object.hasOwnProperty.call(Gt,Rt)&&(qt[Rt]=Gt[Rt]);return qt.default=Gt,qt}function ct(Gt){return Gt&&Gt.__esModule?Gt:{default:Gt}}function ut(Gt,qt){if(!qt.has(Gt))throw new TypeError("attempted to get private field on non-instance");return qt.get(Gt)}function Pt(Gt,qt,Rt){if(!qt.has(Gt))throw new TypeError("attempted to set private field on non-instance");return qt.set(Gt,Rt),Rt}},34952:function(mt,S,d){"use strict";var m=d(22122),L=d(67294),I=d(15105),P=function(M,E){var p={};for(var b in M)Object.prototype.hasOwnProperty.call(M,b)&&E.indexOf(b)<0&&(p[b]=M[b]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,b=Object.getOwnPropertySymbols(M);y<b.length;y++)E.indexOf(b[y])<0&&Object.prototype.propertyIsEnumerable.call(M,b[y])&&(p[b[y]]=M[b[y]]);return p},T={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},_=L.forwardRef(function(M,E){var p=function(R){var Y=R.keyCode;Y===I.Z.ENTER&&R.preventDefault()},b=function(R){var Y=R.keyCode,j=M.onClick;Y===I.Z.ENTER&&j&&j()},y=M.style,w=M.noStyle,x=M.disabled,A=P(M,["style","noStyle","disabled"]),O={};return w||(O=(0,m.Z)({},T)),x&&(O.pointerEvents="none"),O=(0,m.Z)((0,m.Z)({},O),y),L.createElement("div",(0,m.Z)({role:"button",tabIndex:0,ref:E},A,{onKeyDown:p,onKeyUp:b,style:O}))});S.Z=_},15746:function(mt,S,d){"use strict";var m=d(21584);S.Z=m.Z},89032:function(mt,S,d){"use strict";var m=d(38663),L=d.n(m),I=d(6999)},71230:function(mt,S,d){"use strict";var m=d(92820);S.Z=m.Z},13062:function(mt,S,d){"use strict";var m=d(38663),L=d.n(m),I=d(6999)},48168:function(mt,S,d){var m=d(8874),L={};for(var I in m)m.hasOwnProperty(I)&&(L[m[I]]=I);var P=mt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var T in P)if(P.hasOwnProperty(T)){if(!("channels"in P[T]))throw new Error("missing channels property: "+T);if(!("labels"in P[T]))throw new Error("missing channel labels property: "+T);if(P[T].labels.length!==P[T].channels)throw new Error("channel and label counts mismatch: "+T);var _=P[T].channels,M=P[T].labels;delete P[T].channels,delete P[T].labels,Object.defineProperty(P[T],"channels",{value:_}),Object.defineProperty(P[T],"labels",{value:M})}P.rgb.hsl=function(p){var b=p[0]/255,y=p[1]/255,w=p[2]/255,x=Math.min(b,y,w),A=Math.max(b,y,w),O=A-x,B,R,Y;return A===x?B=0:b===A?B=(y-w)/O:y===A?B=2+(w-b)/O:w===A&&(B=4+(b-y)/O),B=Math.min(B*60,360),B<0&&(B+=360),Y=(x+A)/2,A===x?R=0:Y<=.5?R=O/(A+x):R=O/(2-A-x),[B,R*100,Y*100]},P.rgb.hsv=function(p){var b,y,w,x,A,O=p[0]/255,B=p[1]/255,R=p[2]/255,Y=Math.max(O,B,R),j=Y-Math.min(O,B,R),V=function(nt){return(Y-nt)/6/j+1/2};return j===0?x=A=0:(A=j/Y,b=V(O),y=V(B),w=V(R),O===Y?x=w-y:B===Y?x=1/3+b-w:R===Y&&(x=2/3+y-b),x<0?x+=1:x>1&&(x-=1)),[x*360,A*100,Y*100]},P.rgb.hwb=function(p){var b=p[0],y=p[1],w=p[2],x=P.rgb.hsl(p)[0],A=1/255*Math.min(b,Math.min(y,w));return w=1-1/255*Math.max(b,Math.max(y,w)),[x,A*100,w*100]},P.rgb.cmyk=function(p){var b=p[0]/255,y=p[1]/255,w=p[2]/255,x,A,O,B;return B=Math.min(1-b,1-y,1-w),x=(1-b-B)/(1-B)||0,A=(1-y-B)/(1-B)||0,O=(1-w-B)/(1-B)||0,[x*100,A*100,O*100,B*100]};function E(p,b){return Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2)+Math.pow(p[2]-b[2],2)}P.rgb.keyword=function(p){var b=L[p];if(b)return b;var y=Infinity,w;for(var x in m)if(m.hasOwnProperty(x)){var A=m[x],O=E(p,A);O<y&&(y=O,w=x)}return w},P.keyword.rgb=function(p){return m[p]},P.rgb.xyz=function(p){var b=p[0]/255,y=p[1]/255,w=p[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92,w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92;var x=b*.4124+y*.3576+w*.1805,A=b*.2126+y*.7152+w*.0722,O=b*.0193+y*.1192+w*.9505;return[x*100,A*100,O*100]},P.rgb.lab=function(p){var b=P.rgb.xyz(p),y=b[0],w=b[1],x=b[2],A,O,B;return y/=95.047,w/=100,x/=108.883,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,A=116*w-16,O=500*(y-w),B=200*(w-x),[A,O,B]},P.hsl.rgb=function(p){var b=p[0]/360,y=p[1]/100,w=p[2]/100,x,A,O,B,R;if(y===0)return R=w*255,[R,R,R];w<.5?A=w*(1+y):A=w+y-w*y,x=2*w-A,B=[0,0,0];for(var Y=0;Y<3;Y++)O=b+1/3*-(Y-1),O<0&&O++,O>1&&O--,6*O<1?R=x+(A-x)*6*O:2*O<1?R=A:3*O<2?R=x+(A-x)*(2/3-O)*6:R=x,B[Y]=R*255;return B},P.hsl.hsv=function(p){var b=p[0],y=p[1]/100,w=p[2]/100,x=y,A=Math.max(w,.01),O,B;return w*=2,y*=w<=1?w:2-w,x*=A<=1?A:2-A,B=(w+y)/2,O=w===0?2*x/(A+x):2*y/(w+y),[b,O*100,B*100]},P.hsv.rgb=function(p){var b=p[0]/60,y=p[1]/100,w=p[2]/100,x=Math.floor(b)%6,A=b-Math.floor(b),O=255*w*(1-y),B=255*w*(1-y*A),R=255*w*(1-y*(1-A));switch(w*=255,x){case 0:return[w,R,O];case 1:return[B,w,O];case 2:return[O,w,R];case 3:return[O,B,w];case 4:return[R,O,w];case 5:return[w,O,B]}},P.hsv.hsl=function(p){var b=p[0],y=p[1]/100,w=p[2]/100,x=Math.max(w,.01),A,O,B;return B=(2-y)*w,A=(2-y)*x,O=y*x,O/=A<=1?A:2-A,O=O||0,B/=2,[b,O*100,B*100]},P.hwb.rgb=function(p){var b=p[0]/360,y=p[1]/100,w=p[2]/100,x=y+w,A,O,B,R;x>1&&(y/=x,w/=x),A=Math.floor(6*b),O=1-w,B=6*b-A,(A&1)!=0&&(B=1-B),R=y+B*(O-y);var Y,j,V;switch(A){default:case 6:case 0:Y=O,j=R,V=y;break;case 1:Y=R,j=O,V=y;break;case 2:Y=y,j=O,V=R;break;case 3:Y=y,j=R,V=O;break;case 4:Y=R,j=y,V=O;break;case 5:Y=O,j=y,V=R;break}return[Y*255,j*255,V*255]},P.cmyk.rgb=function(p){var b=p[0]/100,y=p[1]/100,w=p[2]/100,x=p[3]/100,A,O,B;return A=1-Math.min(1,b*(1-x)+x),O=1-Math.min(1,y*(1-x)+x),B=1-Math.min(1,w*(1-x)+x),[A*255,O*255,B*255]},P.xyz.rgb=function(p){var b=p[0]/100,y=p[1]/100,w=p[2]/100,x,A,O;return x=b*3.2406+y*-1.5372+w*-.4986,A=b*-.9689+y*1.8758+w*.0415,O=b*.0557+y*-.204+w*1.057,x=x>.0031308?1.055*Math.pow(x,1/2.4)-.055:x*12.92,A=A>.0031308?1.055*Math.pow(A,1/2.4)-.055:A*12.92,O=O>.0031308?1.055*Math.pow(O,1/2.4)-.055:O*12.92,x=Math.min(Math.max(0,x),1),A=Math.min(Math.max(0,A),1),O=Math.min(Math.max(0,O),1),[x*255,A*255,O*255]},P.xyz.lab=function(p){var b=p[0],y=p[1],w=p[2],x,A,O;return b/=95.047,y/=100,w/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,x=116*y-16,A=500*(b-y),O=200*(y-w),[x,A,O]},P.lab.xyz=function(p){var b=p[0],y=p[1],w=p[2],x,A,O;A=(b+16)/116,x=y/500+A,O=A-w/200;var B=Math.pow(A,3),R=Math.pow(x,3),Y=Math.pow(O,3);return A=B>.008856?B:(A-16/116)/7.787,x=R>.008856?R:(x-16/116)/7.787,O=Y>.008856?Y:(O-16/116)/7.787,x*=95.047,A*=100,O*=108.883,[x,A,O]},P.lab.lch=function(p){var b=p[0],y=p[1],w=p[2],x,A,O;return x=Math.atan2(w,y),A=x*360/2/Math.PI,A<0&&(A+=360),O=Math.sqrt(y*y+w*w),[b,O,A]},P.lch.lab=function(p){var b=p[0],y=p[1],w=p[2],x,A,O;return O=w/360*2*Math.PI,x=y*Math.cos(O),A=y*Math.sin(O),[b,x,A]},P.rgb.ansi16=function(p){var b=p[0],y=p[1],w=p[2],x=1 in arguments?arguments[1]:P.rgb.hsv(p)[2];if(x=Math.round(x/50),x===0)return 30;var A=30+(Math.round(w/255)<<2|Math.round(y/255)<<1|Math.round(b/255));return x===2&&(A+=60),A},P.hsv.ansi16=function(p){return P.rgb.ansi16(P.hsv.rgb(p),p[2])},P.rgb.ansi256=function(p){var b=p[0],y=p[1],w=p[2];if(b===y&&y===w)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var x=16+36*Math.round(b/255*5)+6*Math.round(y/255*5)+Math.round(w/255*5);return x},P.ansi16.rgb=function(p){var b=p%10;if(b===0||b===7)return p>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var y=(~~(p>50)+1)*.5,w=(b&1)*y*255,x=(b>>1&1)*y*255,A=(b>>2&1)*y*255;return[w,x,A]},P.ansi256.rgb=function(p){if(p>=232){var b=(p-232)*10+8;return[b,b,b]}p-=16;var y,w=Math.floor(p/36)/5*255,x=Math.floor((y=p%36)/6)/5*255,A=y%6/5*255;return[w,x,A]},P.rgb.hex=function(p){var b=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),y=b.toString(16).toUpperCase();return"000000".substring(y.length)+y},P.hex.rgb=function(p){var b=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var y=b[0];b[0].length===3&&(y=y.split("").map(function(B){return B+B}).join(""));var w=parseInt(y,16),x=w>>16&255,A=w>>8&255,O=w&255;return[x,A,O]},P.rgb.hcg=function(p){var b=p[0]/255,y=p[1]/255,w=p[2]/255,x=Math.max(Math.max(b,y),w),A=Math.min(Math.min(b,y),w),O=x-A,B,R;return O<1?B=A/(1-O):B=0,O<=0?R=0:x===b?R=(y-w)/O%6:x===y?R=2+(w-b)/O:R=4+(b-y)/O+4,R/=6,R%=1,[R*360,O*100,B*100]},P.hsl.hcg=function(p){var b=p[1]/100,y=p[2]/100,w=1,x=0;return y<.5?w=2*b*y:w=2*b*(1-y),w<1&&(x=(y-.5*w)/(1-w)),[p[0],w*100,x*100]},P.hsv.hcg=function(p){var b=p[1]/100,y=p[2]/100,w=b*y,x=0;return w<1&&(x=(y-w)/(1-w)),[p[0],w*100,x*100]},P.hcg.rgb=function(p){var b=p[0]/360,y=p[1]/100,w=p[2]/100;if(y===0)return[w*255,w*255,w*255];var x=[0,0,0],A=b%1*6,O=A%1,B=1-O,R=0;switch(Math.floor(A)){case 0:x[0]=1,x[1]=O,x[2]=0;break;case 1:x[0]=B,x[1]=1,x[2]=0;break;case 2:x[0]=0,x[1]=1,x[2]=O;break;case 3:x[0]=0,x[1]=B,x[2]=1;break;case 4:x[0]=O,x[1]=0,x[2]=1;break;default:x[0]=1,x[1]=0,x[2]=B}return R=(1-y)*w,[(y*x[0]+R)*255,(y*x[1]+R)*255,(y*x[2]+R)*255]},P.hcg.hsv=function(p){var b=p[1]/100,y=p[2]/100,w=b+y*(1-b),x=0;return w>0&&(x=b/w),[p[0],x*100,w*100]},P.hcg.hsl=function(p){var b=p[1]/100,y=p[2]/100,w=y*(1-b)+.5*b,x=0;return w>0&&w<.5?x=b/(2*w):w>=.5&&w<1&&(x=b/(2*(1-w))),[p[0],x*100,w*100]},P.hcg.hwb=function(p){var b=p[1]/100,y=p[2]/100,w=b+y*(1-b);return[p[0],(w-b)*100,(1-w)*100]},P.hwb.hcg=function(p){var b=p[1]/100,y=p[2]/100,w=1-y,x=w-b,A=0;return x<1&&(A=(w-x)/(1-x)),[p[0],x*100,A*100]},P.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},P.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},P.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},P.gray.hsl=P.gray.hsv=function(p){return[0,0,p[0]]},P.gray.hwb=function(p){return[0,100,p[0]]},P.gray.cmyk=function(p){return[0,0,0,p[0]]},P.gray.lab=function(p){return[p[0],0,0]},P.gray.hex=function(p){var b=Math.round(p[0]/100*255)&255,y=(b<<16)+(b<<8)+b,w=y.toString(16).toUpperCase();return"000000".substring(w.length)+w},P.rgb.gray=function(p){var b=(p[0]+p[1]+p[2])/3;return[b/255*100]}},12085:function(mt,S,d){var m=d(48168),L=d(4111),I={},P=Object.keys(m);function T(M){var E=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),M(p))};return"conversion"in M&&(E.conversion=M.conversion),E}function _(M){var E=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var b=M(p);if(typeof b=="object")for(var y=b.length,w=0;w<y;w++)b[w]=Math.round(b[w]);return b};return"conversion"in M&&(E.conversion=M.conversion),E}P.forEach(function(M){I[M]={},Object.defineProperty(I[M],"channels",{value:m[M].channels}),Object.defineProperty(I[M],"labels",{value:m[M].labels});var E=L(M),p=Object.keys(E);p.forEach(function(b){var y=E[b];I[M][b]=_(y),I[M][b].raw=T(y)})}),mt.exports=I},4111:function(mt,S,d){var m=d(48168);function L(){for(var _={},M=Object.keys(m),E=M.length,p=0;p<E;p++)_[M[p]]={distance:-1,parent:null};return _}function I(_){var M=L(),E=[_];for(M[_].distance=0;E.length;)for(var p=E.pop(),b=Object.keys(m[p]),y=b.length,w=0;w<y;w++){var x=b[w],A=M[x];A.distance===-1&&(A.distance=M[p].distance+1,A.parent=p,E.unshift(x))}return M}function P(_,M){return function(E){return M(_(E))}}function T(_,M){for(var E=[M[_].parent,_],p=m[M[_].parent][_],b=M[_].parent;M[b].parent;)E.unshift(M[b].parent),p=P(m[M[b].parent][b],p),b=M[b].parent;return p.conversion=E,p}mt.exports=function(_){for(var M=I(_),E={},p=Object.keys(M),b=p.length,y=0;y<b;y++){var w=p[y],x=M[w];x.parent!==null&&(E[w]=T(w,M))}return E}},8874:function(mt){"use strict";mt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(mt,S,d){var m=d(8874),L=d(86851),I=Object.hasOwnProperty,P=Object.create(null);for(var T in m)I.call(m,T)&&(P[m[T]]=T);var _=mt.exports={to:{},get:{}};_.get=function(p){var b=p.substring(0,3).toLowerCase(),y,w;switch(b){case"hsl":y=_.get.hsl(p),w="hsl";break;case"hwb":y=_.get.hwb(p),w="hwb";break;default:y=_.get.rgb(p),w="rgb";break}return y?{model:w,value:y}:null},_.get.rgb=function(p){if(!p)return null;var b=/^#([a-f0-9]{3,4})$/i,y=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,w=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,x=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,A=/^(\w+)$/,O=[0,0,0,1],B,R,Y;if(B=p.match(y)){for(Y=B[2],B=B[1],R=0;R<3;R++){var j=R*2;O[R]=parseInt(B.slice(j,j+2),16)}Y&&(O[3]=parseInt(Y,16)/255)}else if(B=p.match(b)){for(B=B[1],Y=B[3],R=0;R<3;R++)O[R]=parseInt(B[R]+B[R],16);Y&&(O[3]=parseInt(Y+Y,16)/255)}else if(B=p.match(w)){for(R=0;R<3;R++)O[R]=parseInt(B[R+1],0);B[4]&&(B[5]?O[3]=parseFloat(B[4])*.01:O[3]=parseFloat(B[4]))}else if(B=p.match(x)){for(R=0;R<3;R++)O[R]=Math.round(parseFloat(B[R+1])*2.55);B[4]&&(B[5]?O[3]=parseFloat(B[4])*.01:O[3]=parseFloat(B[4]))}else return(B=p.match(A))?B[1]==="transparent"?[0,0,0,0]:I.call(m,B[1])?(O=m[B[1]],O[3]=1,O):null:null;for(R=0;R<3;R++)O[R]=M(O[R],0,255);return O[3]=M(O[3],0,1),O},_.get.hsl=function(p){if(!p)return null;var b=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(b);if(y){var w=parseFloat(y[4]),x=(parseFloat(y[1])%360+360)%360,A=M(parseFloat(y[2]),0,100),O=M(parseFloat(y[3]),0,100),B=M(isNaN(w)?1:w,0,1);return[x,A,O,B]}return null},_.get.hwb=function(p){if(!p)return null;var b=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(b);if(y){var w=parseFloat(y[4]),x=(parseFloat(y[1])%360+360)%360,A=M(parseFloat(y[2]),0,100),O=M(parseFloat(y[3]),0,100),B=M(isNaN(w)?1:w,0,1);return[x,A,O,B]}return null},_.to.hex=function(){var p=L(arguments);return"#"+E(p[0])+E(p[1])+E(p[2])+(p[3]<1?E(Math.round(p[3]*255)):"")},_.to.rgb=function(){var p=L(arguments);return p.length<4||p[3]===1?"rgb("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+")":"rgba("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+", "+p[3]+")"},_.to.rgb.percent=function(){var p=L(arguments),b=Math.round(p[0]/255*100),y=Math.round(p[1]/255*100),w=Math.round(p[2]/255*100);return p.length<4||p[3]===1?"rgb("+b+"%, "+y+"%, "+w+"%)":"rgba("+b+"%, "+y+"%, "+w+"%, "+p[3]+")"},_.to.hsl=function(){var p=L(arguments);return p.length<4||p[3]===1?"hsl("+p[0]+", "+p[1]+"%, "+p[2]+"%)":"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+p[3]+")"},_.to.hwb=function(){var p=L(arguments),b="";return p.length>=4&&p[3]!==1&&(b=", "+p[3]),"hwb("+p[0]+", "+p[1]+"%, "+p[2]+"%"+b+")"},_.to.keyword=function(p){return P[p.slice(0,3)]};function M(p,b,y){return Math.min(Math.max(b,p),y)}function E(p){var b=Math.round(p).toString(16).toUpperCase();return b.length<2?"0"+b:b}},6767:function(mt,S,d){"use strict";var m=d(19818),L=d(12085),I=[].slice,P=["keyword","gray","hex"],T={};Object.keys(L).forEach(function(A){T[I.call(L[A].labels).sort().join("")]=A});var _={};function M(A,O){if(!(this instanceof M))return new M(A,O);if(O&&O in P&&(O=null),O&&!(O in L))throw new Error("Unknown model: "+O);var B,R;if(A==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(A instanceof M)this.model=A.model,this.color=A.color.slice(),this.valpha=A.valpha;else if(typeof A=="string"){var Y=m.get(A);if(Y===null)throw new Error("Unable to parse color from string: "+A);this.model=Y.model,R=L[this.model].channels,this.color=Y.value.slice(0,R),this.valpha=typeof Y.value[R]=="number"?Y.value[R]:1}else if(A.length){this.model=O||"rgb",R=L[this.model].channels;var j=I.call(A,0,R);this.color=x(j,R),this.valpha=typeof A[R]=="number"?A[R]:1}else if(typeof A=="number")A&=16777215,this.model="rgb",this.color=[A>>16&255,A>>8&255,A&255],this.valpha=1;else{this.valpha=1;var V=Object.keys(A);"alpha"in A&&(V.splice(V.indexOf("alpha"),1),this.valpha=typeof A.alpha=="number"?A.alpha:0);var nt=V.sort().join("");if(!(nt in T))throw new Error("Unable to parse color from object: "+JSON.stringify(A));this.model=T[nt];var ct=L[this.model].labels,ut=[];for(B=0;B<ct.length;B++)ut.push(A[ct[B]]);this.color=x(ut)}if(_[this.model])for(R=L[this.model].channels,B=0;B<R;B++){var Pt=_[this.model][B];Pt&&(this.color[B]=Pt(this.color[B]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}M.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(A){var O=this.model in m.to?this:this.rgb();O=O.round(typeof A=="number"?A:1);var B=O.valpha===1?O.color:O.color.concat(this.valpha);return m.to[O.model](B)},percentString:function(A){var O=this.rgb().round(typeof A=="number"?A:1),B=O.valpha===1?O.color:O.color.concat(this.valpha);return m.to.rgb.percent(B)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var A={},O=L[this.model].channels,B=L[this.model].labels,R=0;R<O;R++)A[B[R]]=this.color[R];return this.valpha!==1&&(A.alpha=this.valpha),A},unitArray:function(){var A=this.rgb().color;return A[0]/=255,A[1]/=255,A[2]/=255,this.valpha!==1&&A.push(this.valpha),A},unitObject:function(){var A=this.rgb().object();return A.r/=255,A.g/=255,A.b/=255,this.valpha!==1&&(A.alpha=this.valpha),A},round:function(A){return A=Math.max(A||0,0),new M(this.color.map(p(A)).concat(this.valpha),this.model)},alpha:function(A){return arguments.length?new M(this.color.concat(Math.max(0,Math.min(1,A))),this.model):this.valpha},red:b("rgb",0,y(255)),green:b("rgb",1,y(255)),blue:b("rgb",2,y(255)),hue:b(["hsl","hsv","hsl","hwb","hcg"],0,function(A){return(A%360+360)%360}),saturationl:b("hsl",1,y(100)),lightness:b("hsl",2,y(100)),saturationv:b("hsv",1,y(100)),value:b("hsv",2,y(100)),chroma:b("hcg",1,y(100)),gray:b("hcg",2,y(100)),white:b("hwb",1,y(100)),wblack:b("hwb",2,y(100)),cyan:b("cmyk",0,y(100)),magenta:b("cmyk",1,y(100)),yellow:b("cmyk",2,y(100)),black:b("cmyk",3,y(100)),x:b("xyz",0,y(100)),y:b("xyz",1,y(100)),z:b("xyz",2,y(100)),l:b("lab",0,y(100)),a:b("lab",1),b:b("lab",2),keyword:function(A){return arguments.length?new M(A):L[this.model].keyword(this.color)},hex:function(A){return arguments.length?new M(A):m.to.hex(this.rgb().round().color)},rgbNumber:function(){var A=this.rgb().color;return(A[0]&255)<<16|(A[1]&255)<<8|A[2]&255},luminosity:function(){for(var A=this.rgb().color,O=[],B=0;B<A.length;B++){var R=A[B]/255;O[B]=R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4)}return .2126*O[0]+.7152*O[1]+.0722*O[2]},contrast:function(A){var O=this.luminosity(),B=A.luminosity();return O>B?(O+.05)/(B+.05):(B+.05)/(O+.05)},level:function(A){var O=this.contrast(A);return O>=7.1?"AAA":O>=4.5?"AA":""},isDark:function(){var A=this.rgb().color,O=(A[0]*299+A[1]*587+A[2]*114)/1e3;return O<128},isLight:function(){return!this.isDark()},negate:function(){for(var A=this.rgb(),O=0;O<3;O++)A.color[O]=255-A.color[O];return A},lighten:function(A){var O=this.hsl();return O.color[2]+=O.color[2]*A,O},darken:function(A){var O=this.hsl();return O.color[2]-=O.color[2]*A,O},saturate:function(A){var O=this.hsl();return O.color[1]+=O.color[1]*A,O},desaturate:function(A){var O=this.hsl();return O.color[1]-=O.color[1]*A,O},whiten:function(A){var O=this.hwb();return O.color[1]+=O.color[1]*A,O},blacken:function(A){var O=this.hwb();return O.color[2]+=O.color[2]*A,O},grayscale:function(){var A=this.rgb().color,O=A[0]*.3+A[1]*.59+A[2]*.11;return M.rgb(O,O,O)},fade:function(A){return this.alpha(this.valpha-this.valpha*A)},opaquer:function(A){return this.alpha(this.valpha+this.valpha*A)},rotate:function(A){var O=this.hsl(),B=O.color[0];return B=(B+A)%360,B=B<0?360+B:B,O.color[0]=B,O},mix:function(A,O){if(!A||!A.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof A);var B=A.rgb(),R=this.rgb(),Y=O===void 0?.5:O,j=2*Y-1,V=B.alpha()-R.alpha(),nt=((j*V==-1?j:(j+V)/(1+j*V))+1)/2,ct=1-nt;return M.rgb(nt*B.red()+ct*R.red(),nt*B.green()+ct*R.green(),nt*B.blue()+ct*R.blue(),B.alpha()*Y+R.alpha()*(1-Y))}},Object.keys(L).forEach(function(A){if(P.indexOf(A)===-1){var O=L[A].channels;M.prototype[A]=function(){if(this.model===A)return new M(this);if(arguments.length)return new M(arguments,A);var B=typeof arguments[O]=="number"?O:this.valpha;return new M(w(L[this.model][A].raw(this.color)).concat(B),A)},M[A]=function(B){return typeof B=="number"&&(B=x(I.call(arguments),O)),new M(B,A)}}});function E(A,O){return Number(A.toFixed(O))}function p(A){return function(O){return E(O,A)}}function b(A,O,B){return A=Array.isArray(A)?A:[A],A.forEach(function(R){(_[R]||(_[R]=[]))[O]=B}),A=A[0],function(R){var Y;return arguments.length?(B&&(R=B(R)),Y=this[A](),Y.color[O]=R,Y):(Y=this[A]().color[O],B&&(Y=B(Y)),Y)}}function y(A){return function(O){return Math.max(0,Math.min(A,O))}}function w(A){return Array.isArray(A)?A:[A]}function x(A,O){for(var B=0;B<O;B++)typeof A[B]!="number"&&(A[B]=0);return A}mt.exports=M},68716:function(mt,S,d){"use strict";d.d(S,{yD:function(){return m},_e:function(){return L},tw:function(){return I}});function m(P){return P*P*P}function L(P){return--P*P*P+1}function I(P){return((P*=2)<=1?P*P*P:(P-=2)*P*P+2)/2}},13681:function(mt,S,d){"use strict";d.r(S),d.d(S,{easeBack:function(){return Mt},easeBackIn:function(){return f},easeBackInOut:function(){return Mt},easeBackOut:function(){return xt},easeBounce:function(){return X},easeBounceIn:function(){return dt},easeBounceInOut:function(){return $},easeBounceOut:function(){return X},easeCircle:function(){return nt},easeCircleIn:function(){return j},easeCircleInOut:function(){return nt},easeCircleOut:function(){return V},easeCubic:function(){return T.tw},easeCubicIn:function(){return T.yD},easeCubicInOut:function(){return T.tw},easeCubicOut:function(){return T._e},easeElastic:function(){return ae},easeElasticIn:function(){return ne},easeElasticInOut:function(){return Dt},easeElasticOut:function(){return ae},easeExp:function(){return Y},easeExpIn:function(){return B},easeExpInOut:function(){return Y},easeExpOut:function(){return R},easeLinear:function(){return m},easePoly:function(){return p},easePolyIn:function(){return M},easePolyInOut:function(){return p},easePolyOut:function(){return E},easeQuad:function(){return P},easeQuadIn:function(){return L},easeQuadInOut:function(){return P},easeQuadOut:function(){return I},easeSin:function(){return A},easeSinIn:function(){return w},easeSinInOut:function(){return A},easeSinOut:function(){return x}});function m(Tt){return+Tt}function L(Tt){return Tt*Tt}function I(Tt){return Tt*(2-Tt)}function P(Tt){return((Tt*=2)<=1?Tt*Tt:--Tt*(2-Tt)+1)/2}var T=d(68716),_=3,M=function Tt(pt){pt=+pt;function Q(K){return Math.pow(K,pt)}return Q.exponent=Tt,Q}(_),E=function Tt(pt){pt=+pt;function Q(K){return 1-Math.pow(1-K,pt)}return Q.exponent=Tt,Q}(_),p=function Tt(pt){pt=+pt;function Q(K){return((K*=2)<=1?Math.pow(K,pt):2-Math.pow(2-K,pt))/2}return Q.exponent=Tt,Q}(_),b=Math.PI,y=b/2;function w(Tt){return+Tt==1?1:1-Math.cos(Tt*y)}function x(Tt){return Math.sin(Tt*y)}function A(Tt){return(1-Math.cos(b*Tt))/2}function O(Tt){return(Math.pow(2,-10*Tt)-.0009765625)*1.0009775171065494}function B(Tt){return O(1-+Tt)}function R(Tt){return 1-O(Tt)}function Y(Tt){return((Tt*=2)<=1?O(1-Tt):2-O(Tt-1))/2}function j(Tt){return 1-Math.sqrt(1-Tt*Tt)}function V(Tt){return Math.sqrt(1- --Tt*Tt)}function nt(Tt){return((Tt*=2)<=1?1-Math.sqrt(1-Tt*Tt):Math.sqrt(1-(Tt-=2)*Tt)+1)/2}var ct=4/11,ut=6/11,Pt=8/11,Gt=3/4,qt=9/11,Rt=10/11,at=15/16,vt=21/22,ot=63/64,Et=1/ct/ct;function dt(Tt){return 1-X(1-Tt)}function X(Tt){return(Tt=+Tt)<ct?Et*Tt*Tt:Tt<Pt?Et*(Tt-=ut)*Tt+Gt:Tt<Rt?Et*(Tt-=qt)*Tt+at:Et*(Tt-=vt)*Tt+ot}function $(Tt){return((Tt*=2)<=1?1-X(1-Tt):X(Tt-1)+1)/2}var H=1.70158,f=function Tt(pt){pt=+pt;function Q(K){return(K=+K)*K*(pt*(K-1)+K)}return Q.overshoot=Tt,Q}(H),xt=function Tt(pt){pt=+pt;function Q(K){return--K*K*((K+1)*pt+K)+1}return Q.overshoot=Tt,Q}(H),Mt=function Tt(pt){pt=+pt;function Q(K){return((K*=2)<1?K*K*((pt+1)*K-pt):(K-=2)*K*((pt+1)*K+pt)+2)/2}return Q.overshoot=Tt,Q}(H),Ut=2*Math.PI,re=1,zt=.3,ne=function Tt(pt,Q){var K=Math.asin(1/(pt=Math.max(1,pt)))*(Q/=Ut);function lt(U){return pt*O(- --U)*Math.sin((K-U)/Q)}return lt.amplitude=function(U){return Tt(U,Q*Ut)},lt.period=function(U){return Tt(pt,U)},lt}(re,zt),ae=function Tt(pt,Q){var K=Math.asin(1/(pt=Math.max(1,pt)))*(Q/=Ut);function lt(U){return 1-pt*O(U=+U)*Math.sin((U+K)/Q)}return lt.amplitude=function(U){return Tt(U,Q*Ut)},lt.period=function(U){return Tt(pt,U)},lt}(re,zt),Dt=function Tt(pt,Q){var K=Math.asin(1/(pt=Math.max(1,pt)))*(Q/=Ut);function lt(U){return((U=U*2-1)<0?pt*O(-U)*Math.sin((K-U)/Q):2-pt*O(U)*Math.sin((K+U)/Q))/2}return lt.amplitude=function(U){return Tt(U,Q*Ut)},lt.period=function(U){return Tt(pt,U)},lt}(re,zt)},88122:function(mt,S,d){"use strict";d.d(S,{Z:function(){return I},M:function(){return P}});var m=d(42800),L=d(67896);function I(T,_){return((0,L.v)(_)?L.Z:P)(T,_)}function P(T,_){var M=_?_.length:0,E=T?Math.min(M,T.length):0,p=new Array(E),b=new Array(M),y;for(y=0;y<E;++y)p[y]=(0,m.Z)(T[y],_[y]);for(;y<M;++y)b[y]=_[y];return function(w){for(y=0;y<E;++y)b[y]=p[y](w);return b}}},67896:function(mt,S,d){"use strict";d.d(S,{Z:function(){return m},v:function(){return L}});function m(I,P){P||(P=[]);var T=I?Math.min(P.length,I.length):0,_=P.slice(),M;return function(E){for(M=0;M<T;++M)_[M]=I[M]*(1-E)+P[M]*E;return _}}function L(I){return ArrayBuffer.isView(I)&&!(I instanceof DataView)}},42800:function(mt,S,d){"use strict";d.d(S,{Z:function(){return Ye}});function m(te,ge,_e){te.prototype=ge.prototype=_e,_e.constructor=te}function L(te,ge){var _e=Object.create(te.prototype);for(var Ne in ge)_e[Ne]=ge[Ne];return _e}function I(){}var P=.7,T=1/P,_="\\s*([+-]?\\d+)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,b=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),y=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),w=new RegExp("^rgba\\("+[_,_,_,M]+"\\)$"),x=new RegExp("^rgba\\("+[E,E,E,M]+"\\)$"),A=new RegExp("^hsl\\("+[M,E,E]+"\\)$"),O=new RegExp("^hsla\\("+[M,E,E,M]+"\\)$"),B={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(I,V,{copy:function(te){return Object.assign(new this.constructor,this,te)},displayable:function(){return this.rgb().displayable()},hex:R,formatHex:R,formatHsl:Y,formatRgb:j,toString:j});function R(){return this.rgb().formatHex()}function Y(){return ot(this).formatHsl()}function j(){return this.rgb().formatRgb()}function V(te){var ge,_e;return te=(te+"").trim().toLowerCase(),(ge=p.exec(te))?(_e=ge[1].length,ge=parseInt(ge[1],16),_e===6?nt(ge):_e===3?new Gt(ge>>8&15|ge>>4&240,ge>>4&15|ge&240,(ge&15)<<4|ge&15,1):_e===8?ct(ge>>24&255,ge>>16&255,ge>>8&255,(ge&255)/255):_e===4?ct(ge>>12&15|ge>>8&240,ge>>8&15|ge>>4&240,ge>>4&15|ge&240,((ge&15)<<4|ge&15)/255):null):(ge=b.exec(te))?new Gt(ge[1],ge[2],ge[3],1):(ge=y.exec(te))?new Gt(ge[1]*255/100,ge[2]*255/100,ge[3]*255/100,1):(ge=w.exec(te))?ct(ge[1],ge[2],ge[3],ge[4]):(ge=x.exec(te))?ct(ge[1]*255/100,ge[2]*255/100,ge[3]*255/100,ge[4]):(ge=A.exec(te))?vt(ge[1],ge[2]/100,ge[3]/100,1):(ge=O.exec(te))?vt(ge[1],ge[2]/100,ge[3]/100,ge[4]):B.hasOwnProperty(te)?nt(B[te]):te==="transparent"?new Gt(NaN,NaN,NaN,0):null}function nt(te){return new Gt(te>>16&255,te>>8&255,te&255,1)}function ct(te,ge,_e,Ne){return Ne<=0&&(te=ge=_e=NaN),new Gt(te,ge,_e,Ne)}function ut(te){return te instanceof I||(te=V(te)),te?(te=te.rgb(),new Gt(te.r,te.g,te.b,te.opacity)):new Gt}function Pt(te,ge,_e,Ne){return arguments.length===1?ut(te):new Gt(te,ge,_e,Ne==null?1:Ne)}function Gt(te,ge,_e,Ne){this.r=+te,this.g=+ge,this.b=+_e,this.opacity=+Ne}m(Gt,Pt,L(I,{brighter:function(te){return te=te==null?T:Math.pow(T,te),new Gt(this.r*te,this.g*te,this.b*te,this.opacity)},darker:function(te){return te=te==null?P:Math.pow(P,te),new Gt(this.r*te,this.g*te,this.b*te,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatRgb:Rt,toString:Rt}));function qt(){return"#"+at(this.r)+at(this.g)+at(this.b)}function Rt(){var te=this.opacity;return te=isNaN(te)?1:Math.max(0,Math.min(1,te)),(te===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(te===1?")":", "+te+")")}function at(te){return te=Math.max(0,Math.min(255,Math.round(te)||0)),(te<16?"0":"")+te.toString(16)}function vt(te,ge,_e,Ne){return Ne<=0?te=ge=_e=NaN:_e<=0||_e>=1?te=ge=NaN:ge<=0&&(te=NaN),new dt(te,ge,_e,Ne)}function ot(te){if(te instanceof dt)return new dt(te.h,te.s,te.l,te.opacity);if(te instanceof I||(te=V(te)),!te)return new dt;if(te instanceof dt)return te;te=te.rgb();var ge=te.r/255,_e=te.g/255,Ne=te.b/255,or=Math.min(ge,_e,Ne),je=Math.max(ge,_e,Ne),dr=NaN,kr=je-or,Br=(je+or)/2;return kr?(ge===je?dr=(_e-Ne)/kr+(_e<Ne)*6:_e===je?dr=(Ne-ge)/kr+2:dr=(ge-_e)/kr+4,kr/=Br<.5?je+or:2-je-or,dr*=60):kr=Br>0&&Br<1?0:dr,new dt(dr,kr,Br,te.opacity)}function Et(te,ge,_e,Ne){return arguments.length===1?ot(te):new dt(te,ge,_e,Ne==null?1:Ne)}function dt(te,ge,_e,Ne){this.h=+te,this.s=+ge,this.l=+_e,this.opacity=+Ne}m(dt,Et,L(I,{brighter:function(te){return te=te==null?T:Math.pow(T,te),new dt(this.h,this.s,this.l*te,this.opacity)},darker:function(te){return te=te==null?P:Math.pow(P,te),new dt(this.h,this.s,this.l*te,this.opacity)},rgb:function(){var te=this.h%360+(this.h<0)*360,ge=isNaN(te)||isNaN(this.s)?0:this.s,_e=this.l,Ne=_e+(_e<.5?_e:1-_e)*ge,or=2*_e-Ne;return new Gt(X(te>=240?te-240:te+120,or,Ne),X(te,or,Ne),X(te<120?te+240:te-120,or,Ne),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var te=this.opacity;return te=isNaN(te)?1:Math.max(0,Math.min(1,te)),(te===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(te===1?")":", "+te+")")}}));function X(te,ge,_e){return(te<60?ge+(_e-ge)*te/60:te<180?_e:te<240?ge+(_e-ge)*(240-te)/60:ge)*255}function $(te,ge,_e,Ne,or){var je=te*te,dr=je*te;return((1-3*te+3*je-dr)*ge+(4-6*je+3*dr)*_e+(1+3*te+3*je-3*dr)*Ne+dr*or)/6}function H(te){var ge=te.length-1;return function(_e){var Ne=_e<=0?_e=0:_e>=1?(_e=1,ge-1):Math.floor(_e*ge),or=te[Ne],je=te[Ne+1],dr=Ne>0?te[Ne-1]:2*or-je,kr=Ne<ge-1?te[Ne+2]:2*je-or;return $((_e-Ne/ge)*ge,dr,or,je,kr)}}function f(te){var ge=te.length;return function(_e){var Ne=Math.floor(((_e%=1)<0?++_e:_e)*ge),or=te[(Ne+ge-1)%ge],je=te[Ne%ge],dr=te[(Ne+1)%ge],kr=te[(Ne+2)%ge];return $((_e-Ne/ge)*ge,or,je,dr,kr)}}function xt(te){return function(){return te}}function Mt(te,ge){return function(_e){return te+_e*ge}}function Ut(te,ge,_e){return te=Math.pow(te,_e),ge=Math.pow(ge,_e)-te,_e=1/_e,function(Ne){return Math.pow(te+Ne*ge,_e)}}function re(te,ge){var _e=ge-te;return _e?Mt(te,_e>180||_e<-180?_e-360*Math.round(_e/360):_e):constant(isNaN(te)?ge:te)}function zt(te){return(te=+te)==1?ne:function(ge,_e){return _e-ge?Ut(ge,_e,te):xt(isNaN(ge)?_e:ge)}}function ne(te,ge){var _e=ge-te;return _e?Mt(te,_e):xt(isNaN(te)?ge:te)}var ae=function te(ge){var _e=zt(ge);function Ne(or,je){var dr=_e((or=Pt(or)).r,(je=Pt(je)).r),kr=_e(or.g,je.g),Br=_e(or.b,je.b),ln=ne(or.opacity,je.opacity);return function(Yn){return or.r=dr(Yn),or.g=kr(Yn),or.b=Br(Yn),or.opacity=ln(Yn),or+""}}return Ne.gamma=te,Ne}(1);function Dt(te){return function(ge){var _e=ge.length,Ne=new Array(_e),or=new Array(_e),je=new Array(_e),dr,kr;for(dr=0;dr<_e;++dr)kr=Pt(ge[dr]),Ne[dr]=kr.r||0,or[dr]=kr.g||0,je[dr]=kr.b||0;return Ne=te(Ne),or=te(or),je=te(je),kr.opacity=1,function(Br){return kr.r=Ne(Br),kr.g=or(Br),kr.b=je(Br),kr+""}}}var Tt=Dt(H),pt=Dt(f),Q=d(88122);function K(te,ge){var _e=new Date;return te=+te,ge=+ge,function(Ne){return _e.setTime(te*(1-Ne)+ge*Ne),_e}}function lt(te,ge){return te=+te,ge=+ge,function(_e){return te*(1-_e)+ge*_e}}function U(te,ge){var _e={},Ne={},or;(te===null||typeof te!="object")&&(te={}),(ge===null||typeof ge!="object")&&(ge={});for(or in ge)or in te?_e[or]=Ye(te[or],ge[or]):Ne[or]=ge[or];return function(je){for(or in _e)Ne[or]=_e[or](je);return Ne}}var W=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wt=new RegExp(W.source,"g");function Lt(te){return function(){return te}}function Wt(te){return function(ge){return te(ge)+""}}function oe(te,ge){var _e=W.lastIndex=wt.lastIndex=0,Ne,or,je,dr=-1,kr=[],Br=[];for(te=te+"",ge=ge+"";(Ne=W.exec(te))&&(or=wt.exec(ge));)(je=or.index)>_e&&(je=ge.slice(_e,je),kr[dr]?kr[dr]+=je:kr[++dr]=je),(Ne=Ne[0])===(or=or[0])?kr[dr]?kr[dr]+=or:kr[++dr]=or:(kr[++dr]=null,Br.push({i:dr,x:lt(Ne,or)})),_e=wt.lastIndex;return _e<ge.length&&(je=ge.slice(_e),kr[dr]?kr[dr]+=je:kr[++dr]=je),kr.length<2?Br[0]?Wt(Br[0].x):Lt(ge):(ge=Br.length,function(ln){for(var Yn=0,fi;Yn<ge;++Yn)kr[(fi=Br[Yn]).i]=fi.x(ln);return kr.join("")})}var Se=d(67896);function Ye(te,ge){var _e=typeof ge,Ne;return ge==null||_e==="boolean"?xt(ge):(_e==="number"?lt:_e==="string"?(Ne=V(ge))?(ge=Ne,ae):oe:ge instanceof V?ae:ge instanceof Date?K:(0,Se.v)(ge)?Se.Z:Array.isArray(ge)?Q.M:typeof ge.valueOf!="function"&&typeof ge.toString!="function"||isNaN(ge)?U:lt)(te,ge)}},56645:function(mt,S){(function(d,m){m(S)})(this,function(d){"use strict";function m(Rt,at){return L(Rt)||I(Rt,at)||P()}function L(Rt){if(Array.isArray(Rt))return Rt}function I(Rt,at){var vt=[],ot=!0,Et=!1,dt=void 0;try{for(var X=Rt[Symbol.iterator](),$;!(ot=($=X.next()).done)&&(vt.push($.value),!(at&&vt.length===at));ot=!0);}catch(H){Et=!0,dt=H}finally{try{!ot&&X.return!=null&&X.return()}finally{if(Et)throw dt}}return vt}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function T(Rt,at,vt,ot){Rt=Rt.filter(function(zt,ne){var ae=at(zt,ne),Dt=vt(zt,ne);return ae!=null&&isFinite(ae)&&Dt!=null&&isFinite(Dt)}),ot&&Rt.sort(function(zt,ne){return at(zt)-at(ne)});for(var Et=Rt.length,dt=new Float64Array(Et),X=new Float64Array(Et),$=0,H=0,f,xt,Mt,Ut=0;Ut<Et;)Mt=Rt[Ut],dt[Ut]=f=+at(Mt,Ut,Rt),X[Ut]=xt=+vt(Mt,Ut,Rt),++Ut,$+=(f-$)/Ut,H+=(xt-H)/Ut;for(var re=0;re<Et;++re)dt[re]-=$,X[re]-=H;return[dt,X,$,H]}function _(Rt,at,vt,ot){for(var Et=0,dt=0,X=Rt.length;dt<X;dt++){var $=Rt[dt],H=+at($,dt,Rt),f=+vt($,dt,Rt);H!=null&&isFinite(H)&&f!=null&&isFinite(f)&&ot(H,f,Et++)}}function M(Rt,at,vt,ot,Et){var dt=0,X=0;return _(Rt,at,vt,function($,H){var f=H-Et($),xt=H-ot;dt+=f*f,X+=xt*xt}),1-dt/X}function E(Rt){return Math.atan2(Rt[1][1]-Rt[0][1],Rt[1][0]-Rt[0][0])*180/Math.PI}function p(Rt){return[(Rt[0][0]+Rt[1][0])/2,(Rt[0][1]+Rt[1][1])/2]}function b(Rt,at,vt){for(var ot=Math.log(at-Rt)*Math.LOG10E+1|0,Et=1*Math.pow(10,-ot/2-1),dt=1e4,X=[H(Rt),H(at)],$=0;f(X)&&$<dt;);return X;function H(xt){return[xt,vt(xt)]}function f(xt){$++;for(var Mt=xt.length,Ut=!1,re=0;re<Mt-1;re++){var zt=xt[re],ne=xt[re+1],ae=p([zt,ne]),Dt=H(ae[0]),Tt=E([zt,ae]),pt=E([zt,Dt]),Q=Math.abs(Tt-pt);Q>Et&&(xt.splice(re+1,0,Dt),Ut=!0)}return Ut}}function y(Rt,at,vt,ot){var Et=ot-Rt*Rt,dt=Math.abs(Et)<1e-24?0:(vt-Rt*at)/Et,X=at-dt*Rt;return[X,dt]}function w(){var Rt=function(dt){return dt[0]},at=function(dt){return dt[1]},vt;function ot(Et){var dt=0,X=0,$=0,H=0,f=0,xt=0,Mt=vt?+vt[0]:Infinity,Ut=vt?+vt[1]:-Infinity;_(Et,Rt,at,function(pt,Q){var K=Math.log(Q),lt=pt*Q;++dt,X+=(Q-X)/dt,H+=(lt-H)/dt,xt+=(pt*lt-xt)/dt,$+=(Q*K-$)/dt,f+=(lt*K-f)/dt,vt||(pt<Mt&&(Mt=pt),pt>Ut&&(Ut=pt))});var re=y(H/X,$/X,f/X,xt/X),zt=m(re,2),ne=zt[0],ae=zt[1];ne=Math.exp(ne);var Dt=function(Q){return ne*Math.exp(ae*Q)},Tt=b(Mt,Ut,Dt);return Tt.a=ne,Tt.b=ae,Tt.predict=Dt,Tt.rSquared=M(Et,Rt,at,X,Dt),Tt}return ot.domain=function(Et){return arguments.length?(vt=Et,ot):vt},ot.x=function(Et){return arguments.length?(Rt=Et,ot):Rt},ot.y=function(Et){return arguments.length?(at=Et,ot):at},ot}function x(){var Rt=function(dt){return dt[0]},at=function(dt){return dt[1]},vt;function ot(Et){var dt=0,X=0,$=0,H=0,f=0,xt=vt?+vt[0]:Infinity,Mt=vt?+vt[1]:-Infinity;_(Et,Rt,at,function(Tt,pt){++dt,X+=(Tt-X)/dt,$+=(pt-$)/dt,H+=(Tt*pt-H)/dt,f+=(Tt*Tt-f)/dt,vt||(Tt<xt&&(xt=Tt),Tt>Mt&&(Mt=Tt))});var Ut=y(X,$,H,f),re=m(Ut,2),zt=re[0],ne=re[1],ae=function(pt){return ne*pt+zt},Dt=[[xt,ae(xt)],[Mt,ae(Mt)]];return Dt.a=ne,Dt.b=zt,Dt.predict=ae,Dt.rSquared=M(Et,Rt,at,$,ae),Dt}return ot.domain=function(Et){return arguments.length?(vt=Et,ot):vt},ot.x=function(Et){return arguments.length?(Rt=Et,ot):Rt},ot.y=function(Et){return arguments.length?(at=Et,ot):at},ot}function A(Rt){Rt.sort(function(vt,ot){return vt-ot});var at=Rt.length/2;return at%1==0?(Rt[at-1]+Rt[at])/2:Rt[Math.floor(at)]}var O=2,B=1e-12;function R(){var Rt=function(dt){return dt[0]},at=function(dt){return dt[1]},vt=.3;function ot(Et){for(var dt=T(Et,Rt,at,!0),X=m(dt,4),$=X[0],H=X[1],f=X[2],xt=X[3],Mt=$.length,Ut=Math.max(2,~~(vt*Mt)),re=new Float64Array(Mt),zt=new Float64Array(Mt),ne=new Float64Array(Mt).fill(1),ae=-1;++ae<=O;){for(var Dt=[0,Ut-1],Tt=0;Tt<Mt;++Tt){for(var pt=$[Tt],Q=Dt[0],K=Dt[1],lt=pt-$[Q]>$[K]-pt?Q:K,U=0,W=0,wt=0,Lt=0,Wt=0,oe=1/Math.abs($[lt]-pt||1),Se=Q;Se<=K;++Se){var Ye=$[Se],te=H[Se],ge=Y(Math.abs(pt-Ye)*oe)*ne[Se],_e=Ye*ge;U+=ge,W+=_e,wt+=te*ge,Lt+=te*_e,Wt+=Ye*_e}var Ne=y(W/U,wt/U,Lt/U,Wt/U),or=m(Ne,2),je=or[0],dr=or[1];re[Tt]=je+dr*pt,zt[Tt]=Math.abs(H[Tt]-re[Tt]),j($,Tt+1,Dt)}if(ae===O)break;var kr=A(zt);if(Math.abs(kr)<B)break;for(var Br=0,ln,Yn;Br<Mt;++Br)ln=zt[Br]/(6*kr),ne[Br]=ln>=1?B:(Yn=1-ln*ln)*Yn}return V($,re,f,xt)}return ot.bandwidth=function(Et){return arguments.length?(vt=Et,ot):vt},ot.x=function(Et){return arguments.length?(Rt=Et,ot):Rt},ot.y=function(Et){return arguments.length?(at=Et,ot):at},ot}function Y(Rt){return(Rt=1-Rt*Rt*Rt)*Rt*Rt}function j(Rt,at,vt){var ot=Rt[at],Et=vt[0],dt=vt[1]+1;if(!(dt>=Rt.length))for(;at>Et&&Rt[dt]-ot<=ot-Rt[Et];)vt[0]=++Et,vt[1]=dt,++dt}function V(Rt,at,vt,ot){for(var Et=Rt.length,dt=[],X=0,$=0,H=[],f;X<Et;++X)f=Rt[X]+vt,H[0]===f?H[1]+=(at[X]-H[1])/++$:($=0,H[1]+=ot,H=[f,at[X]],dt.push(H));return H[1]+=ot,dt}function nt(){var Rt=function(X){return X[0]},at=function(X){return X[1]},vt=Math.E,ot;function Et(dt){var X=0,$=0,H=0,f=0,xt=0,Mt=ot?+ot[0]:Infinity,Ut=ot?+ot[1]:-Infinity,re=Math.log(vt);_(dt,Rt,at,function(Q,K){var lt=Math.log(Q)/re;++X,$+=(lt-$)/X,H+=(K-H)/X,f+=(lt*K-f)/X,xt+=(lt*lt-xt)/X,ot||(Q<Mt&&(Mt=Q),Q>Ut&&(Ut=Q))});var zt=y($,H,f,xt),ne=m(zt,2),ae=ne[0],Dt=ne[1],Tt=function(K){return Dt*Math.log(K)/re+ae},pt=b(Mt,Ut,Tt);return pt.a=Dt,pt.b=ae,pt.predict=Tt,pt.rSquared=M(dt,Rt,at,H,Tt),pt}return Et.domain=function(dt){return arguments.length?(ot=dt,Et):ot},Et.x=function(dt){return arguments.length?(Rt=dt,Et):Rt},Et.y=function(dt){return arguments.length?(at=dt,Et):at},Et.base=function(dt){return arguments.length?(vt=dt,Et):vt},Et}function ct(){var Rt=function(dt){return dt[0]},at=function(dt){return dt[1]},vt;function ot(Et){var dt=T(Et,Rt,at),X=m(dt,4),$=X[0],H=X[1],f=X[2],xt=X[3],Mt=$.length,Ut=0,re=0,zt=0,ne=0,ae=0,Dt,Tt,pt,Q;for(Dt=0;Dt<Mt;)Tt=$[Dt],pt=H[Dt++],Q=Tt*Tt,Ut+=(Q-Ut)/Dt,re+=(Q*Tt-re)/Dt,zt+=(Q*Q-zt)/Dt,ne+=(Tt*pt-ne)/Dt,ae+=(Q*pt-ae)/Dt;var K=0,lt=0,U=vt?+vt[0]:Infinity,W=vt?+vt[1]:-Infinity;_(Et,Rt,at,function(ge,_e){lt++,K+=(_e-K)/lt,vt||(ge<U&&(U=ge),ge>W&&(W=ge))});var wt=zt-Ut*Ut,Lt=Ut*wt-re*re,Wt=(ae*Ut-ne*re)/Lt,oe=(ne*wt-ae*re)/Lt,Se=-Wt*Ut,Ye=function(_e){return _e=_e-f,Wt*_e*_e+oe*_e+Se+xt},te=b(U,W,Ye);return te.a=Wt,te.b=oe-2*Wt*f,te.c=Se-oe*f+Wt*f*f+xt,te.predict=Ye,te.rSquared=M(Et,Rt,at,K,Ye),te}return ot.domain=function(Et){return arguments.length?(vt=Et,ot):vt},ot.x=function(Et){return arguments.length?(Rt=Et,ot):Rt},ot.y=function(Et){return arguments.length?(at=Et,ot):at},ot}function ut(){var Rt=function(X){return X[0]},at=function(X){return X[1]},vt=3,ot;function Et(dt){if(vt===1){var X=x().x(Rt).y(at).domain(ot)(dt);return X.coefficients=[X.b,X.a],delete X.a,delete X.b,X}if(vt===2){var $=ct().x(Rt).y(at).domain(ot)(dt);return $.coefficients=[$.c,$.b,$.a],delete $.a,delete $.b,delete $.c,$}var H=T(dt,Rt,at),f=m(H,4),xt=f[0],Mt=f[1],Ut=f[2],re=f[3],zt=xt.length,ne=[],ae=[],Dt=vt+1,Tt=0,pt=0,Q=ot?+ot[0]:Infinity,K=ot?+ot[1]:-Infinity;_(dt,Rt,at,function(Ye,te){++pt,Tt+=(te-Tt)/pt,ot||(Ye<Q&&(Q=Ye),Ye>K&&(K=Ye))});var lt,U,W,wt,Lt;for(lt=0;lt<Dt;++lt){for(W=0,wt=0;W<zt;++W)wt+=Math.pow(xt[W],lt)*Mt[W];for(ne.push(wt),Lt=new Float64Array(Dt),U=0;U<Dt;++U){for(W=0,wt=0;W<zt;++W)wt+=Math.pow(xt[W],lt+U);Lt[U]=wt}ae.push(Lt)}ae.push(ne);var Wt=Gt(ae),oe=function(te){te-=Ut;var ge=re+Wt[0]+Wt[1]*te+Wt[2]*te*te;for(lt=3;lt<Dt;++lt)ge+=Wt[lt]*Math.pow(te,lt);return ge},Se=b(Q,K,oe);return Se.coefficients=Pt(Dt,Wt,-Ut,re),Se.predict=oe,Se.rSquared=M(dt,Rt,at,Tt,oe),Se}return Et.domain=function(dt){return arguments.length?(ot=dt,Et):ot},Et.x=function(dt){return arguments.length?(Rt=dt,Et):Rt},Et.y=function(dt){return arguments.length?(at=dt,Et):at},Et.order=function(dt){return arguments.length?(vt=dt,Et):vt},Et}function Pt(Rt,at,vt,ot){var Et=Array(Rt),dt,X,$,H;for(dt=0;dt<Rt;++dt)Et[dt]=0;for(dt=Rt-1;dt>=0;--dt)for($=at[dt],H=1,Et[dt]+=$,X=1;X<=dt;++X)H*=(dt+1-X)/X,Et[dt-X]+=$*Math.pow(vt,X)*H;return Et[0]+=ot,Et}function Gt(Rt){var at=Rt.length-1,vt=[],ot,Et,dt,X,$;for(ot=0;ot<at;++ot){for(X=ot,Et=ot+1;Et<at;++Et)Math.abs(Rt[ot][Et])>Math.abs(Rt[ot][X])&&(X=Et);for(dt=ot;dt<at+1;++dt)$=Rt[dt][ot],Rt[dt][ot]=Rt[dt][X],Rt[dt][X]=$;for(Et=ot+1;Et<at;++Et)for(dt=at;dt>=ot;dt--)Rt[dt][Et]-=Rt[dt][ot]*Rt[ot][Et]/Rt[ot][ot]}for(Et=at-1;Et>=0;--Et){for($=0,dt=Et+1;dt<at;++dt)$+=Rt[dt][Et]*vt[dt];vt[Et]=(Rt[at][Et]-$)/Rt[Et][Et]}return vt}function qt(){var Rt=function(dt){return dt[0]},at=function(dt){return dt[1]},vt;function ot(Et){var dt=0,X=0,$=0,H=0,f=0,xt=0,Mt=vt?+vt[0]:Infinity,Ut=vt?+vt[1]:-Infinity;_(Et,Rt,at,function(pt,Q){var K=Math.log(pt),lt=Math.log(Q);++dt,X+=(K-X)/dt,$+=(lt-$)/dt,H+=(K*lt-H)/dt,f+=(K*K-f)/dt,xt+=(Q-xt)/dt,vt||(pt<Mt&&(Mt=pt),pt>Ut&&(Ut=pt))});var re=y(X,$,H,f),zt=m(re,2),ne=zt[0],ae=zt[1];ne=Math.exp(ne);var Dt=function(Q){return ne*Math.pow(Q,ae)},Tt=b(Mt,Ut,Dt);return Tt.a=ne,Tt.b=ae,Tt.predict=Dt,Tt.rSquared=M(Et,Rt,at,xt,Dt),Tt}return ot.domain=function(Et){return arguments.length?(vt=Et,ot):vt},ot.x=function(Et){return arguments.length?(Rt=Et,ot):Rt},ot.y=function(Et){return arguments.length?(at=Et,ot):at},ot}d.regressionExp=w,d.regressionLinear=x,d.regressionLoess=R,d.regressionLog=nt,d.regressionPoly=ut,d.regressionPow=qt,d.regressionQuad=ct,Object.defineProperty(d,"__esModule",{value:!0})})},35374:function(mt,S,d){"use strict";d.d(S,{HT:function(){return O}});var m=0,L=0,I=0,P=1e3,T,_,M=0,E=0,p=0,b=typeof performance=="object"&&performance.now?performance:Date,y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(nt){setTimeout(nt,17)};function w(){return E||(y(x),E=b.now()+p)}function x(){E=0}function A(){this._call=this._time=this._next=null}A.prototype=O.prototype={constructor:A,restart:function(nt,ct,ut){if(typeof nt!="function")throw new TypeError("callback is not a function");ut=(ut==null?w():+ut)+(ct==null?0:+ct),!this._next&&_!==this&&(_?_._next=this:T=this,_=this),this._call=nt,this._time=ut,V()},stop:function(){this._call&&(this._call=null,this._time=Infinity,V())}};function O(nt,ct,ut){var Pt=new A;return Pt.restart(nt,ct,ut),Pt}function B(){w(),++m;for(var nt=T,ct;nt;)(ct=E-nt._time)>=0&&nt._call.call(null,ct),nt=nt._next;--m}function R(){E=(M=b.now())+p,m=L=0;try{B()}finally{m=0,j(),E=0}}function Y(){var nt=b.now(),ct=nt-M;ct>P&&(p-=ct,M=nt)}function j(){for(var nt,ct=T,ut,Pt=Infinity;ct;)ct._call?(Pt>ct._time&&(Pt=ct._time),nt=ct,ct=ct._next):(ut=ct._next,ct._next=null,ct=nt?nt._next=ut:T=ut);_=nt,V(Pt)}function V(nt){if(!m){L&&(L=clearTimeout(L));var ct=nt-E;ct>24?(nt<Infinity&&(L=setTimeout(R,nt-b.now()-p)),I&&(I=clearInterval(I))):(I||(M=b.now(),I=setInterval(Y,P)),m=1,y(R))}}},49772:function(mt,S,d){mt.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(mt,S,d){"use strict";var m=d(38436),L=d(74079);mt.exports={run:I,undo:T};function I(_){var M=_.graph().acyclicer==="greedy"?L(_,E(_)):P(_);m.forEach(M,function(p){var b=_.edge(p);_.removeEdge(p),b.forwardName=p.name,b.reversed=!0,_.setEdge(p.w,p.v,b,m.uniqueId("rev"))});function E(p){return function(b){return p.edge(b).weight}}}function P(_){var M=[],E={},p={};function b(y){m.has(p,y)||(p[y]=!0,E[y]=!0,m.forEach(_.outEdges(y),function(w){m.has(E,w.w)?M.push(w):b(w.w)}),delete E[y])}return m.forEach(_.nodes(),b),M}function T(_){m.forEach(_.edges(),function(M){var E=_.edge(M);if(E.reversed){_.removeEdge(M);var p=E.forwardName;delete E.reversed,delete E.forwardName,_.setEdge(M.w,M.v,E,p)}})}},61133:function(mt,S,d){var m=d(38436),L=d(11138);mt.exports=I;function I(T){function _(M){var E=T.children(M),p=T.node(M);if(E.length&&m.forEach(E,_),m.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var b=p.minRank,y=p.maxRank+1;b<y;++b)P(T,"borderLeft","_bl",M,p,b),P(T,"borderRight","_br",M,p,b)}}m.forEach(T.children(),_)}function P(T,_,M,E,p,b){var y={width:0,height:0,rank:b,borderType:_},w=p[_][b-1],x=L.addDummyNode(T,"border",y,M);p[_][b]=x,T.setParent(x,E),w&&T.setEdge(w,x,{weight:1})}},53258:function(mt,S,d){"use strict";var m=d(38436);mt.exports={adjust:L,undo:I};function L(b){var y=b.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&P(b)}function I(b){var y=b.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&_(b),(y==="lr"||y==="rl")&&(E(b),P(b))}function P(b){m.forEach(b.nodes(),function(y){T(b.node(y))}),m.forEach(b.edges(),function(y){T(b.edge(y))})}function T(b){var y=b.width;b.width=b.height,b.height=y}function _(b){m.forEach(b.nodes(),function(y){M(b.node(y))}),m.forEach(b.edges(),function(y){var w=b.edge(y);m.forEach(w.points,M),m.has(w,"y")&&M(w)})}function M(b){b.y=-b.y}function E(b){m.forEach(b.nodes(),function(y){p(b.node(y))}),m.forEach(b.edges(),function(y){var w=b.edge(y);m.forEach(w.points,p),m.has(w,"x")&&p(w)})}function p(b){var y=b.x;b.x=b.y,b.y=y}},77822:function(mt){mt.exports=S;function S(){var L={};L._next=L._prev=L,this._sentinel=L}S.prototype.dequeue=function(){var L=this._sentinel,I=L._prev;if(I!==L)return d(I),I},S.prototype.enqueue=function(L){var I=this._sentinel;L._prev&&L._next&&d(L),L._next=I._next,I._next._prev=L,I._next=L,L._prev=I},S.prototype.toString=function(){for(var L=[],I=this._sentinel,P=I._prev;P!==I;)L.push(JSON.stringify(P,m)),P=P._prev;return"["+L.join(", ")+"]"};function d(L){L._prev._next=L._next,L._next._prev=L._prev,delete L._next,delete L._prev}function m(L,I){if(L!=="_next"&&L!=="_prev")return I}},27570:function(mt,S,d){var m=d(38436),L=d(11138),I=d(70574).Graph;mt.exports={debugOrdering:P};function P(T){var _=L.buildLayerMatrix(T),M=new I({compound:!0,multigraph:!0}).setGraph({});return m.forEach(T.nodes(),function(E){M.setNode(E,{label:E}),M.setParent(E,"layer"+T.node(E).rank)}),m.forEach(T.edges(),function(E){M.setEdge(E.v,E.w,{},E.name)}),m.forEach(_,function(E,p){var b="layer"+p;M.setNode(b,{rank:"same"}),m.reduce(E,function(y,w){return M.setEdge(y,w,{style:"invis"}),w})}),M}},70574:function(mt,S,d){var m;try{m=d(28282)}catch(L){}m||(m=window.graphlib),mt.exports=m},74079:function(mt,S,d){var m=d(38436),L=d(70574).Graph,I=d(77822);mt.exports=T;var P=m.constant(1);function T(b,y){if(b.nodeCount()<=1)return[];var w=E(b,y||P),x=_(w.graph,w.buckets,w.zeroIdx);return m.flatten(m.map(x,function(A){return b.outEdges(A.v,A.w)}),!0)}function _(b,y,w){for(var x=[],A=y[y.length-1],O=y[0],B;b.nodeCount();){for(;B=O.dequeue();)M(b,y,w,B);for(;B=A.dequeue();)M(b,y,w,B);if(b.nodeCount()){for(var R=y.length-2;R>0;--R)if(B=y[R].dequeue(),B){x=x.concat(M(b,y,w,B,!0));break}}}return x}function M(b,y,w,x,A){var O=A?[]:void 0;return m.forEach(b.inEdges(x.v),function(B){var R=b.edge(B),Y=b.node(B.v);A&&O.push({v:B.v,w:B.w}),Y.out-=R,p(y,w,Y)}),m.forEach(b.outEdges(x.v),function(B){var R=b.edge(B),Y=B.w,j=b.node(Y);j.in-=R,p(y,w,j)}),b.removeNode(x.v),O}function E(b,y){var w=new L,x=0,A=0;m.forEach(b.nodes(),function(R){w.setNode(R,{v:R,in:0,out:0})}),m.forEach(b.edges(),function(R){var Y=w.edge(R.v,R.w)||0,j=y(R),V=Y+j;w.setEdge(R.v,R.w,V),A=Math.max(A,w.node(R.v).out+=j),x=Math.max(x,w.node(R.w).in+=j)});var O=m.range(A+x+3).map(function(){return new I}),B=x+1;return m.forEach(w.nodes(),function(R){p(O,B,w.node(R))}),{graph:w,buckets:O,zeroIdx:B}}function p(b,y,w){w.out?w.in?b[w.out-w.in+y].enqueue(w):b[b.length-1].enqueue(w):b[0].enqueue(w)}},98123:function(mt,S,d){"use strict";var m=d(38436),L=d(92188),I=d(45995),P=d(78093),T=d(11138).normalizeRanks,_=d(24219),M=d(11138).removeEmptyRanks,E=d(72981),p=d(61133),b=d(53258),y=d(53408),w=d(17873),x=d(11138),A=d(70574).Graph;mt.exports=O;function O(zt,ne){var ae=ne&&ne.debugTiming?x.time:x.notime;ae("layout",function(){var Dt=ae("  buildLayoutGraph",function(){return qt(zt)});ae("  runLayout",function(){B(Dt,ae)}),ae("  updateInputGraph",function(){R(zt,Dt)})})}function B(zt,ne){ne("    makeSpaceForEdgeLabels",function(){Rt(zt)}),ne("    removeSelfEdges",function(){f(zt)}),ne("    acyclic",function(){L.run(zt)}),ne("    nestingGraph.run",function(){E.run(zt)}),ne("    rank",function(){P(x.asNonCompoundGraph(zt))}),ne("    injectEdgeLabelProxies",function(){at(zt)}),ne("    removeEmptyRanks",function(){M(zt)}),ne("    nestingGraph.cleanup",function(){E.cleanup(zt)}),ne("    normalizeRanks",function(){T(zt)}),ne("    assignRankMinMax",function(){vt(zt)}),ne("    removeEdgeLabelProxies",function(){ot(zt)}),ne("    normalize.run",function(){I.run(zt)}),ne("    parentDummyChains",function(){_(zt)}),ne("    addBorderSegments",function(){p(zt)}),ne("    order",function(){y(zt)}),ne("    insertSelfEdges",function(){xt(zt)}),ne("    adjustCoordinateSystem",function(){b.adjust(zt)}),ne("    position",function(){w(zt)}),ne("    positionSelfEdges",function(){Mt(zt)}),ne("    removeBorderNodes",function(){H(zt)}),ne("    normalize.undo",function(){I.undo(zt)}),ne("    fixupEdgeLabelCoords",function(){X(zt)}),ne("    undoCoordinateSystem",function(){b.undo(zt)}),ne("    translateGraph",function(){Et(zt)}),ne("    assignNodeIntersects",function(){dt(zt)}),ne("    reversePoints",function(){$(zt)}),ne("    acyclic.undo",function(){L.undo(zt)})}function R(zt,ne){m.forEach(zt.nodes(),function(ae){var Dt=zt.node(ae),Tt=ne.node(ae);Dt&&(Dt.x=Tt.x,Dt.y=Tt.y,ne.children(ae).length&&(Dt.width=Tt.width,Dt.height=Tt.height))}),m.forEach(zt.edges(),function(ae){var Dt=zt.edge(ae),Tt=ne.edge(ae);Dt.points=Tt.points,m.has(Tt,"x")&&(Dt.x=Tt.x,Dt.y=Tt.y)}),zt.graph().width=ne.graph().width,zt.graph().height=ne.graph().height}var Y=["nodesep","edgesep","ranksep","marginx","marginy"],j={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},V=["acyclicer","ranker","rankdir","align"],nt=["width","height"],ct={width:0,height:0},ut=["minlen","weight","width","height","labeloffset"],Pt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Gt=["labelpos"];function qt(zt){var ne=new A({multigraph:!0,compound:!0}),ae=re(zt.graph());return ne.setGraph(m.merge({},j,Ut(ae,Y),m.pick(ae,V))),m.forEach(zt.nodes(),function(Dt){var Tt=re(zt.node(Dt));ne.setNode(Dt,m.defaults(Ut(Tt,nt),ct)),ne.setParent(Dt,zt.parent(Dt))}),m.forEach(zt.edges(),function(Dt){var Tt=re(zt.edge(Dt));ne.setEdge(Dt,m.merge({},Pt,Ut(Tt,ut),m.pick(Tt,Gt)))}),ne}function Rt(zt){var ne=zt.graph();ne.ranksep/=2,m.forEach(zt.edges(),function(ae){var Dt=zt.edge(ae);Dt.minlen*=2,Dt.labelpos.toLowerCase()!=="c"&&(ne.rankdir==="TB"||ne.rankdir==="BT"?Dt.width+=Dt.labeloffset:Dt.height+=Dt.labeloffset)})}function at(zt){m.forEach(zt.edges(),function(ne){var ae=zt.edge(ne);if(ae.width&&ae.height){var Dt=zt.node(ne.v),Tt=zt.node(ne.w),pt={rank:(Tt.rank-Dt.rank)/2+Dt.rank,e:ne};x.addDummyNode(zt,"edge-proxy",pt,"_ep")}})}function vt(zt){var ne=0;m.forEach(zt.nodes(),function(ae){var Dt=zt.node(ae);Dt.borderTop&&(Dt.minRank=zt.node(Dt.borderTop).rank,Dt.maxRank=zt.node(Dt.borderBottom).rank,ne=m.max(ne,Dt.maxRank))}),zt.graph().maxRank=ne}function ot(zt){m.forEach(zt.nodes(),function(ne){var ae=zt.node(ne);ae.dummy==="edge-proxy"&&(zt.edge(ae.e).labelRank=ae.rank,zt.removeNode(ne))})}function Et(zt){var ne=Number.POSITIVE_INFINITY,ae=0,Dt=Number.POSITIVE_INFINITY,Tt=0,pt=zt.graph(),Q=pt.marginx||0,K=pt.marginy||0;function lt(U){var W=U.x,wt=U.y,Lt=U.width,Wt=U.height;ne=Math.min(ne,W-Lt/2),ae=Math.max(ae,W+Lt/2),Dt=Math.min(Dt,wt-Wt/2),Tt=Math.max(Tt,wt+Wt/2)}m.forEach(zt.nodes(),function(U){lt(zt.node(U))}),m.forEach(zt.edges(),function(U){var W=zt.edge(U);m.has(W,"x")&&lt(W)}),ne-=Q,Dt-=K,m.forEach(zt.nodes(),function(U){var W=zt.node(U);W.x-=ne,W.y-=Dt}),m.forEach(zt.edges(),function(U){var W=zt.edge(U);m.forEach(W.points,function(wt){wt.x-=ne,wt.y-=Dt}),m.has(W,"x")&&(W.x-=ne),m.has(W,"y")&&(W.y-=Dt)}),pt.width=ae-ne+Q,pt.height=Tt-Dt+K}function dt(zt){m.forEach(zt.edges(),function(ne){var ae=zt.edge(ne),Dt=zt.node(ne.v),Tt=zt.node(ne.w),pt,Q;ae.points?(pt=ae.points[0],Q=ae.points[ae.points.length-1]):(ae.points=[],pt=Tt,Q=Dt),ae.points.unshift(x.intersectRect(Dt,pt)),ae.points.push(x.intersectRect(Tt,Q))})}function X(zt){m.forEach(zt.edges(),function(ne){var ae=zt.edge(ne);if(m.has(ae,"x"))switch((ae.labelpos==="l"||ae.labelpos==="r")&&(ae.width-=ae.labeloffset),ae.labelpos){case"l":ae.x-=ae.width/2+ae.labeloffset;break;case"r":ae.x+=ae.width/2+ae.labeloffset;break}})}function $(zt){m.forEach(zt.edges(),function(ne){var ae=zt.edge(ne);ae.reversed&&ae.points.reverse()})}function H(zt){m.forEach(zt.nodes(),function(ne){if(zt.children(ne).length){var ae=zt.node(ne),Dt=zt.node(ae.borderTop),Tt=zt.node(ae.borderBottom),pt=zt.node(m.last(ae.borderLeft)),Q=zt.node(m.last(ae.borderRight));ae.width=Math.abs(Q.x-pt.x),ae.height=Math.abs(Tt.y-Dt.y),ae.x=pt.x+ae.width/2,ae.y=Dt.y+ae.height/2}}),m.forEach(zt.nodes(),function(ne){zt.node(ne).dummy==="border"&&zt.removeNode(ne)})}function f(zt){m.forEach(zt.edges(),function(ne){if(ne.v===ne.w){var ae=zt.node(ne.v);ae.selfEdges||(ae.selfEdges=[]),ae.selfEdges.push({e:ne,label:zt.edge(ne)}),zt.removeEdge(ne)}})}function xt(zt){var ne=x.buildLayerMatrix(zt);m.forEach(ne,function(ae){var Dt=0;m.forEach(ae,function(Tt,pt){var Q=zt.node(Tt);Q.order=pt+Dt,m.forEach(Q.selfEdges,function(K){x.addDummyNode(zt,"selfedge",{width:K.label.width,height:K.label.height,rank:Q.rank,order:pt+ ++Dt,e:K.e,label:K.label},"_se")}),delete Q.selfEdges})})}function Mt(zt){m.forEach(zt.nodes(),function(ne){var ae=zt.node(ne);if(ae.dummy==="selfedge"){var Dt=zt.node(ae.e.v),Tt=Dt.x+Dt.width/2,pt=Dt.y,Q=ae.x-Tt,K=Dt.height/2;zt.setEdge(ae.e,ae.label),zt.removeNode(ne),ae.label.points=[{x:Tt+2*Q/3,y:pt-K},{x:Tt+5*Q/6,y:pt-K},{x:Tt+Q,y:pt},{x:Tt+5*Q/6,y:pt+K},{x:Tt+2*Q/3,y:pt+K}],ae.label.x=ae.x,ae.label.y=ae.y}})}function Ut(zt,ne){return m.mapValues(m.pick(zt,ne),Number)}function re(zt){var ne={};return m.forEach(zt,function(ae,Dt){ne[Dt.toLowerCase()]=ae}),ne}},38436:function(mt,S,d){var m;try{m={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(L){}m||(m=window._),mt.exports=m},72981:function(mt,S,d){var m=d(38436),L=d(11138);mt.exports={run:I,cleanup:M};function I(E){var p=L.addDummyNode(E,"root",{},"_root"),b=T(E),y=m.max(m.values(b))-1,w=2*y+1;E.graph().nestingRoot=p,m.forEach(E.edges(),function(A){E.edge(A).minlen*=w});var x=_(E)+1;m.forEach(E.children(),function(A){P(E,p,w,x,y,b,A)}),E.graph().nodeRankFactor=w}function P(E,p,b,y,w,x,A){var O=E.children(A);if(!O.length){A!==p&&E.setEdge(p,A,{weight:0,minlen:b});return}var B=L.addBorderNode(E,"_bt"),R=L.addBorderNode(E,"_bb"),Y=E.node(A);E.setParent(B,A),Y.borderTop=B,E.setParent(R,A),Y.borderBottom=R,m.forEach(O,function(j){P(E,p,b,y,w,x,j);var V=E.node(j),nt=V.borderTop?V.borderTop:j,ct=V.borderBottom?V.borderBottom:j,ut=V.borderTop?y:2*y,Pt=nt!==ct?1:w-x[A]+1;E.setEdge(B,nt,{weight:ut,minlen:Pt,nestingEdge:!0}),E.setEdge(ct,R,{weight:ut,minlen:Pt,nestingEdge:!0})}),E.parent(A)||E.setEdge(p,B,{weight:0,minlen:w+x[A]})}function T(E){var p={};function b(y,w){var x=E.children(y);x&&x.length&&m.forEach(x,function(A){b(A,w+1)}),p[y]=w}return m.forEach(E.children(),function(y){b(y,1)}),p}function _(E){return m.reduce(E.edges(),function(p,b){return p+E.edge(b).weight},0)}function M(E){var p=E.graph();E.removeNode(p.nestingRoot),delete p.nestingRoot,m.forEach(E.edges(),function(b){var y=E.edge(b);y.nestingEdge&&E.removeEdge(b)})}},45995:function(mt,S,d){"use strict";var m=d(38436),L=d(11138);mt.exports={run:I,undo:T};function I(_){_.graph().dummyChains=[],m.forEach(_.edges(),function(M){P(_,M)})}function P(_,M){var E=M.v,p=_.node(E).rank,b=M.w,y=_.node(b).rank,w=M.name,x=_.edge(M),A=x.labelRank;if(y!==p+1){_.removeEdge(M);var O,B,R;for(R=0,++p;p<y;++R,++p)x.points=[],B={width:0,height:0,edgeLabel:x,edgeObj:M,rank:p},O=L.addDummyNode(_,"edge",B,"_d"),p===A&&(B.width=x.width,B.height=x.height,B.dummy="edge-label",B.labelpos=x.labelpos),_.setEdge(E,O,{weight:x.weight},w),R===0&&_.graph().dummyChains.push(O),E=O;_.setEdge(E,b,{weight:x.weight},w)}}function T(_){m.forEach(_.graph().dummyChains,function(M){var E=_.node(M),p=E.edgeLabel,b;for(_.setEdge(E.edgeObj,p);E.dummy;)b=_.successors(M)[0],_.removeNode(M),p.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(p.x=E.x,p.y=E.y,p.width=E.width,p.height=E.height),M=b,E=_.node(M)})}},55093:function(mt,S,d){var m=d(38436);mt.exports=L;function L(I,P,T){var _={},M;m.forEach(T,function(E){for(var p=I.parent(E),b,y;p;){if(b=I.parent(p),b?(y=_[b],_[b]=p):(y=M,M=p),y&&y!==p){P.setEdge(y,p);return}p=b}})}},35439:function(mt,S,d){var m=d(38436);mt.exports=L;function L(I,P){return m.map(P,function(T){var _=I.inEdges(T);if(_.length){var M=m.reduce(_,function(E,p){var b=I.edge(p),y=I.node(p.v);return{sum:E.sum+b.weight*y.order,weight:E.weight+b.weight}},{sum:0,weight:0});return{v:T,barycenter:M.sum/M.weight,weight:M.weight}}else return{v:T}})}},23128:function(mt,S,d){var m=d(38436),L=d(70574).Graph;mt.exports=I;function I(T,_,M){var E=P(T),p=new L({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(b){return T.node(b)});return m.forEach(T.nodes(),function(b){var y=T.node(b),w=T.parent(b);(y.rank===_||y.minRank<=_&&_<=y.maxRank)&&(p.setNode(b),p.setParent(b,w||E),m.forEach(T[M](b),function(x){var A=x.v===b?x.w:x.v,O=p.edge(A,b),B=m.isUndefined(O)?0:O.weight;p.setEdge(A,b,{weight:T.edge(x).weight+B})}),m.has(y,"minRank")&&p.setNode(b,{borderLeft:y.borderLeft[_],borderRight:y.borderRight[_]}))}),p}function P(T){for(var _;T.hasNode(_=m.uniqueId("_root")););return _}},56630:function(mt,S,d){"use strict";var m=d(38436);mt.exports=L;function L(P,T){for(var _=0,M=1;M<T.length;++M)_+=I(P,T[M-1],T[M]);return _}function I(P,T,_){for(var M=m.zipObject(_,m.map(_,function(x,A){return A})),E=m.flatten(m.map(T,function(x){return m.sortBy(m.map(P.outEdges(x),function(A){return{pos:M[A.w],weight:P.edge(A).weight}}),"pos")}),!0),p=1;p<_.length;)p<<=1;var b=2*p-1;p-=1;var y=m.map(new Array(b),function(){return 0}),w=0;return m.forEach(E.forEach(function(x){var A=x.pos+p;y[A]+=x.weight;for(var O=0;A>0;)A%2&&(O+=y[A+1]),A=A-1>>1,y[A]+=x.weight;w+=x.weight*O})),w}},53408:function(mt,S,d){"use strict";var m=d(38436),L=d(2588),I=d(56630),P=d(61026),T=d(23128),_=d(55093),M=d(70574).Graph,E=d(11138);mt.exports=p;function p(x){var A=E.maxRank(x),O=b(x,m.range(1,A+1),"inEdges"),B=b(x,m.range(A-1,-1,-1),"outEdges"),R=L(x);w(x,R);for(var Y=Number.POSITIVE_INFINITY,j,V=0,nt=0;nt<4;++V,++nt){y(V%2?O:B,V%4>=2),R=E.buildLayerMatrix(x);var ct=I(x,R);ct<Y&&(nt=0,j=m.cloneDeep(R),Y=ct)}w(x,j)}function b(x,A,O){return m.map(A,function(B){return T(x,B,O)})}function y(x,A){var O=new M;m.forEach(x,function(B){var R=B.graph().root,Y=P(B,R,O,A);m.forEach(Y.vs,function(j,V){B.node(j).order=V}),_(B,O,Y.vs)})}function w(x,A){m.forEach(A,function(O){m.forEach(O,function(B,R){x.node(B).order=R})})}},2588:function(mt,S,d){"use strict";var m=d(38436);mt.exports=L;function L(I){var P={},T=m.filter(I.nodes(),function(b){return!I.children(b).length}),_=m.max(m.map(T,function(b){return I.node(b).rank})),M=m.map(m.range(_+1),function(){return[]});function E(b){if(!m.has(P,b)){P[b]=!0;var y=I.node(b);M[y.rank].push(b),m.forEach(I.successors(b),E)}}var p=m.sortBy(T,function(b){return I.node(b).rank});return m.forEach(p,E),M}},83678:function(mt,S,d){"use strict";var m=d(38436);mt.exports=L;function L(T,_){var M={};m.forEach(T,function(p,b){var y=M[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:b};m.isUndefined(p.barycenter)||(y.barycenter=p.barycenter,y.weight=p.weight)}),m.forEach(_.edges(),function(p){var b=M[p.v],y=M[p.w];!m.isUndefined(b)&&!m.isUndefined(y)&&(y.indegree++,b.out.push(M[p.w]))});var E=m.filter(M,function(p){return!p.indegree});return I(E)}function I(T){var _=[];function M(b){return function(y){y.merged||(m.isUndefined(y.barycenter)||m.isUndefined(b.barycenter)||y.barycenter>=b.barycenter)&&P(b,y)}}function E(b){return function(y){y.in.push(b),--y.indegree==0&&T.push(y)}}for(;T.length;){var p=T.pop();_.push(p),m.forEach(p.in.reverse(),M(p)),m.forEach(p.out,E(p))}return m.map(m.filter(_,function(b){return!b.merged}),function(b){return m.pick(b,["vs","i","barycenter","weight"])})}function P(T,_){var M=0,E=0;T.weight&&(M+=T.barycenter*T.weight,E+=T.weight),_.weight&&(M+=_.barycenter*_.weight,E+=_.weight),T.vs=_.vs.concat(T.vs),T.barycenter=M/E,T.weight=E,T.i=Math.min(_.i,T.i),_.merged=!0}},61026:function(mt,S,d){var m=d(38436),L=d(35439),I=d(83678),P=d(87304);mt.exports=T;function T(E,p,b,y){var w=E.children(p),x=E.node(p),A=x?x.borderLeft:void 0,O=x?x.borderRight:void 0,B={};A&&(w=m.filter(w,function(ct){return ct!==A&&ct!==O}));var R=L(E,w);m.forEach(R,function(ct){if(E.children(ct.v).length){var ut=T(E,ct.v,b,y);B[ct.v]=ut,m.has(ut,"barycenter")&&M(ct,ut)}});var Y=I(R,b);_(Y,B);var j=P(Y,y);if(A&&(j.vs=m.flatten([A,j.vs,O],!0),E.predecessors(A).length)){var V=E.node(E.predecessors(A)[0]),nt=E.node(E.predecessors(O)[0]);m.has(j,"barycenter")||(j.barycenter=0,j.weight=0),j.barycenter=(j.barycenter*j.weight+V.order+nt.order)/(j.weight+2),j.weight+=2}return j}function _(E,p){m.forEach(E,function(b){b.vs=m.flatten(b.vs.map(function(y){return p[y]?p[y].vs:y}),!0)})}function M(E,p){m.isUndefined(E.barycenter)?(E.barycenter=p.barycenter,E.weight=p.weight):(E.barycenter=(E.barycenter*E.weight+p.barycenter*p.weight)/(E.weight+p.weight),E.weight+=p.weight)}},87304:function(mt,S,d){var m=d(38436),L=d(11138);mt.exports=I;function I(_,M){var E=L.partition(_,function(B){return m.has(B,"barycenter")}),p=E.lhs,b=m.sortBy(E.rhs,function(B){return-B.i}),y=[],w=0,x=0,A=0;p.sort(T(!!M)),A=P(y,b,A),m.forEach(p,function(B){A+=B.vs.length,y.push(B.vs),w+=B.barycenter*B.weight,x+=B.weight,A=P(y,b,A)});var O={vs:m.flatten(y,!0)};return x&&(O.barycenter=w/x,O.weight=x),O}function P(_,M,E){for(var p;M.length&&(p=m.last(M)).i<=E;)M.pop(),_.push(p.vs),E++;return E}function T(_){return function(M,E){return M.barycenter<E.barycenter?-1:M.barycenter>E.barycenter?1:_?E.i-M.i:M.i-E.i}}},24219:function(mt,S,d){var m=d(38436);mt.exports=L;function L(T){var _=P(T);m.forEach(T.graph().dummyChains,function(M){for(var E=T.node(M),p=E.edgeObj,b=I(T,_,p.v,p.w),y=b.path,w=b.lca,x=0,A=y[x],O=!0;M!==p.w;){if(E=T.node(M),O){for(;(A=y[x])!==w&&T.node(A).maxRank<E.rank;)x++;A===w&&(O=!1)}if(!O){for(;x<y.length-1&&T.node(A=y[x+1]).minRank<=E.rank;)x++;A=y[x]}T.setParent(M,A),M=T.successors(M)[0]}})}function I(T,_,M,E){var p=[],b=[],y=Math.min(_[M].low,_[E].low),w=Math.max(_[M].lim,_[E].lim),x,A;x=M;do x=T.parent(x),p.push(x);while(x&&(_[x].low>y||w>_[x].lim));for(A=x,x=E;(x=T.parent(x))!==A;)b.push(x);return{path:p.concat(b.reverse()),lca:A}}function P(T){var _={},M=0;function E(p){var b=M;m.forEach(T.children(p),E),_[p]={low:b,lim:M++}}return m.forEach(T.children(),E),_}},3573:function(mt,S,d){"use strict";var m=d(38436),L=d(70574).Graph,I=d(11138);mt.exports={positionX:O,findType1Conflicts:P,findType2Conflicts:T,addConflict:M,hasConflict:E,verticalAlignment:p,horizontalCompaction:b,alignCoordinates:x,findSmallestWidthAlignment:w,balance:A};function P(Y,j){var V={};function nt(ct,ut){var Pt=0,Gt=0,qt=ct.length,Rt=m.last(ut);return m.forEach(ut,function(at,vt){var ot=_(Y,at),Et=ot?Y.node(ot).order:qt;(ot||at===Rt)&&(m.forEach(ut.slice(Gt,vt+1),function(dt){m.forEach(Y.predecessors(dt),function(X){var $=Y.node(X),H=$.order;(H<Pt||Et<H)&&!($.dummy&&Y.node(dt).dummy)&&M(V,X,dt)})}),Gt=vt+1,Pt=Et)}),ut}return m.reduce(j,nt),V}function T(Y,j){var V={};function nt(ut,Pt,Gt,qt,Rt){var at;m.forEach(m.range(Pt,Gt),function(vt){at=ut[vt],Y.node(at).dummy&&m.forEach(Y.predecessors(at),function(ot){var Et=Y.node(ot);Et.dummy&&(Et.order<qt||Et.order>Rt)&&M(V,ot,at)})})}function ct(ut,Pt){var Gt=-1,qt,Rt=0;return m.forEach(Pt,function(at,vt){if(Y.node(at).dummy==="border"){var ot=Y.predecessors(at);ot.length&&(qt=Y.node(ot[0]).order,nt(Pt,Rt,vt,Gt,qt),Rt=vt,Gt=qt)}nt(Pt,Rt,Pt.length,qt,ut.length)}),Pt}return m.reduce(j,ct),V}function _(Y,j){if(Y.node(j).dummy)return m.find(Y.predecessors(j),function(V){return Y.node(V).dummy})}function M(Y,j,V){if(j>V){var nt=j;j=V,V=nt}var ct=Y[j];ct||(Y[j]=ct={}),ct[V]=!0}function E(Y,j,V){if(j>V){var nt=j;j=V,V=nt}return m.has(Y[j],V)}function p(Y,j,V,nt){var ct={},ut={},Pt={};return m.forEach(j,function(Gt){m.forEach(Gt,function(qt,Rt){ct[qt]=qt,ut[qt]=qt,Pt[qt]=Rt})}),m.forEach(j,function(Gt){var qt=-1;m.forEach(Gt,function(Rt){var at=nt(Rt);if(at.length){at=m.sortBy(at,function(X){return Pt[X]});for(var vt=(at.length-1)/2,ot=Math.floor(vt),Et=Math.ceil(vt);ot<=Et;++ot){var dt=at[ot];ut[Rt]===Rt&&qt<Pt[dt]&&!E(V,Rt,dt)&&(ut[dt]=Rt,ut[Rt]=ct[Rt]=ct[dt],qt=Pt[dt])}}})}),{root:ct,align:ut}}function b(Y,j,V,nt,ct){var ut={},Pt=y(Y,j,V,ct),Gt=ct?"borderLeft":"borderRight";function qt(vt,ot){for(var Et=Pt.nodes(),dt=Et.pop(),X={};dt;)X[dt]?vt(dt):(X[dt]=!0,Et.push(dt),Et=Et.concat(ot(dt))),dt=Et.pop()}function Rt(vt){ut[vt]=Pt.inEdges(vt).reduce(function(ot,Et){return Math.max(ot,ut[Et.v]+Pt.edge(Et))},0)}function at(vt){var ot=Pt.outEdges(vt).reduce(function(dt,X){return Math.min(dt,ut[X.w]-Pt.edge(X))},Number.POSITIVE_INFINITY),Et=Y.node(vt);ot!==Number.POSITIVE_INFINITY&&Et.borderType!==Gt&&(ut[vt]=Math.max(ut[vt],ot))}return qt(Rt,Pt.predecessors.bind(Pt)),qt(at,Pt.successors.bind(Pt)),m.forEach(nt,function(vt){ut[vt]=ut[V[vt]]}),ut}function y(Y,j,V,nt){var ct=new L,ut=Y.graph(),Pt=B(ut.nodesep,ut.edgesep,nt);return m.forEach(j,function(Gt){var qt;m.forEach(Gt,function(Rt){var at=V[Rt];if(ct.setNode(at),qt){var vt=V[qt],ot=ct.edge(vt,at);ct.setEdge(vt,at,Math.max(Pt(Y,Rt,qt),ot||0))}qt=Rt})}),ct}function w(Y,j){return m.minBy(m.values(j),function(V){var nt=Number.NEGATIVE_INFINITY,ct=Number.POSITIVE_INFINITY;return m.forIn(V,function(ut,Pt){var Gt=R(Y,Pt)/2;nt=Math.max(ut+Gt,nt),ct=Math.min(ut-Gt,ct)}),nt-ct})}function x(Y,j){var V=m.values(j),nt=m.min(V),ct=m.max(V);m.forEach(["u","d"],function(ut){m.forEach(["l","r"],function(Pt){var Gt=ut+Pt,qt=Y[Gt],Rt;if(qt!==j){var at=m.values(qt);Rt=Pt==="l"?nt-m.min(at):ct-m.max(at),Rt&&(Y[Gt]=m.mapValues(qt,function(vt){return vt+Rt}))}})})}function A(Y,j){return m.mapValues(Y.ul,function(V,nt){if(j)return Y[j.toLowerCase()][nt];var ct=m.sortBy(m.map(Y,nt));return(ct[1]+ct[2])/2})}function O(Y){var j=I.buildLayerMatrix(Y),V=m.merge(P(Y,j),T(Y,j)),nt={},ct;m.forEach(["u","d"],function(Pt){ct=Pt==="u"?j:m.values(j).reverse(),m.forEach(["l","r"],function(Gt){Gt==="r"&&(ct=m.map(ct,function(vt){return m.values(vt).reverse()}));var qt=(Pt==="u"?Y.predecessors:Y.successors).bind(Y),Rt=p(Y,ct,V,qt),at=b(Y,ct,Rt.root,Rt.align,Gt==="r");Gt==="r"&&(at=m.mapValues(at,function(vt){return-vt})),nt[Pt+Gt]=at})});var ut=w(Y,nt);return x(nt,ut),A(nt,Y.graph().align)}function B(Y,j,V){return function(nt,ct,ut){var Pt=nt.node(ct),Gt=nt.node(ut),qt=0,Rt;if(qt+=Pt.width/2,m.has(Pt,"labelpos"))switch(Pt.labelpos.toLowerCase()){case"l":Rt=-Pt.width/2;break;case"r":Rt=Pt.width/2;break}if(Rt&&(qt+=V?Rt:-Rt),Rt=0,qt+=(Pt.dummy?j:Y)/2,qt+=(Gt.dummy?j:Y)/2,qt+=Gt.width/2,m.has(Gt,"labelpos"))switch(Gt.labelpos.toLowerCase()){case"l":Rt=Gt.width/2;break;case"r":Rt=-Gt.width/2;break}return Rt&&(qt+=V?Rt:-Rt),Rt=0,qt}}function R(Y,j){return Y.node(j).width}},17873:function(mt,S,d){"use strict";var m=d(38436),L=d(11138),I=d(3573).positionX;mt.exports=P;function P(_){_=L.asNonCompoundGraph(_),T(_),m.forEach(I(_),function(M,E){_.node(E).x=M})}function T(_){var M=L.buildLayerMatrix(_),E=_.graph().ranksep,p=0;m.forEach(M,function(b){var y=m.max(m.map(b,function(w){return _.node(w).height}));m.forEach(b,function(w){_.node(w).y=p+y/2}),p+=y+E})}},20300:function(mt,S,d){"use strict";var m=d(38436),L=d(70574).Graph,I=d(76681).slack;mt.exports=P;function P(E){var p=new L({directed:!1}),b=E.nodes()[0],y=E.nodeCount();p.setNode(b,{});for(var w,x;T(p,E)<y;)w=_(p,E),x=p.hasNode(w.v)?I(E,w):-I(E,w),M(p,E,x);return p}function T(E,p){function b(y){m.forEach(p.nodeEdges(y),function(w){var x=w.v,A=y===x?w.w:x;!E.hasNode(A)&&!I(p,w)&&(E.setNode(A,{}),E.setEdge(y,A,{}),b(A))})}return m.forEach(E.nodes(),b),E.nodeCount()}function _(E,p){return m.minBy(p.edges(),function(b){if(E.hasNode(b.v)!==E.hasNode(b.w))return I(p,b)})}function M(E,p,b){m.forEach(E.nodes(),function(y){p.node(y).rank+=b})}},78093:function(mt,S,d){"use strict";var m=d(76681),L=m.longestPath,I=d(20300),P=d(42472);mt.exports=T;function T(p){switch(p.graph().ranker){case"network-simplex":E(p);break;case"tight-tree":M(p);break;case"longest-path":_(p);break;default:E(p)}}var _=L;function M(p){L(p),I(p)}function E(p){P(p)}},42472:function(mt,S,d){"use strict";var m=d(38436),L=d(20300),I=d(76681).slack,P=d(76681).longestPath,T=d(70574).alg.preorder,_=d(70574).alg.postorder,M=d(11138).simplify;mt.exports=E,E.initLowLimValues=w,E.initCutValues=p,E.calcCutValue=y,E.leaveEdge=A,E.enterEdge=O,E.exchangeEdges=B;function E(V){V=M(V),P(V);var nt=L(V);w(nt),p(nt,V);for(var ct,ut;ct=A(nt);)ut=O(nt,V,ct),B(nt,V,ct,ut)}function p(V,nt){var ct=_(V,V.nodes());ct=ct.slice(0,ct.length-1),m.forEach(ct,function(ut){b(V,nt,ut)})}function b(V,nt,ct){var ut=V.node(ct),Pt=ut.parent;V.edge(ct,Pt).cutvalue=y(V,nt,ct)}function y(V,nt,ct){var ut=V.node(ct),Pt=ut.parent,Gt=!0,qt=nt.edge(ct,Pt),Rt=0;return qt||(Gt=!1,qt=nt.edge(Pt,ct)),Rt=qt.weight,m.forEach(nt.nodeEdges(ct),function(at){var vt=at.v===ct,ot=vt?at.w:at.v;if(ot!==Pt){var Et=vt===Gt,dt=nt.edge(at).weight;if(Rt+=Et?dt:-dt,Y(V,ct,ot)){var X=V.edge(ct,ot).cutvalue;Rt+=Et?-X:X}}}),Rt}function w(V,nt){arguments.length<2&&(nt=V.nodes()[0]),x(V,{},1,nt)}function x(V,nt,ct,ut,Pt){var Gt=ct,qt=V.node(ut);return nt[ut]=!0,m.forEach(V.neighbors(ut),function(Rt){m.has(nt,Rt)||(ct=x(V,nt,ct,Rt,ut))}),qt.low=Gt,qt.lim=ct++,Pt?qt.parent=Pt:delete qt.parent,ct}function A(V){return m.find(V.edges(),function(nt){return V.edge(nt).cutvalue<0})}function O(V,nt,ct){var ut=ct.v,Pt=ct.w;nt.hasEdge(ut,Pt)||(ut=ct.w,Pt=ct.v);var Gt=V.node(ut),qt=V.node(Pt),Rt=Gt,at=!1;Gt.lim>qt.lim&&(Rt=qt,at=!0);var vt=m.filter(nt.edges(),function(ot){return at===j(V,V.node(ot.v),Rt)&&at!==j(V,V.node(ot.w),Rt)});return m.minBy(vt,function(ot){return I(nt,ot)})}function B(V,nt,ct,ut){var Pt=ct.v,Gt=ct.w;V.removeEdge(Pt,Gt),V.setEdge(ut.v,ut.w,{}),w(V),p(V,nt),R(V,nt)}function R(V,nt){var ct=m.find(V.nodes(),function(Pt){return!nt.node(Pt).parent}),ut=T(V,ct);ut=ut.slice(1),m.forEach(ut,function(Pt){var Gt=V.node(Pt).parent,qt=nt.edge(Pt,Gt),Rt=!1;qt||(qt=nt.edge(Gt,Pt),Rt=!0),nt.node(Pt).rank=nt.node(Gt).rank+(Rt?qt.minlen:-qt.minlen)})}function Y(V,nt,ct){return V.hasEdge(nt,ct)}function j(V,nt,ct){return ct.low<=nt.lim&&nt.lim<=ct.lim}},76681:function(mt,S,d){"use strict";var m=d(38436);mt.exports={longestPath:L,slack:I};function L(P){var T={};function _(M){var E=P.node(M);if(m.has(T,M))return E.rank;T[M]=!0;var p=m.min(m.map(P.outEdges(M),function(b){return _(b.w)-P.edge(b).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),E.rank=p}m.forEach(P.sources(),_)}function I(P,T){return P.node(T.w).rank-P.node(T.v).rank-P.edge(T).minlen}},11138:function(mt,S,d){"use strict";var m=d(38436),L=d(70574).Graph;mt.exports={addDummyNode:I,simplify:P,asNonCompoundGraph:T,successorWeights:_,predecessorWeights:M,intersectRect:E,buildLayerMatrix:p,normalizeRanks:b,removeEmptyRanks:y,addBorderNode:w,maxRank:x,partition:A,time:O,notime:B};function I(R,Y,j,V){var nt;do nt=m.uniqueId(V);while(R.hasNode(nt));return j.dummy=Y,R.setNode(nt,j),nt}function P(R){var Y=new L().setGraph(R.graph());return m.forEach(R.nodes(),function(j){Y.setNode(j,R.node(j))}),m.forEach(R.edges(),function(j){var V=Y.edge(j.v,j.w)||{weight:0,minlen:1},nt=R.edge(j);Y.setEdge(j.v,j.w,{weight:V.weight+nt.weight,minlen:Math.max(V.minlen,nt.minlen)})}),Y}function T(R){var Y=new L({multigraph:R.isMultigraph()}).setGraph(R.graph());return m.forEach(R.nodes(),function(j){R.children(j).length||Y.setNode(j,R.node(j))}),m.forEach(R.edges(),function(j){Y.setEdge(j,R.edge(j))}),Y}function _(R){var Y=m.map(R.nodes(),function(j){var V={};return m.forEach(R.outEdges(j),function(nt){V[nt.w]=(V[nt.w]||0)+R.edge(nt).weight}),V});return m.zipObject(R.nodes(),Y)}function M(R){var Y=m.map(R.nodes(),function(j){var V={};return m.forEach(R.inEdges(j),function(nt){V[nt.v]=(V[nt.v]||0)+R.edge(nt).weight}),V});return m.zipObject(R.nodes(),Y)}function E(R,Y){var j=R.x,V=R.y,nt=Y.x-j,ct=Y.y-V,ut=R.width/2,Pt=R.height/2;if(!nt&&!ct)throw new Error("Not possible to find intersection inside of the rectangle");var Gt,qt;return Math.abs(ct)*ut>Math.abs(nt)*Pt?(ct<0&&(Pt=-Pt),Gt=Pt*nt/ct,qt=Pt):(nt<0&&(ut=-ut),Gt=ut,qt=ut*ct/nt),{x:j+Gt,y:V+qt}}function p(R){var Y=m.map(m.range(x(R)+1),function(){return[]});return m.forEach(R.nodes(),function(j){var V=R.node(j),nt=V.rank;m.isUndefined(nt)||(Y[nt][V.order]=j)}),Y}function b(R){var Y=m.min(m.map(R.nodes(),function(j){return R.node(j).rank}));m.forEach(R.nodes(),function(j){var V=R.node(j);m.has(V,"rank")&&(V.rank-=Y)})}function y(R){var Y=m.min(m.map(R.nodes(),function(ct){return R.node(ct).rank})),j=[];m.forEach(R.nodes(),function(ct){var ut=R.node(ct).rank-Y;j[ut]||(j[ut]=[]),j[ut].push(ct)});var V=0,nt=R.graph().nodeRankFactor;m.forEach(j,function(ct,ut){m.isUndefined(ct)&&ut%nt!=0?--V:V&&m.forEach(ct,function(Pt){R.node(Pt).rank+=V})})}function w(R,Y,j,V){var nt={width:0,height:0};return arguments.length>=4&&(nt.rank=j,nt.order=V),I(R,"border",nt,Y)}function x(R){return m.max(m.map(R.nodes(),function(Y){var j=R.node(Y).rank;if(!m.isUndefined(j))return j}))}function A(R,Y){var j={lhs:[],rhs:[]};return m.forEach(R,function(V){Y(V)?j.lhs.push(V):j.rhs.push(V)}),j}function O(R,Y){var j=m.now();try{return Y()}finally{console.log(R+" time: "+(m.now()-j)+"ms")}}function B(R,Y){return Y()}},88177:function(mt){mt.exports="0.8.5"},43631:function(mt,S,d){"use strict";d.r(S),d.d(S,{BrowserInfo:function(){return I},NodeInfo:function(){return P},SearchBotDeviceInfo:function(){return T},BotInfo:function(){return _},ReactNativeInfo:function(){return M},detect:function(){return x},browserName:function(){return O},parseUserAgent:function(){return B},detectOS:function(){return R},getNodeVersion:function(){return Y}});var m=d(34155),L=function(V,nt,ct){if(ct||arguments.length===2)for(var ut=0,Pt=nt.length,Gt;ut<Pt;ut++)(Gt||!(ut in nt))&&(Gt||(Gt=Array.prototype.slice.call(nt,0,ut)),Gt[ut]=nt[ut]);return V.concat(Gt||Array.prototype.slice.call(nt))},I=function(){function V(nt,ct,ut){this.name=nt,this.version=ct,this.os=ut,this.type="browser"}return V}(),P=function(){function V(nt){this.version=nt,this.type="node",this.name="node",this.os=m.platform}return V}(),T=function(){function V(nt,ct,ut,Pt){this.name=nt,this.version=ct,this.os=ut,this.bot=Pt,this.type="bot-device"}return V}(),_=function(){function V(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return V}(),M=function(){function V(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return V}(),E=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",E]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function x(V){return V?B(V):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new M:typeof navigator!="undefined"?B(navigator.userAgent):Y()}function A(V){return V!==""&&y.reduce(function(nt,ct){var ut=ct[0],Pt=ct[1];if(nt)return nt;var Gt=Pt.exec(V);return!!Gt&&[ut,Gt]},!1)}function O(V){var nt=A(V);return nt?nt[0]:null}function B(V){var nt=A(V);if(!nt)return null;var ct=nt[0],ut=nt[1];if(ct==="searchbot")return new _;var Pt=ut[1]&&ut[1].split(".").join("_").split("_").slice(0,3);Pt?Pt.length<b&&(Pt=L(L([],Pt,!0),j(b-Pt.length),!0)):Pt=[];var Gt=Pt.join("."),qt=R(V),Rt=p.exec(V);return Rt&&Rt[1]?new T(ct,Gt,qt,Rt[1]):new I(ct,Gt,qt)}function R(V){for(var nt=0,ct=w.length;nt<ct;nt++){var ut=w[nt],Pt=ut[0],Gt=ut[1],qt=Gt.exec(V);if(qt)return Pt}return null}function Y(){var V=typeof m!="undefined"&&m.version;return V?new P(m.version.slice(1)):null}function j(V){for(var nt=[],ct=0;ct<V;ct++)nt.push("0");return nt}},19432:function(mt,S,d){"use strict";d.r(S),d.d(S,{assign:function(){return b},format:function(){return vt},parse:function(){return ot},defaultI18n:function(){return O},setGlobalDateI18n:function(){return R},setGlobalDateMasks:function(){return at}});var m=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,L="\\d\\d?",I="\\d\\d",P="\\d{3}",T="\\d{4}",_="[^\\s]+",M=/\[([^]*?)\]/gm;function E(dt,X){for(var $=[],H=0,f=dt.length;H<f;H++)$.push(dt[H].substr(0,X));return $}var p=function(dt){return function(X,$){var H=$[dt].map(function(xt){return xt.toLowerCase()}),f=H.indexOf(X.toLowerCase());return f>-1?f:null}};function b(dt){for(var X=[],$=1;$<arguments.length;$++)X[$-1]=arguments[$];for(var H=0,f=X;H<f.length;H++){var xt=f[H];for(var Mt in xt)dt[Mt]=xt[Mt]}return dt}var y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"],x=E(w,3),A=E(y,3),O={dayNamesShort:A,dayNames:y,monthNamesShort:x,monthNames:w,amPm:["am","pm"],DoFn:function(dt){return dt+["th","st","nd","rd"][dt%10>3?0:(dt-dt%10!=10?1:0)*dt%10]}},B=b({},O),R=function(dt){return B=b(B,dt)},Y=function(dt){return dt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},j=function(dt,X){for(X===void 0&&(X=2),dt=String(dt);dt.length<X;)dt="0"+dt;return dt},V={D:function(dt){return String(dt.getDate())},DD:function(dt){return j(dt.getDate())},Do:function(dt,X){return X.DoFn(dt.getDate())},d:function(dt){return String(dt.getDay())},dd:function(dt){return j(dt.getDay())},ddd:function(dt,X){return X.dayNamesShort[dt.getDay()]},dddd:function(dt,X){return X.dayNames[dt.getDay()]},M:function(dt){return String(dt.getMonth()+1)},MM:function(dt){return j(dt.getMonth()+1)},MMM:function(dt,X){return X.monthNamesShort[dt.getMonth()]},MMMM:function(dt,X){return X.monthNames[dt.getMonth()]},YY:function(dt){return j(String(dt.getFullYear()),4).substr(2)},YYYY:function(dt){return j(dt.getFullYear(),4)},h:function(dt){return String(dt.getHours()%12||12)},hh:function(dt){return j(dt.getHours()%12||12)},H:function(dt){return String(dt.getHours())},HH:function(dt){return j(dt.getHours())},m:function(dt){return String(dt.getMinutes())},mm:function(dt){return j(dt.getMinutes())},s:function(dt){return String(dt.getSeconds())},ss:function(dt){return j(dt.getSeconds())},S:function(dt){return String(Math.round(dt.getMilliseconds()/100))},SS:function(dt){return j(Math.round(dt.getMilliseconds()/10),2)},SSS:function(dt){return j(dt.getMilliseconds(),3)},a:function(dt,X){return dt.getHours()<12?X.amPm[0]:X.amPm[1]},A:function(dt,X){return dt.getHours()<12?X.amPm[0].toUpperCase():X.amPm[1].toUpperCase()},ZZ:function(dt){var X=dt.getTimezoneOffset();return(X>0?"-":"+")+j(Math.floor(Math.abs(X)/60)*100+Math.abs(X)%60,4)},Z:function(dt){var X=dt.getTimezoneOffset();return(X>0?"-":"+")+j(Math.floor(Math.abs(X)/60),2)+":"+j(Math.abs(X)%60,2)}},nt=function(dt){return+dt-1},ct=[null,L],ut=[null,_],Pt=["isPm",_,function(dt,X){var $=dt.toLowerCase();return $===X.amPm[0]?0:$===X.amPm[1]?1:null}],Gt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(dt){var X=(dt+"").match(/([+-]|\d\d)/gi);if(X){var $=+X[1]*60+parseInt(X[2],10);return X[0]==="+"?$:-$}return 0}],qt={D:["day",L],DD:["day",I],Do:["day",L+_,function(dt){return parseInt(dt,10)}],M:["month",L,nt],MM:["month",I,nt],YY:["year",I,function(dt){var X=new Date,$=+(""+X.getFullYear()).substr(0,2);return+(""+(+dt>68?$-1:$)+dt)}],h:["hour",L,void 0,"isPm"],hh:["hour",I,void 0,"isPm"],H:["hour",L],HH:["hour",I],m:["minute",L],mm:["minute",I],s:["second",L],ss:["second",I],YYYY:["year",T],S:["millisecond","\\d",function(dt){return+dt*100}],SS:["millisecond",I,function(dt){return+dt*10}],SSS:["millisecond",P],d:ct,dd:ct,ddd:ut,dddd:ut,MMM:["month",_,p("monthNamesShort")],MMMM:["month",_,p("monthNames")],a:Pt,A:Pt,ZZ:Gt,Z:Gt},Rt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},at=function(dt){return b(Rt,dt)},vt=function(dt,X,$){if(X===void 0&&(X=Rt.default),$===void 0&&($={}),typeof dt=="number"&&(dt=new Date(dt)),Object.prototype.toString.call(dt)!=="[object Date]"||isNaN(dt.getTime()))throw new Error("Invalid Date pass to format");X=Rt[X]||X;var H=[];X=X.replace(M,function(xt,Mt){return H.push(Mt),"@@@"});var f=b(b({},B),$);return X=X.replace(m,function(xt){return V[xt](dt,f)}),X.replace(/@@@/g,function(){return H.shift()})};function ot(dt,X,$){if($===void 0&&($={}),typeof X!="string")throw new Error("Invalid format in fecha parse");if(X=Rt[X]||X,dt.length>1e3)return null;var H=new Date,f={year:H.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},xt=[],Mt=[],Ut=X.replace(M,function(wt,Lt){return Mt.push(Y(Lt)),"@@@"}),re={},zt={};Ut=Y(Ut).replace(m,function(wt){var Lt=qt[wt],Wt=Lt[0],oe=Lt[1],Se=Lt[3];if(re[Wt])throw new Error("Invalid format. "+Wt+" specified twice in format");return re[Wt]=!0,Se&&(zt[Se]=!0),xt.push(Lt),"("+oe+")"}),Object.keys(zt).forEach(function(wt){if(!re[wt])throw new Error("Invalid format. "+wt+" is required in specified format")}),Ut=Ut.replace(/@@@/g,function(){return Mt.shift()});var ne=dt.match(new RegExp(Ut,"i"));if(!ne)return null;for(var ae=b(b({},B),$),Dt=1;Dt<ne.length;Dt++){var Tt=xt[Dt-1],pt=Tt[0],Q=Tt[2],K=Q?Q(ne[Dt],ae):+ne[Dt];if(K==null)return null;f[pt]=K}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);var lt;if(f.timezoneOffset==null){lt=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond);for(var U=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Dt=0,W=U.length;Dt<W;Dt++)if(re[U[Dt][0]]&&f[U[Dt][0]]!==lt[U[Dt][1]]())return null}else if(lt=new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond)),f.month>11||f.month<0||f.day>31||f.day<1||f.hour>23||f.hour<0||f.minute>59||f.minute<0||f.second>59||f.second<0)return null;return lt}var Et={format:vt,parse:ot,defaultI18n:O,setGlobalDateI18n:R,setGlobalDateMasks:at};S.default=Et},49685:function(mt,S,d){"use strict";d.d(S,{Ib:function(){return m},WT:function(){return L},FD:function(){return I}});var m=1e-6,L=typeof Float32Array!="undefined"?Float32Array:Array,I=Math.random;function P(E){L=E}var T=Math.PI/180;function _(E){return E*T}function M(E,p){return Math.abs(E-p)<=m*Math.max(1,Math.abs(E),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var E=0,p=arguments.length;p--;)E+=arguments[p]*arguments[p];return Math.sqrt(E)})},35600:function(mt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return L},fromMat4:function(){return I},clone:function(){return P},copy:function(){return T},fromValues:function(){return _},set:function(){return M},identity:function(){return E},transpose:function(){return p},invert:function(){return b},adjoint:function(){return y},determinant:function(){return w},multiply:function(){return x},translate:function(){return A},rotate:function(){return O},scale:function(){return B},fromTranslation:function(){return R},fromRotation:function(){return Y},fromScaling:function(){return j},fromMat2d:function(){return V},fromQuat:function(){return nt},normalFromMat4:function(){return ct},projection:function(){return ut},str:function(){return Pt},frob:function(){return Gt},add:function(){return qt},subtract:function(){return Rt},multiplyScalar:function(){return at},multiplyScalarAndAdd:function(){return vt},exactEquals:function(){return ot},equals:function(){return Et},mul:function(){return dt},sub:function(){return X}});var m=d(49685);function L(){var $=new m.WT(9);return m.WT!=Float32Array&&($[1]=0,$[2]=0,$[3]=0,$[5]=0,$[6]=0,$[7]=0),$[0]=1,$[4]=1,$[8]=1,$}function I($,H){return $[0]=H[0],$[1]=H[1],$[2]=H[2],$[3]=H[4],$[4]=H[5],$[5]=H[6],$[6]=H[8],$[7]=H[9],$[8]=H[10],$}function P($){var H=new m.WT(9);return H[0]=$[0],H[1]=$[1],H[2]=$[2],H[3]=$[3],H[4]=$[4],H[5]=$[5],H[6]=$[6],H[7]=$[7],H[8]=$[8],H}function T($,H){return $[0]=H[0],$[1]=H[1],$[2]=H[2],$[3]=H[3],$[4]=H[4],$[5]=H[5],$[6]=H[6],$[7]=H[7],$[8]=H[8],$}function _($,H,f,xt,Mt,Ut,re,zt,ne){var ae=new m.WT(9);return ae[0]=$,ae[1]=H,ae[2]=f,ae[3]=xt,ae[4]=Mt,ae[5]=Ut,ae[6]=re,ae[7]=zt,ae[8]=ne,ae}function M($,H,f,xt,Mt,Ut,re,zt,ne,ae){return $[0]=H,$[1]=f,$[2]=xt,$[3]=Mt,$[4]=Ut,$[5]=re,$[6]=zt,$[7]=ne,$[8]=ae,$}function E($){return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=1,$[5]=0,$[6]=0,$[7]=0,$[8]=1,$}function p($,H){if($===H){var f=H[1],xt=H[2],Mt=H[5];$[1]=H[3],$[2]=H[6],$[3]=f,$[5]=H[7],$[6]=xt,$[7]=Mt}else $[0]=H[0],$[1]=H[3],$[2]=H[6],$[3]=H[1],$[4]=H[4],$[5]=H[7],$[6]=H[2],$[7]=H[5],$[8]=H[8];return $}function b($,H){var f=H[0],xt=H[1],Mt=H[2],Ut=H[3],re=H[4],zt=H[5],ne=H[6],ae=H[7],Dt=H[8],Tt=Dt*re-zt*ae,pt=-Dt*Ut+zt*ne,Q=ae*Ut-re*ne,K=f*Tt+xt*pt+Mt*Q;return K?(K=1/K,$[0]=Tt*K,$[1]=(-Dt*xt+Mt*ae)*K,$[2]=(zt*xt-Mt*re)*K,$[3]=pt*K,$[4]=(Dt*f-Mt*ne)*K,$[5]=(-zt*f+Mt*Ut)*K,$[6]=Q*K,$[7]=(-ae*f+xt*ne)*K,$[8]=(re*f-xt*Ut)*K,$):null}function y($,H){var f=H[0],xt=H[1],Mt=H[2],Ut=H[3],re=H[4],zt=H[5],ne=H[6],ae=H[7],Dt=H[8];return $[0]=re*Dt-zt*ae,$[1]=Mt*ae-xt*Dt,$[2]=xt*zt-Mt*re,$[3]=zt*ne-Ut*Dt,$[4]=f*Dt-Mt*ne,$[5]=Mt*Ut-f*zt,$[6]=Ut*ae-re*ne,$[7]=xt*ne-f*ae,$[8]=f*re-xt*Ut,$}function w($){var H=$[0],f=$[1],xt=$[2],Mt=$[3],Ut=$[4],re=$[5],zt=$[6],ne=$[7],ae=$[8];return H*(ae*Ut-re*ne)+f*(-ae*Mt+re*zt)+xt*(ne*Mt-Ut*zt)}function x($,H,f){var xt=H[0],Mt=H[1],Ut=H[2],re=H[3],zt=H[4],ne=H[5],ae=H[6],Dt=H[7],Tt=H[8],pt=f[0],Q=f[1],K=f[2],lt=f[3],U=f[4],W=f[5],wt=f[6],Lt=f[7],Wt=f[8];return $[0]=pt*xt+Q*re+K*ae,$[1]=pt*Mt+Q*zt+K*Dt,$[2]=pt*Ut+Q*ne+K*Tt,$[3]=lt*xt+U*re+W*ae,$[4]=lt*Mt+U*zt+W*Dt,$[5]=lt*Ut+U*ne+W*Tt,$[6]=wt*xt+Lt*re+Wt*ae,$[7]=wt*Mt+Lt*zt+Wt*Dt,$[8]=wt*Ut+Lt*ne+Wt*Tt,$}function A($,H,f){var xt=H[0],Mt=H[1],Ut=H[2],re=H[3],zt=H[4],ne=H[5],ae=H[6],Dt=H[7],Tt=H[8],pt=f[0],Q=f[1];return $[0]=xt,$[1]=Mt,$[2]=Ut,$[3]=re,$[4]=zt,$[5]=ne,$[6]=pt*xt+Q*re+ae,$[7]=pt*Mt+Q*zt+Dt,$[8]=pt*Ut+Q*ne+Tt,$}function O($,H,f){var xt=H[0],Mt=H[1],Ut=H[2],re=H[3],zt=H[4],ne=H[5],ae=H[6],Dt=H[7],Tt=H[8],pt=Math.sin(f),Q=Math.cos(f);return $[0]=Q*xt+pt*re,$[1]=Q*Mt+pt*zt,$[2]=Q*Ut+pt*ne,$[3]=Q*re-pt*xt,$[4]=Q*zt-pt*Mt,$[5]=Q*ne-pt*Ut,$[6]=ae,$[7]=Dt,$[8]=Tt,$}function B($,H,f){var xt=f[0],Mt=f[1];return $[0]=xt*H[0],$[1]=xt*H[1],$[2]=xt*H[2],$[3]=Mt*H[3],$[4]=Mt*H[4],$[5]=Mt*H[5],$[6]=H[6],$[7]=H[7],$[8]=H[8],$}function R($,H){return $[0]=1,$[1]=0,$[2]=0,$[3]=0,$[4]=1,$[5]=0,$[6]=H[0],$[7]=H[1],$[8]=1,$}function Y($,H){var f=Math.sin(H),xt=Math.cos(H);return $[0]=xt,$[1]=f,$[2]=0,$[3]=-f,$[4]=xt,$[5]=0,$[6]=0,$[7]=0,$[8]=1,$}function j($,H){return $[0]=H[0],$[1]=0,$[2]=0,$[3]=0,$[4]=H[1],$[5]=0,$[6]=0,$[7]=0,$[8]=1,$}function V($,H){return $[0]=H[0],$[1]=H[1],$[2]=0,$[3]=H[2],$[4]=H[3],$[5]=0,$[6]=H[4],$[7]=H[5],$[8]=1,$}function nt($,H){var f=H[0],xt=H[1],Mt=H[2],Ut=H[3],re=f+f,zt=xt+xt,ne=Mt+Mt,ae=f*re,Dt=xt*re,Tt=xt*zt,pt=Mt*re,Q=Mt*zt,K=Mt*ne,lt=Ut*re,U=Ut*zt,W=Ut*ne;return $[0]=1-Tt-K,$[3]=Dt-W,$[6]=pt+U,$[1]=Dt+W,$[4]=1-ae-K,$[7]=Q-lt,$[2]=pt-U,$[5]=Q+lt,$[8]=1-ae-Tt,$}function ct($,H){var f=H[0],xt=H[1],Mt=H[2],Ut=H[3],re=H[4],zt=H[5],ne=H[6],ae=H[7],Dt=H[8],Tt=H[9],pt=H[10],Q=H[11],K=H[12],lt=H[13],U=H[14],W=H[15],wt=f*zt-xt*re,Lt=f*ne-Mt*re,Wt=f*ae-Ut*re,oe=xt*ne-Mt*zt,Se=xt*ae-Ut*zt,Ye=Mt*ae-Ut*ne,te=Dt*lt-Tt*K,ge=Dt*U-pt*K,_e=Dt*W-Q*K,Ne=Tt*U-pt*lt,or=Tt*W-Q*lt,je=pt*W-Q*U,dr=wt*je-Lt*or+Wt*Ne+oe*_e-Se*ge+Ye*te;return dr?(dr=1/dr,$[0]=(zt*je-ne*or+ae*Ne)*dr,$[1]=(ne*_e-re*je-ae*ge)*dr,$[2]=(re*or-zt*_e+ae*te)*dr,$[3]=(Mt*or-xt*je-Ut*Ne)*dr,$[4]=(f*je-Mt*_e+Ut*ge)*dr,$[5]=(xt*_e-f*or-Ut*te)*dr,$[6]=(lt*Ye-U*Se+W*oe)*dr,$[7]=(U*Wt-K*Ye-W*Lt)*dr,$[8]=(K*Se-lt*Wt+W*wt)*dr,$):null}function ut($,H,f){return $[0]=2/H,$[1]=0,$[2]=0,$[3]=0,$[4]=-2/f,$[5]=0,$[6]=-1,$[7]=1,$[8]=1,$}function Pt($){return"mat3("+$[0]+", "+$[1]+", "+$[2]+", "+$[3]+", "+$[4]+", "+$[5]+", "+$[6]+", "+$[7]+", "+$[8]+")"}function Gt($){return Math.hypot($[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],$[8])}function qt($,H,f){return $[0]=H[0]+f[0],$[1]=H[1]+f[1],$[2]=H[2]+f[2],$[3]=H[3]+f[3],$[4]=H[4]+f[4],$[5]=H[5]+f[5],$[6]=H[6]+f[6],$[7]=H[7]+f[7],$[8]=H[8]+f[8],$}function Rt($,H,f){return $[0]=H[0]-f[0],$[1]=H[1]-f[1],$[2]=H[2]-f[2],$[3]=H[3]-f[3],$[4]=H[4]-f[4],$[5]=H[5]-f[5],$[6]=H[6]-f[6],$[7]=H[7]-f[7],$[8]=H[8]-f[8],$}function at($,H,f){return $[0]=H[0]*f,$[1]=H[1]*f,$[2]=H[2]*f,$[3]=H[3]*f,$[4]=H[4]*f,$[5]=H[5]*f,$[6]=H[6]*f,$[7]=H[7]*f,$[8]=H[8]*f,$}function vt($,H,f,xt){return $[0]=H[0]+f[0]*xt,$[1]=H[1]+f[1]*xt,$[2]=H[2]+f[2]*xt,$[3]=H[3]+f[3]*xt,$[4]=H[4]+f[4]*xt,$[5]=H[5]+f[5]*xt,$[6]=H[6]+f[6]*xt,$[7]=H[7]+f[7]*xt,$[8]=H[8]+f[8]*xt,$}function ot($,H){return $[0]===H[0]&&$[1]===H[1]&&$[2]===H[2]&&$[3]===H[3]&&$[4]===H[4]&&$[5]===H[5]&&$[6]===H[6]&&$[7]===H[7]&&$[8]===H[8]}function Et($,H){var f=$[0],xt=$[1],Mt=$[2],Ut=$[3],re=$[4],zt=$[5],ne=$[6],ae=$[7],Dt=$[8],Tt=H[0],pt=H[1],Q=H[2],K=H[3],lt=H[4],U=H[5],W=H[6],wt=H[7],Lt=H[8];return Math.abs(f-Tt)<=m.Ib*Math.max(1,Math.abs(f),Math.abs(Tt))&&Math.abs(xt-pt)<=m.Ib*Math.max(1,Math.abs(xt),Math.abs(pt))&&Math.abs(Mt-Q)<=m.Ib*Math.max(1,Math.abs(Mt),Math.abs(Q))&&Math.abs(Ut-K)<=m.Ib*Math.max(1,Math.abs(Ut),Math.abs(K))&&Math.abs(re-lt)<=m.Ib*Math.max(1,Math.abs(re),Math.abs(lt))&&Math.abs(zt-U)<=m.Ib*Math.max(1,Math.abs(zt),Math.abs(U))&&Math.abs(ne-W)<=m.Ib*Math.max(1,Math.abs(ne),Math.abs(W))&&Math.abs(ae-wt)<=m.Ib*Math.max(1,Math.abs(ae),Math.abs(wt))&&Math.abs(Dt-Lt)<=m.Ib*Math.max(1,Math.abs(Dt),Math.abs(Lt))}var dt=x,X=Rt},31437:function(mt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return L},clone:function(){return I},fromValues:function(){return P},copy:function(){return T},set:function(){return _},add:function(){return M},subtract:function(){return E},multiply:function(){return p},divide:function(){return b},ceil:function(){return y},floor:function(){return w},min:function(){return x},max:function(){return A},round:function(){return O},scale:function(){return B},scaleAndAdd:function(){return R},distance:function(){return Y},squaredDistance:function(){return j},length:function(){return V},squaredLength:function(){return nt},negate:function(){return ct},inverse:function(){return ut},normalize:function(){return Pt},dot:function(){return Gt},cross:function(){return qt},lerp:function(){return Rt},random:function(){return at},transformMat2:function(){return vt},transformMat2d:function(){return ot},transformMat3:function(){return Et},transformMat4:function(){return dt},rotate:function(){return X},angle:function(){return $},zero:function(){return H},str:function(){return f},exactEquals:function(){return xt},equals:function(){return Mt},len:function(){return Ut},sub:function(){return re},mul:function(){return zt},div:function(){return ne},dist:function(){return ae},sqrDist:function(){return Dt},sqrLen:function(){return Tt},forEach:function(){return pt}});var m=d(49685);function L(){var Q=new m.WT(2);return m.WT!=Float32Array&&(Q[0]=0,Q[1]=0),Q}function I(Q){var K=new m.WT(2);return K[0]=Q[0],K[1]=Q[1],K}function P(Q,K){var lt=new m.WT(2);return lt[0]=Q,lt[1]=K,lt}function T(Q,K){return Q[0]=K[0],Q[1]=K[1],Q}function _(Q,K,lt){return Q[0]=K,Q[1]=lt,Q}function M(Q,K,lt){return Q[0]=K[0]+lt[0],Q[1]=K[1]+lt[1],Q}function E(Q,K,lt){return Q[0]=K[0]-lt[0],Q[1]=K[1]-lt[1],Q}function p(Q,K,lt){return Q[0]=K[0]*lt[0],Q[1]=K[1]*lt[1],Q}function b(Q,K,lt){return Q[0]=K[0]/lt[0],Q[1]=K[1]/lt[1],Q}function y(Q,K){return Q[0]=Math.ceil(K[0]),Q[1]=Math.ceil(K[1]),Q}function w(Q,K){return Q[0]=Math.floor(K[0]),Q[1]=Math.floor(K[1]),Q}function x(Q,K,lt){return Q[0]=Math.min(K[0],lt[0]),Q[1]=Math.min(K[1],lt[1]),Q}function A(Q,K,lt){return Q[0]=Math.max(K[0],lt[0]),Q[1]=Math.max(K[1],lt[1]),Q}function O(Q,K){return Q[0]=Math.round(K[0]),Q[1]=Math.round(K[1]),Q}function B(Q,K,lt){return Q[0]=K[0]*lt,Q[1]=K[1]*lt,Q}function R(Q,K,lt,U){return Q[0]=K[0]+lt[0]*U,Q[1]=K[1]+lt[1]*U,Q}function Y(Q,K){var lt=K[0]-Q[0],U=K[1]-Q[1];return Math.hypot(lt,U)}function j(Q,K){var lt=K[0]-Q[0],U=K[1]-Q[1];return lt*lt+U*U}function V(Q){var K=Q[0],lt=Q[1];return Math.hypot(K,lt)}function nt(Q){var K=Q[0],lt=Q[1];return K*K+lt*lt}function ct(Q,K){return Q[0]=-K[0],Q[1]=-K[1],Q}function ut(Q,K){return Q[0]=1/K[0],Q[1]=1/K[1],Q}function Pt(Q,K){var lt=K[0],U=K[1],W=lt*lt+U*U;return W>0&&(W=1/Math.sqrt(W)),Q[0]=K[0]*W,Q[1]=K[1]*W,Q}function Gt(Q,K){return Q[0]*K[0]+Q[1]*K[1]}function qt(Q,K,lt){var U=K[0]*lt[1]-K[1]*lt[0];return Q[0]=Q[1]=0,Q[2]=U,Q}function Rt(Q,K,lt,U){var W=K[0],wt=K[1];return Q[0]=W+U*(lt[0]-W),Q[1]=wt+U*(lt[1]-wt),Q}function at(Q,K){K=K||1;var lt=m.FD()*2*Math.PI;return Q[0]=Math.cos(lt)*K,Q[1]=Math.sin(lt)*K,Q}function vt(Q,K,lt){var U=K[0],W=K[1];return Q[0]=lt[0]*U+lt[2]*W,Q[1]=lt[1]*U+lt[3]*W,Q}function ot(Q,K,lt){var U=K[0],W=K[1];return Q[0]=lt[0]*U+lt[2]*W+lt[4],Q[1]=lt[1]*U+lt[3]*W+lt[5],Q}function Et(Q,K,lt){var U=K[0],W=K[1];return Q[0]=lt[0]*U+lt[3]*W+lt[6],Q[1]=lt[1]*U+lt[4]*W+lt[7],Q}function dt(Q,K,lt){var U=K[0],W=K[1];return Q[0]=lt[0]*U+lt[4]*W+lt[12],Q[1]=lt[1]*U+lt[5]*W+lt[13],Q}function X(Q,K,lt,U){var W=K[0]-lt[0],wt=K[1]-lt[1],Lt=Math.sin(U),Wt=Math.cos(U);return Q[0]=W*Wt-wt*Lt+lt[0],Q[1]=W*Lt+wt*Wt+lt[1],Q}function $(Q,K){var lt=Q[0],U=Q[1],W=K[0],wt=K[1],Lt=Math.sqrt(lt*lt+U*U)*Math.sqrt(W*W+wt*wt),Wt=Lt&&(lt*W+U*wt)/Lt;return Math.acos(Math.min(Math.max(Wt,-1),1))}function H(Q){return Q[0]=0,Q[1]=0,Q}function f(Q){return"vec2("+Q[0]+", "+Q[1]+")"}function xt(Q,K){return Q[0]===K[0]&&Q[1]===K[1]}function Mt(Q,K){var lt=Q[0],U=Q[1],W=K[0],wt=K[1];return Math.abs(lt-W)<=m.Ib*Math.max(1,Math.abs(lt),Math.abs(W))&&Math.abs(U-wt)<=m.Ib*Math.max(1,Math.abs(U),Math.abs(wt))}var Ut=V,re=E,zt=p,ne=b,ae=Y,Dt=j,Tt=nt,pt=function(){var Q=L();return function(K,lt,U,W,wt,Lt){var Wt,oe;for(lt||(lt=2),U||(U=0),W?oe=Math.min(W*lt+U,K.length):oe=K.length,Wt=U;Wt<oe;Wt+=lt)Q[0]=K[Wt],Q[1]=K[Wt+1],wt(Q,Q,Lt),K[Wt]=Q[0],K[Wt+1]=Q[1];return K}}()},77160:function(mt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return L},clone:function(){return I},length:function(){return P},fromValues:function(){return T},copy:function(){return _},set:function(){return M},add:function(){return E},subtract:function(){return p},multiply:function(){return b},divide:function(){return y},ceil:function(){return w},floor:function(){return x},min:function(){return A},max:function(){return O},round:function(){return B},scale:function(){return R},scaleAndAdd:function(){return Y},distance:function(){return j},squaredDistance:function(){return V},squaredLength:function(){return nt},negate:function(){return ct},inverse:function(){return ut},normalize:function(){return Pt},dot:function(){return Gt},cross:function(){return qt},lerp:function(){return Rt},hermite:function(){return at},bezier:function(){return vt},random:function(){return ot},transformMat4:function(){return Et},transformMat3:function(){return dt},transformQuat:function(){return X},rotateX:function(){return $},rotateY:function(){return H},rotateZ:function(){return f},angle:function(){return xt},zero:function(){return Mt},str:function(){return Ut},exactEquals:function(){return re},equals:function(){return zt},sub:function(){return ne},mul:function(){return ae},div:function(){return Dt},dist:function(){return Tt},sqrDist:function(){return pt},len:function(){return Q},sqrLen:function(){return K},forEach:function(){return lt}});var m=d(49685);function L(){var U=new m.WT(3);return m.WT!=Float32Array&&(U[0]=0,U[1]=0,U[2]=0),U}function I(U){var W=new m.WT(3);return W[0]=U[0],W[1]=U[1],W[2]=U[2],W}function P(U){var W=U[0],wt=U[1],Lt=U[2];return Math.hypot(W,wt,Lt)}function T(U,W,wt){var Lt=new m.WT(3);return Lt[0]=U,Lt[1]=W,Lt[2]=wt,Lt}function _(U,W){return U[0]=W[0],U[1]=W[1],U[2]=W[2],U}function M(U,W,wt,Lt){return U[0]=W,U[1]=wt,U[2]=Lt,U}function E(U,W,wt){return U[0]=W[0]+wt[0],U[1]=W[1]+wt[1],U[2]=W[2]+wt[2],U}function p(U,W,wt){return U[0]=W[0]-wt[0],U[1]=W[1]-wt[1],U[2]=W[2]-wt[2],U}function b(U,W,wt){return U[0]=W[0]*wt[0],U[1]=W[1]*wt[1],U[2]=W[2]*wt[2],U}function y(U,W,wt){return U[0]=W[0]/wt[0],U[1]=W[1]/wt[1],U[2]=W[2]/wt[2],U}function w(U,W){return U[0]=Math.ceil(W[0]),U[1]=Math.ceil(W[1]),U[2]=Math.ceil(W[2]),U}function x(U,W){return U[0]=Math.floor(W[0]),U[1]=Math.floor(W[1]),U[2]=Math.floor(W[2]),U}function A(U,W,wt){return U[0]=Math.min(W[0],wt[0]),U[1]=Math.min(W[1],wt[1]),U[2]=Math.min(W[2],wt[2]),U}function O(U,W,wt){return U[0]=Math.max(W[0],wt[0]),U[1]=Math.max(W[1],wt[1]),U[2]=Math.max(W[2],wt[2]),U}function B(U,W){return U[0]=Math.round(W[0]),U[1]=Math.round(W[1]),U[2]=Math.round(W[2]),U}function R(U,W,wt){return U[0]=W[0]*wt,U[1]=W[1]*wt,U[2]=W[2]*wt,U}function Y(U,W,wt,Lt){return U[0]=W[0]+wt[0]*Lt,U[1]=W[1]+wt[1]*Lt,U[2]=W[2]+wt[2]*Lt,U}function j(U,W){var wt=W[0]-U[0],Lt=W[1]-U[1],Wt=W[2]-U[2];return Math.hypot(wt,Lt,Wt)}function V(U,W){var wt=W[0]-U[0],Lt=W[1]-U[1],Wt=W[2]-U[2];return wt*wt+Lt*Lt+Wt*Wt}function nt(U){var W=U[0],wt=U[1],Lt=U[2];return W*W+wt*wt+Lt*Lt}function ct(U,W){return U[0]=-W[0],U[1]=-W[1],U[2]=-W[2],U}function ut(U,W){return U[0]=1/W[0],U[1]=1/W[1],U[2]=1/W[2],U}function Pt(U,W){var wt=W[0],Lt=W[1],Wt=W[2],oe=wt*wt+Lt*Lt+Wt*Wt;return oe>0&&(oe=1/Math.sqrt(oe)),U[0]=W[0]*oe,U[1]=W[1]*oe,U[2]=W[2]*oe,U}function Gt(U,W){return U[0]*W[0]+U[1]*W[1]+U[2]*W[2]}function qt(U,W,wt){var Lt=W[0],Wt=W[1],oe=W[2],Se=wt[0],Ye=wt[1],te=wt[2];return U[0]=Wt*te-oe*Ye,U[1]=oe*Se-Lt*te,U[2]=Lt*Ye-Wt*Se,U}function Rt(U,W,wt,Lt){var Wt=W[0],oe=W[1],Se=W[2];return U[0]=Wt+Lt*(wt[0]-Wt),U[1]=oe+Lt*(wt[1]-oe),U[2]=Se+Lt*(wt[2]-Se),U}function at(U,W,wt,Lt,Wt,oe){var Se=oe*oe,Ye=Se*(2*oe-3)+1,te=Se*(oe-2)+oe,ge=Se*(oe-1),_e=Se*(3-2*oe);return U[0]=W[0]*Ye+wt[0]*te+Lt[0]*ge+Wt[0]*_e,U[1]=W[1]*Ye+wt[1]*te+Lt[1]*ge+Wt[1]*_e,U[2]=W[2]*Ye+wt[2]*te+Lt[2]*ge+Wt[2]*_e,U}function vt(U,W,wt,Lt,Wt,oe){var Se=1-oe,Ye=Se*Se,te=oe*oe,ge=Ye*Se,_e=3*oe*Ye,Ne=3*te*Se,or=te*oe;return U[0]=W[0]*ge+wt[0]*_e+Lt[0]*Ne+Wt[0]*or,U[1]=W[1]*ge+wt[1]*_e+Lt[1]*Ne+Wt[1]*or,U[2]=W[2]*ge+wt[2]*_e+Lt[2]*Ne+Wt[2]*or,U}function ot(U,W){W=W||1;var wt=m.FD()*2*Math.PI,Lt=m.FD()*2-1,Wt=Math.sqrt(1-Lt*Lt)*W;return U[0]=Math.cos(wt)*Wt,U[1]=Math.sin(wt)*Wt,U[2]=Lt*W,U}function Et(U,W,wt){var Lt=W[0],Wt=W[1],oe=W[2],Se=wt[3]*Lt+wt[7]*Wt+wt[11]*oe+wt[15];return Se=Se||1,U[0]=(wt[0]*Lt+wt[4]*Wt+wt[8]*oe+wt[12])/Se,U[1]=(wt[1]*Lt+wt[5]*Wt+wt[9]*oe+wt[13])/Se,U[2]=(wt[2]*Lt+wt[6]*Wt+wt[10]*oe+wt[14])/Se,U}function dt(U,W,wt){var Lt=W[0],Wt=W[1],oe=W[2];return U[0]=Lt*wt[0]+Wt*wt[3]+oe*wt[6],U[1]=Lt*wt[1]+Wt*wt[4]+oe*wt[7],U[2]=Lt*wt[2]+Wt*wt[5]+oe*wt[8],U}function X(U,W,wt){var Lt=wt[0],Wt=wt[1],oe=wt[2],Se=wt[3],Ye=W[0],te=W[1],ge=W[2],_e=Wt*ge-oe*te,Ne=oe*Ye-Lt*ge,or=Lt*te-Wt*Ye,je=Wt*or-oe*Ne,dr=oe*_e-Lt*or,kr=Lt*Ne-Wt*_e,Br=Se*2;return _e*=Br,Ne*=Br,or*=Br,je*=2,dr*=2,kr*=2,U[0]=Ye+_e+je,U[1]=te+Ne+dr,U[2]=ge+or+kr,U}function $(U,W,wt,Lt){var Wt=[],oe=[];return Wt[0]=W[0]-wt[0],Wt[1]=W[1]-wt[1],Wt[2]=W[2]-wt[2],oe[0]=Wt[0],oe[1]=Wt[1]*Math.cos(Lt)-Wt[2]*Math.sin(Lt),oe[2]=Wt[1]*Math.sin(Lt)+Wt[2]*Math.cos(Lt),U[0]=oe[0]+wt[0],U[1]=oe[1]+wt[1],U[2]=oe[2]+wt[2],U}function H(U,W,wt,Lt){var Wt=[],oe=[];return Wt[0]=W[0]-wt[0],Wt[1]=W[1]-wt[1],Wt[2]=W[2]-wt[2],oe[0]=Wt[2]*Math.sin(Lt)+Wt[0]*Math.cos(Lt),oe[1]=Wt[1],oe[2]=Wt[2]*Math.cos(Lt)-Wt[0]*Math.sin(Lt),U[0]=oe[0]+wt[0],U[1]=oe[1]+wt[1],U[2]=oe[2]+wt[2],U}function f(U,W,wt,Lt){var Wt=[],oe=[];return Wt[0]=W[0]-wt[0],Wt[1]=W[1]-wt[1],Wt[2]=W[2]-wt[2],oe[0]=Wt[0]*Math.cos(Lt)-Wt[1]*Math.sin(Lt),oe[1]=Wt[0]*Math.sin(Lt)+Wt[1]*Math.cos(Lt),oe[2]=Wt[2],U[0]=oe[0]+wt[0],U[1]=oe[1]+wt[1],U[2]=oe[2]+wt[2],U}function xt(U,W){var wt=U[0],Lt=U[1],Wt=U[2],oe=W[0],Se=W[1],Ye=W[2],te=Math.sqrt(wt*wt+Lt*Lt+Wt*Wt),ge=Math.sqrt(oe*oe+Se*Se+Ye*Ye),_e=te*ge,Ne=_e&&Gt(U,W)/_e;return Math.acos(Math.min(Math.max(Ne,-1),1))}function Mt(U){return U[0]=0,U[1]=0,U[2]=0,U}function Ut(U){return"vec3("+U[0]+", "+U[1]+", "+U[2]+")"}function re(U,W){return U[0]===W[0]&&U[1]===W[1]&&U[2]===W[2]}function zt(U,W){var wt=U[0],Lt=U[1],Wt=U[2],oe=W[0],Se=W[1],Ye=W[2];return Math.abs(wt-oe)<=m.Ib*Math.max(1,Math.abs(wt),Math.abs(oe))&&Math.abs(Lt-Se)<=m.Ib*Math.max(1,Math.abs(Lt),Math.abs(Se))&&Math.abs(Wt-Ye)<=m.Ib*Math.max(1,Math.abs(Wt),Math.abs(Ye))}var ne=p,ae=b,Dt=y,Tt=j,pt=V,Q=P,K=nt,lt=function(){var U=L();return function(W,wt,Lt,Wt,oe,Se){var Ye,te;for(wt||(wt=3),Lt||(Lt=0),Wt?te=Math.min(Wt*wt+Lt,W.length):te=W.length,Ye=Lt;Ye<te;Ye+=wt)U[0]=W[Ye],U[1]=W[Ye+1],U[2]=W[Ye+2],oe(U,U,Se),W[Ye]=U[0],W[Ye+1]=U[1],W[Ye+2]=U[2];return W}}()},28282:function(mt,S,d){var m=d(82354);mt.exports={Graph:m.Graph,json:d(28974),alg:d(12440),version:m.version}},2842:function(mt,S,d){var m=d(89126);mt.exports=L;function L(I){var P={},T=[],_;function M(E){m.has(P,E)||(P[E]=!0,_.push(E),m.each(I.successors(E),M),m.each(I.predecessors(E),M))}return m.each(I.nodes(),function(E){_=[],M(E),_.length&&T.push(_)}),T}},53984:function(mt,S,d){var m=d(89126);mt.exports=L;function L(P,T,_){m.isArray(T)||(T=[T]);var M=(P.isDirected()?P.successors:P.neighbors).bind(P),E=[],p={};return m.each(T,function(b){if(!P.hasNode(b))throw new Error("Graph does not have node: "+b);I(P,b,_==="post",p,M,E)}),E}function I(P,T,_,M,E,p){m.has(M,T)||(M[T]=!0,_||p.push(T),m.each(E(T),function(b){I(P,b,_,M,E,p)}),_&&p.push(T))}},84847:function(mt,S,d){var m=d(63763),L=d(89126);mt.exports=I;function I(P,T,_){return L.transform(P.nodes(),function(M,E){M[E]=m(P,E,T,_)},{})}},63763:function(mt,S,d){var m=d(89126),L=d(75639);mt.exports=P;var I=m.constant(1);function P(_,M,E,p){return T(_,String(M),E||I,p||function(b){return _.outEdges(b)})}function T(_,M,E,p){var b={},y=new L,w,x,A=function(O){var B=O.v!==w?O.v:O.w,R=b[B],Y=E(O),j=x.distance+Y;if(Y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+O+" Weight: "+Y);j<R.distance&&(R.distance=j,R.predecessor=w,y.decrease(B,j))};for(_.nodes().forEach(function(O){var B=O===M?0:Number.POSITIVE_INFINITY;b[O]={distance:B},y.add(O,B)});y.size()>0&&(w=y.removeMin(),x=b[w],x.distance!==Number.POSITIVE_INFINITY);)p(w).forEach(A);return b}},9096:function(mt,S,d){var m=d(89126),L=d(5023);mt.exports=I;function I(P){return m.filter(L(P),function(T){return T.length>1||T.length===1&&P.hasEdge(T[0],T[0])})}},38924:function(mt,S,d){var m=d(89126);mt.exports=I;var L=m.constant(1);function I(T,_,M){return P(T,_||L,M||function(E){return T.outEdges(E)})}function P(T,_,M){var E={},p=T.nodes();return p.forEach(function(b){E[b]={},E[b][b]={distance:0},p.forEach(function(y){b!==y&&(E[b][y]={distance:Number.POSITIVE_INFINITY})}),M(b).forEach(function(y){var w=y.v===b?y.w:y.v,x=_(y);E[b][w]={distance:x,predecessor:b}})}),p.forEach(function(b){var y=E[b];p.forEach(function(w){var x=E[w];p.forEach(function(A){var O=x[b],B=y[A],R=x[A],Y=O.distance+B.distance;Y<R.distance&&(R.distance=Y,R.predecessor=B.predecessor)})})}),E}},12440:function(mt,S,d){mt.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(mt,S,d){var m=d(2166);mt.exports=L;function L(I){try{m(I)}catch(P){if(P instanceof m.CycleException)return!1;throw P}return!0}},58828:function(mt,S,d){var m=d(53984);mt.exports=L;function L(I,P){return m(I,P,"post")}},92648:function(mt,S,d){var m=d(53984);mt.exports=L;function L(I,P){return m(I,P,"pre")}},80514:function(mt,S,d){var m=d(89126),L=d(30771),I=d(75639);mt.exports=P;function P(T,_){var M=new L,E={},p=new I,b;function y(x){var A=x.v===b?x.w:x.v,O=p.priority(A);if(O!==void 0){var B=_(x);B<O&&(E[A]=b,p.decrease(A,B))}}if(T.nodeCount()===0)return M;m.each(T.nodes(),function(x){p.add(x,Number.POSITIVE_INFINITY),M.setNode(x)}),p.decrease(T.nodes()[0],0);for(var w=!1;p.size()>0;){if(b=p.removeMin(),m.has(E,b))M.setEdge(b,E[b]);else{if(w)throw new Error("Input graph is not connected: "+T);w=!0}T.nodeEdges(b).forEach(y)}return M}},5023:function(mt,S,d){var m=d(89126);mt.exports=L;function L(I){var P=0,T=[],_={},M=[];function E(p){var b=_[p]={onStack:!0,lowlink:P,index:P++};if(T.push(p),I.successors(p).forEach(function(x){m.has(_,x)?_[x].onStack&&(b.lowlink=Math.min(b.lowlink,_[x].index)):(E(x),b.lowlink=Math.min(b.lowlink,_[x].lowlink))}),b.lowlink===b.index){var y=[],w;do w=T.pop(),_[w].onStack=!1,y.push(w);while(p!==w);M.push(y)}}return I.nodes().forEach(function(p){m.has(_,p)||E(p)}),M}},2166:function(mt,S,d){var m=d(89126);mt.exports=L,L.CycleException=I;function L(P){var T={},_={},M=[];function E(p){if(m.has(_,p))throw new I;m.has(T,p)||(_[p]=!0,T[p]=!0,m.each(P.predecessors(p),E),delete _[p],M.push(p))}if(m.each(P.sinks(),E),m.size(T)!==P.nodeCount())throw new I;return M}function I(){}I.prototype=new Error},75639:function(mt,S,d){var m=d(89126);mt.exports=L;function L(){this._arr=[],this._keyIndices={}}L.prototype.size=function(){return this._arr.length},L.prototype.keys=function(){return this._arr.map(function(I){return I.key})},L.prototype.has=function(I){return m.has(this._keyIndices,I)},L.prototype.priority=function(I){var P=this._keyIndices[I];if(P!==void 0)return this._arr[P].priority},L.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},L.prototype.add=function(I,P){var T=this._keyIndices;if(I=String(I),!m.has(T,I)){var _=this._arr,M=_.length;return T[I]=M,_.push({key:I,priority:P}),this._decrease(M),!0}return!1},L.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var I=this._arr.pop();return delete this._keyIndices[I.key],this._heapify(0),I.key},L.prototype.decrease=function(I,P){var T=this._keyIndices[I];if(P>this._arr[T].priority)throw new Error("New priority is greater than current priority. Key: "+I+" Old: "+this._arr[T].priority+" New: "+P);this._arr[T].priority=P,this._decrease(T)},L.prototype._heapify=function(I){var P=this._arr,T=2*I,_=T+1,M=I;T<P.length&&(M=P[T].priority<P[M].priority?T:M,_<P.length&&(M=P[_].priority<P[M].priority?_:M),M!==I&&(this._swap(I,M),this._heapify(M)))},L.prototype._decrease=function(I){for(var P=this._arr,T=P[I].priority,_;I!==0&&(_=I>>1,!(P[_].priority<T));)this._swap(I,_),I=_},L.prototype._swap=function(I,P){var T=this._arr,_=this._keyIndices,M=T[I],E=T[P];T[I]=E,T[P]=M,_[E.key]=I,_[M.key]=P}},30771:function(mt,S,d){"use strict";var m=d(89126);mt.exports=T;var L="\0",I="\0",P="";function T(y){this._isDirected=m.has(y,"directed")?y.directed:!0,this._isMultigraph=m.has(y,"multigraph")?y.multigraph:!1,this._isCompound=m.has(y,"compound")?y.compound:!1,this._label=void 0,this._defaultNodeLabelFn=m.constant(void 0),this._defaultEdgeLabelFn=m.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[I]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}T.prototype._nodeCount=0,T.prototype._edgeCount=0,T.prototype.isDirected=function(){return this._isDirected},T.prototype.isMultigraph=function(){return this._isMultigraph},T.prototype.isCompound=function(){return this._isCompound},T.prototype.setGraph=function(y){return this._label=y,this},T.prototype.graph=function(){return this._label},T.prototype.setDefaultNodeLabel=function(y){return m.isFunction(y)||(y=m.constant(y)),this._defaultNodeLabelFn=y,this},T.prototype.nodeCount=function(){return this._nodeCount},T.prototype.nodes=function(){return m.keys(this._nodes)},T.prototype.sources=function(){var y=this;return m.filter(this.nodes(),function(w){return m.isEmpty(y._in[w])})},T.prototype.sinks=function(){var y=this;return m.filter(this.nodes(),function(w){return m.isEmpty(y._out[w])})},T.prototype.setNodes=function(y,w){var x=arguments,A=this;return m.each(y,function(O){x.length>1?A.setNode(O,w):A.setNode(O)}),this},T.prototype.setNode=function(y,w){return m.has(this._nodes,y)?(arguments.length>1&&(this._nodes[y]=w),this):(this._nodes[y]=arguments.length>1?w:this._defaultNodeLabelFn(y),this._isCompound&&(this._parent[y]=I,this._children[y]={},this._children[I][y]=!0),this._in[y]={},this._preds[y]={},this._out[y]={},this._sucs[y]={},++this._nodeCount,this)},T.prototype.node=function(y){return this._nodes[y]},T.prototype.hasNode=function(y){return m.has(this._nodes,y)},T.prototype.removeNode=function(y){var w=this;if(m.has(this._nodes,y)){var x=function(A){w.removeEdge(w._edgeObjs[A])};delete this._nodes[y],this._isCompound&&(this._removeFromParentsChildList(y),delete this._parent[y],m.each(this.children(y),function(A){w.setParent(A)}),delete this._children[y]),m.each(m.keys(this._in[y]),x),delete this._in[y],delete this._preds[y],m.each(m.keys(this._out[y]),x),delete this._out[y],delete this._sucs[y],--this._nodeCount}return this},T.prototype.setParent=function(y,w){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(m.isUndefined(w))w=I;else{w+="";for(var x=w;!m.isUndefined(x);x=this.parent(x))if(x===y)throw new Error("Setting "+w+" as parent of "+y+" would create a cycle");this.setNode(w)}return this.setNode(y),this._removeFromParentsChildList(y),this._parent[y]=w,this._children[w][y]=!0,this},T.prototype._removeFromParentsChildList=function(y){delete this._children[this._parent[y]][y]},T.prototype.parent=function(y){if(this._isCompound){var w=this._parent[y];if(w!==I)return w}},T.prototype.children=function(y){if(m.isUndefined(y)&&(y=I),this._isCompound){var w=this._children[y];if(w)return m.keys(w)}else{if(y===I)return this.nodes();if(this.hasNode(y))return[]}},T.prototype.predecessors=function(y){var w=this._preds[y];if(w)return m.keys(w)},T.prototype.successors=function(y){var w=this._sucs[y];if(w)return m.keys(w)},T.prototype.neighbors=function(y){var w=this.predecessors(y);if(w)return m.union(w,this.successors(y))},T.prototype.isLeaf=function(y){var w;return this.isDirected()?w=this.successors(y):w=this.neighbors(y),w.length===0},T.prototype.filterNodes=function(y){var w=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});w.setGraph(this.graph());var x=this;m.each(this._nodes,function(B,R){y(R)&&w.setNode(R,B)}),m.each(this._edgeObjs,function(B){w.hasNode(B.v)&&w.hasNode(B.w)&&w.setEdge(B,x.edge(B))});var A={};function O(B){var R=x.parent(B);return R===void 0||w.hasNode(R)?(A[B]=R,R):R in A?A[R]:O(R)}return this._isCompound&&m.each(w.nodes(),function(B){w.setParent(B,O(B))}),w},T.prototype.setDefaultEdgeLabel=function(y){return m.isFunction(y)||(y=m.constant(y)),this._defaultEdgeLabelFn=y,this},T.prototype.edgeCount=function(){return this._edgeCount},T.prototype.edges=function(){return m.values(this._edgeObjs)},T.prototype.setPath=function(y,w){var x=this,A=arguments;return m.reduce(y,function(O,B){return A.length>1?x.setEdge(O,B,w):x.setEdge(O,B),B}),this},T.prototype.setEdge=function(){var y,w,x,A,O=!1,B=arguments[0];typeof B=="object"&&B!==null&&"v"in B?(y=B.v,w=B.w,x=B.name,arguments.length===2&&(A=arguments[1],O=!0)):(y=B,w=arguments[1],x=arguments[3],arguments.length>2&&(A=arguments[2],O=!0)),y=""+y,w=""+w,m.isUndefined(x)||(x=""+x);var R=E(this._isDirected,y,w,x);if(m.has(this._edgeLabels,R))return O&&(this._edgeLabels[R]=A),this;if(!m.isUndefined(x)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(y),this.setNode(w),this._edgeLabels[R]=O?A:this._defaultEdgeLabelFn(y,w,x);var Y=p(this._isDirected,y,w,x);return y=Y.v,w=Y.w,Object.freeze(Y),this._edgeObjs[R]=Y,_(this._preds[w],y),_(this._sucs[y],w),this._in[w][R]=Y,this._out[y][R]=Y,this._edgeCount++,this},T.prototype.edge=function(y,w,x){var A=arguments.length===1?b(this._isDirected,arguments[0]):E(this._isDirected,y,w,x);return this._edgeLabels[A]},T.prototype.hasEdge=function(y,w,x){var A=arguments.length===1?b(this._isDirected,arguments[0]):E(this._isDirected,y,w,x);return m.has(this._edgeLabels,A)},T.prototype.removeEdge=function(y,w,x){var A=arguments.length===1?b(this._isDirected,arguments[0]):E(this._isDirected,y,w,x),O=this._edgeObjs[A];return O&&(y=O.v,w=O.w,delete this._edgeLabels[A],delete this._edgeObjs[A],M(this._preds[w],y),M(this._sucs[y],w),delete this._in[w][A],delete this._out[y][A],this._edgeCount--),this},T.prototype.inEdges=function(y,w){var x=this._in[y];if(x){var A=m.values(x);return w?m.filter(A,function(O){return O.v===w}):A}},T.prototype.outEdges=function(y,w){var x=this._out[y];if(x){var A=m.values(x);return w?m.filter(A,function(O){return O.w===w}):A}},T.prototype.nodeEdges=function(y,w){var x=this.inEdges(y,w);if(x)return x.concat(this.outEdges(y,w))};function _(y,w){y[w]?y[w]++:y[w]=1}function M(y,w){--y[w]||delete y[w]}function E(y,w,x,A){var O=""+w,B=""+x;if(!y&&O>B){var R=O;O=B,B=R}return O+P+B+P+(m.isUndefined(A)?L:A)}function p(y,w,x,A){var O=""+w,B=""+x;if(!y&&O>B){var R=O;O=B,B=R}var Y={v:O,w:B};return A&&(Y.name=A),Y}function b(y,w){return E(y,w.v,w.w,w.name)}},82354:function(mt,S,d){mt.exports={Graph:d(30771),version:d(49631)}},28974:function(mt,S,d){var m=d(89126),L=d(30771);mt.exports={write:I,read:_};function I(M){var E={options:{directed:M.isDirected(),multigraph:M.isMultigraph(),compound:M.isCompound()},nodes:P(M),edges:T(M)};return m.isUndefined(M.graph())||(E.value=m.clone(M.graph())),E}function P(M){return m.map(M.nodes(),function(E){var p=M.node(E),b=M.parent(E),y={v:E};return m.isUndefined(p)||(y.value=p),m.isUndefined(b)||(y.parent=b),y})}function T(M){return m.map(M.edges(),function(E){var p=M.edge(E),b={v:E.v,w:E.w};return m.isUndefined(E.name)||(b.name=E.name),m.isUndefined(p)||(b.value=p),b})}function _(M){var E=new L(M.options).setGraph(M.value);return m.each(M.nodes,function(p){E.setNode(p.v,p.value),p.parent&&E.setParent(p.v,p.parent)}),m.each(M.edges,function(p){E.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),E}},89126:function(mt,S,d){var m;try{m={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(L){}m||(m=window._),mt.exports=m},49631:function(mt){mt.exports="2.1.8"},38186:function(mt){var S=[],d=[],m="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function L(P,T){if(T=T||{},P===void 0)throw new Error(m);var _=T.prepend===!0?"prepend":"append",M=T.container!==void 0?T.container:document.querySelector("head"),E=S.indexOf(M);E===-1&&(E=S.push(M)-1,d[E]={});var p;return d[E]!==void 0&&d[E][_]!==void 0?p=d[E][_]:(p=d[E][_]=I(),_==="prepend"?M.insertBefore(p,M.childNodes[0]):M.appendChild(p)),P.charCodeAt(0)===65279&&(P=P.substr(1,P.length)),p.styleSheet?p.styleSheet.cssText+=P:p.textContent+=P,p}function I(){var P=document.createElement("style");return P.setAttribute("type","text/css"),P}mt.exports=L,mt.exports.insertCss=L},35171:function(mt){mt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},47443:function(mt,S,d){var m=d(42118);function L(I,P){var T=I==null?0:I.length;return!!T&&m(I,P,0)>-1}mt.exports=L},1196:function(mt){function S(d,m,L){for(var I=-1,P=d==null?0:d.length;++I<P;)if(L(m,d[I]))return!0;return!1}mt.exports=S},62663:function(mt){function S(d,m,L,I){var P=-1,T=d==null?0:d.length;for(I&&T&&(L=d[++P]);++P<T;)L=m(L,d[P],P,d);return L}mt.exports=S},48983:function(mt,S,d){var m=d(40371),L=m("length");mt.exports=L},56029:function(mt,S,d){var m=d(33448);function L(I,P,T){for(var _=-1,M=I.length;++_<M;){var E=I[_],p=P(E);if(p!=null&&(b===void 0?p===p&&!m(p):T(p,b)))var b=p,y=E}return y}mt.exports=L},80760:function(mt,S,d){var m=d(89881);function L(I,P){var T=[];return m(I,function(_,M,E){P(_,M,E)&&T.push(_)}),T}mt.exports=L},41848:function(mt){function S(d,m,L,I){for(var P=d.length,T=L+(I?1:-1);I?T--:++T<P;)if(m(d[T],T,d))return T;return-1}mt.exports=S},21078:function(mt,S,d){var m=d(62488),L=d(37285);function I(P,T,_,M,E){var p=-1,b=P.length;for(_||(_=L),E||(E=[]);++p<b;){var y=P[p];T>0&&_(y)?T>1?I(y,T-1,_,M,E):m(E,y):M||(E[E.length]=y)}return E}mt.exports=I},53325:function(mt){function S(d,m){return d>m}mt.exports=S},78565:function(mt){var S=Object.prototype,d=S.hasOwnProperty;function m(L,I){return L!=null&&d.call(L,I)}mt.exports=m},42118:function(mt,S,d){var m=d(41848),L=d(62722),I=d(42351);function P(T,_,M){return _===_?I(T,_,M):m(T,L,M)}mt.exports=P},62722:function(mt){function S(d){return d!==d}mt.exports=S},70433:function(mt){function S(d,m){return d<m}mt.exports=S},82689:function(mt,S,d){var m=d(29932),L=d(97786),I=d(67206),P=d(69199),T=d(71131),_=d(7518),M=d(85022),E=d(6557),p=d(1469);function b(y,w,x){w.length?w=m(w,function(B){return p(B)?function(R){return L(R,B.length===1?B[0]:B)}:B}):w=[E];var A=-1;w=m(w,_(I));var O=P(y,function(B,R,Y){var j=m(w,function(V){return V(B)});return{criteria:j,index:++A,value:B}});return T(O,function(B,R){return M(B,R,x)})}mt.exports=b},25970:function(mt,S,d){var m=d(63012),L=d(79095);function I(P,T){return m(P,T,function(_,M){return L(P,M)})}mt.exports=I},63012:function(mt,S,d){var m=d(97786),L=d(10611),I=d(71811);function P(T,_,M){for(var E=-1,p=_.length,b={};++E<p;){var y=_[E],w=m(T,y);M(w,y)&&L(b,I(y,T),w)}return b}mt.exports=P},40098:function(mt){var S=Math.ceil,d=Math.max;function m(L,I,P,T){for(var _=-1,M=d(S((I-L)/(P||1)),0),E=Array(M);M--;)E[T?M:++_]=L,L+=P;return E}mt.exports=m},10107:function(mt){function S(d,m,L,I,P){return P(d,function(T,_,M){L=I?(I=!1,T):m(L,T,_,M)}),L}mt.exports=S},10611:function(mt,S,d){var m=d(34865),L=d(71811),I=d(65776),P=d(13218),T=d(40327);function _(M,E,p,b){if(!P(M))return M;E=L(E,M);for(var y=-1,w=E.length,x=w-1,A=M;A!=null&&++y<w;){var O=T(E[y]),B=p;if(O==="__proto__"||O==="constructor"||O==="prototype")return M;if(y!=x){var R=A[O];B=b?b(R,O,A):void 0,B===void 0&&(B=P(R)?R:I(E[y+1])?[]:{})}m(A,O,B),A=A[O]}return M}mt.exports=_},71131:function(mt){function S(d,m){var L=d.length;for(d.sort(m);L--;)d[L]=d[L].value;return d}mt.exports=S},45652:function(mt,S,d){var m=d(88668),L=d(47443),I=d(1196),P=d(74757),T=d(23593),_=d(21814),M=200;function E(p,b,y){var w=-1,x=L,A=p.length,O=!0,B=[],R=B;if(y)O=!1,x=I;else if(A>=M){var Y=b?null:T(p);if(Y)return _(Y);O=!1,x=P,R=new m}else R=b?[]:B;t:for(;++w<A;){var j=p[w],V=b?b(j):j;if(j=y||j!==0?j:0,O&&V===V){for(var nt=R.length;nt--;)if(R[nt]===V)continue t;b&&R.push(V),B.push(j)}else x(R,V,y)||(R!==B&&R.push(V),B.push(j))}return B}mt.exports=E},47415:function(mt,S,d){var m=d(29932);function L(I,P){return m(P,function(T){return I[T]})}mt.exports=L},1757:function(mt){function S(d,m,L){for(var I=-1,P=d.length,T=m.length,_={};++I<P;){var M=I<T?m[I]:void 0;L(_,d[I],M)}return _}mt.exports=S},26393:function(mt,S,d){var m=d(33448);function L(I,P){if(I!==P){var T=I!==void 0,_=I===null,M=I===I,E=m(I),p=P!==void 0,b=P===null,y=P===P,w=m(P);if(!b&&!w&&!E&&I>P||E&&p&&y&&!b&&!w||_&&p&&y||!T&&y||!M)return 1;if(!_&&!E&&!w&&I<P||w&&T&&M&&!_&&!E||b&&T&&M||!p&&M||!y)return-1}return 0}mt.exports=L},85022:function(mt,S,d){var m=d(26393);function L(I,P,T){for(var _=-1,M=I.criteria,E=P.criteria,p=M.length,b=T.length;++_<p;){var y=m(M[_],E[_]);if(y){if(_>=b)return y;var w=T[_];return y*(w=="desc"?-1:1)}}return I.index-P.index}mt.exports=L},67740:function(mt,S,d){var m=d(67206),L=d(98612),I=d(3674);function P(T){return function(_,M,E){var p=Object(_);if(!L(_)){var b=m(M,3);_=I(_),M=function(w){return b(p[w],w,p)}}var y=T(_,M,E);return y>-1?p[b?_[y]:y]:void 0}}mt.exports=P},47445:function(mt,S,d){var m=d(40098),L=d(16612),I=d(18601);function P(T){return function(_,M,E){return E&&typeof E!="number"&&L(_,M,E)&&(M=E=void 0),_=I(_),M===void 0?(M=_,_=0):M=I(M),E=E===void 0?_<M?1:-1:I(E),m(_,M,E,T)}}mt.exports=P},23593:function(mt,S,d){var m=d(58525),L=d(50308),I=d(21814),P=1/0,T=m&&1/I(new m([,-0]))[1]==P?function(_){return new m(_)}:L;mt.exports=T},99021:function(mt,S,d){var m=d(85564),L=d(45357),I=d(30061);function P(T){return I(L(T,void 0,m),T+"")}mt.exports=P},62689:function(mt){var S="\\ud800-\\udfff",d="\\u0300-\\u036f",m="\\ufe20-\\ufe2f",L="\\u20d0-\\u20ff",I=d+m+L,P="\\ufe0e\\ufe0f",T="\\u200d",_=RegExp("["+T+S+I+P+"]");function M(E){return _.test(E)}mt.exports=M},37285:function(mt,S,d){var m=d(62705),L=d(35694),I=d(1469),P=m?m.isConcatSpreadable:void 0;function T(_){return I(_)||L(_)||!!(P&&_&&_[P])}mt.exports=T},42351:function(mt){function S(d,m,L){for(var I=L-1,P=d.length;++I<P;)if(d[I]===m)return I;return-1}mt.exports=S},88016:function(mt,S,d){var m=d(48983),L=d(62689),I=d(21903);function P(T){return L(T)?I(T):m(T)}mt.exports=P},21903:function(mt){var S="\\ud800-\\udfff",d="\\u0300-\\u036f",m="\\ufe20-\\ufe2f",L="\\u20d0-\\u20ff",I=d+m+L,P="\\ufe0e\\ufe0f",T="["+S+"]",_="["+I+"]",M="\\ud83c[\\udffb-\\udfff]",E="(?:"+_+"|"+M+")",p="[^"+S+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",x=E+"?",A="["+P+"]?",O="(?:"+w+"(?:"+[p,b,y].join("|")+")"+A+x+")*",B=A+x+O,R="(?:"+[p+_+"?",_,b,y,T].join("|")+")",Y=RegExp(M+"(?="+M+")|"+R+B,"g");function j(V){for(var nt=Y.lastIndex=0;Y.test(V);)++nt;return nt}mt.exports=j},66678:function(mt,S,d){var m=d(85990),L=4;function I(P){return m(P,L)}mt.exports=I},91747:function(mt,S,d){var m=d(5976),L=d(77813),I=d(16612),P=d(81704),T=Object.prototype,_=T.hasOwnProperty,M=m(function(E,p){E=Object(E);var b=-1,y=p.length,w=y>2?p[2]:void 0;for(w&&I(p[0],p[1],w)&&(y=1);++b<y;)for(var x=p[b],A=P(x),O=-1,B=A.length;++O<B;){var R=A[O],Y=E[R];(Y===void 0||L(Y,T[R])&&!_.call(E,R))&&(E[R]=x[R])}return E});mt.exports=M},63105:function(mt,S,d){var m=d(34963),L=d(80760),I=d(67206),P=d(1469);function T(_,M){var E=P(_)?m:L;return E(_,I(M,3))}mt.exports=T},13311:function(mt,S,d){var m=d(67740),L=d(30998),I=m(L);mt.exports=I},30998:function(mt,S,d){var m=d(41848),L=d(67206),I=d(40554),P=Math.max;function T(_,M,E){var p=_==null?0:_.length;if(!p)return-1;var b=E==null?0:I(E);return b<0&&(b=P(p+b,0)),m(_,L(M,3),b)}mt.exports=T},85564:function(mt,S,d){var m=d(21078);function L(I){var P=I==null?0:I.length;return P?m(I,1):[]}mt.exports=L},62620:function(mt,S,d){var m=d(28483),L=d(54290),I=d(81704);function P(T,_){return T==null?T:m(T,L(_),I)}mt.exports=P},18721:function(mt,S,d){var m=d(78565),L=d(222);function I(P,T){return P!=null&&L(P,T,m)}mt.exports=I},41609:function(mt,S,d){var m=d(280),L=d(64160),I=d(35694),P=d(1469),T=d(98612),_=d(44144),M=d(25726),E=d(36719),p="[object Map]",b="[object Set]",y=Object.prototype,w=y.hasOwnProperty;function x(A){if(A==null)return!0;if(T(A)&&(P(A)||typeof A=="string"||typeof A.splice=="function"||_(A)||E(A)||I(A)))return!A.length;var O=L(A);if(O==p||O==b)return!A.size;if(M(A))return!m(A).length;for(var B in A)if(w.call(A,B))return!1;return!0}mt.exports=x},52353:function(mt){function S(d){return d===void 0}mt.exports=S},10928:function(mt){function S(d){var m=d==null?0:d.length;return m?d[m-1]:void 0}mt.exports=S},66604:function(mt,S,d){var m=d(89465),L=d(47816),I=d(67206);function P(T,_){var M={};return _=I(_,3),L(T,function(E,p,b){m(M,p,_(E,p,b))}),M}mt.exports=P},6162:function(mt,S,d){var m=d(56029),L=d(53325),I=d(6557);function P(T){return T&&T.length?m(T,I,L):void 0}mt.exports=P},53632:function(mt,S,d){var m=d(56029),L=d(70433),I=d(6557);function P(T){return T&&T.length?m(T,I,L):void 0}mt.exports=P},22762:function(mt,S,d){var m=d(56029),L=d(67206),I=d(70433);function P(T,_){return T&&T.length?m(T,L(_,2),I):void 0}mt.exports=P},50308:function(mt){function S(){}mt.exports=S},78718:function(mt,S,d){var m=d(25970),L=d(99021),I=L(function(P,T){return P==null?{}:m(P,T)});mt.exports=I},96026:function(mt,S,d){var m=d(47445),L=m();mt.exports=L},54061:function(mt,S,d){var m=d(62663),L=d(89881),I=d(67206),P=d(10107),T=d(1469);function _(M,E,p){var b=T(M)?m:P,y=arguments.length<3;return b(M,I(E,4),p,y,L)}mt.exports=_},84238:function(mt,S,d){var m=d(280),L=d(64160),I=d(98612),P=d(47037),T=d(88016),_="[object Map]",M="[object Set]";function E(p){if(p==null)return 0;if(I(p))return P(p)?T(p):p.length;var b=L(p);return b==_||b==M?p.size:m(p).length}mt.exports=E},89734:function(mt,S,d){var m=d(21078),L=d(82689),I=d(5976),P=d(16612),T=I(function(_,M){if(_==null)return[];var E=M.length;return E>1&&P(_,M[0],M[1])?M=[]:E>2&&P(M[0],M[1],M[2])&&(M=[M[0]]),L(_,m(M,1),[])});mt.exports=T},18601:function(mt,S,d){var m=d(14841),L=1/0,I=17976931348623157e292;function P(T){if(!T)return T===0?T:0;if(T=m(T),T===L||T===-L){var _=T<0?-1:1;return _*I}return T===T?T:0}mt.exports=P},40554:function(mt,S,d){var m=d(18601);function L(I){var P=m(I),T=P%1;return P===P?T?P-T:P:0}mt.exports=L},68718:function(mt,S,d){var m=d(77412),L=d(3118),I=d(47816),P=d(67206),T=d(85924),_=d(1469),M=d(44144),E=d(23560),p=d(13218),b=d(36719);function y(w,x,A){var O=_(w),B=O||M(w)||b(w);if(x=P(x,4),A==null){var R=w&&w.constructor;B?A=O?new R:[]:p(w)?A=E(R)?L(T(w)):{}:A={}}return(B?m:I)(w,function(Y,j,V){return x(A,Y,j,V)}),A}mt.exports=y},93386:function(mt,S,d){var m=d(21078),L=d(5976),I=d(45652),P=d(29246),T=L(function(_){return I(m(_,1,P,!0))});mt.exports=T},73955:function(mt,S,d){var m=d(79833),L=0;function I(P){var T=++L;return m(P)+T}mt.exports=I},52628:function(mt,S,d){var m=d(47415),L=d(3674);function I(P){return P==null?[]:m(P,L(P))}mt.exports=I},7287:function(mt,S,d){var m=d(34865),L=d(1757);function I(P,T){return L(P||[],T||[],m)}mt.exports=I},86851:function(mt,S,d){"use strict";var m=d(35171),L=Array.prototype.concat,I=Array.prototype.slice,P=mt.exports=function(_){for(var M=[],E=0,p=_.length;E<p;E++){var b=_[E];m(b)?M=L.call(M,I.call(b)):M.push(b)}return M};P.wrap=function(T){return function(){return T(P(arguments))}}},91496:function(mt){typeof Object.create=="function"?mt.exports=function(d,m){d.super_=m,d.prototype=Object.create(m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:mt.exports=function(d,m){d.super_=m;var L=function(){};L.prototype=m.prototype,d.prototype=new L,d.prototype.constructor=d}},20384:function(mt){mt.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(mt,S,d){var m=d(34155),L=Object.getOwnPropertyDescriptors||function(Ut){for(var re=Object.keys(Ut),zt={},ne=0;ne<re.length;ne++)zt[re[ne]]=Object.getOwnPropertyDescriptor(Ut,re[ne]);return zt},I=/%[sdj%]/g;S.format=function(Mt){if(!nt(Mt)){for(var Ut=[],re=0;re<arguments.length;re++)Ut.push(_(arguments[re]));return Ut.join(" ")}for(var re=1,zt=arguments,ne=zt.length,ae=String(Mt).replace(I,function(Tt){if(Tt==="%%")return"%";if(re>=ne)return Tt;switch(Tt){case"%s":return String(zt[re++]);case"%d":return Number(zt[re++]);case"%j":try{return JSON.stringify(zt[re++])}catch(pt){return"[Circular]"}default:return Tt}}),Dt=zt[re];re<ne;Dt=zt[++re])Y(Dt)||!Gt(Dt)?ae+=" "+Dt:ae+=" "+_(Dt);return ae},S.deprecate=function(Mt,Ut){if(typeof m!="undefined"&&m.noDeprecation===!0)return Mt;if(typeof m=="undefined")return function(){return S.deprecate(Mt,Ut).apply(this,arguments)};var re=!1;function zt(){if(!re){if(m.throwDeprecation)throw new Error(Ut);m.traceDeprecation?console.trace(Ut):console.error(Ut),re=!0}return Mt.apply(this,arguments)}return zt};var P={},T;S.debuglog=function(Mt){if(ut(T)&&(T={NODE_ENV:"production"}.NODE_DEBUG||""),Mt=Mt.toUpperCase(),!P[Mt])if(new RegExp("\\b"+Mt+"\\b","i").test(T)){var Ut=m.pid;P[Mt]=function(){var re=S.format.apply(S,arguments);console.error("%s %d: %s",Mt,Ut,re)}}else P[Mt]=function(){};return P[Mt]};function _(Mt,Ut){var re={seen:[],stylize:E};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),R(Ut)?re.showHidden=Ut:Ut&&S._extend(re,Ut),ut(re.showHidden)&&(re.showHidden=!1),ut(re.depth)&&(re.depth=2),ut(re.colors)&&(re.colors=!1),ut(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=M),b(re,Mt,re.depth)}S.inspect=_,_.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},_.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function M(Mt,Ut){var re=_.styles[Ut];return re?"["+_.colors[re][0]+"m"+Mt+"["+_.colors[re][1]+"m":Mt}function E(Mt,Ut){return Mt}function p(Mt){var Ut={};return Mt.forEach(function(re,zt){Ut[re]=!0}),Ut}function b(Mt,Ut,re){if(Mt.customInspect&&Ut&&at(Ut.inspect)&&Ut.inspect!==S.inspect&&!(Ut.constructor&&Ut.constructor.prototype===Ut)){var zt=Ut.inspect(re,Mt);return nt(zt)||(zt=b(Mt,zt,re)),zt}var ne=y(Mt,Ut);if(ne)return ne;var ae=Object.keys(Ut),Dt=p(ae);if(Mt.showHidden&&(ae=Object.getOwnPropertyNames(Ut)),Rt(Ut)&&(ae.indexOf("message")>=0||ae.indexOf("description")>=0))return w(Ut);if(ae.length===0){if(at(Ut)){var Tt=Ut.name?": "+Ut.name:"";return Mt.stylize("[Function"+Tt+"]","special")}if(Pt(Ut))return Mt.stylize(RegExp.prototype.toString.call(Ut),"regexp");if(qt(Ut))return Mt.stylize(Date.prototype.toString.call(Ut),"date");if(Rt(Ut))return w(Ut)}var pt="",Q=!1,K=["{","}"];if(B(Ut)&&(Q=!0,K=["[","]"]),at(Ut)){var lt=Ut.name?": "+Ut.name:"";pt=" [Function"+lt+"]"}if(Pt(Ut)&&(pt=" "+RegExp.prototype.toString.call(Ut)),qt(Ut)&&(pt=" "+Date.prototype.toUTCString.call(Ut)),Rt(Ut)&&(pt=" "+w(Ut)),ae.length===0&&(!Q||Ut.length==0))return K[0]+pt+K[1];if(re<0)return Pt(Ut)?Mt.stylize(RegExp.prototype.toString.call(Ut),"regexp"):Mt.stylize("[Object]","special");Mt.seen.push(Ut);var U;return Q?U=x(Mt,Ut,re,Dt,ae):U=ae.map(function(W){return A(Mt,Ut,re,Dt,W,Q)}),Mt.seen.pop(),O(U,pt,K)}function y(Mt,Ut){if(ut(Ut))return Mt.stylize("undefined","undefined");if(nt(Ut)){var re="'"+JSON.stringify(Ut).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Mt.stylize(re,"string")}if(V(Ut))return Mt.stylize(""+Ut,"number");if(R(Ut))return Mt.stylize(""+Ut,"boolean");if(Y(Ut))return Mt.stylize("null","null")}function w(Mt){return"["+Error.prototype.toString.call(Mt)+"]"}function x(Mt,Ut,re,zt,ne){for(var ae=[],Dt=0,Tt=Ut.length;Dt<Tt;++Dt)$(Ut,String(Dt))?ae.push(A(Mt,Ut,re,zt,String(Dt),!0)):ae.push("");return ne.forEach(function(pt){pt.match(/^\d+$/)||ae.push(A(Mt,Ut,re,zt,pt,!0))}),ae}function A(Mt,Ut,re,zt,ne,ae){var Dt,Tt,pt;if(pt=Object.getOwnPropertyDescriptor(Ut,ne)||{value:Ut[ne]},pt.get?pt.set?Tt=Mt.stylize("[Getter/Setter]","special"):Tt=Mt.stylize("[Getter]","special"):pt.set&&(Tt=Mt.stylize("[Setter]","special")),$(zt,ne)||(Dt="["+ne+"]"),Tt||(Mt.seen.indexOf(pt.value)<0?(Y(re)?Tt=b(Mt,pt.value,null):Tt=b(Mt,pt.value,re-1),Tt.indexOf(`
`)>-1&&(ae?Tt=Tt.split(`
`).map(function(Q){return"  "+Q}).join(`
`).substr(2):Tt=`
`+Tt.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):Tt=Mt.stylize("[Circular]","special")),ut(Dt)){if(ae&&ne.match(/^\d+$/))return Tt;Dt=JSON.stringify(""+ne),Dt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Dt=Dt.substr(1,Dt.length-2),Dt=Mt.stylize(Dt,"name")):(Dt=Dt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Dt=Mt.stylize(Dt,"string"))}return Dt+": "+Tt}function O(Mt,Ut,re){var zt=0,ne=Mt.reduce(function(ae,Dt){return zt++,Dt.indexOf(`
`)>=0&&zt++,ae+Dt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ne>60?re[0]+(Ut===""?"":Ut+`
 `)+" "+Mt.join(`,
  `)+" "+re[1]:re[0]+Ut+" "+Mt.join(", ")+" "+re[1]}function B(Mt){return Array.isArray(Mt)}S.isArray=B;function R(Mt){return typeof Mt=="boolean"}S.isBoolean=R;function Y(Mt){return Mt===null}S.isNull=Y;function j(Mt){return Mt==null}S.isNullOrUndefined=j;function V(Mt){return typeof Mt=="number"}S.isNumber=V;function nt(Mt){return typeof Mt=="string"}S.isString=nt;function ct(Mt){return typeof Mt=="symbol"}S.isSymbol=ct;function ut(Mt){return Mt===void 0}S.isUndefined=ut;function Pt(Mt){return Gt(Mt)&&ot(Mt)==="[object RegExp]"}S.isRegExp=Pt;function Gt(Mt){return typeof Mt=="object"&&Mt!==null}S.isObject=Gt;function qt(Mt){return Gt(Mt)&&ot(Mt)==="[object Date]"}S.isDate=qt;function Rt(Mt){return Gt(Mt)&&(ot(Mt)==="[object Error]"||Mt instanceof Error)}S.isError=Rt;function at(Mt){return typeof Mt=="function"}S.isFunction=at;function vt(Mt){return Mt===null||typeof Mt=="boolean"||typeof Mt=="number"||typeof Mt=="string"||typeof Mt=="symbol"||typeof Mt=="undefined"}S.isPrimitive=vt,S.isBuffer=d(20384);function ot(Mt){return Object.prototype.toString.call(Mt)}function Et(Mt){return Mt<10?"0"+Mt.toString(10):Mt.toString(10)}var dt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var Mt=new Date,Ut=[Et(Mt.getHours()),Et(Mt.getMinutes()),Et(Mt.getSeconds())].join(":");return[Mt.getDate(),dt[Mt.getMonth()],Ut].join(" ")}S.log=function(){console.log("%s - %s",X(),S.format.apply(S,arguments))},S.inherits=d(91496),S._extend=function(Mt,Ut){if(!Ut||!Gt(Ut))return Mt;for(var re=Object.keys(Ut),zt=re.length;zt--;)Mt[re[zt]]=Ut[re[zt]];return Mt};function $(Mt,Ut){return Object.prototype.hasOwnProperty.call(Mt,Ut)}var H=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(Ut){if(typeof Ut!="function")throw new TypeError('The "original" argument must be of type Function');if(H&&Ut[H]){var re=Ut[H];if(typeof re!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(re,H,{value:re,enumerable:!1,writable:!1,configurable:!0}),re}function re(){for(var zt,ne,ae=new Promise(function(pt,Q){zt=pt,ne=Q}),Dt=[],Tt=0;Tt<arguments.length;Tt++)Dt.push(arguments[Tt]);Dt.push(function(pt,Q){pt?ne(pt):zt(Q)});try{Ut.apply(this,Dt)}catch(pt){ne(pt)}return ae}return Object.setPrototypeOf(re,Object.getPrototypeOf(Ut)),H&&Object.defineProperty(re,H,{value:re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(re,L(Ut))},S.promisify.custom=H;function f(Mt,Ut){if(!Mt){var re=new Error("Promise was rejected with a falsy value");re.reason=Mt,Mt=re}return Ut(Mt)}function xt(Mt){if(typeof Mt!="function")throw new TypeError('The "original" argument must be of type Function');function Ut(){for(var re=[],zt=0;zt<arguments.length;zt++)re.push(arguments[zt]);var ne=re.pop();if(typeof ne!="function")throw new TypeError("The last argument must be of type Function");var ae=this,Dt=function(){return ne.apply(ae,arguments)};Mt.apply(this,re).then(function(Tt){m.nextTick(Dt,null,Tt)},function(Tt){m.nextTick(f,Tt,Dt)})}return Object.setPrototypeOf(Ut,Object.getPrototypeOf(Mt)),Object.defineProperties(Ut,L(Mt)),Ut}S.callbackify=xt}}]);
