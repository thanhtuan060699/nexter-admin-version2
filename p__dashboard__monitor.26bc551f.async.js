(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7567],{64335:function(W,u,n){"use strict";var Z=n(67294),g=(0,Z.createContext)({});u.Z=g},21349:function(W,u,n){"use strict";var Z=n(84305),g=n(75901),B=n(94184),P=n.n(B),m=n(67294),M=n(64335),F=n(53645),j=n.n(F),G=function(d){var O=(0,m.useContext)(M.Z),V=d.children,I=d.contentWidth,$=d.className,C=d.style,z=(0,m.useContext)(g.ZP.ConfigContext),c=z.getPrefixCls,K=d.prefixCls||c("pro"),L=I||O.contentWidth,y="".concat(K,"-grid-content");return m.createElement("div",{className:P()(y,$,{wide:L==="Fixed"}),style:C},m.createElement("div",{className:"".concat(K,"-grid-content-children")},V))};u.Z=G},53645:function(){},73297:function(W,u,n){"use strict";n.r(u),n.d(u,{default:function(){return an}});var Z=n(58024),g=n(91894),B=n(66456),P=n(34424),m=n(20228),M=n(11382),F=n(13062),j=n(71230),G=n(89032),D=n(15746),d=n(57663),O=n(71577),V=n(71194),I=n(50146),$=n(77883),C=n(85482),z=n(9715),c=n(86835),K=n(47673),L=n(4107),y=n(3182),Pn=n(74379),Q=n(38648),Mn=n(71153),H=n(60331),S=n(2824),w=n(94043),x=n.n(w),q=n(9669),J=n.n(q),p=n(67294),_=n(25377),nn=n(21349);function jn(){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime.mark(function h(){return _regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/api/tags"));case 1:case"end":return i.stop()}},h)})),T.apply(this,arguments)}function en(h){return U.apply(this,arguments)}function U(){return U=(0,y.Z)(x().mark(function h(l){return x().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",J().get("http://video-api-ecs-alb-501313528.ap-southeast-1.elb.amazonaws.com:8080/api/v1/license?page=".concat(l.page,"&limit=").concat(l.limit)));case 1:case"end":return r.stop()}},h)})),U.apply(this,arguments)}var e=n(85893),tn=function(){var l,i,r,sn=(0,p.useState)({limit:10,page:1,searchKey:""}),X=(0,S.Z)(sn,2),f=X[0],on=X[1],rn=(0,p.useState)({count:0,name:"",duration:0}),Y=(0,S.Z)(rn,2),o=Y[0],R=Y[1],A=(0,_.QT)(function(a){return en(a)},{manual:!0}),ln=A.loading,b=A.data,s=b===void 0?[]:b,N=A.run;(0,p.useEffect)(function(){N(f)},[]);var un=[{title:"Key Value",dataIndex:"keyValue",key:"keyValue"},{title:"Date",dataIndex:"duration",key:"duration"},{title:"Is Used",dataIndex:"isUsed",key:"isUsed",render:function(t){return t?(0,e.jsx)(H.Z,{color:"red",children:" Used "}):(0,e.jsx)(H.Z,{color:"green",children:"Not Used"})}}],dn=(0,p.useState)(!1),k=(0,S.Z)(dn,2),cn=k[0],E=k[1],vn=function(){Q.Z.open({key:"Add Key",message:"Add key sucessfully"})},gn=function(){Q.Z.open({key:"Add Key",message:"Please add your inform"})},mn=function(){E(!0)},hn=function(){var a=(0,y.Z)(x().mark(function t(){return x().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(o.duration<=0||o.name==""||o.count<=0)){v.next=5;break}gn(),E(!1),v.next=10;break;case 5:return v.next=7,J().post("http://video-api-ecs-alb-501313528.ap-southeast-1.elb.amazonaws.com:8080/api/v1/license/generate-license",o);case 7:vn(),E(!1),N(f);case 10:case"end":return v.stop()}},t)}));return function(){return a.apply(this,arguments)}}(),fn=function(){E(!1)},Cn=function(t){console.log("Success:",t)},yn=function(t){console.log("Failed:",t)},xn=function(t){f.page=t,on(f),N(f)},pn=function(t){o.count=t,R(o)},En=function(t){o.duration=t,R(o)},Zn=function(t){o.name=t.target.value,R(o)};return(0,e.jsx)(nn.Z,{children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j.Z,{gutter:24,children:(0,e.jsxs)(D.Z,{xl:18,lg:24,md:24,sm:24,xs:24,style:{marginBottom:24},children:[(0,e.jsx)(I.Z,{title:"Basic Modal",visible:cn,onOk:hn,onCancel:fn,children:(0,e.jsxs)(c.Z,{name:"basic",labelCol:{span:4},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:Cn,onFinishFailed:yn,autoComplete:"off",children:[(0,e.jsx)(c.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input the name!"}],children:(0,e.jsx)(L.Z,{onChange:Zn})}),(0,e.jsx)(c.Z.Item,{label:"Duration",name:"duration",rules:[{required:!0,message:"Please input the duration!"}],children:(0,e.jsx)(C.Z,{onChange:En})}),(0,e.jsx)(c.Z.Item,{label:"Count",name:"count",rules:[{required:!0,message:"Please input the count!"}],children:(0,e.jsx)(C.Z,{onChange:pn})})]})}),(0,e.jsx)(O.Z,{type:"primary",onClick:mn,children:"Generate Key"})]})}),(0,e.jsx)(j.Z,{gutter:24,children:(0,e.jsx)(D.Z,{xl:18,lg:24,md:24,sm:24,xs:24,style:{marginBottom:24},children:(0,e.jsx)(g.Z,{title:"Key VIP",bordered:!1,children:(0,e.jsx)(P.Z,{dataSource:s==null?void 0:s.results,columns:un,loading:{indicator:(0,e.jsx)("div",{children:(0,e.jsx)(M.Z,{})}),spinning:ln},pagination:{pageSize:s==null||(l=s.pagination)===null||l===void 0?void 0:l.pageSize,showSizeChanger:!0,pageSizeOptions:["10","20","30"],total:s==null||(i=s.pagination)===null||i===void 0?void 0:i.total,defaultCurrent:s==null||(r=s.pagination)===null||r===void 0?void 0:r.page,onChange:xn}})})})})]})})},an=tn}}]);
