(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3012],{22452:function(k,A,e){"use strict";var S=e(22122),C=e(28991),M=e(81253),o=e(67294),f=e(66758),T=e(96850),D=["fieldProps","proFieldProps"],g="dateTime",_=o.forwardRef(function(F,I){var u=F.fieldProps,W=F.proFieldProps,O=(0,M.Z)(F,D),r=(0,o.useContext)(f.Z);return o.createElement(T.Z,(0,S.Z)({ref:I,mode:"edit",fieldProps:(0,C.Z)({getPopupContainer:r.getPopupContainer},u),valueType:g,proFieldProps:W,filedConfig:{valueType:g,customLightMode:!0}},O))});A.Z=_},64317:function(k,A,e){"use strict";var S=e(22122),C=e(28991),M=e(81253),o=e(22270),f=e(67294),T=e(66758),D=e(96850),g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],_=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],F=f.forwardRef(function(r,b){var re=r.fieldProps,q=r.children,N=r.params,x=r.proFieldProps,V=r.mode,H=r.valueEnum,Y=r.request,X=r.showSearch,J=r.options,B=(0,M.Z)(r,g),K=(0,f.useContext)(T.Z);return f.createElement(D.Z,(0,S.Z)({mode:"edit",valueEnum:(0,o.h)(H),request:Y,params:N,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,C.Z)({options:J,mode:V,showSearch:X,getPopupContainer:K.getPopupContainer},re),ref:b,proFieldProps:x},B),q)}),I=f.forwardRef(function(r,b){var re=r.fieldProps,q=r.children,N=r.params,x=r.proFieldProps,V=r.mode,H=r.valueEnum,Y=r.request,X=r.options,J=(0,M.Z)(r,_),B=(0,C.Z)({options:X,mode:V||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},re),K=(0,f.useContext)(T.Z);return f.createElement(D.Z,(0,S.Z)({mode:"edit",valueEnum:(0,o.h)(H),request:Y,params:N,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,C.Z)({getPopupContainer:K.getPopupContainer},B),ref:b,proFieldProps:x},J),q)}),u=F,W=I,O=u;O.SearchSelect=W,O.displayName="ProFormComponent",A.Z=O},5966:function(k,A,e){"use strict";var S=e(22122),C=e(81253),M=e(67294),o=e(96850),f=["fieldProps","proFieldProps"],T=["fieldProps","proFieldProps"],D="text",g=function(u){var W=u.fieldProps,O=u.proFieldProps,r=(0,C.Z)(u,f);return M.createElement(o.Z,(0,S.Z)({mode:"edit",valueType:D,fieldProps:W,filedConfig:{valueType:D},proFieldProps:O},r))},_=function(u){var W=u.fieldProps,O=u.proFieldProps,r=(0,C.Z)(u,T);return M.createElement(o.Z,(0,S.Z)({mode:"edit",valueType:"password",fieldProps:W,proFieldProps:O,filedConfig:{valueType:D}},r))},F=g;F.Password=_,F.displayName="ProFormComponent",A.Z=F},90672:function(k,A,e){"use strict";var S=e(22122),C=e(81253),M=e(67294),o=e(96850),f=["fieldProps","proFieldProps"],T=function(g,_){var F=g.fieldProps,I=g.proFieldProps,u=(0,C.Z)(g,f);return M.createElement(o.Z,(0,S.Z)({ref:_,mode:"edit",valueType:"textarea",fieldProps:F,proFieldProps:I},u))};A.Z=M.forwardRef(T)},37476:function(k,A,e){"use strict";e.d(A,{Y:function(){return N}});var S=e(71194),C=e(50146),M=e(22122),o=e(55507),f=e(92137),T=e(28991),D=e(28481),g=e(84305),_=e(75901),F=e(81253),I=e(82492),u=e.n(I),W=e(76632),O=e(80334),r=e(67294),b=e(73935),re=e(42489),q=["children","trigger","onVisibleChange","modalProps","onFinish","submitTimeout","title","width","visible"];function N(x){var V,H,Y,X,J=x.children,B=x.trigger,K=x.onVisibleChange,s=x.modalProps,ne=x.onFinish,y=x.submitTimeout,he=x.title,Ee=x.width,ie=x.visible,Q=(0,F.Z)(x,q);(0,O.ET)(!Q.footer||!(s==null?void 0:s.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var U=(0,r.useContext)(_.ZP.ConfigContext),Ce=(0,r.useState)([]),L=(0,D.Z)(Ce,2),Fe=L[1],xe=(0,r.useState)(!1),fe=(0,D.Z)(xe,2),de=fe[0],ce=fe[1],Me=(0,W.Z)(!!ie,{value:ie,onChange:K}),Z=(0,D.Z)(Me,2),t=Z[0],z=Z[1],ae=(0,r.useRef)(null),w=(0,r.useCallback)(function(i){ae.current===null&&i&&Fe([]),ae.current=i},[]),Pe=(0,r.useRef)();(0,r.useEffect)(function(){t&&ie&&(K==null||K(!0))},[ie,t]);var ve=(0,r.useMemo)(function(){return B?r.cloneElement(B,(0,T.Z)((0,T.Z)({key:"trigger"},B.props),{},{onClick:function(){var i=(0,f.Z)((0,o.Z)().mark(function v(m){var P,h;return(0,o.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:z(!t),(P=B.props)===null||P===void 0||(h=P.onClick)===null||h===void 0||h.call(P,m);case 2:case"end":return E.stop()}},v)}));function d(v){return i.apply(this,arguments)}return d}()})):null},[z,B,t]),De=(0,r.useMemo)(function(){var i,d,v,m,P,h,j,E;return Q.submitter===!1?!1:u()({searchConfig:{submitText:(i=(d=s==null?void 0:s.okText)!==null&&d!==void 0?d:(v=U.locale)===null||v===void 0||(m=v.Modal)===null||m===void 0?void 0:m.okText)!==null&&i!==void 0?i:"\u786E\u8BA4",resetText:(P=(h=s==null?void 0:s.cancelText)!==null&&h!==void 0?h:(j=U.locale)===null||j===void 0||(E=j.Modal)===null||E===void 0?void 0:E.cancelText)!==null&&P!==void 0?P:"\u53D6\u6D88"},resetButtonProps:{preventDefault:!0,disabled:y?de:void 0,onClick:function(Ze){var c;z(!1),s==null||(c=s.onCancel)===null||c===void 0||c.call(s,Ze)}}},Q.submitter)},[(V=U.locale)===null||V===void 0||(H=V.Modal)===null||H===void 0?void 0:H.cancelText,(Y=U.locale)===null||Y===void 0||(X=Y.Modal)===null||X===void 0?void 0:X.okText,s,Q.submitter,z,de,y]),me=(0,r.useCallback)(function(i,d){return r.createElement(r.Fragment,null,i,ae.current&&d?(0,b.createPortal)(d,ae.current):d)},[]),ge=(0,r.useCallback)(function(){var i=(0,f.Z)((0,o.Z)().mark(function d(v){var m,P,h;return(0,o.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return m=ne==null?void 0:ne(v),y&&m instanceof Promise&&(ce(!0),P=setTimeout(function(){return ce(!1)},y),m.finally(function(){clearTimeout(P),ce(!1)})),E.next=4,m;case 4:return h=E.sent,h&&z(!1),E.abrupt("return",h);case 7:case"end":return E.stop()}},d)}));return function(d){return i.apply(this,arguments)}}(),[ne,z,y]);return r.createElement(r.Fragment,null,r.createElement(C.Z,(0,M.Z)({title:he,width:Ee||800},s,{visible:t,onCancel:function(d){var v;y&&de||(z(!1),s==null||(v=s.onCancel)===null||v===void 0||v.call(s,d))},footer:Q.submitter!==!1&&r.createElement("div",{ref:w,style:{display:"flex",justifyContent:"flex-end"}})}),r.createElement(re.I,(0,M.Z)({formComponentType:"ModalForm",layout:"vertical",formRef:Pe},Q,{submitter:De,onFinish:function(){var i=(0,f.Z)((0,o.Z)().mark(function d(v){var m,P,h,j;return(0,o.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,ge(v);case 2:return h=$.sent,j=(m=(P=Q.formRef)===null||P===void 0?void 0:P.current)!==null&&m!==void 0?m:Pe.current,h&&j&&j.resetFields(),$.abrupt("return",h);case 6:case"end":return $.stop()}},d)}));return function(d){return i.apply(this,arguments)}}(),contentRender:me}),J)),ve)}},7763:function(k){k.exports={standardList:"standardList___pRhsd",headerInfo:"headerInfo___3KrKX",listContent:"listContent___weIUQ",listContentItem:"listContentItem___S_LBX",extraContentSearch:"extraContentSearch___1lMSQ",listCard:"listCard___1aWw-",standardListForm:"standardListForm___1KJ6f",formResult:"formResult___1XdZP"}},68348:function(k,A,e){"use strict";e.r(A),e.d(A,{BasicList:function(){return $},default:function(){return Ze}});var S=e(57663),C=e(71577),M=e(54421),o=e(38272),f=e(94233),T=e(51890),D=e(58024),g=e(91894),_=e(13062),F=e(71230),I=e(89032),u=e(15746),W=e(59250),O=e(13013),r=e(30887),b=e(28682),re=e(71194),q=e(50146),N=e(2824),x=e(34669),V=e(54458),H=e(47673),Y=e(4107),X=e(88983),J=e(47933),B=e(67294),K=e(57254),s=e(49101),ne=e(75362),y=e(25377),he=e(30381),Ee=e.n(he),ie=e(57106),Q=e(99683),U=e(3182),Ce=e(94043),L=e.n(Ce),Fe=e(37476),xe=e(5966),fe=e(22452),de=e(64317),ce=e(90672),Me=e(7763),Z=e.n(Me),t=e(85893),z=function(l){var p=l.done,n=l.visible,G=l.current,oe=l.onDone,le=l.onSubmit,Te=l.children;return n?(0,t.jsx)(Fe.Y,{visible:n,title:p?null:"\u4EFB\u52A1".concat(G?"\u7F16\u8F91":"\u6DFB\u52A0"),className:Z().standardListForm,width:640,onFinish:function(){var ee=(0,U.Z)(L().mark(function pe(se){return L().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:le(se);case 1:case"end":return ue.stop()}},pe)}));return function(pe){return ee.apply(this,arguments)}}(),initialValues:G,submitter:{render:function(pe,se){return p?null:se}},trigger:(0,t.jsx)(t.Fragment,{children:Te}),modalProps:{onCancel:function(){return oe()},destroyOnClose:!0,bodyStyle:p?{padding:"72px 0"}:{}},children:p?(0,t.jsx)(Q.ZP,{status:"success",title:"\u64CD\u4F5C\u6210\u529F",subTitle:"\u4E00\u7CFB\u5217\u7684\u4FE1\u606F\u63CF\u8FF0\uFF0C\u5F88\u77ED\u540C\u6837\u4E5F\u53EF\u4EE5\u5E26\u6807\u70B9\u3002",extra:(0,t.jsx)(C.Z,{type:"primary",onClick:oe,children:"\u77E5\u9053\u4E86"}),className:Z().formResult}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(xe.Z,{name:"title",label:"\u4EFB\u52A1\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165"}),(0,t.jsx)(fe.Z,{name:"createdAt",label:"\u5F00\u59CB\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u59CB\u65F6\u95F4"}],fieldProps:{style:{width:"100%"}},placeholder:"\u8BF7\u9009\u62E9"}),(0,t.jsx)(de.Z,{name:"owner",label:"\u4EFB\u52A1\u8D1F\u8D23\u4EBA",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EFB\u52A1\u8D1F\u8D23\u4EBA"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}),(0,t.jsx)(ce.Z,{name:"subDescription",label:"\u4EA7\u54C1\u63CF\u8FF0",rules:[{message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u4EA7\u54C1\u63CF\u8FF0\uFF01",min:5}],placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"})]})}):null},ae=z,w=e(11849);function Pe(c){return ve.apply(this,arguments)}function ve(){return ve=(0,U.Z)(L().mark(function c(l){return L().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,y.WY)("/api/get_list",{params:l}));case 1:case"end":return n.stop()}},c)})),ve.apply(this,arguments)}function De(c){return me.apply(this,arguments)}function me(){return me=(0,U.Z)(L().mark(function c(l){return L().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,y.WY)("/api/post_fake_list",{method:"POST",data:(0,w.Z)((0,w.Z)({},l),{},{method:"delete"})}));case 1:case"end":return n.stop()}},c)})),me.apply(this,arguments)}function ge(c){return i.apply(this,arguments)}function i(){return i=(0,U.Z)(L().mark(function c(l){return L().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,y.WY)("/api/post_fake_list",{method:"POST",data:(0,w.Z)((0,w.Z)({},l),{},{method:"post"})}));case 1:case"end":return n.stop()}},c)})),i.apply(this,arguments)}function d(c){return v.apply(this,arguments)}function v(){return v=(0,U.Z)(L().mark(function c(l){return L().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,y.WY)("/api/post_fake_list",{method:"POST",data:(0,w.Z)((0,w.Z)({},l),{},{method:"update"})}));case 1:case"end":return n.stop()}},c)})),v.apply(this,arguments)}var m=J.ZP.Button,P=J.ZP.Group,h=Y.Z.Search,j=function(l){var p=l.title,n=l.value,G=l.bordered;return(0,t.jsxs)("div",{className:Z().headerInfo,children:[(0,t.jsx)("span",{children:p}),(0,t.jsx)("p",{children:n}),G&&(0,t.jsx)("em",{})]})},E=function(l){var p=l.data,n=p.owner,G=p.createdAt,oe=p.percent,le=p.status;return(0,t.jsxs)("div",{className:Z().listContent,children:[(0,t.jsxs)("div",{className:Z().listContentItem,children:[(0,t.jsx)("span",{children:"Owner"}),(0,t.jsx)("p",{children:n})]}),(0,t.jsxs)("div",{className:Z().listContentItem,children:[(0,t.jsx)("span",{children:"\u5F00\u59CB\u65F6\u95F4"}),(0,t.jsx)("p",{children:Ee()(G).format("YYYY-MM-DD HH:mm")})]}),(0,t.jsx)("div",{className:Z().listContentItem,children:(0,t.jsx)(V.Z,{percent:oe,status:le,strokeWidth:6,style:{width:180}})})]})},$=function(){var l=(0,B.useState)(!1),p=(0,N.Z)(l,2),n=p[0],G=p[1],oe=(0,B.useState)(!1),le=(0,N.Z)(oe,2),Te=le[0],ee=le[1],pe=(0,B.useState)(void 0),se=(0,N.Z)(pe,2),je=se[0],ue=se[1],Oe=(0,y.QT)(function(){return Pe({count:50})}),Be=Oe.data,Se=Oe.loading,_e=Oe.mutate,Ie=(0,y.QT)(function(R,a){return R==="remove"?De(a):R==="update"?d(a):ge(a)},{manual:!0,onSuccess:function(a){_e(a)}}),Ae=Ie.run,Le=(Be==null?void 0:Be.list)||[],We={showSizeChanger:!0,showQuickJumper:!0,pageSize:5,total:Le.length},Re=function(a){ee(!0),ue(a)},Ke=function(a){Ae("remove",{id:a})},Ue=function(a,te){a==="edit"?Re(te):a==="delete"&&q.Z.confirm({title:"\u5220\u9664\u4EFB\u52A1",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return Ke(te.id)}})},$e=(0,t.jsxs)("div",{className:Z().extraContent,children:[(0,t.jsxs)(P,{defaultValue:"all",children:[(0,t.jsx)(m,{value:"all",children:"\u5168\u90E8"}),(0,t.jsx)(m,{value:"progress",children:"\u8FDB\u884C\u4E2D"}),(0,t.jsx)(m,{value:"waiting",children:"\u7B49\u5F85\u4E2D"})]}),(0,t.jsx)(h,{className:Z().extraContentSearch,placeholder:"\u8BF7\u8F93\u5165",onSearch:function(){return{}}})]}),be=function(a){var te=a.item;return(0,t.jsx)(O.Z,{overlay:(0,t.jsxs)(b.Z,{onClick:function(Ye){var Qe=Ye.key;return Ue(Qe,te)},children:[(0,t.jsx)(b.Z.Item,{children:"\u7F16\u8F91"},"edit"),(0,t.jsx)(b.Z.Item,{children:"\u5220\u9664"},"delete")]}),children:(0,t.jsxs)("a",{children:["\u66F4\u591A ",(0,t.jsx)(K.Z,{})]})})},Ne=function(){G(!1),ee(!1),ue({})},Ve=function(a){G(!0);var te=a!=null&&a.id?"update":"add";Ae(te,a)};return(0,t.jsxs)("div",{children:[(0,t.jsx)(ne.ZP,{children:(0,t.jsxs)("div",{className:Z().standardList,children:[(0,t.jsx)(g.Z,{bordered:!1,children:(0,t.jsxs)(F.Z,{children:[(0,t.jsx)(u.Z,{sm:8,xs:24,children:(0,t.jsx)(j,{title:"\u6211\u7684\u5F85\u529E",value:"8\u4E2A\u4EFB\u52A1",bordered:!0})}),(0,t.jsx)(u.Z,{sm:8,xs:24,children:(0,t.jsx)(j,{title:"\u672C\u5468\u4EFB\u52A1\u5E73\u5747\u5904\u7406\u65F6\u95F4",value:"32\u5206\u949F",bordered:!0})}),(0,t.jsx)(u.Z,{sm:8,xs:24,children:(0,t.jsx)(j,{title:"\u672C\u5468\u5B8C\u6210\u4EFB\u52A1\u6570",value:"24\u4E2A\u4EFB\u52A1"})})]})}),(0,t.jsx)(g.Z,{className:Z().listCard,bordered:!1,title:"\u57FA\u672C\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:$e,children:(0,t.jsx)(o.ZP,{size:"large",rowKey:"id",loading:Se,pagination:We,dataSource:Le,renderItem:function(a){return(0,t.jsxs)(o.ZP.Item,{actions:[(0,t.jsx)("a",{onClick:function(ye){ye.preventDefault(),Re(a)},children:"\u7F16\u8F91"},"edit"),(0,t.jsx)(be,{item:a},"more")],children:[(0,t.jsx)(o.ZP.Item.Meta,{avatar:(0,t.jsx)(T.C,{src:a.logo,shape:"square",size:"large"}),title:(0,t.jsx)("a",{href:a.href,children:a.title}),description:a.subDescription}),(0,t.jsx)(E,{data:a})]})}})})]})}),(0,t.jsxs)(C.Z,{type:"dashed",onClick:function(){ee(!0)},style:{width:"100%",marginBottom:8},children:[(0,t.jsx)(s.Z,{}),"\u6DFB\u52A0"]}),(0,t.jsx)(ae,{done:n,visible:Te,current:je,onDone:Ne,onSubmit:Ve})]})},Ze=$}}]);
